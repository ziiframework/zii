diff --git a/.github/PULL_REQUEST_TEMPLATE.md b/.github/PULL_REQUEST_TEMPLATE.md
index 9174ec11c89..cecccf6dcf1 100644
--- a/.github/PULL_REQUEST_TEMPLATE.md
+++ b/.github/PULL_REQUEST_TEMPLATE.md
@@ -3,5 +3,4 @@
 | Is bugfix?    | ✔️/❌
 | New feature?  | ✔️/❌
 | Breaks BC?    | ✔️/❌
-| Tests pass?   | ✔️/❌
-| Fixed issues  | comma-separated list of tickets # fixed by the PR, if any
+| Fixed issues  | <!-- comma-separated list of tickets # fixed by the PR, if any -->
diff --git a/.php_cs b/.php_cs
index 8550239097a..0350dff093c 100644
--- a/.php_cs
+++ b/.php_cs
@@ -1,7 +1,7 @@
 <?php
 
 if (!class_exists('yii\cs\YiisoftConfig', true)) {
-    // @todo change error message
+    // TODO: change error message
     fwrite(STDERR, "Your php-cs-version is outdated: please upgrade it.\n");
     die(16);
 }
diff --git a/build/controllers/DevController.php b/build/controllers/DevController.php
index 6c9d3216355..fdd8022cc58 100644
--- a/build/controllers/DevController.php
+++ b/build/controllers/DevController.php
@@ -16,8 +16,8 @@
 /**
  * This command helps to set up a dev environment with all extensions and applications.
  *
- * It will clone an extension or app repo and link the yii2 dev installation to the containted applications/extensions vendor dirs
- * to help working on yii using the application to test it.
+ * It will clone an extension or app repo and link the yii2 dev installation to the contained applications/extensions vendor dirs
+ * to help to work on yii using the application to test it.
  *
  * @author Carsten Brandt <mail@cebe.cc>
  * @since 2.0
@@ -29,7 +29,7 @@ class DevController extends Controller
      */
     public $defaultAction = 'all';
     /**
-     * @var bool whether to use HTTP when cloning github repositories
+     * @var bool whether to use HTTP when cloning GitHub repositories
      */
     public $useHttp = false;
     /**
@@ -53,7 +53,6 @@ class DevController extends Controller
         'bootstrap' => 'git@github.com:yiisoft/yii2-bootstrap.git',
         'bootstrap4' => 'git@github.com:yiisoft/yii2-bootstrap4.git',
         'bootstrap5' => 'git@github.com:yiisoft/yii2-bootstrap5.git',
-        'codeception' => 'git@github.com:yiisoft/yii2-codeception.git',
         'composer' => 'git@github.com:yiisoft/yii2-composer.git',
         'debug' => 'git@github.com:yiisoft/yii2-debug.git',
         'elasticsearch' => 'git@github.com:yiisoft/yii2-elasticsearch.git',
diff --git a/build/controllers/PhpDocController.php b/build/controllers/PhpDocController.php
index 144413f8228..5aebe855191 100644
--- a/build/controllers/PhpDocController.php
+++ b/build/controllers/PhpDocController.php
@@ -14,7 +14,7 @@
 use yii\helpers\Json;
 
 /**
- * PhpDocController is there to help maintaining PHPDoc annotation in class files.
+ * PhpDocController is there to help to maintain PHPDoc annotation in class files.
  *
  * @author Carsten Brandt <mail@cebe.cc>
  * @author Alexander Makarov <sam@rmcreative.ru>
@@ -733,19 +733,17 @@ protected function generateClassPropertyDocs($fileName)
                 $docLine = ' * @property';
                 $note = '';
                 if (isset($prop['get'], $prop['set'])) {
-                    if ($prop['get']['type'] != $prop['set']['type']) {
+                    if ($prop['get']['type'] !== $prop['set']['type']) {
                         $note = ' Note that the type of this property differs in getter and setter.'
                                 . ' See [[get' . ucfirst($propName) . '()]]'
                                 . ' and [[set' . ucfirst($propName) . '()]] for details.';
                     }
                 } elseif (isset($prop['get'])) {
                     if (!$this->hasSetterInParents($className, $propName)) {
-                        $note = ' This property is read-only.';
                         $docLine .= '-read';
                     }
                 } elseif (isset($prop['set'])) {
                     if (!$this->hasGetterInParents($className, $propName)) {
-                        $note = ' This property is write-only.';
                         $docLine .= '-write';
                     }
                 } else {
@@ -754,7 +752,7 @@ protected function generateClassPropertyDocs($fileName)
                 $docLine .= ' ' . $this->getPropParam($prop, 'type') . " $$propName ";
                 $comment = explode("\n", $this->getPropParam($prop, 'comment') . $note);
                 foreach ($comment as &$cline) {
-                    $cline = ltrim($cline, '* ');
+                    $cline = ltrim(rtrim($cline), '* ');
                 }
                 $docLine = wordwrap($docLine . implode(' ', $comment), 110, "\n * ") . "\n";
 
@@ -871,11 +869,11 @@ protected function hasSetterInParents($className, $propName)
      */
     protected function isBaseObject($className, \ReflectionClass $ref)
     {
-        $isDepreceatedObject = false;
+        $isDeprecatedObject = false;
         if (PHP_VERSION_ID <= 70100) {
-            $isDepreceatedObject = $ref->isSubclassOf('yii\base\Object') || $className === 'yii\base\Object';
+            $isDeprecatedObject = $ref->isSubclassOf('yii\base\Object') || $className === 'yii\base\Object';
         }
-        return !$isDepreceatedObject && !$ref->isSubclassOf('yii\base\BaseObject') && $className !== 'yii\base\BaseObject';
+        return !$isDeprecatedObject && !$ref->isSubclassOf('yii\base\BaseObject') && $className !== 'yii\base\BaseObject';
     }
 
     private function shouldSkipClass($className)
diff --git a/build/controllers/ReleaseController.php b/build/controllers/ReleaseController.php
index e3d1765a993..1d73fa5f6d8 100644
--- a/build/controllers/ReleaseController.php
+++ b/build/controllers/ReleaseController.php
@@ -15,7 +15,7 @@
 use yii\helpers\FileHelper;
 
 /**
- * ReleaseController is there to help preparing releases.
+ * ReleaseController is there to help to prepare releases.
  *
  * Get a version overview:
  *
@@ -53,7 +53,7 @@ class ReleaseController extends Controller
      */
     public $dryRun = false;
     /**
-     * @var bool whether to fetch latest tags.
+     * @var bool whether to fetch the latest tags.
      */
     public $update = false;
     /**
@@ -206,7 +206,7 @@ public function actionRelease(array $what)
                 $newVersions[$k] = $this->version;
             }
         } else {
-            // otherwise get next patch or minor
+            // otherwise, get next patch or minor
             $newVersions = $this->getNextVersions($versions, self::PATCH);
         }
 
@@ -629,7 +629,7 @@ protected function releaseApplication($name, $path, $version)
         $this->stdout("\n\nThe following steps are left for you to do manually:\n\n");
         $nextVersion2 = $this->getNextVersions($nextVersion, self::PATCH); // TODO support other versions
         $this->stdout("- close the $version milestone on github and open new ones for {$nextVersion["app-$name"]} and {$nextVersion2["app-$name"]}: https://github.com/yiisoft/yii2-app-$name/milestones\n");
-        $this->stdout("- Create Application packages and upload them to framework releast at github:  ./build/build release/package app-$name\n");
+        $this->stdout("- Create Application packages and upload them to framework release at github:  ./build/build release/package app-$name\n");
 
         $this->stdout("\n");
     }
@@ -803,7 +803,7 @@ protected function gitFetchTags($path)
         try {
             chdir($path);
         } catch (\yii\base\ErrorException $e) {
-            throw new Exception('Failed to getch git tags in ' . $path . ': ' . $e->getMessage());
+            throw new Exception('Failed to fetch git tags in ' . $path . ': ' . $e->getMessage());
         }
         exec('git fetch --tags', $output, $ret);
         if ($ret != 0) {
diff --git a/build/controllers/TranslationController.php b/build/controllers/TranslationController.php
index b4d2164d262..dd89ad24ea9 100644
--- a/build/controllers/TranslationController.php
+++ b/build/controllers/TranslationController.php
@@ -29,7 +29,6 @@ class TranslationController extends Controller
      * @param string $sourcePath the directory where the original documentation files are
      * @param string $translationPath the directory where the translated documentation files are
      * @param string $title custom title to use for report
-     * @return string
      */
     public function actionReport($sourcePath, $translationPath, $title = 'Translation report')
     {
diff --git a/build/controllers/Utf8Controller.php b/build/controllers/Utf8Controller.php
index ca5175dbfd6..673d9bfdeeb 100644
--- a/build/controllers/Utf8Controller.php
+++ b/build/controllers/Utf8Controller.php
@@ -69,11 +69,11 @@ public function actionCheckGuide($directory = null)
                 }
                 if ($ord < 0x0020 && $ord != 0x000A && $ord != 0x0009 ||
                     0x0080 <= $ord && $ord < 0x009F) {
-                    $this->found('CONTROL CHARARCTER', $c, $line, $pos, $file);
+                    $this->found('CONTROL CHARACTER', $c, $line, $pos, $file);
                     continue;
                 }
 //                if ($ord > 0x009F) {
-//                    $this->found("NON ASCII CHARARCTER", $c, $line, $pos, $file);
+//                    $this->found("NON ASCII CHARACTER", $c, $line, $pos, $file);
 //                    continue;
 //                }
             }
diff --git a/composer.json b/composer.json
index e7d0d34f037..84af41acf00 100644
--- a/composer.json
+++ b/composer.json
@@ -59,7 +59,7 @@
         "issues": "https://github.com/yiisoft/yii2/issues?state=open",
         "forum": "https://forum.yiiframework.com/",
         "wiki": "https://www.yiiframework.com/wiki",
-        "irc": "irc://irc.libera.chat:6697/yii",
+        "irc": "ircs://irc.libera.chat:6697/yii",
         "source": "https://github.com/yiisoft/yii2"
     },
     "minimum-stability": "dev",
diff --git a/cs/src/YiiConfig.php b/cs/src/YiiConfig.php
index 4e2e28ff703..95442861a4e 100644
--- a/cs/src/YiiConfig.php
+++ b/cs/src/YiiConfig.php
@@ -156,7 +156,7 @@ public function __construct($name = 'yii-cs-config')
     }
 
     /**
-     * Merge current rules config with provided list of rules.
+     * Merge current rules' config with provided list of rules.
      *
      * @param array $rules
      * @return $this
diff --git a/docs/guide-ar/start-databases.md b/docs/guide-ar/start-databases.md
index 28161a82455..b41c5c62550 100644
--- a/docs/guide-ar/start-databases.md
+++ b/docs/guide-ar/start-databases.md
@@ -60,7 +60,7 @@ INSERT INTO `country` VALUES ('US','United States',322976000);
 ## <div dir="rtl">إعدادات الإتصال الخاصة بقواعد البيانات - Configuring a DB Connection</div> <span id="configuring-db-connection"></span>
 
 <p dir="rtl">
-    قبل أن تكمل الشرح، تأكد من تثبيت ال PHP <a href="https://secure.php.net/manual/en/book.pdo.php">PDO</a> وال PDO driver، بالنسبة لهذا المثال، فإننا سنستخدم ال driver الخاص بال MySql وهو ال <code>pdo_mysql</code>، وهذه هي المتطلبات الأساسية لبناء أي التطبيق اذا كان التطبيق يستخدم ال relational database. 
+    قبل أن تكمل الشرح، تأكد من تثبيت ال PHP <a href="https://www.php.net/manual/en/book.pdo.php">PDO</a> وال PDO driver، بالنسبة لهذا المثال، فإننا سنستخدم ال driver الخاص بال MySql وهو ال <code>pdo_mysql</code>، وهذه هي المتطلبات الأساسية لبناء أي التطبيق اذا كان التطبيق يستخدم ال relational database. 
 </p>
 
 <blockquote class="note"><p dir="rtl">
@@ -68,7 +68,7 @@ INSERT INTO `country` VALUES ('US','United States',322976000);
     كما يمكنك تفعيل ال driver المطلوب عن طريق حذف الفاصلة المنقوطة قبل ال driver المقصود مثل: 
 <code>extension=php_pdo_mysql.dll</code>
     ويمكنك الإطلاع على المزيد من هنا: 
-<a href="https://secure.php.net/manual/en/pdo.installation.php">pdo installation</a>    
+<a href="https://www.php.net/manual/en/pdo.installation.php">pdo installation</a>    
 </p></blockquote>
 
 <p dir="rtl">
diff --git a/docs/guide-ar/start-installation.md b/docs/guide-ar/start-installation.md
index 1ea59793615..9e51c7e79c2 100644
--- a/docs/guide-ar/start-installation.md
+++ b/docs/guide-ar/start-installation.md
@@ -143,7 +143,7 @@ composer create-project --prefer-dist yiisoft/yii2-app-basic basic
 --------------------------
 
 <p dir="rtl">
-    بعد الانتهاء من التثبيت، ستحتاج الى القيام بإعداد خادم الويب الخاص بك(your web server) (انظر القسم التالي) أو قم باستخدام <a href="https://secure.php.net/manual/en/features.commandline.webserver.php">built-in PHP web server</a> عن طريق تنفيذ الأمر التالي داخل المسار web في المشروع الخاص بك: 
+    بعد الانتهاء من التثبيت، ستحتاج الى القيام بإعداد خادم الويب الخاص بك(your web server) (انظر القسم التالي) أو قم باستخدام <a href="https://www.php.net/manual/en/features.commandline.webserver.php">built-in PHP web server</a> عن طريق تنفيذ الأمر التالي داخل المسار web في المشروع الخاص بك: 
 </p>
  
 ```bash
@@ -179,7 +179,7 @@ http://localhost:8080/
 </ul>
 
 <p dir="rtl">
-    يجب عليك أن تقوم بتثبيت وإعداد ال PHP الخاص بك بحيث تلبي الحد الأدنى من متطلبات ال Yii. الأهم من ذلك يجب أن يكون الإصدار الخاص بال PHP أعلى أو يساوي 5.4. من الناحية المثالية أحدث إصدار  يعمل مع ال Yii هو ال PHP 7. يجب عليك أيضًا تثبيت ال <a href="https://secure.php.net/manual/en/pdo.installation.php">PDO PHP Extension</a>.
+    يجب عليك أن تقوم بتثبيت وإعداد ال PHP الخاص بك بحيث تلبي الحد الأدنى من متطلبات ال Yii. الأهم من ذلك يجب أن يكون الإصدار الخاص بال PHP أعلى أو يساوي 5.4. من الناحية المثالية أحدث إصدار  يعمل مع ال Yii هو ال PHP 7. يجب عليك أيضًا تثبيت ال <a href="https://www.php.net/manual/en/pdo.installation.php">PDO PHP Extension</a>.
 </p>
 
 
@@ -244,7 +244,7 @@ DocumentRoot "path/to/basic/web"
 -----------------------
 
 <p dir="rtl">
-    لاستخدام <a href="http://wiki.nginx.org/">Nginx</a>، يجب تثبيت PHP على أنه <a href="https://secure.php.net/install.fpm">FPM SAPI</a>، ويمكنك استخدام إعدادات ال Nginx التالية، مع الإنتباه على استبدال المسار من  <code>path/to/basic/web</code> الى المسار الفعلي  وصولا إلى <code>basic/web</code> بالإضافة الى إستبدال <code>mysite.test</code> إلى ال hostname الخاص بالتطبيق.
+    لاستخدام <a href="http://wiki.nginx.org/">Nginx</a>، يجب تثبيت PHP على أنه <a href="https://www.php.net/install.fpm">FPM SAPI</a>، ويمكنك استخدام إعدادات ال Nginx التالية، مع الإنتباه على استبدال المسار من  <code>path/to/basic/web</code> الى المسار الفعلي  وصولا إلى <code>basic/web</code> بالإضافة الى إستبدال <code>mysite.test</code> إلى ال hostname الخاص بالتطبيق.
 </p>
 
 
diff --git a/docs/guide-ar/start-prerequisites.md b/docs/guide-ar/start-prerequisites.md
index e9cf78e0c14..03050b54079 100644
--- a/docs/guide-ar/start-prerequisites.md
+++ b/docs/guide-ar/start-prerequisites.md
@@ -7,7 +7,7 @@
 ## <div dir="rtl">PHP</div>
 
 <p dir="rtl">
-    ال Yii هو إطار عمل PHP، لذا تأكد من قراءة وفهم المرجع الرسمي الخاص بلغة ال <a href="https://secure.php.net/manual/en/langref.php">PHP</a>. عند البدء بتطوير المشاريع أو التطبيقات باستخدام ال Yii ، ستكتب التعليمات البرمجية بطريقة كائنية التوجه OOP، لذا تأكد من أنك على دراية بـمفاهيم ال <a href="https://secure.php.net/manual/en/language.oop5.basic.php">OOP</a> وكذلك ال <a href="https://secure.php.net/manual/en/language.namespaces.php">namespaces</a>.
+    ال Yii هو إطار عمل PHP، لذا تأكد من قراءة وفهم المرجع الرسمي الخاص بلغة ال <a href="https://www.php.net/manual/en/langref.php">PHP</a>. عند البدء بتطوير المشاريع أو التطبيقات باستخدام ال Yii ، ستكتب التعليمات البرمجية بطريقة كائنية التوجه OOP، لذا تأكد من أنك على دراية بـمفاهيم ال <a href="https://www.php.net/manual/en/language.oop5.basic.php">OOP</a> وكذلك ال <a href="https://www.php.net/manual/en/language.namespaces.php">namespaces</a>.
 </p>
 
 ## <div dir="rtl">البرمجة كائنية التوجه object oriented programming</div>
diff --git a/docs/guide-es/caching-data.md b/docs/guide-es/caching-data.md
index 943a7731cb7..ed36374771d 100644
--- a/docs/guide-es/caching-data.md
+++ b/docs/guide-es/caching-data.md
@@ -72,13 +72,13 @@ el código que utiliza la caché. Por ejemplo, podrías modificar la configuraci
 Yii proporciona varios componentes de caché que pueden almacenar datos en diferentes medios. A continuación
 se muestra un listado con los componentes de caché disponibles:
 
-* [[yii\caching\ApcCache]]: utiliza la extensión de PHP [APC](https://secure.php.net/manual/es/book.apc.php). Esta opción puede ser considerada como la más rápida de entre todas las disponibles para una aplicación centralizada. (ej. un servidor, no dedicado al balance de carga, etc).
+* [[yii\caching\ApcCache]]: utiliza la extensión de PHP [APC](https://www.php.net/manual/es/book.apc.php). Esta opción puede ser considerada como la más rápida de entre todas las disponibles para una aplicación centralizada. (ej. un servidor, no dedicado al balance de carga, etc).
 * [[yii\caching\DbCache]]: utiliza una tabla de base de datos para almacenar los datos. Por defecto, se creará y usará como base de datos [SQLite3](http://sqlite.org/) en el directorio runtime. Se puede especificar explícitamente que base de datos va a ser utilizada configurando la propiedad `db`.
 * [[yii\caching\DummyCache]]: dummy cache (caché tonta) que no almacena en caché nada. El propósito de este componente es simplificar el código necesario para chequear la disponibilidad de caché. Por ejemplo, durante el desarrollo o si el servidor no tiene soporte de caché actualmente, puede utilizarse este componente de caché. Cuando este disponible un soporte en caché, puede cambiarse el componente correspondiente. En ambos casos, puede utilizarse el mismo código `Yii::$app->cache->get($key)` para recuperar un dato sin la preocupación de que `Yii::$app->cache` pueda ser `null`.
 * [[yii\caching\FileCache]]: utiliza un fichero estándar para almacenar los datos. Esto es adecuado para almacenar grandes bloques de datos (como páginas).
-* [[yii\caching\MemCache]]: utiliza las extensiones de PHP [memcache](https://secure.php.net/manual/es/book.memcache.php) y [memcached](https://secure.php.net/manual/es/book.memcached.php). Esta opción puede ser considerada como la más rápida cuando la caché es manejada en una aplicación distribuida (ej. con varios servidores, con balance de carga, etc..)
+* [[yii\caching\MemCache]]: utiliza las extensiones de PHP [memcache](https://www.php.net/manual/es/book.memcache.php) y [memcached](https://www.php.net/manual/es/book.memcached.php). Esta opción puede ser considerada como la más rápida cuando la caché es manejada en una aplicación distribuida (ej. con varios servidores, con balance de carga, etc..)
 * [[yii\redis\Cache]]: implementa un componente de caché basado en [Redis](http://redis.io/) que almacenan pares clave-valor (requiere la versión 2.6.12 de redis).
-* [[yii\caching\WinCache]]: utiliza la extensión de PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension) ([ver también](https://secure.php.net/manual/es/book.wincache.php)).
+* [[yii\caching\WinCache]]: utiliza la extensión de PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension) ([ver también](https://www.php.net/manual/es/book.wincache.php)).
 * [[yii\caching\XCache]] _(deprecated)_: utiliza la extensión de PHP [XCache](http://xcache.lighttpd.net/).
 * [[yii\caching\ZendDataCache]] _(deprecated)_: utiliza [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm) como el medio fundamental de caché.
 
diff --git a/docs/guide-es/caching-http.md b/docs/guide-es/caching-http.md
index e31025e360f..f8c033fc140 100644
--- a/docs/guide-es/caching-http.md
+++ b/docs/guide-es/caching-http.md
@@ -130,7 +130,7 @@ especifican en `session.cache_limiter` de la configuración INI de PHP. Estas ca
 el almacenamiento de caché que desees de `HttpCache`. Para evitar este problema, por defecto `HttpCache` deshabilitará
 automáticamente el envío de estas cabeceras. Si deseas modificar este comportamiento, tienes que configurar la propiedad
 [[yii\filters\HttpCache::sessionCacheLimiter]]. La propiedad puede tomar un valor de cadena, incluyendo `public`, `private`,
-`private_no_expire`, and `nocache`. Por favor, consulta el manual PHP acerca de [session_cache_limiter()](https://secure.php.net/manual/es/function.session-cache-limiter.php)
+`private_no_expire`, and `nocache`. Por favor, consulta el manual PHP acerca de [session_cache_limiter()](https://www.php.net/manual/es/function.session-cache-limiter.php)
 para una mejor explicación sobre esos valores.
 
 
diff --git a/docs/guide-es/concept-autoloading.md b/docs/guide-es/concept-autoloading.md
index 98c1a18f7ff..598bf7a342d 100644
--- a/docs/guide-es/concept-autoloading.md
+++ b/docs/guide-es/concept-autoloading.md
@@ -1,7 +1,7 @@
 Autocarga de clases
 ===================
 
-Yii depende del [mecanismo de autocarga de clases](https://secure.php.net/manual/es/language.oop5.autoload.php) para localizar
+Yii depende del [mecanismo de autocarga de clases](https://www.php.net/manual/es/language.oop5.autoload.php) para localizar
 e incluir los archivos de las clases requiridas. Proporciona un cargador de clases de alto rendimiento que cumple con el
 [estandard PSR-4](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md).
 El cargador se instala cuando incluyes el archivo `Yii.php`.
diff --git a/docs/guide-es/concept-behaviors.md b/docs/guide-es/concept-behaviors.md
index 67216fe8ea8..32aaee1b3a5 100644
--- a/docs/guide-es/concept-behaviors.md
+++ b/docs/guide-es/concept-behaviors.md
@@ -309,7 +309,7 @@ $user->touch('login_time');
 Comparación con Traits <span id="comparison-with-traits"></span>
 ----------------------
 
-Mientras que los comportamientos son similares a [traits](https://secure.php.net/traits) en cuanto que ambos "inyectan" sus
+Mientras que los comportamientos son similares a [traits](https://www.php.net/traits) en cuanto que ambos "inyectan" sus
 métodos  y propiedades a la clase primaria, son diferentes en muchos aspectos. Tal y como se describe abajo, los dos
 tienen sus ventajas y desventajas. Son más como complementos el uno al otro en lugar de alternativas.
 
diff --git a/docs/guide-es/concept-di-container.md b/docs/guide-es/concept-di-container.md
index 3b37fa9951a..d53c38147d4 100644
--- a/docs/guide-es/concept-di-container.md
+++ b/docs/guide-es/concept-di-container.md
@@ -14,7 +14,7 @@ de ID:
 
 * Inyección de constructores;
 * Inyección de setters y propiedades;
-* Inyección de [llamadas de retorno PHP](https://secure.php.net/manual/es/language.types.callable.php);
+* Inyección de [llamadas de retorno PHP](https://www.php.net/manual/es/language.types.callable.php);
 
 ### Inyección de Constructores <span id="constructor-injection"></span>
 
diff --git a/docs/guide-es/concept-events.md b/docs/guide-es/concept-events.md
index 4f7f7cec556..664d6109b7a 100644
--- a/docs/guide-es/concept-events.md
+++ b/docs/guide-es/concept-events.md
@@ -13,7 +13,7 @@ Gestor de Eventos <span id="event-handlers"></span>
 -----------------
 
 Un gestor de eventos es una
-[llamada de retorno PHP (PHP callback)](https://secure.php.net/manual/es/language.types.callable.php) que se ejecuta cuando se
+[llamada de retorno PHP (PHP callback)](https://www.php.net/manual/es/language.types.callable.php) que se ejecuta cuando se
 lanza el evento al que corresponde. Se puede usar cualquier llamada de retorno de las enumeradas a continuación:
 
 - una función de PHP global especificada como una cadena de texto (sin paréntesis), ej. `'trim'`;
diff --git a/docs/guide-es/db-dao.md b/docs/guide-es/db-dao.md
index cf52020717b..8e831a1b501 100644
--- a/docs/guide-es/db-dao.md
+++ b/docs/guide-es/db-dao.md
@@ -1,7 +1,7 @@
 Objetos de Acceso a Bases de Datos
 ==================================
 
-Construido sobre [PDO](https://secure.php.net/manual/es/book.pdo.php), Yii DAO (Objetos de Acceso a Bases de Datos) proporciona una
+Construido sobre [PDO](https://www.php.net/manual/es/book.pdo.php), Yii DAO (Objetos de Acceso a Bases de Datos) proporciona una
 API orientada a objetos para el acceso a bases de datos relacionales. Es el fundamento para otros métodos de acceso a bases de datos
 más avanzados, incluyendo el [constructor de consultas](db-query-builder.md) y [active record](db-active-record.md).
 
@@ -16,7 +16,7 @@ Yii DAO soporta las siguientes bases de datos:
 - [SQLite](http://sqlite.org/)
 - [PostgreSQL](http://www.postgresql.org/): versión 8.4 o superior.
 - [CUBRID](http://www.cubrid.org/): versión 9.3 o superior.
-- [Oracle](http://www.oracle.com/us/products/database/overview/index.html)
+- [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): versión 2008 o superior.
 
 ## Creando Conexiones DB <span id="creating-db-connections"></span>
@@ -60,7 +60,7 @@ Puedes acceder a la conexión DB mediante la expresión `Yii::$app->db`.
 
 Cuando configuras una conexión DB, deberías siempre especificar el Nombre de Origen de Datos (DSN) mediante la
 propiedad [[yii\db\Connection::dsn|dsn]]. El formato del DSN varia para cada diferente base de datos. Por favor consulte el
-[manual de PHP](https://secure.php.net/manual/es/function.PDO-construct.php) para más detalles. Abajo están algunos ejemplos:
+[manual de PHP](https://www.php.net/manual/es/function.PDO-construct.php) para más detalles. Abajo están algunos ejemplos:
 
 * MySQL, MariaDB: `mysql:host=localhost;dbname=mydatabase`
 * SQLite: `sqlite:/path/to/database/file`
@@ -185,7 +185,7 @@ $post = $db->createCommand('SELECT * FROM post WHERE id=:id AND status=:status',
            ->queryOne();
 ```
 
-La vinculación parámetros es implementada mediante [sentencias preparadas (prepared statements)](https://secure.php.net/manual/es/mysqli.quickstart.prepared-statements.php).
+La vinculación parámetros es implementada mediante [sentencias preparadas (prepared statements)](https://www.php.net/manual/es/mysqli.quickstart.prepared-statements.php).
 Además de prevenir ataques de inyección de SQL, también puede mejorar el rendimiento preparando una sola vez una sentencia SQL y ejecutándola múltiples veces con diferentes
 parámetros. Por ejemplo,
 
diff --git a/docs/guide-es/glossary.md b/docs/guide-es/glossary.md
index 7989ac5c5a0..63ce5cbd91c 100644
--- a/docs/guide-es/glossary.md
+++ b/docs/guide-es/glossary.md
@@ -52,7 +52,7 @@ Módulo es una sub-aplicación que contiene elementos MVC en sí mismo, como mod
 
 ## namespace
 
-Namespace (espacio de nombres) se refiere a una [característica de PHP](https://secure.php.net/manual/es/language.namespaces.php) activamente utilizada en Yii 2.
+Namespace (espacio de nombres) se refiere a una [característica de PHP](https://www.php.net/manual/es/language.namespaces.php) activamente utilizada en Yii 2.
 
 # P
 
diff --git a/docs/guide-es/helper-array.md b/docs/guide-es/helper-array.md
index ea1bcfc5dd1..9e0e869f508 100644
--- a/docs/guide-es/helper-array.md
+++ b/docs/guide-es/helper-array.md
@@ -1,7 +1,7 @@
 ArrayHelper
 ===========
 
-Adicionalmente al [rico conjunto de funciones para arrays de PHP](https://secure.php.net/manual/es/book.array.php), el array helper de Yii proporciona
+Adicionalmente al [rico conjunto de funciones para arrays de PHP](https://www.php.net/manual/es/book.array.php), el array helper de Yii proporciona
 métodos estáticos adicionales permitiendo trabajar con arrays de manera más eficiente.
 
 
@@ -66,7 +66,7 @@ Después de ejecutar el código el `$array` contendrá `['options' => [1, 2]]` y
 
 ## Comprobando la Existencia de Claves <span id="checking-existence-of-keys"></span>
 
-`ArrayHelper::keyExists` funciona de la misma manera que [array_key_exists](https://secure.php.net/manual/es/function.array-key-exists.php)
+`ArrayHelper::keyExists` funciona de la misma manera que [array_key_exists](https://www.php.net/manual/es/function.array-key-exists.php)
 excepto que también soporta case-insensitive para la comparación de claves. Por ejemplo,
 
 ```php
@@ -270,7 +270,7 @@ El tercer argumento es la dirección. En caso de ordenar por una clave podría s
 direcciones de ordenación.
 
 El último argumento es un PHP sort flag que toma los mismos valores que los pasados a
-PHP [sort()](https://secure.php.net/manual/es/function.sort.php).
+PHP [sort()](https://www.php.net/manual/es/function.sort.php).
 
 
 ## Detectando Tipos de Array <span id="detecting-array-types"></span>
@@ -373,7 +373,7 @@ A pesar de que PHP ofrece `in_array()`, este no soporta sub-grupos u objetos de
 
 Para ayudar en este tipo de pruebas, [[yii\helpers\ArrayHelper]] provee [[yii\helpers\ArrayHelper::isIn()|isIn()]]
 y [[yii\helpers\ArrayHelper::isSubset()|isSubset()]] con la misma firma del método
-[in_array()](https://secure.php.net/manual/en/function.in-array.php).
+[in_array()](https://www.php.net/manual/en/function.in-array.php).
 
 ```php
 // true
diff --git a/docs/guide-es/helper-html.md b/docs/guide-es/helper-html.md
index a3eac70b279..d5675f32505 100644
--- a/docs/guide-es/helper-html.md
+++ b/docs/guide-es/helper-html.md
@@ -3,7 +3,7 @@ Clase auxiliar Html (Html helper)
 
 Todas las aplicaciones web generan grandes cantidades de marcado HTML (HTML markup). Si el marcado es estático, se
 puede realizar de forma efectiva
-[mezclando PHP y HTML en un mismo archivo](https://secure.php.net/manual/es/language.basic-syntax.phpmode.php) pero cuando se
+[mezclando PHP y HTML en un mismo archivo](https://www.php.net/manual/es/language.basic-syntax.phpmode.php) pero cuando se
 generan dinámicamente empieza a complicarse su gestión sin ayuda extra. Yii ofrece esta ayuda en forma de una clase auxiliar Html
 que proporciona un conjunto de métodos estáticos para gestionar las etiquetas HTML más comúnmente usadas, sus opciones y contenidos.
 
@@ -96,8 +96,8 @@ eliminara una propiedad, se puede especificar como una cadena de texto.
 
 
 Para que el contenido se muestre correctamente y de forma segura con caracteres especiales HTML el contenido debe ser
-codificado. En PHP esto se hace con [htmlspecialchars](https://secure.php.net/manual/es/function.htmlspecialchars.php) y
-[htmlspecialchars_decode](https://secure.php.net/manual/es/function.htmlspecialchars-decode.php). El problema con el uso
+codificado. En PHP esto se hace con [htmlspecialchars](https://www.php.net/manual/es/function.htmlspecialchars.php) y
+[htmlspecialchars_decode](https://www.php.net/manual/es/function.htmlspecialchars-decode.php). El problema con el uso
 de estos métodos directamente es que se tiene que especificar la codificación y opciones extra cada vez. Ya que las
 opciones siempre son las mismas y la codificación debe coincidir con la de la aplicación para prevenir problemas de
 seguridad, Yii proporciona dos métodos simples y compactos:
diff --git a/docs/guide-es/input-file-upload.md b/docs/guide-es/input-file-upload.md
index 022fa3acb56..ccfe76ab408 100644
--- a/docs/guide-es/input-file-upload.md
+++ b/docs/guide-es/input-file-upload.md
@@ -123,7 +123,7 @@ También puedes subir varios archivos a la vez, con algunos ajustes en el códig
 Primero debes ajustar la clase del modelo, agregando la opción `maxFiles` en la regla de validación `file` para limitar
 el número máximo de archivos a subir. Definir `maxFiles` como `0` significa que no hay límite en el número de archivos
 a subir simultáneamente. El número máximo de archivos permitidos para subir simultáneamente está también limitado
-por la directiva PHP [`max_file_uploads`](https://secure.php.net/manual/en/ini.core.php#ini.max-file-uploads),
+por la directiva PHP [`max_file_uploads`](https://www.php.net/manual/en/ini.core.php#ini.max-file-uploads),
 cuyo valor por defecto es 20. El método `upload()` debería también ser modificado para guardar los archivos uno a uno.
 
 ```php
diff --git a/docs/guide-es/intro-upgrade-from-v1.md b/docs/guide-es/intro-upgrade-from-v1.md
index 580a904654b..7a2e5a5c5a6 100644
--- a/docs/guide-es/intro-upgrade-from-v1.md
+++ b/docs/guide-es/intro-upgrade-from-v1.md
@@ -29,15 +29,15 @@ Yii 2.0 requiere PHP 5.4 o mayor, lo que es un gran progreso ya que Yii 1.1 func
 Como resultado, hay muchas diferencias a nivel del lenguaje a las que deberías prestar atención.
 Abajo hay un resumen de los mayores cambios en relación a PHP:
 
-- [Namespaces](https://secure.php.net/manual/es/language.namespaces.php).
-- [Funciones anónimas](https://secure.php.net/manual/es/functions.anonymous.php).
+- [Namespaces](https://www.php.net/manual/es/language.namespaces.php).
+- [Funciones anónimas](https://www.php.net/manual/es/functions.anonymous.php).
 - La sintaxis corta de Arrays `[...elementos...]` es utilizada en vez de `array(...elementos...)`.
 - Etiquetas cortas de `echo`. Ahora en las vistas se usa `<?=`. Esto se puede utilizar desde PHP 5.4.
-- [SPL - Biblioteca estándar de PHP](https://secure.php.net/manual/es/book.spl.php).
-- [Enlace estático en tiempo de ejecución](https://secure.php.net/manual/es/language.oop5.late-static-bindings.php).
-- [Fecha y Hora](https://secure.php.net/manual/es/book.datetime.php).
-- [Traits](https://secure.php.net/manual/es/language.oop5.traits.php).
-- [intl](https://secure.php.net/manual/es/book.intl.php). Yii 2.0 utiliza la extensión `intl` de PHP
+- [SPL - Biblioteca estándar de PHP](https://www.php.net/manual/es/book.spl.php).
+- [Enlace estático en tiempo de ejecución](https://www.php.net/manual/es/language.oop5.late-static-bindings.php).
+- [Fecha y Hora](https://www.php.net/manual/es/book.datetime.php).
+- [Traits](https://www.php.net/manual/es/language.oop5.traits.php).
+- [intl](https://www.php.net/manual/es/book.intl.php). Yii 2.0 utiliza la extensión `intl` de PHP
   como soporte para internacionalización.
 
 
diff --git a/docs/guide-es/intro-yii.md b/docs/guide-es/intro-yii.md
index 74b1f94411f..791b94eb473 100644
--- a/docs/guide-es/intro-yii.md
+++ b/docs/guide-es/intro-yii.md
@@ -55,6 +55,6 @@ Yii 2.0 requiere PHP 5.4.0 o una versión posterior y corre de mejor manera en l
 ejecutando el script de comprobación incluido en cada lanzamiento de Yii.
 
 Para utilizar Yii se requieren conocimientos básicos de programación orientada a objetos (POO), porque el framework Yii se basa íntegramente en esta tecnología.
-Yii 2.0 hace uso también de las últimas características de PHP, como [namespaces](https://secure.php.net/manual/es/language.namespaces.php)
-y [traits](https://secure.php.net/manual/es/language.oop5.traits.php). Comprender estos conceptos te ayudará a entender mejor Yii 2.0.
+Yii 2.0 hace uso también de las últimas características de PHP, como [namespaces](https://www.php.net/manual/es/language.namespaces.php)
+y [traits](https://www.php.net/manual/es/language.oop5.traits.php). Comprender estos conceptos te ayudará a entender mejor Yii 2.0.
 
diff --git a/docs/guide-es/runtime-bootstrapping.md b/docs/guide-es/runtime-bootstrapping.md
index 5fe4daeb71f..db4a973ccec 100644
--- a/docs/guide-es/runtime-bootstrapping.md
+++ b/docs/guide-es/runtime-bootstrapping.md
@@ -19,6 +19,6 @@ Debido a que el trabajo de bootstrapping se tiene que ejecutar antes de gestiona
 
 Intenta no registrar demasiados componentes de bootstrapping. Un componente de bootstrapping sólo es necesario si tiene que interaccionar en todo el ciclo de vida de la gestión de la petición. Por ejemplo, si un modulo necesita registrar reglas de análisis de URL adicionales, se debe incluirse en la [propiedad bootstrap](structure-applications.md#bootstrap) para que la nueva regla de URL tenga efecto antes de que sea utilizada para resolver peticiones.
 
-En modo de producción, hay que habilitar la cache bytecode, así como [APC](https://secure.php.net/manual/es/book.apc.php), para minimizar el tiempo necesario para incluir y analizar archivos PHP.
+En modo de producción, hay que habilitar la cache bytecode, así como [APC](https://www.php.net/manual/es/book.apc.php), para minimizar el tiempo necesario para incluir y analizar archivos PHP.
 
 Algunas grandes aplicaciones tienen [configuraciones](concept-configurations.md) de aplicación muy complejas que están dividida en muchos archivos de configuración más pequeños.
diff --git a/docs/guide-es/runtime-responses.md b/docs/guide-es/runtime-responses.md
index e1e12511b14..8c8ec0d24a5 100644
--- a/docs/guide-es/runtime-responses.md
+++ b/docs/guide-es/runtime-responses.md
@@ -239,7 +239,7 @@ algunos servidores Web populares.
 - Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
 - Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Nginx: [X-Accel-Redirect](http://wiki.nginx.org/XSendfile)
+- Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
 - Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 ## Enviar la Respuesta <span id="sending-response"></span>
diff --git a/docs/guide-es/runtime-sessions-cookies.md b/docs/guide-es/runtime-sessions-cookies.md
index 1995aee316b..883c6f4a143 100644
--- a/docs/guide-es/runtime-sessions-cookies.md
+++ b/docs/guide-es/runtime-sessions-cookies.md
@@ -121,7 +121,7 @@ Por defecto la clase [[yii\web\Session]] almacena los datos de sesión como fich
 * [[yii\web\DbSession]]: almacena los datos de sesión en una tabla en la base de datos.
 * [[yii\web\CacheSession]]: almacena los datos de sesión en una caché con la ayuda de la configuración del [componente caché](caching-data.md#cache-components).
 * [[yii\redis\Session]]: almacena los datos de sesión usando [redis](http://redis.io/) como medio de almacenamiento.
-* [[yii\mongodb\Session]]: almacena los datos de sesión en [MongoDB](http://www.mongodb.org/).
+* [[yii\mongodb\Session]]: almacena los datos de sesión en [MongoDB](https://www.mongodb.com/).
 
 Todas estas clases de sesión soportan los mismos métodos de la API. Como consecuencia, puedes cambiar el uso de diferentes almacenamientos de sesión sin la necesidad de modificar el código de tu aplicación que usa sesiones.
 
@@ -262,7 +262,7 @@ unset($cookies['language']);
 
 Además de [[yii\web\Cookie::name|name]], [[yii\web\Cookie::value|value]] las propiedades que se muestran en los anteriores ejemplos, la clase [[yii\web\Cookie]] también define otras propiedades para representar toda la información posible de las cookies, tal como [[yii\web\Cookie::domain|domain]], [[yii\web\Cookie::expire|expire]]. Puedes configurar estas propiedades según sea necesario para preparar una cookie y luego añadirlo a la colección de cookies de la respuesta.
 
-> Note: Para mayor seguridad, el valor por defecto de [[yii\web\Cookie::httpOnly]] es `true`. Esto ayuda a mitigar el riesgo del acceso a la cookie protegida por script desde el lado del cliente (si el navegador lo soporta). Puedes leer el [httpOnly wiki article](https://www.owasp.org/index.php/HttpOnly) para más detalles.
+> Note: Para mayor seguridad, el valor por defecto de [[yii\web\Cookie::httpOnly]] es `true`. Esto ayuda a mitigar el riesgo del acceso a la cookie protegida por script desde el lado del cliente (si el navegador lo soporta). Puedes leer el [httpOnly wiki article](https://owasp.org/www-community/HttpOnly) para más detalles.
 
 
 ### Validación de la Cookie <span id="cookie-validation"></span>
diff --git a/docs/guide-es/security-authorization.md b/docs/guide-es/security-authorization.md
index 0cdb1cca387..213630c9ec8 100644
--- a/docs/guide-es/security-authorization.md
+++ b/docs/guide-es/security-authorization.md
@@ -156,7 +156,7 @@ El Control de Acceso Basado en Roles (RBAC) provee una simple pero poderosa mane
 la [Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control) para más detalles sobre comparar RBAC
 con otros mecanismos de control de acceso más tradicionales.
 
-Yii implementa una Jerarquía General RBAC, siguiendo el [modelo NIST RBAC](http://csrc.nist.gov/rbac/sandhu-ferraiolo-kuhn-00.pdf).
+Yii implementa una Jerarquía General RBAC, siguiendo el [modelo NIST RBAC](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf).
 Esto provee la funcionalidad RBAC a través de [componente de la aplicación](structure-application-components.md) [[yii\rbac\ManagerInterface|authManager]].
 
 Utilizar RBAC envuelve dos cosas. La primera es construir los datos de autorización RBAC, y la segunda
diff --git a/docs/guide-es/security-passwords.md b/docs/guide-es/security-passwords.md
index f2c356af6a7..679f081cfda 100644
--- a/docs/guide-es/security-passwords.md
+++ b/docs/guide-es/security-passwords.md
@@ -7,7 +7,7 @@ pero el hardware moderno hace posible que ese tipo de hash e incluso más fuerte
 
 Para poder proveer de una seguridad mayor para los passwords de los usuarios, incluso en el peor de los escenarios (tu aplicación sufre una brecha de seguridad),
 necesitas utilizar un algoritmo que resista los ataques de fuerza bruta. La mejor elección actualmente es `bcrypt`.
-En PHP, puedes generar un hash `bcrypt` utilizando la [función crypt](https://secure.php.net/manual/en/function.crypt.php). Yii provee
+En PHP, puedes generar un hash `bcrypt` utilizando la [función crypt](https://www.php.net/manual/en/function.crypt.php). Yii provee
 dos funciones auxiliares que hacen que `crypt` genere y verifique los hash más fácilmente.
 
 Cuando un usuario provee un password por primera vez (por ej., en la registración), dicho password necesita ser pasado por un hash:
diff --git a/docs/guide-es/start-databases.md b/docs/guide-es/start-databases.md
index ee23d3f83bc..6080cd31a5e 100644
--- a/docs/guide-es/start-databases.md
+++ b/docs/guide-es/start-databases.md
@@ -49,7 +49,7 @@ Al final, tendrás una base de datos llamada `yii2basic`, y dentro de esta, una
 Configurar una conexión a la Base de Datos <span id="configuring-db-connection"></span>
 ------------------------------------------
 
-Asegúrate de tener instalado la extensión de PHP [PDO](https://secure.php.net/manual/es/book.pdo.php) y el driver
+Asegúrate de tener instalado la extensión de PHP [PDO](https://www.php.net/manual/es/book.pdo.php) y el driver
 de PDO para el motor que estés utilizando (ej. `pdo_mysql` para MySQL). Este es un requisito básico si tu aplicación
 va a utilizar bases de datos relacionales.
 
diff --git a/docs/guide-es/start-installation.md b/docs/guide-es/start-installation.md
index 2a78b79be12..a685b964bdb 100644
--- a/docs/guide-es/start-installation.md
+++ b/docs/guide-es/start-installation.md
@@ -97,7 +97,7 @@ Verificando las Instalación <span id="verifying-installation"></span>
 ---------------------------
 
 Una vez finalizada la instalación, o bien configura tu servidor web (mira la sección siguiente) o utiliza
-el [servidor web incluido en PHP](https://secure.php.net/manual/en/features.commandline.webserver.php) ejecutando el siguiente
+el [servidor web incluido en PHP](https://www.php.net/manual/en/features.commandline.webserver.php) ejecutando el siguiente
 comando de consola estando parado en el directorio `web` de la aplicación:
  
 ```bash
@@ -131,7 +131,7 @@ de PHP satisfaga los requerimientos de Yii. Esto puedes hacerlo usando cualquier
   ```
   
 Deberías configurar tu instalación de PHP para que satisfaga los requisitos mínimos de Yii. Lo que es más importante,
-debes tener PHP 5.4 o mayor. También deberías instalar la [Extensión de PHP PDO](https://secure.php.net/manual/es/pdo.installation.php)
+debes tener PHP 5.4 o mayor. También deberías instalar la [Extensión de PHP PDO](https://www.php.net/manual/es/pdo.installation.php)
 y el correspondiente driver de base de datos (como `pdo_mysql` para bases de datos MySQL), si tu aplicación lo necesitara.
 
 
@@ -187,7 +187,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Configuración Recomendada de Nginx <span id="recommended-nginx-configuration"></span>
 
-Para utilizar [Nginx](http://wiki.nginx.org/), debes instalar PHP como un [FPM SAPI](https://secure.php.net/install.fpm).
+Para utilizar [Nginx](http://wiki.nginx.org/), debes instalar PHP como un [FPM SAPI](https://www.php.net/install.fpm).
 Utiliza la siguiente configuración de Nginx, reemplazando `path/to/basic/web` con la ruta real a
 `basic/web` y `mysite.test` con el hostname real a servir.
 
diff --git a/docs/guide-es/start-prerequisites.md b/docs/guide-es/start-prerequisites.md
index bb184eca7ff..d4771f8d998 100644
--- a/docs/guide-es/start-prerequisites.md
+++ b/docs/guide-es/start-prerequisites.md
@@ -6,11 +6,11 @@ pero todavía hay algunas cosas que debería aprender antes de empezar con Yii.
 ## PHP
 
 Yii es un _framework_ (base estructurada de desarrollo) en PHP, así que asegúrese de
-[leer y comprender la referencia del lenguaje](https://secure.php.net/manual/es/langref.php).
+[leer y comprender la referencia del lenguaje](https://www.php.net/manual/es/langref.php).
 Al desarrollar con Yii deberá escribir código de manera orientada a objetos, así que
 asegúrese de estar familiarizado con
-[clases y objetos](https://secure.php.net/manual/es/language.oop5.basic.php) así como con
-[espacios de nombres](https://secure.php.net/manual/es/language.namespaces.php).
+[clases y objetos](https://www.php.net/manual/es/language.oop5.basic.php) así como con
+[espacios de nombres](https://www.php.net/manual/es/language.namespaces.php).
 
 ## Programación orientada a objetos
 
diff --git a/docs/guide-es/structure-applications.md b/docs/guide-es/structure-applications.md
index bf85cba98a2..5c07fbd98c3 100644
--- a/docs/guide-es/structure-applications.md
+++ b/docs/guide-es/structure-applications.md
@@ -335,7 +335,7 @@ Puedes encontrar más detalles de esta propiedad en la sección [Internacionaliz
 #### [[yii\base\Application::timeZone|timeZone]] <span id="timeZone"></span>
 
 Esta propiedad es provista como una forma alternativa de definir el `time zone` de PHP por defecto en tiempo de ejecución.
-Configurando esta propiedad, escencialmente estás llamando a la función de PHP [date_default_timezone_set()](https://secure.php.net/manual/es/function.date-default-timezone-set.php).
+Configurando esta propiedad, escencialmente estás llamando a la función de PHP [date_default_timezone_set()](https://www.php.net/manual/es/function.date-default-timezone-set.php).
 Por ejemplo:
 
 ```php
diff --git a/docs/guide-es/structure-extensions.md b/docs/guide-es/structure-extensions.md
index 6632f16f77a..4d399bf7cd1 100644
--- a/docs/guide-es/structure-extensions.md
+++ b/docs/guide-es/structure-extensions.md
@@ -407,8 +407,6 @@ se describe en la subsección [Uso de Extensiones](#using-extensions)
   autorización tales como el cliente OAuth2 de Facebook, el cliente GitHub OAuth2.
 - [yiisoft/yii2-bootstrap](https://github.com/yiisoft/yii2-bootstrap): proporciona un conjunto de widgets que
   encapsulan los componentes y plugins de [Bootstrap](http://getbootstrap.com/).
-- [yiisoft/yii2-codeception](https://github.com/yiisoft/yii2-codeception): proporciona soporte de testing basado en
-  [Codeception](http://codeception.com/).
 - [yiisoft/yii2-debug](https://github.com/yiisoft/yii2-debug): proporciona soporte de depuración para aplicaciones
   Yii. Cuando se usa esta extensión, aparece una barra de herramientas de depuración en la parte inferior de cada
   página. La extensión también proporciona un conjunto de páginas para mostrar información detallada de depuración.
@@ -427,7 +425,7 @@ se describe en la subsección [Uso de Extensiones](#using-extensions)
 - [yiisoft/yii2-jui](https://github.com/yiisoft/yii2-jui): proporciona un conjunto de widgets que encapsulan las
   iteraciones y widgets de [JQuery UI](http://jqueryui.com/).
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb): proporciona soporte para utilizar
-  [MongoDB](http://www.mongodb.org/). incluye características como consultas básicas, Active Record, migraciones,
+  [MongoDB](https://www.mongodb.com/). incluye características como consultas básicas, Active Record, migraciones,
   caching, generación de código, etc.
 - [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis): proporciona soporte para utilizar
   [redis](http://redis.io/). incluye características como consultas básicas, Active Record, caching, etc.
diff --git a/docs/guide-es/structure-models.md b/docs/guide-es/structure-models.md
index 5a24142d803..fdd264def18 100644
--- a/docs/guide-es/structure-models.md
+++ b/docs/guide-es/structure-models.md
@@ -39,8 +39,8 @@ echo $model->name;
 ```
 
 También se puede acceder a los atributos como se accede a los elementos de un array, gracias al soporte para 
-[ArrayAccess](https://secure.php.net/manual/es/class.arrayaccess.php) y 
-[ArrayIterator](https://secure.php.net/manual/es/class.arrayiterator.php) que brinda [[yii\base\Model]]:
+[ArrayAccess](https://www.php.net/manual/es/class.arrayaccess.php) y 
+[ArrayIterator](https://www.php.net/manual/es/class.arrayiterator.php) que brinda [[yii\base\Model]]:
 
 ```php
 $model = new \app\models\ContactForm;
diff --git a/docs/guide-es/structure-widgets.md b/docs/guide-es/structure-widgets.md
index 87273a01b86..75b9f904359 100644
--- a/docs/guide-es/structure-widgets.md
+++ b/docs/guide-es/structure-widgets.md
@@ -72,7 +72,7 @@ Hay que tener en cuenta que, a diferencia de [[yii\base\Widget::widget()]] que d
 representación resultante del _widget_, el método [[yii\base\Widget::begin()]] devuelve una
 instancia del _widget_, que se puede usar para generar el contenido del _widget_.
 
-> Nota: Algunos _widgets_ utilizan un [búfer de salida](https://secure.php.net/manual/es/book.outcontrol.php)
+> Nota: Algunos _widgets_ utilizan un [búfer de salida](https://www.php.net/manual/es/book.outcontrol.php)
 > para ajustar el contenido rodeado al invocar [[yii\base\Widget::end()]].  Por este motivo se espera
 > que las llamadas a [[yii\base\Widget::begin()]] y [[yii\base\Widget::end()]] tengan lugar en el
 > mismo fichero de vista.
diff --git a/docs/guide-es/tutorial-core-validators.md b/docs/guide-es/tutorial-core-validators.md
index cbb93f9c944..95cc530d8e8 100644
--- a/docs/guide-es/tutorial-core-validators.md
+++ b/docs/guide-es/tutorial-core-validators.md
@@ -96,7 +96,7 @@ Opcionalmente, puede convertir el valor de entrada en una fecha/tiempo UNIX y al
 
 - `format`: el formato fecha/tiempo en el que debe estar el valor a ser validado. 
    Esto tiene que ser un patrón fecha/tiempo descrito en [manual ICU](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
-   Alternativamente tiene que ser una cadena con el prefijo `php:` representando un formato que ha de ser reconocido por la clase `Datetime` de PHP. Por favor, refiérase a <https://secure.php.net/manual/en/datetime.createfromformat.php> sobre los formatos soportados.
+   Alternativamente tiene que ser una cadena con el prefijo `php:` representando un formato que ha de ser reconocido por la clase `Datetime` de PHP. Por favor, refiérase a <https://www.php.net/manual/en/datetime.createfromformat.php> sobre los formatos soportados.
    Si no tiene ningún valor, ha de coger el valor de `Yii::$app->formatter->dateFormat`.
 - `timestampAttribute`: el nombre del atributo al cual este validador puede asignar el fecha/hora UNIX convertida desde la entrada fecha/hora.
 
diff --git a/docs/guide-fr/caching-data.md b/docs/guide-fr/caching-data.md
index 1763ef3bb15..db554b0b93a 100644
--- a/docs/guide-fr/caching-data.md
+++ b/docs/guide-fr/caching-data.md
@@ -91,15 +91,15 @@ Comme tous les composants de mise en cache prennent en charge le même jeux d'AP
 
 Yii prend en charge un large panel de supports de stockage pour cache. Ce qui suit est un résumé :
 
-* [[yii\caching\ApcCache]]: utilise l'extension PHP [APC](https://secure.php.net/manual/en/book.apc.php). Cette option peut être considérée comme la plus rapide lorsqu'on utilise un cache pour une grosse application centralisée (p. ex. un serveur, pas d'équilibrage de charge dédié, etc.).
+* [[yii\caching\ApcCache]]: utilise l'extension PHP [APC](https://www.php.net/manual/en/book.apc.php). Cette option peut être considérée comme la plus rapide lorsqu'on utilise un cache pour une grosse application centralisée (p. ex. un serveur, pas d'équilibrage de charge dédié, etc.).
 * [[yii\caching\DbCache]]: utilise une table de base de données pour stocker les données en cache. Pour utiliser ce cache, vous devez créer une table comme spécifié dans [[yii\caching\DbCache::cacheTable]].
 * [[yii\caching\DummyCache]]: tient lieu de cache à remplacer qui n'assure pas de mise en cache réelle. Le but de ce composant est de simplifier le code qui a besoin de vérifier la disponibilité du cache. Par exemple, lors du développement ou si le serveur ne dispose pas de la prise en charge d'un cache, vous pouvez configurer un composant de mise en cache pour qu'il utilise ce cache. Lorsque la prise en charge réelle de la mise en cache est activée, vous pouvez basculer sur le composant de mise en cache correspondant. Dans les deux cas, vous pouvez utiliser le même code `Yii::$app->cache->get($key)` pour essayer de retrouver les données du cache sans vous préoccuper du fait que `Yii::$app->cache` puisse être `null`.
 * [[yii\caching\FileCache]]: utilise des fichiers standards pour stocker les données en cache. Cela est particulièrement adapté à la mise en cache de gros blocs de données, comme le contenu d'une page.
-* [[yii\caching\MemCache]]: utilise le [memcache](https://secure.php.net/manual/en/book.memcache.php) PHP et l'extension [memcached](https://secure.php.net/manual/en/book.memcached.php). Cette option peut être considérée comme la plus rapide lorsqu'on utilise un cache dans des applications distribuées (p. ex. avec plusieurs serveurs, l'équilibrage de charge, etc.).
+* [[yii\caching\MemCache]]: utilise le [memcache](https://www.php.net/manual/en/book.memcache.php) PHP et l'extension [memcached](https://www.php.net/manual/en/book.memcached.php). Cette option peut être considérée comme la plus rapide lorsqu'on utilise un cache dans des applications distribuées (p. ex. avec plusieurs serveurs, l'équilibrage de charge, etc.).
 * [[yii\redis\Cache]]: met en œuvre un composant de mise en cache basé sur un stockage clé-valeur [Redis](http://redis.io/) 
   (une version de redis égale ou supérieure à 2.6.12 est nécessaire).
 * [[yii\caching\WinCache]]: utilise le [WinCache](http://iis.net/downloads/microsoft/wincache-extension) PHP
-  ([voir aussi l'extension](https://secure.php.net/manual/en/book.wincache.php)).
+  ([voir aussi l'extension](https://www.php.net/manual/en/book.wincache.php)).
 * [[yii\caching\XCache]] _(deprecated)_: utilise l'extension PHP [XCache](http://xcache.lighttpd.net/).
 * [[yii\caching\ZendDataCache]] _(deprecated)_: utilise le 
   [cache de données Zend](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
diff --git a/docs/guide-fr/caching-http.md b/docs/guide-fr/caching-http.md
index 10ac1bce51e..212f567f9da 100644
--- a/docs/guide-fr/caching-http.md
+++ b/docs/guide-fr/caching-http.md
@@ -100,7 +100,7 @@ Cache-Control: public, max-age=3600
 
 ## Propriété "Session Cache Limiter" <span id="session-cache-limiter"></span>
 
-Lorsqu'une page utilise une session, PHP envoie automatiquement quelques entêtes HTTP relatifs à la mise en cache comme spécifié dans la propriété `session.cache_limiter` de PHP INI. Ces entêtes peuvent interférer ou désactiver la mise en cache que vous voulez obtenir de `HttpCache`. Pour éviter ce problème, par défaut, `HttpCache` désactive l'envoi de ces entêtes automatiquement. Si vous désirez modifier ce comportement, vous devez configurer la propriété [[yii\filters\HttpCache::sessionCacheLimiter]]. Cette propriété accepte une chaîne de caractères parmi `public`, `private`, `private_no_expire` et `nocache`. Reportez-vous au manuel de PHP à propos de [session_cache_limiter()](https://secure.php.net/manual/en/function.session-cache-limiter.php) pour des explications sur ces valeurs.
+Lorsqu'une page utilise une session, PHP envoie automatiquement quelques entêtes HTTP relatifs à la mise en cache comme spécifié dans la propriété `session.cache_limiter` de PHP INI. Ces entêtes peuvent interférer ou désactiver la mise en cache que vous voulez obtenir de `HttpCache`. Pour éviter ce problème, par défaut, `HttpCache` désactive l'envoi de ces entêtes automatiquement. Si vous désirez modifier ce comportement, vous devez configurer la propriété [[yii\filters\HttpCache::sessionCacheLimiter]]. Cette propriété accepte une chaîne de caractères parmi `public`, `private`, `private_no_expire` et `nocache`. Reportez-vous au manuel de PHP à propos de [session_cache_limiter()](https://www.php.net/manual/en/function.session-cache-limiter.php) pour des explications sur ces valeurs.
 
 
 ## Implications SEO <span id="seo-implications"></span>
diff --git a/docs/guide-fr/concept-autoloading.md b/docs/guide-fr/concept-autoloading.md
index 4e530c1f001..4efca62dd72 100644
--- a/docs/guide-fr/concept-autoloading.md
+++ b/docs/guide-fr/concept-autoloading.md
@@ -1,7 +1,7 @@
 Chargement automatique des classes
 ==================================
 
-Yii compte sur le [mécanisme de chargement automatique des classes](https://secure.php.net/manual/en/language.oop5.autoload.php) pour localiser et inclure tous les fichiers de classes requis. Il fournit un chargeur automatique de classes de haute performance qui est conforme à la [norme PSR-4](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md). Le chargeur automatique est installé lorsque vous incluez le fichier `Yii.php`.
+Yii compte sur le [mécanisme de chargement automatique des classes](https://www.php.net/manual/fr/language.oop5.autoload.php) pour localiser et inclure tous les fichiers de classes requis. Il fournit un chargeur automatique de classes de haute performance qui est conforme à la [norme PSR-4](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md). Le chargeur automatique est installé lorsque vous incluez le fichier `Yii.php`.
 
 > Note: pour simplifier la description, dans cette section, nous ne parlerons que du chargement automatique des classes. Néanmoins, gardez présent à l'esprit que le contenu que nous décrivons ici s'applique aussi au chargement automatique des interfaces et des traits. 
 
@@ -11,7 +11,7 @@ Utilisation du chargeur automatique de Yii <span id="using-yii-autoloader"></spa
 
 Pour utiliser le chargeur automatique de classes de Yii, vous devez suivre deux règles simples lorsque vous créez et nommez vos classes :
 
-* Chaque classe doit être placée sous un [espace de noms](https://secure.php.net/manual/en/language.namespaces.php) (p. ex. `foo\bar\MyClass`)
+* Chaque classe doit être placée sous un [espace de noms](https://www.php.net/manual/en/language.namespaces.php) (p. ex. `foo\bar\MyClass`)
 * Chaque classe doit être sauvegardée sous forme d'un fichier individuel dont le chemin est déterminé par l'algorithme suivant : 
 
 ```php
diff --git a/docs/guide-fr/concept-behaviors.md b/docs/guide-fr/concept-behaviors.md
index bc8e86395e7..23043bedd86 100644
--- a/docs/guide-fr/concept-behaviors.md
+++ b/docs/guide-fr/concept-behaviors.md
@@ -299,7 +299,7 @@ Il existe plusieurs comportements pré-inclus et extérieurs disponibles :
 Comparaison des comportement et des traits <span id="comparison-with-traits"></span>
 ------------------------------------------
 
-Bien que les comportements  soient similaires aux [traits](https://secure.php.net/traits) par le fait qu'ils *injectent* tous deux leurs propriétés et leurs méthodes dans la classe primaire, ils diffèrent par de nombreux aspects. Comme nous l'expliquons ci-dessous, ils ont chacun leurs avantages et leurs inconvénients. Ils sont plus des compléments l'un envers l'autre, que des alternatives. 
+Bien que les comportements  soient similaires aux [traits](https://www.php.net/traits) par le fait qu'ils *injectent* tous deux leurs propriétés et leurs méthodes dans la classe primaire, ils diffèrent par de nombreux aspects. Comme nous l'expliquons ci-dessous, ils ont chacun leurs avantages et leurs inconvénients. Ils sont plus des compléments l'un envers l'autre, que des alternatives. 
 
 
 ### Raisons d'utiliser des comportements <span id="pros-for-behaviors"></span>
diff --git a/docs/guide-fr/concept-events.md b/docs/guide-fr/concept-events.md
index 0e81ad4ba0e..3170c6829ab 100644
--- a/docs/guide-fr/concept-events.md
+++ b/docs/guide-fr/concept-events.md
@@ -9,7 +9,7 @@ Yii introduit une classe de base appelée [[yii\base\Component]] pour prendre en
 Gestionnaires d'événements <span id="event-handlers"></span>
 --------------------------
 
-Un gestionnaire d'événement est une  [fonction de rappel PHP](https://secure.php.net/manual/en/language.types.callable.php) qui est exécutée lorsque l'événement à laquelle elle est attachée est déclenché. Vous pouvez utiliser n'importe laquelle des fonctions de rappel suivantes :
+Un gestionnaire d'événement est une  [fonction de rappel PHP](https://www.php.net/manual/en/language.types.callable.php) qui est exécutée lorsque l'événement à laquelle elle est attachée est déclenché. Vous pouvez utiliser n'importe laquelle des fonctions de rappel suivantes :
 
 - une fonction PHP globale spécifiée sous forme de chaîne de caractères (sans les parenthèses) p. ex., `'trim'` ;
 - une méthode d'objet spécifiée sous forme de tableau constitué d'un nom d'objet et d'un nom de méthode sous forme de chaîne de caractères (sans les parenthèses), p. ex., `[$object, 'methodName']`;
diff --git a/docs/guide-fr/db-active-record.md b/docs/guide-fr/db-active-record.md
index 6a935209a0c..1c1016e0c73 100644
--- a/docs/guide-fr/db-active-record.md
+++ b/docs/guide-fr/db-active-record.md
@@ -472,9 +472,9 @@ ou la méthode [[yii\db\ActiveRecord::getOldAttribute()|getOldAttribute()]].
 Cela est souvent le cas lorsque le modèle reçoit des entrées utilisateur de formulaires HTML ou chacune des valeurs est représentée par une chaîne de caractères. 
 Pour garantir le type correct pour p. ex. des valeurs entières, vous devez appliquer un [filtre de validation](input-validation.md#data-filtering):
 > `['attributeName', 'filter', 'filter' => 'intval']`. 
-Cela fonctionne pour toutes les fonctions de transformation de type de PHP comme [intval()](https://secure.php.net/manual/en/function.intval.php), 
-[floatval()](https://secure.php.net/manual/en/function.floatval.php), 
-[boolval](https://secure.php.net/manual/en/function.boolval.php), etc...
+Cela fonctionne pour toutes les fonctions de transformation de type de PHP comme [intval()](https://www.php.net/manual/en/function.intval.php), 
+[floatval()](https://www.php.net/manual/en/function.floatval.php), 
+[boolval](https://www.php.net/manual/en/function.boolval.php), etc...
 
 ### Valeurs d'attribut par défaut <span id="default-attribute-values"></span>
 
@@ -688,7 +688,7 @@ try {
 ```
 
 > Note : dans le code précédent, nous utilisons deux blocs de capture pour être compatible avec PHP 5.x et PHP 7.x. 
-`\Exception` met en œuvre l'[interface `\Throwable`](https://secure.php.net/manual/en/class.throwable.php)
+`\Exception` met en œuvre l'[interface `\Throwable`](https://www.php.net/manual/en/class.throwable.php)
 > à partir de  PHP 7.0, c'est pourquoi vous pouvez sauter la partie avec `\Exception` si votre application utilise PHP 7.0 ou une version plus récente.
 
 La deuxième façon consiste à lister les opérations de base de données qui nécessitent une prise en charge transactionnelle dans la méthode [[yii\db\ActiveRecord::transactions()]]. 
@@ -791,6 +791,12 @@ public function behaviors()
         OptimisticLockBehavior::class,
     ];
 }
+
+public function optimisticLock()
+{
+    return 'version';
+}
+
 ```
 > Note : comme [[\yii\behaviors\OptimisticLockBehavior|OptimisticLockBehavior]] garantit que l'enregistrement n'est sauvegardé que 
 > si l'utilisateur soumet un numéro de version valide en analysant directement [[\yii\web\Request::getBodyParam()|getBodyParam()]], 
diff --git a/docs/guide-fr/db-dao.md b/docs/guide-fr/db-dao.md
index b3e8a455fa6..1759419cab9 100644
--- a/docs/guide-fr/db-dao.md
+++ b/docs/guide-fr/db-dao.md
@@ -1,7 +1,7 @@
 Objets d'accès aux bases de données
 ===================================
 
-Construits au-dessus des [objets de bases de données PHP (PDO – PHP Data Objects)](https://secure.php.net/manual/en/book.pdo.php), les objets d'accès aux bases de données de Yii (DAO – Database Access Objects) fournissent une API orientée objets pour accéder à des bases de données relationnelles. C'est la fondation pour d'autres méthodes d'accès aux bases de données plus avancées qui incluent le [constructeur de requêtes (*query builder*)](db-query-builder.md) et l'[enregistrement actif (*active record*)](db-active-record.md).
+Construits au-dessus des [objets de bases de données PHP (PDO – PHP Data Objects)](https://www.php.net/manual/en/book.pdo.php), les objets d'accès aux bases de données de Yii (DAO – Database Access Objects) fournissent une API orientée objets pour accéder à des bases de données relationnelles. C'est la fondation pour d'autres méthodes d'accès aux bases de données plus avancées qui incluent le [constructeur de requêtes (*query builder*)](db-query-builder.md) et l'[enregistrement actif (*active record*)](db-active-record.md).
 
 Lorsque vous utilisez les objets d'accès aux bases de données de Yii, vous manipulez des requêtes SQL et des tableaux PHP. En conséquence, cela reste le moyen le plus efficace pour accéder aux bases de données. Néanmoins, étant donné que la syntaxe du langage SQL varie selon le type de base de données, l'utilisation des objets d'accès aux bases de données de Yii signifie également que vous avez à faire un travail supplémentaire pour créer une application indifférente au type de base de données. 
 
@@ -12,7 +12,7 @@ Dans Yii 2.0, les objets d'accès aux bases de données prennent en charge les b
 - [SQLite](http://sqlite.org/)
 - [PostgreSQL](http://www.postgresql.org/): version 8.4 ou plus récente.
 - [CUBRID](http://www.cubrid.org/): version 9.3 ou plus récente.
-- [Oracle](http://www.oracle.com/us/products/database/overview/index.html)
+- [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): version 2008 ou plus récente.
 
 > Info: depuis Yii 2.1, la prise en charge des objets d'accès aux bases de données pour CUBRID, Oracle et MSSQL n'est plus fournie en tant que composants du noyau. Cette prise en charge nécessite l'installation d'[extensions](structure-extensions.md) séparées.
@@ -59,7 +59,7 @@ Vous pouvez ensuite accéder à la base de données via l'expression `Yii::$app-
 
 > Tip: vous pouvez configurer plusieurs composants d'application « base de données » si votre application a besoin d'accéder à plusieurs bases de données. 
 
-Lorsque vous configurez une connexion à une base de données, vous devez toujours spécifier le nom de sa source de données (DSN – Data Source Name) via la propriété [[yii\db\Connection::dsn|dsn]]. Les formats des noms de source de données varient selon le type de base de données. Reportez-vous au [manuel de PHP](https://secure.php.net/manual/en/function.PDO-construct.php) pour plus de détails. Ci-dessous, nous donnons quelques exemples :
+Lorsque vous configurez une connexion à une base de données, vous devez toujours spécifier le nom de sa source de données (DSN – Data Source Name) via la propriété [[yii\db\Connection::dsn|dsn]]. Les formats des noms de source de données varient selon le type de base de données. Reportez-vous au [manuel de PHP](https://www.php.net/manual/en/pdo.construct.php) pour plus de détails. Ci-dessous, nous donnons quelques exemples :
  
 * MySQL, MariaDB: `mysql:host=localhost;dbname=mydatabase`
 * SQLite: `sqlite:/path/to/database/file`
@@ -164,7 +164,7 @@ $post = Yii::$app->db->createCommand('SELECT * FROM post WHERE id=:id AND status
            ->queryOne();
 ```
 
-La liaison des paramètres est implémentée via des [instructions préparées](https://secure.php.net/manual/en/mysqli.quickstart.prepared-statements.php). En plus d'empêcher les attaques par injection SQL, cela peut aussi améliorer la performance en préparant l'instruction SQL une seule fois et l'exécutant de multiples fois avec des paramètres différents. Par exemple :
+La liaison des paramètres est implémentée via des [instructions préparées](https://www.php.net/manual/en/mysqli.quickstart.prepared-statements.php). En plus d'empêcher les attaques par injection SQL, cela peut aussi améliorer la performance en préparant l'instruction SQL une seule fois et l'exécutant de multiples fois avec des paramètres différents. Par exemple :
 
 ```php
 $command = Yii::$app->db->createCommand('SELECT * FROM post WHERE id=:id');
@@ -330,7 +330,7 @@ try {
 En appelant la méthode [[yii\db\Connection::beginTransaction()|beginTransaction()]], une nouvelle transaction est démarrée. La transaction est représentée sous forme d'objet [[yii\db\Transaction]] stocké dans la variable `$transaction`. Ensuite, les requêtes à exécuter sont placées dans un bloc `try...catch...`. Si toutes les requêtes réussissent, la méthode [[yii\db\Transaction::commit()|commit()]] est appelée pour entériner la transaction. Autrement, si une exception a été levée et capturée, la méthode [[yii\db\Transaction::rollBack()|rollBack()]] est appelée pour défaire les changements faits par les requêtes de la transaction antérieures à celle qui a échoué. `throw $e` est alors à nouveau exécutée comme si l'exception n'avait jamais été capturée, ce qui permet au processus normal de gestion des erreurs de s'en occuper.
 
 > Note: dans le code précédent nous avons deux blocs « catch » pour compatibilité 
-> avec PHP 5.x et PHP 7.x. `\Exception` met en œuvre l'[interface `\Throwable`](https://secure.php.net/manual/en/class.throwable.php)
+> avec PHP 5.x et PHP 7.x. `\Exception` met en œuvre l'[interface `\Throwable`](https://www.php.net/manual/en/class.throwable.php)
 > depuis PHP 7.0, ainsi vous pouvez sauter la partie avec `\Exception` si votre application utilise seulement PHP 7.0 et plus récent.
 
 ### Spécification de niveaux d'isolation <span id="specifying-isolation-levels"></span>
diff --git a/docs/guide-fr/db-query-builder.md b/docs/guide-fr/db-query-builder.md
index 3cd66ae1df4..29450e52299 100644
--- a/docs/guide-fr/db-query-builder.md
+++ b/docs/guide-fr/db-query-builder.md
@@ -155,7 +155,7 @@ $query->from(['u' => $subQuery]);
 
 #### Préfixes
 Un [[yii\db\Connection::$tablePrefix|préfixe de table]] peut aussi être appliqué. Les instructions de mise en œuvre sont données à la section 
-["Entourage des noms de table et de colonne par des marques de citation" du guide sur les objets d'accès aux bases de données" ](guide-db-dao.html#quoting-table-and-column-names).
+["Entourage des noms de table et de colonne par des marques de citation" du guide sur les objets d'accès aux bases de données" ](db-dao.md#quoting-table-and-column-names).
 
 ### [[yii\db\Query::where()|where()]] <span id="where"></span>
 La méthode [[yii\db\Query::where()|where()]] spécifie le fragment `WHERE`d'une requête SQL. Vous pouvez utiliser un des quatre formats suivants pour spécifier une condition `WHERE` :
@@ -771,7 +771,7 @@ foreach ($query->each() as $username => $user) {
 #### Limitations des requêtes par lots dans MySQL <span id="batch-query-mysql"></span>
 
 La mise en œuvre des requêtes par lots de MySQL s'appuie sur la bibliothèque du pilote PDO. Par défaut, les requêtes MySQL sont 
-[`mises en tampon`](https://secure.php.net/manual/en/mysqlinfo.concepts.buffering.php). 
+[`mises en tampon`](https://www.php.net/manual/en/mysqlinfo.concepts.buffering.php). 
 Cela empêche d'utiliser le curseur pour obtenir les données, parce que cela n'empêche pas le jeu résultant complet d'être chargé dans la mémoire du client par le pilote.
 
 
diff --git a/docs/guide-fr/helper-array.md b/docs/guide-fr/helper-array.md
index c8ccd69892b..a4029deee11 100644
--- a/docs/guide-fr/helper-array.md
+++ b/docs/guide-fr/helper-array.md
@@ -1,7 +1,7 @@
 Classe assistante ArrayHelper
 =============================
 
-En plus du jeu riche de [fonctions de tableaux](https://secure.php.net/manual/en/book.array.php) qu'offre PHP, la classe assistante traitant les tableaux dans Yii fournit des méthodes statiques supplémentaires qui vous permettent de traiter les tableaux avec plus d'efficacité.
+En plus du jeu riche de [fonctions de tableaux](https://www.php.net/manual/en/book.array.php) qu'offre PHP, la classe assistante traitant les tableaux dans Yii fournit des méthodes statiques supplémentaires qui vous permettent de traiter les tableaux avec plus d'efficacité.
 
 
 ## Obtention de valeurs <span id="getting-values"></span>
@@ -61,7 +61,7 @@ Après exécution du code, `$array` contiendra `['options' => [1, 2]]` et `$type
 
 ## Tester l'existence des clés <span id="checking-existence-of-keys"></span>
 
-`ArrayHelper::keyExists` fonctionne comme [array_key_exists](https://secure.php.net/manual/en/function.array-key-exists.php) sauf qu'elle prend également en charge la comparaison de clés insensible à la casse. Par exemple,
+`ArrayHelper::keyExists` fonctionne comme [array_key_exists](https://www.php.net/manual/en/function.array-key-exists.php) sauf qu'elle prend également en charge la comparaison de clés insensible à la casse. Par exemple,
 
 ```php
 $data1 = [
@@ -252,7 +252,7 @@ ArrayHelper::multisort($data, function($item) {
 
 Le troisième argument précise la direction. Dans le cas d'un tri selon une clé unique, il s'agit soit de `SORT_ASC`, soit de `SORT_DESC`. Si le tri se fait selon des valeurs multiples, vous pouvez préciser des directions de tri différentes pour chacune des clés en présentant ces directions sous forme de tableau.
 
-Le dernier argument est une option de tri de PHP qui peut prendre les mêmes valeurs que celles acceptées par la fonction [sort()](https://secure.php.net/manual/en/function.sort.php) de PHP.
+Le dernier argument est une option de tri de PHP qui peut prendre les mêmes valeurs que celles acceptées par la fonction [sort()](https://www.php.net/manual/en/function.sort.php) de PHP.
 
 
 ## Détection des types de tableau <span id="detecting-array-types"></span>
@@ -284,7 +284,7 @@ Seules les valeurs sont encodées par défaut. En passant un deuxième argument
 
 ## Fusion de tableaux <span id="merging-arrays"></span>
 
-La fonction [[yii\helpers\ArrayHelper::merge()|ArrayHelper::merge()]] vous permet de fusionner deux, ou plus, tableaux en un seul de manière récursive. Si chacun des tableaux possède un élément avec la même chaîne clé valeur, le dernier écrase le premier (ce qui est un fonctionnement différent de [array_merge_recursive()](https://secure.php.net/manual/en/function.array-merge-recursive.php)).
+La fonction [[yii\helpers\ArrayHelper::merge()|ArrayHelper::merge()]] vous permet de fusionner deux, ou plus, tableaux en un seul de manière récursive. Si chacun des tableaux possède un élément avec la même chaîne clé valeur, le dernier écrase le premier (ce qui est un fonctionnement différent de [array_merge_recursive()](https://www.php.net/manual/en/function.array-merge-recursive.php)).
 La fusion récursive est entreprise si les deux tableaux possèdent un élément de type tableau avec la même clé. Pour des éléments dont la clé est un entier, les éléments du deuxième tableau sont ajoutés aux éléments du premier tableau. Vous pouvez utiliser l'objet [[yii\helpers\UnsetArrayValue]] pour supprimer la valeur du premier tableau ou [[yii\helpers\ReplaceArrayValue]] pour forcer le remplacement de la première valeur au lieu de la fusion récursive. 
 
 Par exemple :
@@ -391,7 +391,7 @@ Il est possible de fournir une manière par défaut de convertir un objet en tab
 Souvent, vous devez savoir si un élément se trouve dans un tableau ou si un jeu d'éléments est un sous-ensemble d'un autre. Bien que PHP offre la fonction `in_array()`, cette dernière ne prend pas en charge les sous-ensembles ou les objets `\Traversable`.
 
 Pour faciliter ce genre de tests, [[yii\helpers\ArrayHelper]] fournit les méthodes [[yii\helpers\ArrayHelper::isIn()|isIn()]]
-et [[yii\helpers\ArrayHelper::isSubset()|isSubset()]] avec la même signature que [in_array()](https://secure.php.net/manual/en/function.in-array.php).
+et [[yii\helpers\ArrayHelper::isSubset()|isSubset()]] avec la même signature que [in_array()](https://www.php.net/manual/en/function.in-array.php).
 
 ```php
 // true
diff --git a/docs/guide-fr/helper-html.md b/docs/guide-fr/helper-html.md
index c494aedc038..101a5822a0d 100644
--- a/docs/guide-fr/helper-html.md
+++ b/docs/guide-fr/helper-html.md
@@ -1,7 +1,7 @@
 Classe assistante Html
 ======================
 
-Toutes les applications Web génèrent un grand nombre de balises HTML. Si le code HTML est statique, il peut être créé efficacement sous forme de [mélange de code PHP et de code HTML dans un seul fichier](https://secure.php.net/manual/en/language.basic-syntax.phpmode.php), mais lorsqu'il est généré dynamiquement, cela commence à être compliqué à gérer sans une aide supplémentaire. Yii fournit une telle aide sous la forme de la classe assistante Html, qui offre un jeu de méthodes statiques pour manipuler les balises Html les plus courantes, leurs options et leur contenu.
+Toutes les applications Web génèrent un grand nombre de balises HTML. Si le code HTML est statique, il peut être créé efficacement sous forme de [mélange de code PHP et de code HTML dans un seul fichier](https://www.php.net/manual/en/language.basic-syntax.phpmode.php), mais lorsqu'il est généré dynamiquement, cela commence à être compliqué à gérer sans une aide supplémentaire. Yii fournit une telle aide sous la forme de la classe assistante Html, qui offre un jeu de méthodes statiques pour manipuler les balises Html les plus courantes, leurs options et leur contenu.
 
 > Note: si votre code HTML est presque statique, il vaut mieux utiliser HTML directement. Il n'est pas nécessaire d'envelopper tout dans des appels aux méthodes de la classe assistante Html.
 
@@ -134,8 +134,8 @@ accepte un tableau de propriétés à retirer. S'il s'agit d'une propriété uni
 
 ### Encodage et décodage du contenu <span id="encoding-and-decoding-content"></span>
 
-Pour que le contenu puisse être affiché en HTML de manière propre et en toute sécurité, les caractères spéciaux du contenu doivent être encodés. En PHP, cela s'obtient avec [htmlspecialchars](https://secure.php.net/manual/en/function.htmlspecialchars.php) et 
-[htmlspecialchars_decode](https://secure.php.net/manual/en/function.htmlspecialchars-decode.php). Le problème rencontré en utilisant ces méthodes directement est que vous devez spécifier l'encodage et des options supplémentaires tout le temps. Comme ces options restent toujours les mêmes et que l'encodage doit correspondre à celui de l'application pour éviter les problèmes de sécurité, Yii fournit deux méthodes compactes et faciles à utiliser :
+Pour que le contenu puisse être affiché en HTML de manière propre et en toute sécurité, les caractères spéciaux du contenu doivent être encodés. En PHP, cela s'obtient avec [htmlspecialchars](https://www.php.net/manual/en/function.htmlspecialchars.php) et 
+[htmlspecialchars_decode](https://www.php.net/manual/en/function.htmlspecialchars-decode.php). Le problème rencontré en utilisant ces méthodes directement est que vous devez spécifier l'encodage et des options supplémentaires tout le temps. Comme ces options restent toujours les mêmes et que l'encodage doit correspondre à celui de l'application pour éviter les problèmes de sécurité, Yii fournit deux méthodes compactes et faciles à utiliser :
 
 ```php
 $userName = Html::encode($user->name);
diff --git a/docs/guide-fr/input-file-upload.md b/docs/guide-fr/input-file-upload.md
index c58a234b2f6..4b26bf727b7 100644
--- a/docs/guide-fr/input-file-upload.md
+++ b/docs/guide-fr/input-file-upload.md
@@ -107,7 +107,7 @@ Dans le code ci-dessus, lorsque le formulaire est soumis, la méthode [[yii\web\
 
 Vous pouvez également charger sur le serveur plusieurs fichiers à la fois, avec quelques ajustements au code présenté dans les sous-sections précédentes.
 
-Tout d'abord, vous devez ajuster la classe du modèle en ajoutant l'option `maxFiles` dans la règle de validation de `file` pour limiter le nombre maximum de fichiers à charger simultanément. Définir `maxFiles` à `0` signifie que ce nombre n'est pas limité. Le nombre maximal de fichiers que l'on peut charger simultanément est aussi limité par la directive PHP [`max_file_uploads`](https://secure.php.net/manual/en/ini.core.php#ini.max-file-uploads), dont la valeur par défaut est 20. La méthode `upload()` doit aussi être modifiée pour permettre la sauvegarde des fichiers un à un.
+Tout d'abord, vous devez ajuster la classe du modèle en ajoutant l'option `maxFiles` dans la règle de validation de `file` pour limiter le nombre maximum de fichiers à charger simultanément. Définir `maxFiles` à `0` signifie que ce nombre n'est pas limité. Le nombre maximal de fichiers que l'on peut charger simultanément est aussi limité par la directive PHP [`max_file_uploads`](https://www.php.net/manual/en/ini.core.php#ini.max-file-uploads), dont la valeur par défaut est 20. La méthode `upload()` doit aussi être modifiée pour permettre la sauvegarde des fichiers un à un.
 
 ```php
 namespace app\models;
diff --git a/docs/guide-fr/input-forms.md b/docs/guide-fr/input-forms.md
index f49ff38e27a..d55d4e471a4 100644
--- a/docs/guide-fr/input-forms.md
+++ b/docs/guide-fr/input-forms.md
@@ -73,7 +73,7 @@ echo $form->field($model, 'items[]')->checkboxList(['a' => 'Item A', 'b' => 'Ite
 
 Soyez prudent lorsque vous nommez des éléments de formulaire tels que des boutons de soumission. Selon la [documentation de jQuery](https://api.jquery.com/submit/), certains noms sont réservés car ils peuvent créer des conflits :
 
-> Les éléments *forms* et leurs éléments enfants ne devraient par utiliser des noms de champ de saisie, ou des identifiants que entrent en conflit avec les propriétés d'un élément de *form*, tels que `submit`, `length`, ou `method`. Les conflits de noms peuvent créer des échecs troublants. Pour une liste complètes des règles et pour vérifier votre code HTML à propos de ces problèmes, reportez-vous à [DOMLint](http://kangax.github.io/domlint/).
+> Les éléments *forms* et leurs éléments enfants ne devraient par utiliser des noms de champ de saisie, ou des identifiants que entrent en conflit avec les propriétés d'un élément de *form*, tels que `submit`, `length`, ou `method`. Les conflits de noms peuvent créer des échecs troublants. Pour une liste complètes des règles et pour vérifier votre code HTML à propos de ces problèmes, reportez-vous à [DOMLint](https://kangax.github.io/domlint/).
 
 Des balises additionnelles HTML peuvent être ajoutées au formulaire en utilisant du HTML simple ou en utilisant les méthodes de la classe [[yii\helpers\Html|Html]]-helper comme cela est fait dans l'exemple ci-dessus avec le [[yii\helpers\Html::submitButton()|bouton de soumission]].
 
diff --git a/docs/guide-fr/intro-upgrade-from-v1.md b/docs/guide-fr/intro-upgrade-from-v1.md
index 3dfcc943041..096b39e54bc 100644
--- a/docs/guide-fr/intro-upgrade-from-v1.md
+++ b/docs/guide-fr/intro-upgrade-from-v1.md
@@ -31,15 +31,15 @@ Yii 2.0 requiert PHP 5.4 ou plus, ce qui est une grosse amélioration par rappor
 Par conséquent, il y a beaucoup de différences au niveau du langage auxquelles vous devriez prêter attention.
 Voici un résumé des principaux changements concernant PHP:
 
-- [Espaces de noms](https://secure.php.net/manual/fr/language.namespaces.php).
-- [Fonctions anonymes](https://secure.php.net/manual/fr/functions.anonymous.php).
+- [Espaces de noms](https://www.php.net/manual/fr/language.namespaces.php).
+- [Fonctions anonymes](https://www.php.net/manual/fr/functions.anonymous.php).
 - Syntaxe courte pour les tableaux : `[...éléments...]` est utilisé au lieu de `array(...éléments...)`.
 - Syntaxe courte pour echo : `<?=` est utilisé dans les vues. Cela ne pose aucun problème à partir de PHP 5.4.
-- [Classes SPL et interfaces](https://secure.php.net/manual/fr/book.spl.php).
-- [Late Static Bindings (résolution statique à la volée)](https://secure.php.net/manual/fr/language.oop5.late-static-bindings.php).
-- [Date et heure](https://secure.php.net/manual/fr/book.datetime.php).
-- [Traits](https://secure.php.net/manual/fr/language.oop5.traits.php).
-- [intl](https://secure.php.net/manual/fr/book.intl.php). Yii 2.0 utilise l'extension PHP `intl` pour les fonctionnalités
+- [Classes SPL et interfaces](https://www.php.net/manual/fr/book.spl.php).
+- [Late Static Bindings (résolution statique à la volée)](https://www.php.net/manual/fr/language.oop5.late-static-bindings.php).
+- [Date et heure](https://www.php.net/manual/fr/book.datetime.php).
+- [Traits](https://www.php.net/manual/fr/language.oop5.traits.php).
+- [intl](https://www.php.net/manual/fr/book.intl.php). Yii 2.0 utilise l'extension PHP `intl` pour les fonctionnalités
   d'internationalisation.
 
 
diff --git a/docs/guide-fr/intro-yii.md b/docs/guide-fr/intro-yii.md
index 11214142e58..b378e366051 100644
--- a/docs/guide-fr/intro-yii.md
+++ b/docs/guide-fr/intro-yii.md
@@ -51,6 +51,6 @@ Yii 2.0 nécessite PHP 5.4.0 ou plus. Vous pouvez trouver plus de détails sur l
 en utilisant le script de test de la configuration inclus dans chaque distribution de Yii.
 
 Utiliser Yii requiert des connaissances de base sur la programmation objet (OOP), en effet Yii est un framework basé sur ce type de programmation.
-Yii 2.0 utilise aussi des fonctionnalités récentes de PHP, telles que les [espaces de noms](https://secure.php.net/manual/fr/language.namespaces.php) et les [traits](https://secure.php.net/manual/fr/language.oop5.traits.php).
+Yii 2.0 utilise aussi des fonctionnalités récentes de PHP, telles que les [espaces de noms](https://www.php.net/manual/fr/language.namespaces.php) et les [traits](https://www.php.net/manual/fr/language.oop5.traits.php).
 Comprendre ces concepts vous aidera à mieux prendre en main Yii.
 
diff --git a/docs/guide-fr/output-formatting.md b/docs/guide-fr/output-formatting.md
index bd1fb42c598..eb2f7e084ec 100644
--- a/docs/guide-fr/output-formatting.md
+++ b/docs/guide-fr/output-formatting.md
@@ -35,7 +35,7 @@ echo Yii::$app->formatter->format('2014-01-01', 'date');
 echo Yii::$app->formatter->format(0.125, ['percent', 2]); 
 ```
 
-> Note: le composant de formatage est conçu pour formater des valeurs à présenter à l'utilisateur. Si vous voulez convertir des entrées utilisateur en un format lisible par la machine, ou simplement formater une date dans un format lisible par la machine, le formateur n'est pas l'outil adapté à cela. Pour convertir une entrée utilisateur pour une date et un temps, vous pouvez utiliser [[yii\validators\DateValidator]] et [[yii\validators\NumberValidator]] respectivement. Pour une simple conversion entre les formats lisibles par la machine de date et de temps, la fonction PHP [date()](https://secure.php.net/manual/en/function.date.php) suffit.
+> Note: le composant de formatage est conçu pour formater des valeurs à présenter à l'utilisateur. Si vous voulez convertir des entrées utilisateur en un format lisible par la machine, ou simplement formater une date dans un format lisible par la machine, le formateur n'est pas l'outil adapté à cela. Pour convertir une entrée utilisateur pour une date et un temps, vous pouvez utiliser [[yii\validators\DateValidator]] et [[yii\validators\NumberValidator]] respectivement. Pour une simple conversion entre les formats lisibles par la machine de date et de temps, la fonction PHP [date()](https://www.php.net/manual/en/function.date.php) suffit.
 
 ## Configuration du formateur <span id="configuring-formatter"></span>
 
@@ -71,7 +71,7 @@ Le formateur prend en charge les formats de sortie suivants en relation avec les
 Les formats par défaut pour les dates et les temps utilisés pour les méthodes [[yii\i18n\Formatter::asDate()|date]], [[yii\i18n\Formatter::asTime()|time]],
 et [[yii\i18n\Formatter::asDatetime()|datetime]] peuvent être configurés globalement en configurant [[yii\i18n\Formatter::dateFormat|dateFormat]], [[yii\i18n\Formatter::timeFormat|timeFormat]], et [[yii\i18n\Formatter::datetimeFormat|datetimeFormat]].
 
-Vous pouvez spécifier les formats de date et de temps en utilisant la [syntaxe ICU](http://userguide.icu-project.org/formatparse/datetime). Vous pouvez aussi utiliser la [syntaxe date() de PHP](https://secure.php.net/manual/en/function.date.php) avec le préfixe `php:` pour la différentier de la syntaxe ICU. Par exemple :
+Vous pouvez spécifier les formats de date et de temps en utilisant la [syntaxe ICU](http://userguide.icu-project.org/formatparse/datetime). Vous pouvez aussi utiliser la [syntaxe date() de PHP](https://www.php.net/manual/en/function.date.php) avec le préfixe `php:` pour la différentier de la syntaxe ICU. Par exemple :
 
 ```php
 // format ICU
@@ -125,7 +125,7 @@ Pour les nombres, le formateur prend en charge les formats de sortie suivants :
 Le format pour un nombre peut être ajusté en utilisant [[yii\i18n\Formatter::decimalSeparator|decimalSeparator (séparateur de décimales)]] et
 [[yii\i18n\Formatter::thousandSeparator|thousandSeparator (séparateur de milliers) ]], qui prennent tous les deux les valeurs par défaut déterminées par la [[yii\i18n\Formatter::locale|locale]] courante.
 
-Pour une configuration plus avancée, [[yii\i18n\Formatter::numberFormatterOptions]] et [[yii\i18n\Formatter::numberFormatterTextOptions]] peuvent être utilisés pour configurer la classe [NumberFormater (formateur de nombres)](https://secure.php.net/manual/en/class.numberformatter.php) utilisée en interne pour implémenter le formateur. Par exemple, pour ajuster la valeur minimum et maximum des chiffres fractionnaires, vous pouvez configurer la propriété [[yii\i18n\Formatter::numberFormatterOptions]] comme ceci :
+Pour une configuration plus avancée, [[yii\i18n\Formatter::numberFormatterOptions]] et [[yii\i18n\Formatter::numberFormatterTextOptions]] peuvent être utilisés pour configurer la classe [NumberFormater (formateur de nombres)](https://www.php.net/manual/en/class.numberformatter.php) utilisée en interne pour implémenter le formateur. Par exemple, pour ajuster la valeur minimum et maximum des chiffres fractionnaires, vous pouvez configurer la propriété [[yii\i18n\Formatter::numberFormatterOptions]] comme ceci :
 
 ```php
 'numberFormatterOptions' => [
@@ -172,7 +172,7 @@ echo Yii::$app->formatter->asDate('2014-01-01'); // affiche : 1 января 20
 
 Par défaut, la [[yii\i18n\Formatter::locale|locale]] est déterminée par la valeur de [[yii\base\Application::language]]. Vous pouvez la redéfinir en définissant la propriété [[yii\i18n\Formatter::locale]] explicitement.
 
-> Note: le formateur de Yii a besoin de l'[extension intl de PHP](https://secure.php.net/manual/en/book.intl.php) pour prendre en charge la localisation des formats de données. Parce que différentes versions de la bibliothèque ICU compilées par PHP produisent des résultats de formatage différents, il est recommandé que vous utilisiez la même version de la bibliothèque ICU pour tous vos environnements. Pour plus de détails, reportez-vous au tutoriel [Configuration de votre environnement PHP pour l'internationalisation](tutorial-i18n.md#setup-environment).
+> Note: le formateur de Yii a besoin de l'[extension intl de PHP](https://www.php.net/manual/en/book.intl.php) pour prendre en charge la localisation des formats de données. Parce que différentes versions de la bibliothèque ICU compilées par PHP produisent des résultats de formatage différents, il est recommandé que vous utilisiez la même version de la bibliothèque ICU pour tous vos environnements. Pour plus de détails, reportez-vous au tutoriel [Configuration de votre environnement PHP pour l'internationalisation](tutorial-i18n.md#setup-environment).
 >
 > Si l'extension intl extension n'est pas installée, les données ne sont pas localisées. 
 >
diff --git a/docs/guide-fr/runtime-bootstrapping.md b/docs/guide-fr/runtime-bootstrapping.md
index 788b954719b..c1d1835bc1f 100644
--- a/docs/guide-fr/runtime-bootstrapping.md
+++ b/docs/guide-fr/runtime-bootstrapping.md
@@ -21,7 +21,7 @@ Comme le travail d'amorçage doit être fait avant *chacune* des requêtes, il e
 
 Dans le mode production, activez un cache bytecode, tel que [PHP OPcache] ou [APC], pour minimiser le temps nécessaire à l'inclusion et à l'analyse des fichiers PHP.
 
-[PHP OPcache]: https://secure.php.net/manual/en/intro.opcache.php
-[APC]: https://secure.php.net/manual/en/book.apc.php
+[PHP OPcache]: https://www.php.net/manual/fr/book.opcache.php
+[APC]: https://www.php.net/manual/fr/book.apcu.php
 
 Quelques applications volumineuses ont des [configurations](concept-configurations.md) d'application très complexes qui sont divisées en fichiers de configuration plus petits. Si c'est le cas, envisagez de mettre tout le tableau de configuration en cache et de le charger directement à partir cache avant la création de l'instance d'application dans le script d'entrée. 
diff --git a/docs/guide-fr/runtime-responses.md b/docs/guide-fr/runtime-responses.md
index bbc13fab839..26a7452fb3d 100644
--- a/docs/guide-fr/runtime-responses.md
+++ b/docs/guide-fr/runtime-responses.md
@@ -190,7 +190,7 @@ Quelques serveurs Web assurent une prise en charge spéciale de l'envoi de fichi
 - Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
 - Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Nginx: [X-Accel-Redirect](http://wiki.nginx.org/XSendfile)
+- Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
 - Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
diff --git a/docs/guide-fr/runtime-sessions-cookies.md b/docs/guide-fr/runtime-sessions-cookies.md
index d9a31753c5f..092df61f634 100644
--- a/docs/guide-fr/runtime-sessions-cookies.md
+++ b/docs/guide-fr/runtime-sessions-cookies.md
@@ -121,7 +121,7 @@ La classe par défaut [[yii\web\Session]] stocke les données de session sous fo
 * [[yii\web\DbSession]]: stocke les données de session dans une base de données. 
 * [[yii\web\CacheSession]]: stocke les données de session dans un cache avec l'aide d'un [composant cache](caching-data.md#cache-components) configuré.
 * [[yii\redis\Session]]: stocke les données de session en utilisant le médium de stockage [redis](http://redis.io/) as the storage medium.
-* [[yii\mongodb\Session]]: stocke les données de session dans une base de données de documents [MongoDB](http://www.mongodb.org/).
+* [[yii\mongodb\Session]]: stocke les données de session dans une base de données de documents [MongoDB](https://www.mongodb.com/).
 
 Toutes ces classes de session prennent en charge le même jeu de méthodes d'API. En conséquence, vous pouvez changer de support de stockage sans avoir à modifier le code de votre application qui utilise ces sessions. 
 
@@ -299,7 +299,7 @@ unset($cookies['language']);
 
 En plus des propriétés  [[yii\web\Cookie::name|name (nom)]], [[yii\web\Cookie::value|value (valeur)]] montrées dans les exemples ci-dessus, la classe  [[yii\web\Cookie]] définit également d'autres propriétés pour représenter complètement toutes les informations de témoin de connexion disponibles, comme les propriétés [[yii\web\Cookie::domain|domain (domaine)]], [[yii\web\Cookie::expire|expire (date d'expiration)]]. Vous pouvez configurer ces propriété selon vos besoins pour préparer un témoin de connexion et ensuite l'ajouter à la collection de témoins de connexion de la réponse.
 
-> Note: pour une meilleure sécurité, la valeur par défaut de la propriété [[yii\web\Cookie::httpOnly]] est définie à `true`. Cela permet de limiter le risque qu'un script client n'accède à un témoin de connexion protégé (si le navigateur le prend en charge). Reportez-vous à l'[article de wiki httpOnly](https://www.owasp.org/index.php/HttpOnly) pour plus de détails.
+> Note: pour une meilleure sécurité, la valeur par défaut de la propriété [[yii\web\Cookie::httpOnly]] est définie à `true`. Cela permet de limiter le risque qu'un script client n'accède à un témoin de connexion protégé (si le navigateur le prend en charge). Reportez-vous à l'[article de wiki httpOnly](https://owasp.org/www-community/HttpOnly) pour plus de détails.
 
 
 ### Validation des témoins de connexion <span id="cookie-validation"></span>
diff --git a/docs/guide-fr/security-authorization.md b/docs/guide-fr/security-authorization.md
index b94fdf84438..6dfca7304c4 100644
--- a/docs/guide-fr/security-authorization.md
+++ b/docs/guide-fr/security-authorization.md
@@ -127,7 +127,7 @@ class SiteController extends Controller
 
 Le contrôle d'accès basé sur les rôles (Role-Based Access Control – RBAC) fournit un contrôle d'accès centralisé simple mais puissant. Reportez-vous à [Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control) pour des détails comparatifs entre le contrôle d'accès basé sur les rôles et d'autres schéma de contrôle d'accès plus traditionnels.
 
-Yii met en œuvre un contrôle d'accès basé sur les rôles général hiérarchisé, qui suit le  [modèle NIST RBAC](http://csrc.nist.gov/rbac/sandhu-ferraiolo-kuhn-00.pdf). Il fournit la fonctionnalité de contrôle d'accès basé sur les rôles via le [composant d'application](structure-application-components.md)[[yii\RBAC\ManagerInterface|authManager]].
+Yii met en œuvre un contrôle d'accès basé sur les rôles général hiérarchisé, qui suit le  [modèle NIST RBAC](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf). Il fournit la fonctionnalité de contrôle d'accès basé sur les rôles via le [composant d'application](structure-application-components.md)[[yii\RBAC\ManagerInterface|authManager]].
 
 L'utilisation du contrôle d'accès basé sur les rôles implique deux partie de travail. La première partie est de construire les données d'autorisation du contrôle d'accès basé sur les rôles, et la seconde partie est d'utiliser les données d'autorisation pour effectuer les vérifications d'autorisation d'accès là où elles sont nécessaires.
 
diff --git a/docs/guide-fr/security-passwords.md b/docs/guide-fr/security-passwords.md
index 6380a5aebef..3cf9b3f20b1 100644
--- a/docs/guide-fr/security-passwords.md
+++ b/docs/guide-fr/security-passwords.md
@@ -5,7 +5,7 @@ La plupart des développeurs savent que les mots de passe ne peuvent pas être s
 
 Pour apporter une sécurité améliorée pour les mots de passe des utilisateurs, même dans le pire des scénario (une brèche est ouverte dans votre application), vous devez utiliser des algorithmes de hachage qui résistent aux attaques en force brute. Le choix le meilleur couramment utilisé est `bcrypt`.
 
-En  PHP, vous pouvez créer une valeur de hachage `bcrypt` à l'aide de la  [fonction crypt](https://secure.php.net/manual/en/function.crypt.php). Yii fournit deux fonctions d'aide qui facilitent l'utilisation de  `crypt` pour générer et vérifier des valeurs de hachage de manière sure. 
+En  PHP, vous pouvez créer une valeur de hachage `bcrypt` à l'aide de la  [fonction crypt](https://www.php.net/manual/en/function.crypt.php). Yii fournit deux fonctions d'aide qui facilitent l'utilisation de  `crypt` pour générer et vérifier des valeurs de hachage de manière sure. 
 
 Quand un utilisateur fournit un mot de passe pour la première fois (p. ex. à l'enregistrement), le mot de passe doit être haché :
 
diff --git a/docs/guide-fr/start-databases.md b/docs/guide-fr/start-databases.md
index f1144159c2c..7746d4060da 100644
--- a/docs/guide-fr/start-databases.md
+++ b/docs/guide-fr/start-databases.md
@@ -53,7 +53,7 @@ Configurer une Connexion à la BDD <span id="configuring-db-connection"></span>
 ---------------------------
 
 Avant de continuer, vérifiez que vous avez installé à la fois l'extension PHP 
-[PDO](https://secure.php.net/manual/fr/book.pdo.php) et le pilote PDO pour la base de données que vous utilisez (c'est
+[PDO](https://www.php.net/manual/fr/book.pdo.php) et le pilote PDO pour la base de données que vous utilisez (c'est
 à dire `pdo_mysql` pour MySQL). C'est une exigence de base si votre application utilise une base de données relationnelle.
 
 Une fois ces éléments installés, ouvrez le fichier `config/db.php` et modifiez les paramètres pour qu'ils correspondent à votre base de données. Par défaut, le fichier contient ce qui suit :
diff --git a/docs/guide-fr/start-installation.md b/docs/guide-fr/start-installation.md
index 59db131ce0e..1058b9bc3a4 100644
--- a/docs/guide-fr/start-installation.md
+++ b/docs/guide-fr/start-installation.md
@@ -115,7 +115,7 @@ Afin d'empêcher l'installation des « assets » via Composer, ajoutez les lig
 Vérifier l'installation <span id="verifying-installation"></span>
 -----------------------
 
-Après l'installation, vous pouvez, soit configurer votre serveur Web (voir section suivante), soit utiliser le [serveur PHP web incorporé](https://secure.php.net/manual/fr/features.commandline.webserver.php) en utilisant la commande en console suivante depuis le dossier racine de votre projet :
+Après l'installation, vous pouvez, soit configurer votre serveur Web (voir section suivante), soit utiliser le [serveur PHP web incorporé](https://www.php.net/manual/fr/features.commandline.webserver.php) en utilisant la commande en console suivante depuis le dossier racine de votre projet :
  
 ```bash
 php yii serve
@@ -145,7 +145,7 @@ Vous devriez voir dans votre navigateur la page ci-dessus. Sinon, merci de véri
   php requirements.php
   ```
 
-Vous devez configurer votre installation de PHP afin qu'elle réponde aux exigences minimales de Yii. Le plus important étant que vous ayez PHP 5.4 ou plus, idéalement PHP 7. Si votre application a besoin d'une base de données, vous devez également installer l'[extension PHP PDO](https://secure.php.net/manual/fr/pdo.installation.php) ainsi qu'un pilote correspondant à votre système de base de données (par exemple `pdo_mysql` pour MySQL).
+Vous devez configurer votre installation de PHP afin qu'elle réponde aux exigences minimales de Yii. Le plus important étant que vous ayez PHP 5.4 ou plus, idéalement PHP 7. Si votre application a besoin d'une base de données, vous devez également installer l'[extension PHP PDO](https://www.php.net/manual/fr/pdo.installation.php) ainsi qu'un pilote correspondant à votre système de base de données (par exemple `pdo_mysql` pour MySQL).
 
 
 Configuration du serveur Web <span id="configuring-web-servers"></span>
@@ -194,7 +194,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Configuration Nginx recommandée <span id="recommended-nginx-configuration"></span>
 
-Pour utiliser Nginx, vous devez avoir installé PHP en utilisant [FPM SAPI](https://secure.php.net/install.fpm).
+Pour utiliser Nginx, vous devez avoir installé PHP en utilisant [FPM SAPI](https://www.php.net/install.fpm).
 Utilisez la configuration Nginx suivante, en remplaçant `path/to/basic/web` par le chemin vers le dossier `basic/web` et `mysite.test` par le nom d'hôte de votre serveur.
 
 ```nginx
diff --git a/docs/guide-fr/start-prerequisites.md b/docs/guide-fr/start-prerequisites.md
index c760d12b38b..c02df9b79be 100644
--- a/docs/guide-fr/start-prerequisites.md
+++ b/docs/guide-fr/start-prerequisites.md
@@ -4,8 +4,8 @@ La courbe d'apprentissage de Yii n’est pas aussi raide que celle des autres fr
 
 ## PHP
 
-Yii un framework (base structurée de développement) en PHP. C’est pourquoi vous devez vous assurer de [maîtriser ce langage en comprenant sa référence](https://secure.php.net/manual/fr/langref.php).
-Lors de votre développement avec Yii, vous écrirez du code dans le style « orienté objet ». Vous devez donc être familiarisé avec les [Classes et Objets](https://secure.php.net/manual/fr/language.oop5.basic.php), ainsi qu'avec les [espaces de noms](https://secure.php.net/manual/fr/language.namespaces.php).
+Yii un framework (base structurée de développement) en PHP. C’est pourquoi vous devez vous assurer de [maîtriser ce langage en comprenant sa référence](https://www.php.net/manual/fr/langref.php).
+Lors de votre développement avec Yii, vous écrirez du code dans le style « orienté objet ». Vous devez donc être familiarisé avec les [Classes et Objets](https://www.php.net/manual/fr/language.oop5.basic.php), ainsi qu'avec les [espaces de noms](https://www.php.net/manual/fr/language.namespaces.php).
 
 ## Programmation orientée Objet
 
diff --git a/docs/guide-fr/structure-applications.md b/docs/guide-fr/structure-applications.md
index 60bc43c6d0a..3814445ca77 100644
--- a/docs/guide-fr/structure-applications.md
+++ b/docs/guide-fr/structure-applications.md
@@ -306,7 +306,7 @@ Pour plus d'informations sur cette propriété, reportez-vous à la section [Int
 
 Cette propriété est fournie comme une manière alternative de définir le fuseau horaire par défaut au moment de l'exécution du script PHP. 
 En configurant cette propriété, vous ne faites essentiellement qu'appeler la fonction PHP 
-[date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php). Par exemple :
+[date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php). Par exemple :
 
 ```php
 [
diff --git a/docs/guide-fr/structure-extensions.md b/docs/guide-fr/structure-extensions.md
index 0f5f229848e..6eb2b359199 100644
--- a/docs/guide-fr/structure-extensions.md
+++ b/docs/guide-fr/structure-extensions.md
@@ -304,7 +304,6 @@ Yii fournit les extensions du noyau suivantes (ou ["les extensions officielles"]
 - [yiisoft/yii2-apidoc](https://www.yiiframework.com/extension/yiisoft/yii2-apidoc) : fournit un générateur  d'API extensible et de haute performance. Elle est aussi utilisée pour générer l'API du noyau du framework.  
 - [yiisoft/yii2-authclient](https://www.yiiframework.com/extension/yiisoft/yii2-authclient) : fournit un jeu de clients d'authentification courants tels que  Facebook OAuth2 client, GitHub OAuth2 client.
 - [yiisoft/yii2-bootstrap](https://www.yiiframework.com/extension/yiisoft/yii2-bootstrap) : fournit un jeu d'objets graphiques qui encapsulent les composants et les greffons de [Bootstrap](http://getbootstrap.com/).
-- [yiisoft/yii2-codeception](https://github.com/yiisoft/yii2-codeception)(obsolète) : fournit la prise en charge des fonctionnalités de test basées sur [Codeception](http://codeception.com/).
 - [yiisoft/yii2-debug](https://www.yiiframework.com/extension/yiisoft/yii2-debug) : fournit la prise en charge du débogage des applications Yii. Lorsque cette extension est utilisée, une barre de débogage apparaît au pied de chacune des pages. Cette extension fournit aussi un jeu de pages autonomes pour afficher des informations de débogage plus détaillées. 
 - [yiisoft/yii2-elasticsearch](https://www.yiiframework.com/extension/yiisoft/yii2-elasticsearch) : fournit la prise en charge d'[Elasticsearch](https://www.elastic.co/). Elle inclut un moteur de requêtes/recherches de base et met en œuvre le motif [Active Record](db-active-record.md) qui permet de stocker des enregistrement actifs dans Elasticsearch.
 - [yiisoft/yii2-faker](https://www.yiiframework.com/extension/yiisoft/yii2-faker) : fournit la prise en charge de [Faker](https://www.yiiframework.com/extension/fzaninotto/Faker) pour générer des données factices pour vous.
@@ -312,7 +311,7 @@ Yii fournit les extensions du noyau suivantes (ou ["les extensions officielles"]
 - [yiisoft/yii2-httpclient](https://www.yiiframework.com/extension/yiisoft/yii2-httpclient) : provides an HTTP client.
 - [yiisoft/yii2-imagine](https://github.com/yiisoft/yii2-imagine) : fournit des fonctionnalités couramment utilisées de manipulation d'images basées sur [Imagine](https://www.yiiframework.com/extension/yiisoft/yii2-imagine).
 - [yiisoft/yii2-jui](https://www.yiiframework.com/extension/yiisoft/yii2-jui) : fournit un jeu d'objets graphiques qui encapsulent les interactions et les objets graphiques de [JQuery UI](http://jqueryui.com/).
-- [yiisoft/yii2-mongodb](https://www.yiiframework.com/extension/yiisoft/yii2-mongodb) : fournit la prise en charge de [MongoDB](http://www.mongodb.org/). Elle inclut des fonctionnalités telles que les requêtes de base, les enregistrements actifs, les migrations, la mise en cache, la génération de code, etc.
+- [yiisoft/yii2-mongodb](https://www.yiiframework.com/extension/yiisoft/yii2-mongodb) : fournit la prise en charge de [MongoDB](https://www.mongodb.com/). Elle inclut des fonctionnalités telles que les requêtes de base, les enregistrements actifs, les migrations, la mise en cache, la génération de code, etc.
 - [yiisoft/yii2-queue](https://www.yiiframework.com/extension/yiisoft/yii2-queue): fournit la prise en charge pour exécuter des tâches en asynchrone via des queues. Il prend en charge les queues en se basant sur, DB, Redis, RabbitMQ, AMQP, Beanstalk et Gearman.
 - [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis) : fournit la prise en charge de [redis](http://redis.io/). Elle inclut des fonctionnalités telles que les requêtes de base, les enregistrements actifs, la mise en cache, etc.
 - [yiisoft/yii2-shell](https://www.yiiframework.com/extension/yiisoft/yii2-shell): fournit un interprète de commandes (shell) basé sur [psysh](http://psysh.org/).
diff --git a/docs/guide-fr/structure-models.md b/docs/guide-fr/structure-models.md
index f6186a7baff..74bdab054f5 100644
--- a/docs/guide-fr/structure-models.md
+++ b/docs/guide-fr/structure-models.md
@@ -31,7 +31,7 @@ $model->name = 'example';
 echo $model->name;
 ```
 
-Vous pouvez également accéder aux attributs comme aux éléments d'un tableau, grâce à la prise en charge de [ArrayAccess](https://secure.php.net/manual/en/class.arrayaccess.php) et [ArrayIterator](https://secure.php.net/manual/en/class.arrayiterator.php)
+Vous pouvez également accéder aux attributs comme aux éléments d'un tableau, grâce à la prise en charge de [ArrayAccess](https://www.php.net/manual/en/class.arrayaccess.php) et [ArrayIterator](https://www.php.net/manual/en/class.arrayiterator.php)
 par la classe [[yii\base\Model]]:
 
 ```php
diff --git a/docs/guide-fr/structure-widgets.md b/docs/guide-fr/structure-widgets.md
index beef8372192..ececdee2600 100644
--- a/docs/guide-fr/structure-widgets.md
+++ b/docs/guide-fr/structure-widgets.md
@@ -52,7 +52,7 @@ use yii\helpers\Html;
 
 Notez que contrairement à  la méthode [[yii\base\Widget::widget()]] qui retourne le résultat du rendu d'un objet graphique, la méthode [[yii\base\Widget::begin()]] retourne une instance de l'objet graphique que vous pouvez utiliser pour construire le contenu de l'objet d'interface. 
 
-> Note: quelques objets graphiques utilisent [la mise en tampon de sortie](https://secure.php.net/manual/en/book.outcontrol.php) 
+> Note: quelques objets graphiques utilisent [la mise en tampon de sortie](https://www.php.net/manual/en/book.outcontrol.php) 
 > pour ajuster le contenu inclus quand la méthode [[yii\base\Widget::end()]] est appelée. 
 > Pour cette raison, l'appel des méthodes [[yii\base\Widget::begin()]] et
 > [[yii\base\Widget::end()]]  est attendu dans le même fichier de vue.
diff --git a/docs/guide-fr/tutorial-i18n.md b/docs/guide-fr/tutorial-i18n.md
index 0648f29471c..df2eb0bbcdc 100644
--- a/docs/guide-fr/tutorial-i18n.md
+++ b/docs/guide-fr/tutorial-i18n.md
@@ -149,7 +149,7 @@ $price = 100;
 echo \Yii::t('app', 'Price: {0,number,currency}', $price);
 ```
 
-> Note: le formatage des valeurs de remplacement nécessite l'installation de [extension intl de PHP](https://secure.php.net/manual/en/intro.intl.php).
+> Note: le formatage des valeurs de remplacement nécessite l'installation de [extension intl de PHP](https://www.php.net/manual/en/intro.intl.php).
 
 Vous pouvez utiliser, soit la forme raccourcie, soit la forme complète pour spécifier une valeur à remplacer avec un format :
 ```
@@ -637,9 +637,9 @@ Reportez-vous à la section [Formatage des données](output-formatting.md) pour
 
 ## Configuration de l'environnement PHP <span id="setup-environment"></span>
 
-Yii utilise l'[extension intl de PHP](https://secure.php.net/manual/en/book.intl.php) pour fournir la plupart de ses fonctionnalités d'internationalisation, telles que le formatage des dates et des nombres de la classe [[yii\i18n\Formatter]] et le formatage des messages de la classe [[yii\i18n\MessageFormatter]].
+Yii utilise l'[extension intl de PHP](https://www.php.net/manual/en/book.intl.php) pour fournir la plupart de ses fonctionnalités d'internationalisation, telles que le formatage des dates et des nombres de la classe [[yii\i18n\Formatter]] et le formatage des messages de la classe [[yii\i18n\MessageFormatter]].
 Les deux classes fournissent un mécanisme de remplacement lorsque l'extension `intl` n'est pas installée. Néanmoins, l'implémentation du mécanisme de remplacement ne fonctionne bien que quand la langue cible est l'anglais. C'est pourquoi, il est fortement recommandé d'installer `intl` quand c'est nécessaire.
-L'[extension intl de PHP](https://secure.php.net/manual/en/book.intl.php) est basée sur la [bibliothèque ICU](http://site.icu-project.org/) qui fournit la base de connaissances et les règles de formatage pour les différentes locales. Des versions différentes d'ICU peuvent conduire à des formatages différents des dates et des nombres. Pour être sûr que votre site Web donne les même résultats dans tous les environnements, il  est recommandé d'installer la même version de l'extension `intl` (et par conséquent la même version d'ICU) dans tous les environnements. 
+L'[extension intl de PHP](https://www.php.net/manual/en/book.intl.php) est basée sur la [bibliothèque ICU](http://site.icu-project.org/) qui fournit la base de connaissances et les règles de formatage pour les différentes locales. Des versions différentes d'ICU peuvent conduire à des formatages différents des dates et des nombres. Pour être sûr que votre site Web donne les même résultats dans tous les environnements, il  est recommandé d'installer la même version de l'extension `intl` (et par conséquent la même version d'ICU) dans tous les environnements. 
 
 Pour savoir quelle version d'ICU est utilisée par PHP, vous pouvez exécuter le script suivant, qui vous restitue la version de PHP et d'ICU en cours d'utilisation. 
 
diff --git a/docs/guide-id/intro-upgrade-from-v1.md b/docs/guide-id/intro-upgrade-from-v1.md
index 7e0633e7cd4..748e0913275 100644
--- a/docs/guide-id/intro-upgrade-from-v1.md
+++ b/docs/guide-id/intro-upgrade-from-v1.md
@@ -29,15 +29,15 @@ Yii 2.0 membutuhkan PHP 5.4 atau versi lebih tinggi, yang merupakan perbaikan be
 Akibatnya, ada banyak perbedaan pada tingkat bahasa yang harus Anda perhatikan.
 Di bawah ini adalah ringkasan perubahan utama mengenai PHP:
 
-- [Namespaces](https://secure.php.net/manual/en/language.namespaces.php).
-- [Anonymous fungsi](https://secure.php.net/manual/en/functions.anonymous.php).
+- [Namespaces](https://www.php.net/manual/en/language.namespaces.php).
+- [Anonymous fungsi](https://www.php.net/manual/en/functions.anonymous.php).
 - Sintaks array pendek `[... elemen ...]` digunakan sebagai pengganti `array (... elemen ...)`.
 - Tags echo pendek `<=` digunakan dalam tampilan file. Ini aman digunakan mulai dari PHP 5.4.
-- [Class SPL dan interface](https://secure.php.net/manual/en/book.spl.php).
-- [Late Static Bindings](https://secure.php.net/manual/en/language.oop5.late-static-bindings.php).
-- [Tanggal dan Waktu](https://secure.php.net/manual/en/book.datetime.php).
-- [Traits](https://secure.php.net/manual/en/language.oop5.traits.php).
-- [Intl](https://secure.php.net/manual/en/book.intl.php). Yii 2.0 menggunakan `ekstensi PHP intl`
+- [Class SPL dan interface](https://www.php.net/manual/en/book.spl.php).
+- [Late Static Bindings](https://www.php.net/manual/en/language.oop5.late-static-bindings.php).
+- [Tanggal dan Waktu](https://www.php.net/manual/en/book.datetime.php).
+- [Traits](https://www.php.net/manual/en/language.oop5.traits.php).
+- [Intl](https://www.php.net/manual/en/book.intl.php). Yii 2.0 menggunakan `ekstensi PHP intl`
   untuk mendukung fitur internasionalisasi.
 
 
diff --git a/docs/guide-id/intro-yii.md b/docs/guide-id/intro-yii.md
index f800ef55095..fef70078ee8 100644
--- a/docs/guide-id/intro-yii.md
+++ b/docs/guide-id/intro-yii.md
@@ -48,5 +48,5 @@ Yii 2.0 memerlukan PHP 5.4.0 atau versi lebih tinggi. Anda dapat menemukan persy
 dengan menjalankan pengecek persyaratan yang diikutsertakan dalam setiap rilis Yii.
 
 Menggunakan Yii memerlukan pengetahuan dasar tentang pemrograman berorientasi objek (OOP), mengingat Yii adalah framework berbasis OOP murni.
-Yii 2.0 juga memanfaatkan fitur terbaru dari PHP, seperti [namespace](https://secure.php.net/manual/en/language.namespaces.php) dan [traits](https://secure.php.net/manual/en/language.oop5.traits.php). 
+Yii 2.0 juga memanfaatkan fitur terbaru dari PHP, seperti [namespace](https://www.php.net/manual/en/language.namespaces.php) dan [traits](https://www.php.net/manual/en/language.oop5.traits.php). 
 Memahami konsep-konsep ini akan membantu Anda lebih mudah memahami Yii 2.0.
diff --git a/docs/guide-id/start-databases.md b/docs/guide-id/start-databases.md
index dd77957be0f..e81ec91690d 100644
--- a/docs/guide-id/start-databases.md
+++ b/docs/guide-id/start-databases.md
@@ -49,7 +49,7 @@ Hingga saat ini, anda memiliki database bernama `yii2basic`, dan didalamnya terd
 Konfigurasi Koneksi Database <span id="configuring-db-connection"></span>
 ---------------------------
 
-Sebelum melanjutkan, pastikan anda memasang ekstensi PHP [PDO](https://secure.php.net/manual/en/book.pdo.php) dan
+Sebelum melanjutkan, pastikan anda memasang ekstensi PHP [PDO](https://www.php.net/manual/en/book.pdo.php) dan
 driver PDO untuk database yang anda gunakan (misal, `pdo_mysql` untuk MySQL). Ini adalah kebutuhan mendasar
 jika aplikasi anda menggunakan _relational database_.
 
diff --git a/docs/guide-id/start-installation.md b/docs/guide-id/start-installation.md
index c3aeda4be88..b92b7de1e9a 100644
--- a/docs/guide-id/start-installation.md
+++ b/docs/guide-id/start-installation.md
@@ -97,7 +97,7 @@ Memverifikasi Instalasi <span id="memverifikasi instalasi"></span>
 --------------------------
 
 Setelah instalasi selesai, baik mengkonfigurasi web server Anda (lihat bagian berikutnya) atau menggunakan
-[Built-in web server PHP] (https://secure.php.net/manual/en/features.commandline.webserver.php) dengan menjalankan berikut
+[Built-in web server PHP] (https://www.php.net/manual/en/features.commandline.webserver.php) dengan menjalankan berikut
 konsol perintah sementara dalam proyek `web` direktori:
 
 ```bash
@@ -131,7 +131,7 @@ persyaratan Yii. Anda dapat memeriksa apakah persyaratan minimumnya cocok dengan
   ```
 
 Anda harus mengkonfigurasi instalasi PHP Anda sehingga memenuhi persyaratan minimal Yii. Yang paling penting, Anda
-harus memiliki PHP versi 5.4 atau lebih. Anda juga harus menginstal [PDO PHP Ekstensi](https://secure.php.net/manual/en/pdo.installation.php)
+harus memiliki PHP versi 5.4 atau lebih. Anda juga harus menginstal [PDO PHP Ekstensi](https://www.php.net/manual/en/pdo.installation.php)
 dan driver database yang sesuai (seperti `pdo_mysql` untuk database MySQL), jika aplikasi Anda membutuhkan database.
 
 
@@ -187,7 +187,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Konfigurasi Nginx yang Direkomendasikan<span id="recommended-nginx-configuration"></span>
 
-Untuk menggunakan [Nginx](http://wiki.nginx.org/), Anda harus menginstal PHP sebagai [FPM SAPI](https://secure.php.net/install.fpm).
+Untuk menggunakan [Nginx](http://wiki.nginx.org/), Anda harus menginstal PHP sebagai [FPM SAPI](https://www.php.net/install.fpm).
 Anda dapat menggunakan konfigurasi Nginx berikut, menggantikan `path/to/basic/web` dengan path yang sebenarnya untuk
 `basic/web` dan `mysite.test` dengan hostname yang sebenarnya untuk server.
 
diff --git a/docs/guide-id/structure-applications.md b/docs/guide-id/structure-applications.md
index 1e46f7625a0..e402b73c45f 100644
--- a/docs/guide-id/structure-applications.md
+++ b/docs/guide-id/structure-applications.md
@@ -356,7 +356,7 @@ Untuk informasi lebih lanjut mengenai _property_ ini bisa anda pelajari pada bag
 
 _Property_ ini disediakan sebagai cara alternatif untuk menentukan zona waktu default dari _PHP runtime_.
 Dengan menentukan _property_ ini, pada dasarnya anda memanggil _function_ PHP
-[date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php). Sebagi contoh:
+[date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php). Sebagi contoh:
 
 ```php
 [
diff --git a/docs/guide-it/intro-upgrade-from-v1.md b/docs/guide-it/intro-upgrade-from-v1.md
index 6085a74177a..64afe828c53 100644
--- a/docs/guide-it/intro-upgrade-from-v1.md
+++ b/docs/guide-it/intro-upgrade-from-v1.md
@@ -28,15 +28,15 @@ Yii 2.0 richiede PHP 5.4 o superiore, il che è un passaggio notevole rispetto a
 Di conseguenza ci sono diverse differenze a livello di linguaggio a cui devi fare attenzione.
 Di seguito un riepilogo delle principali differenze relative a PHP:
 
-- [Namespace](https://secure.php.net/manual/en/language.namespaces.php).
-- [Funzioni anonime](https://secure.php.net/manual/en/functions.anonymous.php).
+- [Namespace](https://www.php.net/manual/en/language.namespaces.php).
+- [Funzioni anonime](https://www.php.net/manual/en/functions.anonymous.php).
 - La sintassi breve per gli array `[...elementi...]` è utilizzabile invece di `array(...elementi...)`.
 - Le tag brevi per le echo `<?=` sono utilizzabili nei file delle viste. Il loro utilizzo è sicuro da PHP 5.4.
-- [Interfacce e classi SPL](https://secure.php.net/manual/en/book.spl.php).
-- [Late Static Bindings](https://secure.php.net/manual/en/language.oop5.late-static-bindings.php).
-- [Data e ora](https://secure.php.net/manual/en/book.datetime.php).
-- [Trait](https://secure.php.net/manual/en/language.oop5.traits.php).
-- [intl](https://secure.php.net/manual/en/book.intl.php). Yii 2.0 utilizza l'estensione PHP `intl` per le funzionalità di 
+- [Interfacce e classi SPL](https://www.php.net/manual/en/book.spl.php).
+- [Late Static Bindings](https://www.php.net/manual/en/language.oop5.late-static-bindings.php).
+- [Data e ora](https://www.php.net/manual/en/book.datetime.php).
+- [Trait](https://www.php.net/manual/en/language.oop5.traits.php).
+- [intl](https://www.php.net/manual/en/book.intl.php). Yii 2.0 utilizza l'estensione PHP `intl` per le funzionalità di 
   internazionalizzazione.
 
 
diff --git a/docs/guide-it/intro-yii.md b/docs/guide-it/intro-yii.md
index 1513ec65646..056143be68b 100644
--- a/docs/guide-it/intro-yii.md
+++ b/docs/guide-it/intro-yii.md
@@ -54,6 +54,6 @@ Yii 2.0 richiede PHP 5.4.0 o successivo. Puoi trovare maggiori dettagli sulle ri
 eseguendo lo script di verifica requisiti incluso in ogni versione di Yii.
 
 L'uso di Yii richiede una conoscenza base della programmazione ad oggetti (OOP), dato che Yii è un framework puramente OOP.
-Yii 2.0 fa uso delle più recenti funzionalità di PHP, come i [namespace](https://secure.php.net/manual/it/language.namespaces.php) e 
-[trait](https://secure.php.net/manual/it/language.oop5.traits.php). La compresione di questi concetti ti aiuterà a semplificare
+Yii 2.0 fa uso delle più recenti funzionalità di PHP, come i [namespace](https://www.php.net/manual/it/language.namespaces.php) e 
+[trait](https://www.php.net/manual/it/language.oop5.traits.php). La compresione di questi concetti ti aiuterà a semplificare
 l'uso di Yii 2.0.
diff --git a/docs/guide-it/start-installation.md b/docs/guide-it/start-installation.md
index 8d92bce0b27..3b881d08d56 100644
--- a/docs/guide-it/start-installation.md
+++ b/docs/guide-it/start-installation.md
@@ -106,7 +106,7 @@ di Yii. Puoi verificare le richieste in due modi:
   ```
 
 Devi configurare la tua installazione di PHP in modo che soddisfi le richieste minime di Yii. E' molto importante che tu stia usando 
-PHP 5.4 o successivo. Devi inoltre installare le [estensioni PDO di PHP](https://secure.php.net/manual/en/pdo.installation.php) e un driver
+PHP 5.4 o successivo. Devi inoltre installare le [estensioni PDO di PHP](https://www.php.net/manual/en/pdo.installation.php) e un driver
 di database di PDO (come ad esempio `pdo_mysql` per i database MySQL), se la tua applicazione richiede un database.
 
 
@@ -160,7 +160,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Configurazione consigliata di Nginx <span id="recommended-nginx-configuration"></span>
 
-Devi aver installato PHP con il demone [FPM](https://secure.php.net/install.fpm) per usare [Nginx](http://wiki.nginx.org/).
+Devi aver installato PHP con il demone [FPM](https://www.php.net/install.fpm) per usare [Nginx](http://wiki.nginx.org/).
 Usa questa configurazione per Nginx, sostituendo `path/to/basic/web` con il percorso reale di `basic/web` e `mysite.test` con
 il nome reale del server web.
 
diff --git a/docs/guide-ja/caching-data.md b/docs/guide-ja/caching-data.md
index f0873614f9e..063bef0aab7 100644
--- a/docs/guide-ja/caching-data.md
+++ b/docs/guide-ja/caching-data.md
@@ -103,7 +103,7 @@ $data = $cache->getOrSet($key, function () use ($user_id) {
 
 Yii はさまざまなキャッシュ・ストレージをサポートしています。以下がその概要です:
 
-* [[yii\caching\ApcCache]]: PHP の [APC](https://secure.php.net/manual/ja/book.apc.php) 拡張モジュールを使用します。
+* [[yii\caching\ApcCache]]: PHP の [APC](https://www.php.net/manual/ja/book.apc.php) 拡張モジュールを使用します。
   集中型の重厚なアプリケーションのキャッシュを扱うときには最速の一つとして考えることができます
   (例えば、サーバが一台で、専用のロード・バランサを持っていない、などの場合)。
 * [[yii\caching\DbCache]]: キャッシュされたデータを格納するためにデータベースのテーブルを使用します。
@@ -120,14 +120,14 @@ Yii はさまざまなキャッシュ・ストレージをサポートしてい
   データを取得するために同じコード `Yii::$app->cache->get($key)` を使用できます。
 * [[yii\caching\FileCache]]: キャッシュされたデータを保存するために通常のファイルを使用します。
   これはページ・コンテントなど大きなかたまりのデータに特に適しています。
-* [[yii\caching\MemCache]]: PHP の [Memcache](https://secure.php.net/manual/ja/book.memcache.php) と
-  [Memcached](https://secure.php.net/manual/ja/book.memcached.php) 拡張モジュールを使用します。
+* [[yii\caching\MemCache]]: PHP の [Memcache](https://www.php.net/manual/ja/book.memcache.php) と
+  [Memcached](https://www.php.net/manual/ja/book.memcached.php) 拡張モジュールを使用します。
   分散型のアプリケーションでキャッシュを扱うときには最速の一つとして考えることができます
   (例えば、複数台のサーバで、ロード・バランサがある、などの場合) 。
 * [[yii\redis\Cache]]: [Redis](http://redis.io/) の key-value ストアに基づいてキャッシュ・コンポーネントを実装しています。
   (Redis の バージョン 2.6.12 以降が必要とされます) 。
 * [[yii\caching\WinCache]]: PHP の [WinCache](http://iis.net/downloads/microsoft/wincache-extension) エクステンションを使用します。
-  ([参照リンク](https://secure.php.net/manual/ja/book.wincache.php))
+  ([参照リンク](https://www.php.net/manual/ja/book.wincache.php))
 * [[yii\caching\XCache]] _(非推奨)_: PHP の [XCache](http://xcache.lighttpd.net/) 拡張モジュールを使用します。
 * [[yii\caching\ZendDataCache]] _(非推奨)_:
   キャッシュ・メディアとして [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
diff --git a/docs/guide-ja/caching-http.md b/docs/guide-ja/caching-http.md
index 3bd908c1f16..28af5367236 100644
--- a/docs/guide-ja/caching-http.md
+++ b/docs/guide-ja/caching-http.md
@@ -131,7 +131,7 @@ Cache-Control: public, max-age=3600
 この問題を防止するために、`HttpCache` はこれらのヘッダの送信をデフォルトで自動的に無効化します。
 この動作を変更したい場合は [[yii\filters\HttpCache::sessionCacheLimiter]] プロパティを設定します。
 このプロパティには `public`、`private`、`private_no_expire`、そして `nocache` などの文字列の値を使用することができます。
-これらの値についての説明は [session_cache_limiter()](https://secure.php.net/manual/ja/function.session-cache-limiter.php)
+これらの値についての説明は [session_cache_limiter()](https://www.php.net/manual/ja/function.session-cache-limiter.php)
 を参照してください。
 
 
diff --git a/docs/guide-ja/concept-autoloading.md b/docs/guide-ja/concept-autoloading.md
index e0298223597..36e1971857a 100644
--- a/docs/guide-ja/concept-autoloading.md
+++ b/docs/guide-ja/concept-autoloading.md
@@ -2,7 +2,7 @@
 ==========================
 
 Yiiは、必要となるすべてのクラス・ファイルを特定してインクルードするにあたり、
-[クラスのオートローディング・メカニズム](https://secure.php.net/manual/ja/language.oop5.autoload.php) を頼りにします。
+[クラスのオートローディング・メカニズム](https://www.php.net/manual/ja/language.oop5.autoload.php) を頼りにします。
 Yii は、[PSR-4 標準](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md) に準拠した、高性能なクラスのオートローダを提供しています。
 このオートローダは、あなたが `Yii.php` ファイルをインクルードするときにインストールされます。
 
@@ -15,7 +15,7 @@ Yii オートローダを使用する <span id="using-yii-autoloader"></span>
 
 Yii のクラス・オートローダを使用するには、クラスを作成して名前を付けるとき、次の二つの単純なルールに従わなければなりません:
 
-* 各クラスは [名前空間](https://secure.php.net/manual/ja/language.namespaces.php) の下になければなりません (例 `foo\bar\MyClass`)
+* 各クラスは [名前空間](https://www.php.net/manual/ja/language.namespaces.php) の下になければなりません (例 `foo\bar\MyClass`)
 * 各クラスは次のアルゴリズムで決定される個別のファイルに保存されなければなりません:
 
 ```php
diff --git a/docs/guide-ja/concept-behaviors.md b/docs/guide-ja/concept-behaviors.md
index f0f086bbcda..93534b53ef6 100644
--- a/docs/guide-ja/concept-behaviors.md
+++ b/docs/guide-ja/concept-behaviors.md
@@ -329,7 +329,7 @@ $user->touch('login_time');
 ビヘイビアとトレイトの比較 <span id="comparison-with-traits"></span>
 --------------------------
 
-ビヘイビアは、主となるクラスにそのプロパティやメソッドを「注入する」という点で [トレイト](https://secure.php.net/traits)
+ビヘイビアは、主となるクラスにそのプロパティやメソッドを「注入する」という点で [トレイト](https://www.php.net/traits)
 に似ていますが、これらは多くの面で異なります。以下に説明するように、それらは互いに長所と短所を持っています。
 それらは代替手段というよりも、むしろ相互補完関係のようなものです。
 
diff --git a/docs/guide-ja/concept-events.md b/docs/guide-ja/concept-events.md
index 8d0869581e7..f9515591732 100644
--- a/docs/guide-ja/concept-events.md
+++ b/docs/guide-ja/concept-events.md
@@ -13,7 +13,7 @@ Yiiはイベントをサポートするために、 [[yii\base\Component]] と
 イベント・ハンドラ <span id="event-handlers"></span>
 ------------------
 
-イベント・ハンドラとは、アタッチされたイベントがトリガされたときに実行される [PHP コールバック](https://secure.php.net/manual/ja/language.types.callable.php)
+イベント・ハンドラとは、アタッチされたイベントがトリガされたときに実行される [PHP コールバック](https://www.php.net/manual/ja/language.types.callable.php)
 です。次のコールバックのいずれも使用可能です:
 
 - 文字列で指定されたグローバル PHP 関数 (括弧を除く)、例えば `'trim'`。
diff --git a/docs/guide-ja/db-active-record.md b/docs/guide-ja/db-active-record.md
index 0b9cefb64ed..b56cc59a11b 100644
--- a/docs/guide-ja/db-active-record.md
+++ b/docs/guide-ja/db-active-record.md
@@ -473,8 +473,8 @@ $post->updateCounters(['view_count' => 1]);
 > HTML フォームでは全ての値が文字列として表現されるからです。
 > 入力値が正しい型、例えば整数値となることを保証するために、`['attributeName', 'filter', 'filter' => 'intval']` のように
 > [検証フィルタ](input-validation.md#data-filtering) を適用することが出来ます。
-> このフィルタは、[intval()](https://secure.php.net/manual/ja/function.intval.php), [floatval()](https://secure.php.net/manual/ja/function.floatval.php),
-> [boolval](https://secure.php.net/manual/ja/function.boolval.php) など、PHP の全てのタイプキャスト関数で動作します。
+> このフィルタは、[intval()](https://www.php.net/manual/ja/function.intval.php), [floatval()](https://www.php.net/manual/ja/function.floatval.php),
+> [boolval](https://www.php.net/manual/ja/function.boolval.php) など、PHP の全てのタイプキャスト関数で動作します。
 
 ### デフォルト属性値 <span id="default-attribute-values"></span>
 
@@ -689,7 +689,7 @@ try {
 ```
 
 > Note: 上記のコードでは、PHP 5.x と PHP 7.x との互換性のために、二つの catch ブロックを持っています。
-> `\Exception` は PHP 7.0 以降では、[`\Throwable` インタフェイス](https://secure.php.net/manual/ja/class.throwable.php) を実装しています。
+> `\Exception` は PHP 7.0 以降では、[`\Throwable` インタフェイス](https://www.php.net/manual/ja/class.throwable.php) を実装しています。
 > 従って、あなたのアプリケーションが PHP 7.0 以上しか使わない場合は、`\Exception` の部分を省略することが出来ます。
 
 第二の方法は、トランザクションのサポートが必要な DB 操作を [[yii\db\ActiveRecord::transactions()]]
@@ -792,6 +792,12 @@ public function behaviors()
         OptimisticLockBehavior::class,
     ];
 }
+
+public function optimisticLock()
+{
+    return 'version';
+}
+
 ```
 > Note: [[\yii\behaviors\OptimisticLockBehavior|OptimisticLockBehavior]] は、ユーザが正しいバージョン番号を送信したときにだけ
 > レコードが保存されるという事を保証します。そして、そのために、[[\yii\web\Request::getBodyParam()|getBodyParam()]] の結果を直接に解析します。
diff --git a/docs/guide-ja/db-dao.md b/docs/guide-ja/db-dao.md
index f55a6e38b3f..70297b52316 100644
--- a/docs/guide-ja/db-dao.md
+++ b/docs/guide-ja/db-dao.md
@@ -1,7 +1,7 @@
 データベース・アクセス・オブジェクト
 ====================================
 
-[PDO](https://secure.php.net/manual/ja/book.pdo.php) の上に構築された Yii DAO (データベース・アクセス・オブジェクト) は、
+[PDO](https://www.php.net/manual/ja/book.pdo.php) の上に構築された Yii DAO (データベース・アクセス・オブジェクト) は、
 リレーショナル・データベースにアクセスするためのオブジェクト指向 API を提供するものです。
 これは、データベースにアクセスする他のもっと高度な方法、例えば [クエリ・ビルダ](db-query-builder.md) や [アクティブ・レコード](db-active-record.md) の基礎でもあります。
 
@@ -16,7 +16,7 @@ Yii 2.0 では、DAO は下記の DBMS のサポートを内蔵しています
 - [SQLite](http://sqlite.org/)
 - [PostgreSQL](http://www.postgresql.org/): バージョン 8.4 以上。
 - [CUBRID](http://www.cubrid.org/): バージョン 9.3 以上。
-- [Oracle](http://www.oracle.com/us/products/database/overview/index.html)
+- [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): バージョン 2008 以上。
 
 > Note: PHP 7 用の pdo_oci の新しいバージョンは、現在、ソース・コードとしてのみ存在します。
@@ -62,7 +62,7 @@ return [
 
 DB 接続を構成するときは、つねに [[yii\db\Connection::dsn|dsn]] プロパティによってデータ・ソース名 (DSN) を指定しなければなりません。
 DSN の形式はデータベースによってさまざまに異なります。
-詳細は [PHP マニュアル](https://secure.php.net/manual/ja/function.PDO-construct.php) を参照して下さい。下記にいくつかの例を挙げます。
+詳細は [PHP マニュアル](https://www.php.net/manual/ja/function.PDO-construct.php) を参照して下さい。下記にいくつかの例を挙げます。
 
 * MySQL, MariaDB: `mysql:host=localhost;dbname=mydatabase`
 * SQLite: `sqlite:/path/to/database/file`
@@ -190,7 +190,7 @@ $post = Yii::$app->db->createCommand('SELECT * FROM post WHERE id=:id AND status
            ->queryOne();
 ```
 
-パラメータ・バインディングは [プリペアド・ステートメント](https://secure.php.net/manual/ja/mysqli.quickstart.prepared-statements.php) によって実装されています。
+パラメータ・バインディングは [プリペアド・ステートメント](https://www.php.net/manual/ja/mysqli.quickstart.prepared-statements.php) によって実装されています。
 パラメータ・バインディングには、SQL インジェクション攻撃を防止する以外にも、SQL 文を一度だけ準備して異なるパラメータで複数回実行することにより、
 パフォーマンスを向上させる効果もあります。例えば、
 
@@ -384,7 +384,7 @@ try {
 そして、`throw $e` が、まるでそれをキャッチしなかったかのように、例外を再スローしますので、通常のエラー処理プロセスがその例外の面倒を見ることになります。
 
 > Note: 上記のコードでは、PHP 5.x と PHP 7.x との互換性のために、二つのcatch ブロックを持っています。
-> `\Exception` は PHP 7.0 以降では、[`\Throwable` インタフェイス](https://secure.php.net/manual/ja/class.throwable.php) を実装しています。
+> `\Exception` は PHP 7.0 以降では、[`\Throwable` インタフェイス](https://www.php.net/manual/ja/class.throwable.php) を実装しています。
 > 従って、あなたのアプリケーションが PHP 7.0 以上しか使わない場合は、`\Exception` の部分を省略することが出来ます。
 
 
diff --git a/docs/guide-ja/db-query-builder.md b/docs/guide-ja/db-query-builder.md
index e779ba7a52f..8ba3104e7c1 100644
--- a/docs/guide-ja/db-query-builder.md
+++ b/docs/guide-ja/db-query-builder.md
@@ -155,7 +155,7 @@ $query->from(['u' => $subQuery]);
 
 #### プレフィックス
 また、デフォルトの [[yii\db\Connection::$tablePrefix|tablePrefix]] を適用することも出来ます。
-実装の仕方は ["データベース・アクセス・オブジェクト" ガイドの "テーブル名を引用符で囲む" のセクション](guide-db-dao.html#quoting-table-and-column-names) にあります。
+実装の仕方は ["データベース・アクセス・オブジェクト" ガイドの "テーブル名を引用符で囲む" のセクション](db-dao.md#quoting-table-and-column-names) にあります。
 
 ### [[yii\db\Query::where()|where()]] <span id="where"></span>
 
@@ -798,7 +798,7 @@ foreach ($query->each() as $username => $user) {
 #### MySQL におけるバッチ・クエリの制約 <span id="batch-query-mysql"></span>
 
 MySQL のバッチ・クエリの実装は PDO ドライバのライブラリに依存しています。デフォルトでは、MySQL のクエリは
-[`バッファ・モード`](https://secure.php.net/manual/ja/mysqlinfo.concepts.buffering.php) で実行されます。
+[`バッファ・モード`](https://www.php.net/manual/ja/mysqlinfo.concepts.buffering.php) で実行されます。
 このことが、カーソルを使ってデータを取得する目的を挫折させます。というのは、バッファ・モードでは、
 ドライバによって結果セット全体がクライアントのメモリに読み込まれることを防止できないからです。
 
diff --git a/docs/guide-ja/glossary.md b/docs/guide-ja/glossary.md
index 61ca7a4bb26..82a6a9769c5 100644
--- a/docs/guide-ja/glossary.md
+++ b/docs/guide-ja/glossary.md
@@ -58,7 +58,7 @@ Yii の場合は、パーミッションを設定すること、および、ソ
 
 ## namespace 名前空間
 
-名前空間は Yii 2 で積極的に使用されている [PHP 言語機能のひとつ](https://secure.php.net/manual/ja/language.namespaces.php) です。
+名前空間は Yii 2 で積極的に使用されている [PHP 言語機能のひとつ](https://www.php.net/manual/ja/language.namespaces.php) です。
 
 # P
 
diff --git a/docs/guide-ja/helper-array.md b/docs/guide-ja/helper-array.md
index 40608ffab3a..2df340a6ff5 100644
--- a/docs/guide-ja/helper-array.md
+++ b/docs/guide-ja/helper-array.md
@@ -1,7 +1,7 @@
 配列ヘルパ
 ==========
 
-[PHP の充実した配列関数](https://secure.php.net/manual/ja/book.array.php) への追加として、
+[PHP の充実した配列関数](https://www.php.net/manual/ja/book.array.php) への追加として、
 Yii の配列ヘルパは、配列をさらに効率的に扱うことを可能にするスタティックなメソッドを提供しています。
 
 
@@ -118,7 +118,7 @@ $type = ArrayHelper::remove($array, 'type');
 ## キーの存在をチェックする <span id="checking-existence-of-keys"></span>
 
 `ArrayHelper::keyExists` は、大文字と小文字を区別しないキーの比較をサポートすることを除いて、
-[array_key_exists](https://secure.php.net/manual/ja/function.array-key-exists.php) と同じ動作をします。例えば、
+[array_key_exists](https://www.php.net/manual/ja/function.array-key-exists.php) と同じ動作をします。例えば、
 
 ```php
 $data1 = [
@@ -322,7 +322,7 @@ ArrayHelper::multisort($data, function($item) {
 複数の値による並べ替えの場合は、並べ替えの順序の配列を渡して、値ごとに違う順序で並べ替えることが出来ます。
 
 最後の引数は並べ替えのフラグで、
-PHP の [sort()](https://secure.php.net/manual/ja/function.sort.php) 関数に渡されるのと同じ値を取ることが出来ます。
+PHP の [sort()](https://www.php.net/manual/ja/function.sort.php) 関数に渡されるのと同じ値を取ることが出来ます。
 
 
 ## 配列の型を検出する <span id="detecting-array-types"></span>
@@ -357,7 +357,7 @@ $decoded = ArrayHelper::htmlDecode($data);
 
 [[yii\helpers\ArrayHelper::merge()|ArrayHelper::merge()]] を使って、二つまたはそれ以上の配列を再帰的に一つの配列にマージすることが出来ます。
 各配列に同じ文字列のキー値を持つ要素がある場合は、
-([array_merge_recursive()](https://secure.php.net/manual/ja/function.array-merge-recursive.php) とは違って)後のものが前のものを上書きします。
+([array_merge_recursive()](https://www.php.net/manual/ja/function.array-merge-recursive.php) とは違って)後のものが前のものを上書きします。
 両方の配列が、同じキーを持つ配列型の要素を持っている場合は、再帰的なマージが実行されます。
 添字型の要素については、後の配列の要素が前の配列の要素の後に追加されます。
 [[yii\helpers\UnsetArrayValue]] オブジェクトを使って前の配列にある値を非設定に指定したり、
@@ -472,7 +472,7 @@ PHP は `in_array()` を提供していますが、これはサブセットや `
 
 この種のチェックを助けるために、[[yii\helpers\ArrayHelper]] は [[yii\helpers\ArrayHelper::isIn()|isIn()]]
 および [[yii\helpers\ArrayHelper::isSubset()|isSubset()]] を
-[in_array()](https://secure.php.net/manual/en/function.in-array.php) と同じシグニチャで提供しています。
+[in_array()](https://www.php.net/manual/en/function.in-array.php) と同じシグニチャで提供しています。
 
 ```php
 // true
diff --git a/docs/guide-ja/helper-html.md b/docs/guide-ja/helper-html.md
index 14693f2f668..bef79c680af 100644
--- a/docs/guide-ja/helper-html.md
+++ b/docs/guide-ja/helper-html.md
@@ -2,7 +2,7 @@ Html ヘルパ
 ===========
 
 全てのウェブ・アプリケーションは大量の HTML マークアップを生成します。
-マークアップが静的な場合は、[PHP と HTML を一つのファイルに混ぜる](https://secure.php.net/manual/ja/language.basic-syntax.phpmode.php) ことによって効率よく生成することが可能ですが、マークアップを動的にするとなると、何らかの助けが無ければ、処理がトリッキーになってきます。
+マークアップが静的な場合は、[PHP と HTML を一つのファイルに混ぜる](https://www.php.net/manual/ja/language.basic-syntax.phpmode.php) ことによって効率よく生成することが可能ですが、マークアップを動的にするとなると、何らかの助けが無ければ、処理がトリッキーになってきます。
 Yii はそのような手助けを Html ヘルパの形式で提供します。
 これは、よく使われる HTML タグとそのオプションやコンテントを処理するための一連のスタティック・メソッドを提供するものです。
 
@@ -147,8 +147,8 @@ Html::removeCssStyle($options, ['width', 'height']);
 ### コンテントをエンコードおよびデコードする <span id="encoding-and-decoding-content"></span>
 
 コンテントが適切かつ安全に HTML として表示されるためには、コンテント内の特殊文字がエンコードされなければなりません。
-特殊文字のエンコードとデコードは、PHP では [htmlspecialchars](https://secure.php.net/manual/ja/function.htmlspecialchars.php) と
-[htmlspecialchars_decode](https://secure.php.net/manual/ja/function.htmlspecialchars-decode.php) によって行われます。
+特殊文字のエンコードとデコードは、PHP では [htmlspecialchars](https://www.php.net/manual/ja/function.htmlspecialchars.php) と
+[htmlspecialchars_decode](https://www.php.net/manual/ja/function.htmlspecialchars-decode.php) によって行われます。
 これらのメソッドを直接使用する場合の問題は、文字エンコーディングと追加のフラグを毎回指定しなければならないことです。
 フラグは毎回同じものであり、文字エンコーディングはセキュリティ問題を防止するためにアプリケーションのそれと一致すべきものですから、
 Yii は二つのコンパクトかつ使いやすいメソッドを用意しました。
diff --git a/docs/guide-ja/helper-json.md b/docs/guide-ja/helper-json.md
index d3224447e8a..98226c13575 100644
--- a/docs/guide-ja/helper-json.md
+++ b/docs/guide-ja/helper-json.md
@@ -1,26 +1,25 @@
-Json wp
+Json ヘルパ
 ===========
 
-Json wp JSON GR[hуfR[hA̐ÓI\bh񋟂܂B
-`[[yii\helpers\Json::encode()]]` \bh̓GR[hEG[܂A
- `[[yii\web\JsExpression]]` IuWFNǧ`ŕ\ꂽ JavaScript ̎̓GR[h܂B
-ł̓GR[h `JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE` ̃IvVōs܂B
-ڍׂɂĂ [PHP:json_encode](https://secure.php.net/manual/ja/function.json-encode.php) QƂĉB
+Json ヘルパは JSON をエンコードおよびデコードする一連の静的メソッドを提供します。
+`[[yii\helpers\Json::encode()]]` メソッドはエンコード・エラーを処理しますが、
+ `[[yii\web\JsExpression]]` オブジェクトの形式で表現された JavaScript の式はエンコードしません。
+既定ではエンコードは `JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE` のオプションで行われます。
+詳細については [PHP:json_encode](https://www.php.net/manual/ja/function.json-encode.php) を参照して下さい。
 
-## `o <span id="pretty-print"></span>
+## 整形出力 <span id="pretty-print"></span>
 
-ł `[[yii\helpers\Json::encode()]]` \bh͐`ĂȂ JSON (Ȃ킿󔒖̂) o͂܂B
-lԂɂƂēǂ݂₷̂ɂ邽߂ɁAu`o pretty printingv ON ɂ邱Ƃo܂B
+既定では `[[yii\helpers\Json::encode()]]` メソッドは整形されていない JSON (すなわち空白無しのもの) を出力します。
+人間にとって読みやすいものにするために、「整形出力 pretty printing」を ON にすることが出来ます。
 
-> Note: `o͂͊J̃fobOɂ͖𗧂ł傤Aił͐܂B
-
-CX^XƂɐ`o͂Lɂ邽߂ɂ̓IvVw肷邱Ƃo܂BȂ킿 :
+> Note: 整形出力は開発中のデバッグには役立つでしょうが、製品環境では推奨されません。
+インスタンスごとに整形出力を有効にするためにはオプションを指定することが出来ます。すなわち :
 
 ```php
 $data = ['a' => 1, 'b' => 2];
 $json = yii\helpers\Json::encode($data, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT);
 ```
-JSON wp̐`o͂O[oɗLɂ邱Ƃo܂BႦ΁Aݒt@C index.php ̒ :
+JSON ヘルパの整形出力をグローバルに有効にすることも出来ます。例えば、設定ファイルや index.php の中で :
 ```php
-yii\helpers\Json::$prettyPrint = YII_DEBUG; // fobOE[hł͐`o͂gp
+yii\helpers\Json::$prettyPrint = YII_DEBUG; // デバッグ・モードでは整形出力を使用
 ```
diff --git a/docs/guide-ja/input-file-upload.md b/docs/guide-ja/input-file-upload.md
index ffa6b733c41..669fd397f66 100644
--- a/docs/guide-ja/input-file-upload.md
+++ b/docs/guide-ja/input-file-upload.md
@@ -123,7 +123,7 @@ class SiteController extends Controller
 最初に、モデル・クラスを修正して、`file` 検証規則に `maxFiles` オプションを追加して、アップロードを許可されるファイルの最大数を制限しなければなりません。
 `maxFiles` を `0` に設定することは、同時にアップロード出来るファイル数に制限がないことを意味します。
 同時にアップロードすることを許されるファイルの数は、また、PHP のディレクティブ
-[`max_file_uploads`](https://secure.php.net/manual/ja/ini.core.php#ini.max-file-uploads) (デフォルト値は 20) によっても制限されます。
+[`max_file_uploads`](https://www.php.net/manual/ja/ini.core.php#ini.max-file-uploads) (デフォルト値は 20) によっても制限されます。
 `upload()` メソッドも、アップロードされた複数のファイルを一つずつ保存するように修正しなければなりません。
 
 ```php
diff --git a/docs/guide-ja/input-forms.md b/docs/guide-ja/input-forms.md
index 2e3f8ab96cf..07f0cf423a6 100644
--- a/docs/guide-ja/input-forms.md
+++ b/docs/guide-ja/input-forms.md
@@ -107,7 +107,7 @@ echo $form->field($model, 'items[]')->checkboxList(['a' => 'Item A', 'b' => 'Ite
 
 > フォームおよびフォームの子要素は、フォームのプロパティと衝突するインプット名や id、たとえば `submit`、`length`、`method` などを使ってはなりません。
 > 名前の衝突は訳の分らない失敗を生じさせることがあります。
-> 命名規則の完全なリストを知り、この問題についてあなたのマークアップをチェックするためには、[DOMLint](http://kangax.github.io/domlint/) を参照してください。
+> 命名規則の完全なリストを知り、この問題についてあなたのマークアップをチェックするためには、[DOMLint](https://kangax.github.io/domlint/) を参照してください。
 
 フォームに HTML タグを追加するためには、素の HTML を使うか、または、上記の例の [[yii\helpers\Html::submitButton()|Html::submitButton()]] のように、
 [[yii\helpers\Html|Html]] ヘルパ・クラスのメソッドを使うことが出来ます。
diff --git a/docs/guide-ja/intro-upgrade-from-v1.md b/docs/guide-ja/intro-upgrade-from-v1.md
index 8d64b2d90b6..53010f0da0e 100644
--- a/docs/guide-ja/intro-upgrade-from-v1.md
+++ b/docs/guide-ja/intro-upgrade-from-v1.md
@@ -29,15 +29,15 @@ Yii 2.0 は PHP 5.4 以上を必要とします。PHP 5.4 は、Yii 1.1 によ
 この結果として、注意を払うべき言語レベルでの違いが数多くあります。
 以下は PHP に関する主要な変更点の要約です。
 
-- [名前空間](https://secure.php.net/manual/ja/language.namespaces.php)。
-- [無名関数](https://secure.php.net/manual/ja/functions.anonymous.php)。
+- [名前空間](https://www.php.net/manual/ja/language.namespaces.php)。
+- [無名関数](https://www.php.net/manual/ja/functions.anonymous.php)。
 - 配列の短縮構文 `[...要素...]` が `array(...要素...)` の代りに使われています。
 - 短縮形の echo タグ `<?=` がビュー・ファイルに使われています。PHP 5.4 以降は、この形を使っても安全です。
-- [SPL のクラスとインタフェイス](https://secure.php.net/manual/ja/book.spl.php)。
-- [遅延静的束縛(Late Static Bindings)](https://secure.php.net/manual/ja/language.oop5.late-static-bindings.php)。
-- [日付と時刻](https://secure.php.net/manual/ja/book.datetime.php)。
-- [トレイト](https://secure.php.net/manual/ja/language.oop5.traits.php)。
-- [国際化(intl)](https://secure.php.net/manual/ja/book.intl.php)。
+- [SPL のクラスとインタフェイス](https://www.php.net/manual/ja/book.spl.php)。
+- [遅延静的束縛(Late Static Bindings)](https://www.php.net/manual/ja/language.oop5.late-static-bindings.php)。
+- [日付と時刻](https://www.php.net/manual/ja/book.datetime.php)。
+- [トレイト](https://www.php.net/manual/ja/language.oop5.traits.php)。
+- [国際化(intl)](https://www.php.net/manual/ja/book.intl.php)。
   Yii 2.0 は国際化の機能をサポートするために `intl` PHP 拡張を利用しています。
 
 
diff --git a/docs/guide-ja/intro-yii.md b/docs/guide-ja/intro-yii.md
index 606f1978658..494dddc6a2d 100644
--- a/docs/guide-ja/intro-yii.md
+++ b/docs/guide-ja/intro-yii.md
@@ -55,6 +55,6 @@ Yii 2.0 は PHP 5.4.0 以上を必要とし、PHP 7 の最新バージョンで
 
 Yii を使うためには、オブジェクト指向プログラミング (OOP) の基本的な知識が必要です。
 なぜなら、Yii は純粋な OOP ベースのフレームワークだからです。
-また、Yii 2.0 は [名前空間](https://secure.php.net/manual/ja/language.namespaces.php) や [トレイト](https://secure.php.net/manual/ja/language.oop5.traits.php) のような PHP の最新の機能を利用しています。
+また、Yii 2.0 は [名前空間](https://www.php.net/manual/ja/language.namespaces.php) や [トレイト](https://www.php.net/manual/ja/language.oop5.traits.php) のような PHP の最新の機能を利用しています。
 これらの概念を理解することは、Yii 2.0 を採用することを一層容易にするでしょう。
 
diff --git a/docs/guide-ja/output-client-scripts.md b/docs/guide-ja/output-client-scripts.md
index f122af43bd7..4da4ac26d26 100644
--- a/docs/guide-ja/output-client-scripts.md
+++ b/docs/guide-ja/output-client-scripts.md
@@ -188,7 +188,7 @@ JS
 );
 ```
 
-上記のサンプル・コードは、可読性を高めるために、PHP の [ヒアドキュメント構文](https://secure.php.net/manual/ja/language.types.string.php#language.types.string.syntax.heredoc) を使っています。
+上記のサンプル・コードは、可読性を高めるために、PHP の [ヒアドキュメント構文](https://www.php.net/manual/ja/language.types.string.php#language.types.string.syntax.heredoc) を使っています。
 また、ヒアドキュメントは、たいていの IDE で、より良い構文ハイライトが可能になるので、
 インライン JavaScript、特に一行に収まらないものを書くときに推奨される方法です。
 変数 `$message` は PHP で生成され、[[yii\helpers\Json::htmlEncode|Json::htmlEncode]] のおかげで、適切な JS 構文の文字列を含むものになります。
diff --git a/docs/guide-ja/output-formatting.md b/docs/guide-ja/output-formatting.md
index 0014c1f6b09..951a1260bef 100644
--- a/docs/guide-ja/output-formatting.md
+++ b/docs/guide-ja/output-formatting.md
@@ -45,7 +45,7 @@ echo Yii::$app->formatter->format(0.125, ['percent', 2]);
 > フォーマッタは適切なツールではありません。
 > 日付と数値についてユーザ入力を変換するためには、それぞれ、[[yii\validators\DateValidator]] と [[yii\validators\NumberValidator]]
 > を使うことが出来ます。機械が読み取れる日付と時刻のフォーマットの単純な相互変換には、PHP の 
-> [date()](https://secure.php.net/manual/ja/function.date.php) 関数で十分です。
+> [date()](https://www.php.net/manual/ja/function.date.php) 関数で十分です。
 
 ## フォーマッタを構成する <span id="configuring-formater"></span>
 
@@ -86,7 +86,7 @@ return [
 グローバルにカスタマイズすることが出来ます。
 
 日付と時刻のフォーマットは、[ICU 構文](http://userguide.icu-project.org/formatparse/datetime) によって指定することが出来ます。
-また、ICU 構文と区別するために `php:` という接頭辞を付けて、[PHP の date() 構文](https://secure.php.net/manual/ja/function.date.php)
+また、ICU 構文と区別するために `php:` という接頭辞を付けて、[PHP の date() 構文](https://www.php.net/manual/ja/function.date.php)
 を使うことも出来ます。例えば、
 
 ```php
@@ -191,7 +191,7 @@ echo Yii::$app->formatter->asTime('2014-10-06 14:41:00 CEST'); // 14:41:00
 を使って調整することが出来ます。
 
 更に高度な設定のためには、[[yii\i18n\Formatter::numberFormatterOptions]] と [[yii\i18n\Formatter::numberFormatterTextOptions]]
-を使って、内部的に使用される [NumberFormatter クラス](https://secure.php.net/manual/ja/class.numberformatter.php) を構成することが出来ます。
+を使って、内部的に使用される [NumberFormatter クラス](https://www.php.net/manual/ja/class.numberformatter.php) を構成することが出来ます。
 例えば、小数部の最大桁数と最小桁数を調整するためには、次のように [[yii\i18n\Formatter::numberFormatterOptions]]
 プロパティを構成します。
 
@@ -255,7 +255,7 @@ echo Yii::$app->formatter->asDate('2014-01-01'); // 出力: 2014/01/01
 デフォルトでは、現在のアクティブな [[yii\i18n\Formatter::locale|locale]] は [[yii\base\Application::language]] の値によって決定されます。
 これは [[yii\i18n\Formatter::locale]] プロパティを明示的に指定することによってオーバーライドすることが出来ます。
 
-> Note: Yii のフォーマッタは、[PHP intl 拡張](https://secure.php.net/manual/ja/book.intl.php) に依存してデータのフォーマットの
+> Note: Yii のフォーマッタは、[PHP intl 拡張](https://www.php.net/manual/ja/book.intl.php) に依存してデータのフォーマットの
 > ローカライズをサポートしています。PHP にコンパイルされた ICU ライブラリのバージョンによってフォーマットの結果が異なる場合がありますので、
 > あなたの全ての環境で、同じ ICU バージョンを使うことが推奨されます。
 > 詳細については、[PHP 環境を国際化のために設定する](tutorial-i18n.md#setup-environment) を参照してください。
diff --git a/docs/guide-ja/runtime-bootstrapping.md b/docs/guide-ja/runtime-bootstrapping.md
index 9b6de2b994d..976a4476339 100644
--- a/docs/guide-ja/runtime-bootstrapping.md
+++ b/docs/guide-ja/runtime-bootstrapping.md
@@ -37,8 +37,8 @@
 本番運用モードにおいては、[PHP OPCache] や [APC]  など、バイトコード・キャッシュを有効にして、
 PHP ファイルをインクルードして解析するのに要する時間を最小化してください。
 
-[PHP OPcache]: https://secure.php.net/manual/ja/book.opcache.php
-[APC]: https://secure.php.net/manual/ja/book.apc.php
+[PHP OPcache]: https://www.php.net/manual/ja/book.opcache.php
+[APC]: https://www.php.net/manual/ja/book.apcu.php
 
 大規模なアプリケーションには、多数の小さな構成情報ファイルに分割された、非常に複雑なアプリケーション [構成情報](concept-configurations.md) を持つものがあります。
 そのような場合には、構成情報配列全体をキャッシュするという方法を考慮して下さい。
diff --git a/docs/guide-ja/runtime-requests.md b/docs/guide-ja/runtime-requests.md
index 4725d41ce08..e8f5fb829ff 100644
--- a/docs/guide-ja/runtime-requests.md
+++ b/docs/guide-ja/runtime-requests.md
@@ -201,7 +201,7 @@ Yii アプリケーションに渡されるからです。
 その場合、前者は `ipHeaders` で構成されているようにユーザの IP を読み出すために使用され、
 後者は [[yii\web\Request::getIsSecureConnection()]] の結果を決定するために使用されます。
 
-2.0.31 以降、[RFC 7239](https://tools.ietf.org/html/rfc7239) の `Forwarded` ヘッダがサポートされています。
+2.0.31 以降、[RFC 7239](https://datatracker.ietf.org/doc/html/rfc7239) の `Forwarded` ヘッダがサポートされています。
 有効にするためには、ヘッダ名を `secureHeaders` に追加する必要があります。
 あなたのプロキシにそれを設定させることを忘れないで下さい。さもないと、エンド・ユーザが IP とプロトコルを盗み見ることが可能になります。
 
diff --git a/docs/guide-ja/runtime-responses.md b/docs/guide-ja/runtime-responses.md
index cbbc10edadf..1993142a277 100644
--- a/docs/guide-ja/runtime-responses.md
+++ b/docs/guide-ja/runtime-responses.md
@@ -233,7 +233,7 @@ public function actionDownload()
 - Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
 - Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Nginx: [X-Accel-Redirect](http://wiki.nginx.org/XSendfile)
+- Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
 - Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
diff --git a/docs/guide-ja/runtime-sessions-cookies.md b/docs/guide-ja/runtime-sessions-cookies.md
index d9a836d23f2..571e0013da9 100644
--- a/docs/guide-ja/runtime-sessions-cookies.md
+++ b/docs/guide-ja/runtime-sessions-cookies.md
@@ -132,7 +132,7 @@ Yii は、また、さまざまなセッション・ストレージを実装す
 * [[yii\web\DbSession]]: セッション・データをデータベース・テーブルを使って保存する。
 * [[yii\web\CacheSession]]: セッション・データを、構成された [キャッシュ・コンポーネント](caching-data.md#cache-components) の力を借りて、キャッシュを使って保存する。
 * [[yii\redis\Session]]: セッション・データを [redis](http://redis.io/) をストレージ媒体として使って保存する。
-* [[yii\mongodb\Session]]: セッション・データを [MongoDB](http://www.mongodb.org/) に保存する。
+* [[yii\mongodb\Session]]: セッション・データを [MongoDB](https://www.mongodb.com/) に保存する。
 
 これらのセッション・クラスは全て一連の同じ API メソッドをサポートします。
 その結果として、セッションを使用するアプリケーション・コードを修正することなしに、セッション・ストレージ・クラスを切り替えることが出来ます。
@@ -374,20 +374,20 @@ return [
 セキュリティを向上させるために、[[yii\web\Cookie::httpOnly]] および [[yii\web\Session::cookieParams]] の 'httponly' パラメータの
 デフォルト値は `true` に設定されています。
 これによって、クライアント・サイド・スクリプトが保護されたクッキーにアクセスする危険が軽減されます (ブラウザがサポートしていれば)。
-詳細については、[httpOnly の wiki 記事](https://www.owasp.org/index.php/HttpOnly) を読んでください。
+詳細については、[httpOnly の wiki 記事](https://owasp.org/www-community/HttpOnly) を読んでください。
 
 ### secure
 
 secure フラグの目的は、クッキーが平文で送信されることを防止することです。ブラウザが secure フラグをサポートしている場合、
 リクエストが secure な接続 (TLS) によって送信される場合にのみクッキーがリクエストに含まれます。
-詳細については [Secure フラグの wiki 記事](https://www.owasp.org/index.php/SecureFlag) を参照して下さい。
+詳細については [Secure フラグの wiki 記事](https://owasp.org/www-community/controls/SecureCookieAttribute) を参照して下さい。
 
 ### sameSite
 
 Yii 2.0.21 以降、[[yii\web\Cookie::sameSite]] 設定がサポートされています。これは PHP バージョン 7.3.0 以降を必要とします。
 `sameSite` 設定の目的は CSRF (Cross-Site Request Forgery) 攻撃を防止することです。
 ブラウザが `sameSite` 設定をサポートしている場合、指定されたポリシー ('Lax' または 'Strict') に従うクッキーだけが送信されます。
-詳細については [SameSite の wiki 記事](https://www.owasp.org/index.php/SameSite) を参照して下さい。
+詳細については [SameSite の wiki 記事](https://owasp.org/www-community/SameSite) を参照して下さい。
 更なるセキュリティ強化のために、`sameSite` がサポートされていない PHP のバージョンで使われた場合には例外が投げられます。
 この機能を PHP のバージョンに関わりなく使用する場合は、最初にバージョンをチェックして下さい。例えば、
 ```php
diff --git a/docs/guide-ja/security-authorization.md b/docs/guide-ja/security-authorization.md
index dc60b394f95..5e428433216 100644
--- a/docs/guide-ja/security-authorization.md
+++ b/docs/guide-ja/security-authorization.md
@@ -159,7 +159,7 @@ class SiteController extends Controller
 RBAC と他のもっと伝統的なアクセス制御スキーマとの比較に関する詳細については、
 [Wiki 記事](http://ja.wikipedia.org/wiki/%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%99%E3%83%BC%E3%82%B9%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E5%88%B6%E5%BE%A1) を参照してください。
 
-Yii は、[NIST RBAC モデル](http://csrc.nist.gov/rbac/sandhu-ferraiolo-kuhn-00.pdf) に従って、一般的階層型 RBAC を実装しています。
+Yii は、[NIST RBAC モデル](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf) に従って、一般的階層型 RBAC を実装しています。
 RBAC の機能は、[[yii\rbac\ManagerInterface|authManager]] [アプリケーション・コンポーネント](structure-application-components.md) を通じて提供されます。
 
 RBAC を使用することには、二つの作業が含まれます。
diff --git a/docs/guide-ja/security-best-practices.md b/docs/guide-ja/security-best-practices.md
index 24076635fea..e5f121dc558 100644
--- a/docs/guide-ja/security-best-practices.md
+++ b/docs/guide-ja/security-best-practices.md
@@ -33,7 +33,7 @@ Yii においては、たいていの場合、同様のチェックを行うた
 
 このトピックについて更に読むべき文書:
 
-- <https://www.owasp.org/index.php/Data_Validation>
+- <https://owasp.org/www-community/vulnerabilities/Improper_Data_Validation>
 - <https://www.owasp.org/index.php/Input_Validation_Cheat_Sheet>
 
 
@@ -46,9 +46,9 @@ JavaScript や SQL のコンテキストでは、対象となる文字は別の
 
 このトピックについて更に読むべき文書:
 
-- <https://www.owasp.org/index.php/Command_Injection>
-- <https://www.owasp.org/index.php/Code_Injection>
-- <https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29>
+- <https://owasp.org/www-community/attacks/Command_Injection>
+- <https://owasp.org/www-community/attacks/Code_Injection>
+- <https://owasp.org/www-community/attacks/xss/>
 
 
 SQL インジェクションを回避する
@@ -117,7 +117,7 @@ $rowCount = $connection->createCommand($sql)->queryScalar();
 
 このトピックについて更に読むべき文書:
 
-- <https://www.owasp.org/index.php/SQL_Injection>
+- <https://owasp.org/www-community/attacks/SQL_Injection>
 
 
 XSS を回避する
@@ -151,7 +151,7 @@ HtmlPurifier の処理は非常に重いので、キャッシュを追加する
 
 このトピックについて更に読むべき文書:
 
-- <https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29>
+- <https://owasp.org/www-community/attacks/xss/>
 
 
 CSRF を回避する
@@ -259,8 +259,8 @@ class ContactAction extends Action
 
 このトピックについて更に読むべき文書:
 
-- <https://www.owasp.org/index.php/CSRF>
-- <https://www.owasp.org/index.php/SameSite>
+- <https://owasp.org/www-community/attacks/csrf>
+- <https://owasp.org/www-community/SameSite>
 
 
 ファイルの曝露を回避する
@@ -288,8 +288,8 @@ class ContactAction extends Action
 
 このトピックについて更に読むべき文書:
 
-- <https://www.owasp.org/index.php/Exception_Handling>
-- <https://www.owasp.org/index.php/Top_10_2007-Information_Leakage>
+- <https://owasp.org/www-project-.net/articles/Exception_Handling.md>
+- <https://owasp.org/www-pdf-archive/OWASP_Top_10_2007.pdf> (A6 - Information Leakage and Improper Error Handling)
 
 
 TLS によるセキュアな接続を使う
diff --git a/docs/guide-ja/security-passwords.md b/docs/guide-ja/security-passwords.md
index 6049bd57cc2..f5be0859092 100644
--- a/docs/guide-ja/security-passwords.md
+++ b/docs/guide-ja/security-passwords.md
@@ -7,7 +7,7 @@
 
 最悪のシナリオ (アプリケーションに侵入された場合) であっても、ユーザのパスワードについて強化されたセキュリティを提供することが出来るように、
 ブルート・フォース・アタックに対する耐性が強いハッシュ・アルゴリズムを使う必要があります。現在、最善の選択は `bcrypt` です。
-PHP では、[crypt 関数](https://secure.php.net/manual/ja/function.crypt.php) を使って `bcrypt` ハッシュを生成することが出来ます。
+PHP では、[crypt 関数](https://www.php.net/manual/ja/function.crypt.php) を使って `bcrypt` ハッシュを生成することが出来ます。
 Yii は `crypt` を使ってハッシュを安全に生成し検証することを容易にするために、二つのヘルパ関数を提供しています。
 
 ユーザが初めてパスワードを提供するとき (例えば、ユーザ登録の時) には、パスワードをハッシュする必要があります。
diff --git a/docs/guide-ja/start-databases.md b/docs/guide-ja/start-databases.md
index 85ff7352906..a22fbaaaafc 100644
--- a/docs/guide-ja/start-databases.md
+++ b/docs/guide-ja/start-databases.md
@@ -51,7 +51,7 @@ INSERT INTO `country` VALUES ('US','United States',322976000);
 DB 接続を構成する <span id="configuring-db-connection"></span>
 -----------------
 
-先に進む前に、[PDO](https://secure.php.net/manual/en/book.pdo.php) PHP 拡張および使用しているデータベースの PDO ドライバ
+先に進む前に、[PDO](https://www.php.net/manual/en/book.pdo.php) PHP 拡張および使用しているデータベースの PDO ドライバ
 (例えば、MySQL のための `pdo_mysql`) の両方をインストール済みであることを確認してください。
 アプリケーションがリレーショナル・データベースを使う場合、これは基本的な必要条件です。
 
diff --git a/docs/guide-ja/start-installation.md b/docs/guide-ja/start-installation.md
index 1444827d24d..e7b674cbd9b 100644
--- a/docs/guide-ja/start-installation.md
+++ b/docs/guide-ja/start-installation.md
@@ -140,7 +140,7 @@ Composer によるアセットのインストールを抑止するためには
 
 インストール完了後、あなたのウェブ・サーバを構成してください (次のセクションを参照してください)。
 あるいは、プロジェクトの `web` ディレクトリで次のコマンドを実行して、
-[PHP の内蔵ウェブ・サーバ](https://secure.php.net/manual/ja/features.commandline.webserver.php) を使ってください。
+[PHP の内蔵ウェブ・サーバ](https://www.php.net/manual/ja/features.commandline.webserver.php) を使ってください。
 
 ```bash
 php yii serve
@@ -174,7 +174,7 @@ http://localhost:8080/
 
 Yii の最低必要条件を満たすように PHP のインストールを構成しなければなりません。
 最も重要なことは、PHP 5.4 以上でなければならないということです。最新の PHP 7 なら理想的です。
-また、アプリケーションがデータベースを必要とする場合は、[PDO PHP 拡張](https://secure.php.net/manual/ja/pdo.installation.php) および対応するデータベース・ドライバ (MySQL データベースのための `pdo_mysql` など) をインストールしなければなりません。
+また、アプリケーションがデータベースを必要とする場合は、[PDO PHP 拡張](https://www.php.net/manual/ja/pdo.installation.php) および対応するデータベース・ドライバ (MySQL データベースのための `pdo_mysql` など) をインストールしなければなりません。
 
 
 ウェブ・サーバを構成する <span id="configuring-web-servers"></span>
@@ -236,7 +236,7 @@ DocumentRoot "path/to/basic/web"
 
 ### 推奨される Nginx の構成 <span id="recommended-nginx-configuration"></span>
 
-[Nginx](http://wiki.nginx.org/) を使うためには、PHP を [FPM SAPI](https://secure.php.net/manual/ja/install.fpm.php) としてインストールしなければなりません。
+[Nginx](http://wiki.nginx.org/) を使うためには、PHP を [FPM SAPI](https://www.php.net/manual/ja/install.fpm.php) としてインストールしなければなりません。
 下記の Nginx の設定を使うことができます。
 `path/to/basic/web` の部分を `basic/web` の実際のパスに置き換え、`mysite.test` を実際のサーバのホスト名に置き換えてください。
 
diff --git a/docs/guide-ja/start-prerequisites.md b/docs/guide-ja/start-prerequisites.md
index ad6b5845a04..8aeac1fb64a 100644
--- a/docs/guide-ja/start-prerequisites.md
+++ b/docs/guide-ja/start-prerequisites.md
@@ -4,8 +4,8 @@ Yii の学習曲線は他の PHP フレームワークほど急峻ではあり
 
 ## PHP
 
-Yii は PHP フレームワークですから、必ず [言語リファレンスを読んで理解する](https://secure.php.net/manual/ja/langref.php) ようにして下さい。
-Yii を使って開発するときはオブジェクト指向の流儀でコードを書くことになりますから、必ず、[クラスとオブジェクト](https://secure.php.net/manual/ja/language.oop5.basic.php) および [名前空間](https://secure.php.net/manual/ja/language.namespaces.php) には慣れ親しんでおいて下さい。
+Yii は PHP フレームワークですから、必ず [言語リファレンスを読んで理解する](https://www.php.net/manual/ja/langref.php) ようにして下さい。
+Yii を使って開発するときはオブジェクト指向の流儀でコードを書くことになりますから、必ず、[クラスとオブジェクト](https://www.php.net/manual/ja/language.oop5.basic.php) および [名前空間](https://www.php.net/manual/ja/language.namespaces.php) には慣れ親しんでおいて下さい。
 
 ## オブジェクト指向プログラミング
 
diff --git a/docs/guide-ja/structure-applications.md b/docs/guide-ja/structure-applications.md
index e8f369db35c..f509c21470c 100644
--- a/docs/guide-ja/structure-applications.md
+++ b/docs/guide-ja/structure-applications.md
@@ -356,7 +356,7 @@ $width = \Yii::$app->params['thumbnail.size'][0];
 #### [[yii\base\Application::timeZone|timeZone]] <span id="timeZone"></span>
 
 このプロパティは、PHP ランタイムのデフォルト・タイム・ゾーンを設定する代替手段として提供されています。
-このプロパティを構成することによって、本質的には PHP 関数 [date_default_timezone_set()](https://secure.php.net/manual/ja/function.date-default-timezone-set.php) を呼び出すことになります。
+このプロパティを構成することによって、本質的には PHP 関数 [date_default_timezone_set()](https://www.php.net/manual/ja/function.date-default-timezone-set.php) を呼び出すことになります。
 例えば、
 
 ```php
diff --git a/docs/guide-ja/structure-extensions.md b/docs/guide-ja/structure-extensions.md
index b613ff82155..0ff08727ed8 100644
--- a/docs/guide-ja/structure-extensions.md
+++ b/docs/guide-ja/structure-extensions.md
@@ -399,8 +399,6 @@ Yii は下記のコア・エクステンション (または ["公式エクス
   Facebook OAuth2 クライアント、GitHub OAuth2 クライアントなど、よく使われる一連の auth クライアントを提供します。
 - [yiisoft/yii2-bootstrap](https://github.com/yiisoft/yii2-bootstrap):
   [Bootstrap](http://getbootstrap.com/) のコンポーネントとプラグインをカプセル化した一連のウィジェットを提供します。
-- [yiisoft/yii2-codeception](https://github.com/yiisoft/yii2-codeception) (非推奨):
-  [Codeception](http://codeception.com/) に基づくテストのサポートを提供します。
 - [yiisoft/yii2-debug](https://github.com/yiisoft/yii2-debug):
   Yii アプリケーションのデバッグのサポートを提供します。
   このエクステンションが使われると、全てのページの末尾にデバッガ・ツールバーが表示されます。
@@ -421,7 +419,7 @@ Yii は下記のコア・エクステンション (または ["公式エクス
 - [yiisoft/yii2-jui](https://github.com/yiisoft/yii2-jui):
   [JQuery UI](http://jqueryui.com/) のインタラクションとウィジェットをカプセル化した一連のウィジェットを提供します。
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb):
-  [MongoDB](http://www.mongodb.org/) の使用に対するサポートを提供します。
+  [MongoDB](https://www.mongodb.com/) の使用に対するサポートを提供します。
   基本的なクエリ、アクティブ・レコード、マイグレーション、キャッシュ、コード生成などの機能を含みます。
 - [yiisoft/yii2-queue](https://www.yiiframework.com/extension/yiisoft/yii2-queue):
   キューによるタスクの非同期実行のサポートを提供します。
diff --git a/docs/guide-ja/structure-models.md b/docs/guide-ja/structure-models.md
index e469858faf0..827883c329a 100644
--- a/docs/guide-ja/structure-models.md
+++ b/docs/guide-ja/structure-models.md
@@ -37,8 +37,8 @@ echo $model->name;
 ```
 
 また、配列の要素にアクセスするようして、属性にアクセスすることも出来ます。
-これは、[[yii\base\Model]] が [ArrayAccess インタフェイス](https://secure.php.net/manual/ja/class.arrayaccess.php) と
-[Traversable インタフェイス](https://secure.php.net/manual/ja/class.traversable.php) をサポートしている恩恵です。
+これは、[[yii\base\Model]] が [ArrayAccess インタフェイス](https://www.php.net/manual/ja/class.arrayaccess.php) と
+[Traversable インタフェイス](https://www.php.net/manual/ja/class.traversable.php) をサポートしている恩恵です。
 
 ```php
 $model = new \app\models\ContactForm;
diff --git a/docs/guide-ja/structure-widgets.md b/docs/guide-ja/structure-widgets.md
index 0d30b5a075f..2230ebbad91 100644
--- a/docs/guide-ja/structure-widgets.md
+++ b/docs/guide-ja/structure-widgets.md
@@ -67,7 +67,7 @@ use yii\helpers\Html;
 返されたウィジェットのインスタンスを使って、ウィジェットのコンテントを構築することが出来ます。
 
 > Note: いくつかのウィジェットは、[[yii\base\Widget::end()]] が呼ばれるときに囲んだコンテンツを調整するため、
-> [出力バッファリング](https://secure.php.net/manual/ja/book.outcontrol.php) を使用します。
+> [出力バッファリング](https://www.php.net/manual/ja/book.outcontrol.php) を使用します。
 > この理由から、[[yii\base\Widget::begin()]] と [[yii\base\Widget::end()]] の呼び出しは、同じビュー・ファイルの中で発生するものと想定されています。
 > この規則に従わない場合は、予期しない出力結果が生じ得ます。
 
diff --git a/docs/guide-ja/tutorial-core-validators.md b/docs/guide-ja/tutorial-core-validators.md
index 317dd432451..45b9b5db371 100644
--- a/docs/guide-ja/tutorial-core-validators.md
+++ b/docs/guide-ja/tutorial-core-validators.md
@@ -142,7 +142,7 @@ compare バリデータは、文字列や数値を比較するためにしか使
   これには [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax)
   で記述されている日付/時刻のパターンを使うことが出来ます。
   あるいは、PHP の `Datetime` クラスによって認識される書式に接頭辞 `php:` を付けた文字列でも構いません。
-  サポートされている書式については、<https://secure.php.net/manual/ja/datetime.createfromformat.php> を参照してください。
+  サポートされている書式については、<https://www.php.net/manual/ja/datetime.createfromformat.php> を参照してください。
   このプロパティが設定されていないときは、`Yii::$app->formatter->dateFormat` の値を取ります。
 
 - `timestampAttribute`: このバリデータが、入力された日付/時刻から変換した UNIX タイムスタンプを代入することが出来る属性の名前。
@@ -424,7 +424,7 @@ function foo($model, $attribute) {
 > Tip: 入力値をトリムしたい場合は、[trim](#trim) バリデータを直接使うことが出来ます。
 
 > Tip: `filter` のコールバックに期待されるシグニチャを持つ PHP 関数が多数存在します。
-> 例えば、([intval](https://secure.php.net/manual/ja/function.intval.php) や [boolval](https://secure.php.net/manual/ja/function.boolval.php) 
+> 例えば、([intval](https://www.php.net/manual/ja/function.intval.php) や [boolval](https://www.php.net/manual/ja/function.boolval.php) 
 > などを使って) 型キャストを適用し、属性が特定の型になるように保証したい場合は、
 > それらの関数をクロージャで包む必要はなく、単にフィルタの関数名を指定するだけで十分です。
 >
diff --git a/docs/guide-ja/tutorial-i18n.md b/docs/guide-ja/tutorial-i18n.md
index 5636fec1b9a..243dc3ce463 100644
--- a/docs/guide-ja/tutorial-i18n.md
+++ b/docs/guide-ja/tutorial-i18n.md
@@ -241,7 +241,7 @@ $price = 100;
 echo \Yii::t('app', 'Price: {0,number,currency}', $price);
 ```
 
-> Note: パラメータのフォーマットには、[intl PHP 拡張](https://secure.php.net/manual/ja/intro.intl.php) のインストールが必要です。
+> Note: パラメータのフォーマットには、[intl PHP 拡張](https://www.php.net/manual/ja/intro.intl.php) のインストールが必要です。
 
 プレースホルダにフォーマット規則を指定するためには、短い構文または完全な構文のどちらかを使うことが出来ます。
 
@@ -804,12 +804,12 @@ class TranslationEventHandler
 
 ## PHP 環境をセットアップする <span id="setup-environment"></span>
 
-Yii は、[[yii\i18n\Formatter]] クラスの数値や日付の書式設定や、[[yii\i18n\MessageFormatter]] を使うメッセージのフォーマッティングなど、ほとんどの国際化機能を提供するために [PHP intl 拡張](https://secure.php.net/manual/ja/book.intl.php) を使います。
+Yii は、[[yii\i18n\Formatter]] クラスの数値や日付の書式設定や、[[yii\i18n\MessageFormatter]] を使うメッセージのフォーマッティングなど、ほとんどの国際化機能を提供するために [PHP intl 拡張](https://www.php.net/manual/ja/book.intl.php) を使います。
 この二つのクラスは、`intl` がインストールされていない場合に備えて基本的な機能を提供するフォールバックを実装しています。
 だだし、このフォールバックの実装は、英語がターゲット言語である場合にのみ十分に機能するものす。
 従って、国際化機能が必要とされる場合は、`intl` をインストールすることが強く推奨されます。
 
-[PHP intl 拡張](https://secure.php.net/manual/ja/book.intl.php) は、さまざまに異なる全てのロケールについて知識と書式の規則を提供する
+[PHP intl 拡張](https://www.php.net/manual/ja/book.intl.php) は、さまざまに異なる全てのロケールについて知識と書式の規則を提供する
 [ICU ライブラリ](http://site.icu-project.org/) に基礎を置いています。
 ICU のバージョンが異なると、日付や数値のフォーマットの結果も異なる場合があります。
 あなたのウェブ・サイトが全ての環境で同じ出力をすることを保証するためには、
diff --git a/docs/guide-ja/tutorial-performance-tuning.md b/docs/guide-ja/tutorial-performance-tuning.md
index 8efb7cee269..97be31c3da0 100644
--- a/docs/guide-ja/tutorial-performance-tuning.md
+++ b/docs/guide-ja/tutorial-performance-tuning.md
@@ -11,7 +11,7 @@
 PHP 環境を正しく構成することは非常に重要です。最大のパフォーマンスを得るためには、
 
 - 最新の安定した PHP バージョンを使うこと。使用する PHP のメジャー・リリースを上げると、顕著なパフォーマンスの改善がもたらされることがあります。
-- [Opcache](https://secure.php.net/opcache) (PHP 5.5 以降) または [APC](https://secure.php.net/apc) (PHP 5.4) を使って、
+- [Opcache](https://www.php.net/opcache) (PHP 5.5 以降) または [APC](https://www.php.net/apc) (PHP 5.4) を使って、
   バイト・コード・キャッシュを有効にすること。
   バイト・コード・キャッシュによって、リクエストが入ってくるたびに PHP スクリプトを解析してインクルードする時間の浪費を避けることが出来ます。
 - [`realpath()` キャッシュをチューニングする](https://github.com/samdark/realpath_cache_tuner).
@@ -217,7 +217,7 @@ composer dumpautoload -o
 
 - [Yii のデバッグ・ツールバーとデバッガ](https://github.com/yiisoft/yii2-debug/blob/master/docs/guide-ja/README.md)
 - [Blackfire](https://blackfire.io/)
-- [XHProf](https://secure.php.net/manual/ja/book.xhprof.php)
+- [XHProf](https://www.php.net/manual/ja/book.xhprof.php)
 - [XDebug プロファイラ](http://xdebug.org/docs/profiler)
 
 ## アプリケーションをスケーラブルなものにする覚悟を決める
diff --git a/docs/guide-pl/caching-http.md b/docs/guide-pl/caching-http.md
index 293b35e874b..07da10c587f 100644
--- a/docs/guide-pl/caching-http.md
+++ b/docs/guide-pl/caching-http.md
@@ -126,7 +126,7 @@ w `session.cache_limiter` w ustawieniach PHP INI. Mogą one kolidować z funkcjo
 aby temu zapobiec, `HttpCache` blokuje to automatyczne wysyłanie. Jeśli jednak chcesz zmienić to zachowanie, powinieneś skonfigurować
 właściwość [[yii\filters\HttpCache::sessionCacheLimiter]]. Powinna ona przyjmować wartość zawierającą łańcuch znaków `public`,
 `private`, `private_no_expire` i `nocache`. Szczegóły dotyczące tego zapisu znajdziesz w dokumentacji PHP dla
-[session_cache_limiter()](https://secure.php.net/manual/pl/function.session-cache-limiter.php).
+[session_cache_limiter()](https://www.php.net/manual/pl/function.session-cache-limiter.php).
 
 
 ## Korzyści dla SEO <span id="seo-implications"></span>
diff --git a/docs/guide-pl/concept-autoloading.md b/docs/guide-pl/concept-autoloading.md
index 857af6af0d4..9210895b4fd 100644
--- a/docs/guide-pl/concept-autoloading.md
+++ b/docs/guide-pl/concept-autoloading.md
@@ -1,7 +1,7 @@
 Autoładowanie klas
 ==================
 
-Yii opiera się na [mechanizmie automatycznego ładowania klas](https://secure.php.net/manual/pl/language.oop5.autoload.php) służącym do 
+Yii opiera się na [mechanizmie automatycznego ładowania klas](https://www.php.net/manual/pl/language.oop5.autoload.php) służącym do 
 zlokalizowania i dołączenia wszystkich wymaganych plików klas. Wbudowany wysoce wydajny autoloader klas, zgodny ze 
 [standardem PSR-4](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md), jest instalowany po załączeniu 
 pliku `Yii.php`.
@@ -15,7 +15,7 @@ Korzystanie z autoloadera Yii <span id="using-yii-autoloader"></span>
 
 Aby skorzystać z autoloadera klas Yii, powinieneś przestrzegać dwóch prostych zasad tworzenia i nazywania własnych klas:
 
-* Każda klasa musi znajdować się w [przestrzeni nazw](https://secure.php.net/manual/pl/language.namespaces.php) (np. `foo\bar\MyClass`)
+* Każda klasa musi znajdować się w [przestrzeni nazw](https://www.php.net/manual/pl/language.namespaces.php) (np. `foo\bar\MyClass`)
 * Każda klasa musi być zapisana jako oddzielny plik, do którego ścieżka określona jest poniższym algorytmem:
 
 ```php
diff --git a/docs/guide-pl/concept-behaviors.md b/docs/guide-pl/concept-behaviors.md
index 2dbfb887acc..0441594e088 100644
--- a/docs/guide-pl/concept-behaviors.md
+++ b/docs/guide-pl/concept-behaviors.md
@@ -337,7 +337,7 @@ Poniżej znajdziesz kilka behaviorów wbudowanych lub też dostępnych w zewnęt
 Różnice pomiędzy behaviorami a traitami <span id="comparison-with-traits"></span>
 ---------------------------------------
 
-Pomimo że behaviory są podobne do [traitów](https://secure.php.net/traits) w taki sposób, że również "wstrzykują" swoje 
+Pomimo że behaviory są podobne do [traitów](https://www.php.net/traits) w taki sposób, że również "wstrzykują" swoje 
 właściwości i metody do klasy, struktury te różnią się w wielu aspektach. Obie mają swoje wady i zalety, jak opisano to 
 poniżej, i powinny być raczej traktowane jako swoje uzupełnienia, a nie alternatywy.
 
diff --git a/docs/guide-pl/db-active-record.md b/docs/guide-pl/db-active-record.md
index cf1d6a6fcd7..b996ae64a30 100644
--- a/docs/guide-pl/db-active-record.md
+++ b/docs/guide-pl/db-active-record.md
@@ -438,8 +438,8 @@ Jeśli chcesz sprawdzić wartość atrybutu sprzed ostatniej zmiany, możesz wyw
 > ma tą samą wartość, ale jest innego typu. Taka sytuacja zdarza się często, kiedy model jest aktualizowany danymi pochodzącymi z formularza 
 > HTML, gdzie każda wartość jest reprezentowana jako string.
 > Aby upewnić się, że wartości będą odpowiednich typów, np. integer, możesz zaaplikować [filtr walidacji](input-validation.md#data-filtering):
-> `['attributeName', 'filter', 'filter' => 'intval']`.  Działa on z wszystkimi funkcjami PHP rzutującymi typy jak [intval()](https://secure.php.net/manual/en/function.intval.php), 
-> [floatval()](https://secure.php.net/manual/en/function.floatval.php), [boolval](https://secure.php.net/manual/en/function.boolval.php), itp...
+> `['attributeName', 'filter', 'filter' => 'intval']`.  Działa on z wszystkimi funkcjami PHP rzutującymi typy jak [intval()](https://www.php.net/manual/en/function.intval.php), 
+> [floatval()](https://www.php.net/manual/en/function.floatval.php), [boolval](https://www.php.net/manual/en/function.boolval.php), itp...
 
 
 ### Domyślne wartości atrybutów <span id="default-attribute-values"></span>
@@ -613,7 +613,7 @@ try {
 ```
 
 > Note: w powyższym kodzie znajdują się dwa bloki catch dla kompatybilności 
-> z PHP 5.x i PHP 7.x. `\Exception` implementuje [interfejs `\Throwable`](https://secure.php.net/manual/en/class.throwable.php)
+> z PHP 5.x i PHP 7.x. `\Exception` implementuje [interfejs `\Throwable`](https://www.php.net/manual/en/class.throwable.php)
 > od PHP 7.0, zatem można pominąć część z `\Exception`, jeśli Twoja aplikacja używa tylko PHP 7.0 lub wyższego.
 
 Drugi sposób polega na utworzeniu listy operacji bazodanowych, które wymagają transakcji za pomocą metody [[yii\db\ActiveRecord::transactions()|transactions()]]. 
diff --git a/docs/guide-pl/glossary.md b/docs/guide-pl/glossary.md
index 68df708f906..406f7808437 100644
--- a/docs/guide-pl/glossary.md
+++ b/docs/guide-pl/glossary.md
@@ -92,7 +92,7 @@ Pakiet opisuje listę powiązanych zasobów wraz z plikiem konfiguracyjnym defin
 
 ## przestrzeń nazw
 
-Przestrzeń nazw jest [funkcjonalnością języka PHP](https://secure.php.net/manual/pl/language.namespaces.php), aktywnie wykorzystywaną w Yii 2.
+Przestrzeń nazw jest [funkcjonalnością języka PHP](https://www.php.net/manual/pl/language.namespaces.php), aktywnie wykorzystywaną w Yii 2.
 
 # R
 
diff --git a/docs/guide-pl/intro-upgrade-from-v1.md b/docs/guide-pl/intro-upgrade-from-v1.md
index 6c3550bc43e..c1fe16cbe90 100644
--- a/docs/guide-pl/intro-upgrade-from-v1.md
+++ b/docs/guide-pl/intro-upgrade-from-v1.md
@@ -28,15 +28,15 @@ Yii 2.0 wymaga PHP w wersji 5.4 lub nowszej, która została znacząco ulepszona
 Z tego też powodu już na poziomie samego języka pojawiło się sporo różnic, na które należy zwrócić uwagę.
 Poniżej znajdziesz krótkie podsumowanie głównych różnic dotyczących PHP:
 
-- [Przestrzenie nazw](https://secure.php.net/manual/pl/language.namespaces.php).
-- [Funkcje anonimowe](https://secure.php.net/manual/pl/functions.anonymous.php).
+- [Przestrzenie nazw](https://www.php.net/manual/pl/language.namespaces.php).
+- [Funkcje anonimowe](https://www.php.net/manual/pl/functions.anonymous.php).
 - Skrócona składnia zapisu tablic `[...elementy...]` używana zamiast `array(...elementy...)`.
 - Krótkie tagi echo `<?=` używane w plikach widoków. Można ich używać bezpiecznie, począwszy od PHP 5.4.
-- [Klasy i interfejsy SPL](https://secure.php.net/manual/pl/book.spl.php).
-- [Opóźnione statyczne wiązania](https://secure.php.net/manual/pl/language.oop5.late-static-bindings.php).
-- [Data i czas](https://secure.php.net/manual/pl/book.datetime.php).
-- [Traity](https://secure.php.net/manual/pl/language.oop5.traits.php).
-- [Rozszerzenie intl](https://secure.php.net/manual/pl/book.intl.php). Yii 2.0 korzysta z rozszerzenia PHP `intl` do wsparcia obsługi internacjonalizacji.
+- [Klasy i interfejsy SPL](https://www.php.net/manual/pl/book.spl.php).
+- [Opóźnione statyczne wiązania](https://www.php.net/manual/pl/language.oop5.late-static-bindings.php).
+- [Data i czas](https://www.php.net/manual/pl/book.datetime.php).
+- [Traity](https://www.php.net/manual/pl/language.oop5.traits.php).
+- [Rozszerzenie intl](https://www.php.net/manual/pl/book.intl.php). Yii 2.0 korzysta z rozszerzenia PHP `intl` do wsparcia obsługi internacjonalizacji.
 
 
 Przestrzeń nazw
diff --git a/docs/guide-pl/intro-yii.md b/docs/guide-pl/intro-yii.md
index 807f01f6169..facb8a57bc9 100644
--- a/docs/guide-pl/intro-yii.md
+++ b/docs/guide-pl/intro-yii.md
@@ -57,5 +57,5 @@ informacji na temat wymagań i indywidualnych funkcjonalności, uruchom specjaln
 
 Używanie Yii wymaga podstawowej wiedzy o programowaniu obiektowym w PHP (OOP), ponieważ Yii
 jest frameworkiem czysto obiektowym. Yii 2.0 wykorzystuje ostatnie udoskonalenia w PHP, jak 
-[przestrzenie nazw](https://secure.php.net/manual/pl/language.namespaces.php) i [traity](https://secure.php.net/manual/pl/language.oop5.traits.php). 
+[przestrzenie nazw](https://www.php.net/manual/pl/language.namespaces.php) i [traity](https://www.php.net/manual/pl/language.oop5.traits.php). 
 Zrozumienie tych konstrukcji pomoże Ci szybciej i łatwiej rozpocząć pracę z Yii 2.0.
diff --git a/docs/guide-pl/runtime-bootstrapping.md b/docs/guide-pl/runtime-bootstrapping.md
index 841ab6fdf87..e923316b78b 100644
--- a/docs/guide-pl/runtime-bootstrapping.md
+++ b/docs/guide-pl/runtime-bootstrapping.md
@@ -30,8 +30,8 @@ we [właściwości bootstrapowej](structure-applications.md#bootstrap), aby nowe
 W środowisku produkcyjnym zaleca się zastosowanie pamięci podręcznej kodu, takiej jak [PHP OPcache] lub [APC], aby zminimalizować czas konieczny do załadowania i przetworzenia 
 plików PHP.
 
-[PHP OPcache]: https://secure.php.net/manual/en/intro.opcache.php
-[APC]: https://secure.php.net/manual/en/book.apc.php
+[PHP OPcache]: https://www.php.net/manual/en/intro.opcache.php
+[APC]: https://www.php.net/manual/en/book.apcu.php
 
 Niektóre duże aplikacje posiadają bardzo skomplikowaną [konfigurację](concept-configurations.md), składającą się z wielu mniejszych plików konfiguracyjnych. 
 W takim przypadku zalecane jest zapisanie w pamięci całej wynikowej tablicy konfiguracji i załadowanie jej stamtąd bezpośrednio przed utworzeniem instancji aplikacji 
diff --git a/docs/guide-pl/start-databases.md b/docs/guide-pl/start-databases.md
index 97386382036..0a365845a4e 100644
--- a/docs/guide-pl/start-databases.md
+++ b/docs/guide-pl/start-databases.md
@@ -49,7 +49,7 @@ W tym miejscu masz już utworzoną bazę danych o nazwie `yii2basic`, posiadają
 Konfiguracja połączenia z bazą danych <span id="configuring-db-connection"></span>
 ---------------------------
 
-Przed przystąpieniem do tej części, upewnij się, że masz zainstalowane rozszerzenie [PDO](https://secure.php.net/manual/en/book.pdo.php) oraz sterownik PDO dla bazy danych której używasz 
+Przed przystąpieniem do tej części, upewnij się, że masz zainstalowane rozszerzenie [PDO](https://www.php.net/manual/en/book.pdo.php) oraz sterownik PDO dla bazy danych której używasz 
 (np. `pdo_mysql` dla MySQL).
 Jest to podstawowe wymaganie, jeśli Twoja aplikacja używa relacyjnej bazy danych.
 
diff --git a/docs/guide-pl/start-installation.md b/docs/guide-pl/start-installation.md
index 71affbc97fd..9fcaf573030 100644
--- a/docs/guide-pl/start-installation.md
+++ b/docs/guide-pl/start-installation.md
@@ -140,7 +140,7 @@ Weryfikacja instalacji <span id="verifying-installation"></span>
 ----------------------
 
 Po zakończeniu instalacji, skonfiguruj swój serwer (zobacz następną sekcję) lub użyj 
-[wbudowanego serwera PHP](https://secure.php.net/manual/en/features.commandline.webserver.php), 
+[wbudowanego serwera PHP](https://www.php.net/manual/en/features.commandline.webserver.php), 
 uruchamiając poniższą komendę w konsoli z poziomu folderu `web` w projekcie:
  
 ```bash
@@ -176,7 +176,7 @@ Powinienieś zobaczyć stronę z napisem "Congratulations!" ("Gratulacje!"). Je
 
 Powinienieś skonfigurować swoją instalację PHP tak, aby spełniała minimalne wymogi Yii. Najważniejszym z nich jest 
 posiadanie PHP w wersji 5.4 lub wyższej. Powinienieś również zainstalować 
-[rozszerzenie PDO](https://secure.php.net/manual/en/pdo.installation.php) oraz odpowiedni sterownik bazy danych 
+[rozszerzenie PDO](https://www.php.net/manual/en/pdo.installation.php) oraz odpowiedni sterownik bazy danych 
 (np. `pdo_mysql` dla bazy danych MySQL), jeśli Twoja aplikacja potrzebuje bazy danych.
 
 
@@ -234,7 +234,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Zalecane ustawienia Nginx <span id="recommended-nginx-configuration"></span>
 
-Aby użyć [Nginx](http://wiki.nginx.org/) powinienieś zainstalować PHP jako [FPM SAPI](https://secure.php.net/install.fpm).
+Aby użyć [Nginx](http://wiki.nginx.org/) powinienieś zainstalować PHP jako [FPM SAPI](https://www.php.net/install.fpm).
 Możesz użyć przedstawionej poniżej konfiguracji Nginx, zastępując jedynie ścieżkę `path/to/basic/web` aktualną ścieżką 
 do `basic/web` Twojej aplikacji oraz `mysite.test` aktualną nazwą hosta.
 
diff --git a/docs/guide-pt-BR/caching-data.md b/docs/guide-pt-BR/caching-data.md
index 1de83e05c03..089f2aee48a 100644
--- a/docs/guide-pt-BR/caching-data.md
+++ b/docs/guide-pt-BR/caching-data.md
@@ -75,7 +75,7 @@ Por exemplo, você pode modificar a configuração acima para usar [[yii\caching
 
 Yii suporta uma ampla gama de sistemas de cache. A seguir um resumo:
 
-* [[yii\caching\ApcCache]]: usa a extensão do PHP [APC](https://secure.php.net/manual/en/book.apc.php). Esta opção pode ser
+* [[yii\caching\ApcCache]]: usa a extensão do PHP [APC](https://www.php.net/manual/en/book.apc.php). Esta opção pode ser
   considerada a mais rápida ao se implementar o cache de uma aplicação densa e centralizada (por exemplo, um
   servidor, sem balanceadores de carga dedicados, etc.).
 * [[yii\caching\DbCache]]: usa uma tabela no banco de dados para armazenar os dados em cache. Para usar este cache
@@ -89,13 +89,13 @@ Yii suporta uma ampla gama de sistemas de cache. A seguir um resumo:
   `Yii::$app->cache` possa ser `null`.
 * [[yii\caching\FileCache]]: usa arquivos para armazenar os dados em cache. Este é particularmente indicado 
   para armazenar grandes quantidades de dados como o conteúdo da página.
-* [[yii\caching\MemCache]]: usa o [memcache](https://secure.php.net/manual/en/book.memcache.php) do PHP e as extensões
-  [memcached](https://secure.php.net/manual/en/book.memcached.php). Esta opção pode ser considerada a mais rápida
+* [[yii\caching\MemCache]]: usa o [memcache](https://www.php.net/manual/en/book.memcache.php) do PHP e as extensões
+  [memcached](https://www.php.net/manual/en/book.memcached.php). Esta opção pode ser considerada a mais rápida
   ao se implementar o cache em aplicações distribuídas (ex., vários servidores, balanceadores de carga, etc.)
 * [[yii\redis\Cache]]: implementa um componente de cache baseado em armazenamento chave-valor 
   [Redis](http://redis.io/) (requer redis versão 2.6.12 ou mais recente).
 * [[yii\caching\WinCache]]: usa a extensão PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension)
-  ([veja também](https://secure.php.net/manual/en/book.wincache.php)).
+  ([veja também](https://www.php.net/manual/en/book.wincache.php)).
 * [[yii\caching\XCache]] _(deprecated)_: usa a extensão PHP [XCache](http://xcache.lighttpd.net/).
 * [[yii\caching\ZendDataCache]] _(deprecated)_: usa
   [Cache de Dados Zend](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
diff --git a/docs/guide-pt-BR/caching-http.md b/docs/guide-pt-BR/caching-http.md
index 56195207078..afa29492412 100644
--- a/docs/guide-pt-BR/caching-http.md
+++ b/docs/guide-pt-BR/caching-http.md
@@ -124,7 +124,7 @@ como especificado na configuração `session.cache_limiter` do PHP.INI. Estes ca
 desabilitar o cache que você deseja do `HttpCache`. Para prevenir-se deste problema, por padrão, o `HttpCache`
 desabilitará o envio destes cabeçalhos automaticamente. Se você quiser modificar estes comportamentos, deve
 configurar a propriedade [[yii\filters\HttpCache::sessionCacheLimiter]]. A propriedade pode receber um valor string, como: `public`, `private`, `private_no_expire` e `nocache`. Por favor, consulte o manual do
-PHP sobre [session_cache_limiter()](https://secure.php.net/manual/en/function.session-cache-limiter.php)
+PHP sobre [session_cache_limiter()](https://www.php.net/manual/en/function.session-cache-limiter.php)
 para mais explicações sobre estes valores.
 
 
diff --git a/docs/guide-pt-BR/concept-autoloading.md b/docs/guide-pt-BR/concept-autoloading.md
index 280d92e419f..75aac87710f 100644
--- a/docs/guide-pt-BR/concept-autoloading.md
+++ b/docs/guide-pt-BR/concept-autoloading.md
@@ -1,7 +1,7 @@
 Autoloading de Classes 
 =================
 
-O Yii baseia-se no [mecanismo de autoloading de classe](https://secure.php.net/manual/en/language.oop5.autoload.php) para localizar e incluir todos os arquivos de classe necessários. Ele fornece um autoloader de alto desempenho que é compatível com o
+O Yii baseia-se no [mecanismo de autoloading de classe](https://www.php.net/manual/pt_BR/language.oop5.autoload.php) para localizar e incluir todos os arquivos de classe necessários. Ele fornece um autoloader de alto desempenho que é compatível com o
 [PSR-4 standard](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md).
 O autoloader é instalado quando o arquivo `Yii.php` é incluído. 
 > Observação: Para simplificar a descrição, nesta seção, nós falaremos apenas sobre autoloading de classe. No entanto, tenha em mente que o conteúdo que estamos descrevendo aqui se aplica a autoloading de interfaces e traits também.
@@ -12,7 +12,7 @@ Usando o Autoloader do Yii <span id="using-yii-autoloader"></span>
 
 Para fazer uso da autoloader de classe do Yii, você deve seguir duas regras simples ao criar e nomear suas classes:
 
-* Cada classe deve estar debaixo de um [namespace](https://secure.php.net/manual/en/language.namespaces.php) (exemplo. `foo\bar\MyClass`)
+* Cada classe deve estar debaixo de um [namespace](https://www.php.net/manual/en/language.namespaces.php) (exemplo. `foo\bar\MyClass`)
 * Cada classe deve ser salvo em um arquivo individual cujo caminho é determinado pelo seguinte algoritmo:
 
 ```php
diff --git a/docs/guide-pt-BR/concept-behaviors.md b/docs/guide-pt-BR/concept-behaviors.md
index 902276d61fe..86d06326585 100644
--- a/docs/guide-pt-BR/concept-behaviors.md
+++ b/docs/guide-pt-BR/concept-behaviors.md
@@ -291,7 +291,7 @@ $user->touch('login_time');
 Comparando Behaviors com Traits <span id="comparison-with-traits"></span>
 ----------------------
 
-Apesar de behaviors serem semelhantes a [traits](https://secure.php.net/traits) em que ambos "injetam" suas propriedades e métodos para a classe principal, eles diferem em muitos aspectos. Tal como explicado abaixo, ambos têm prós e contras. Eles funcionam mais como complemento um do outro.
+Apesar de behaviors serem semelhantes a [traits](https://www.php.net/traits) em que ambos "injetam" suas propriedades e métodos para a classe principal, eles diferem em muitos aspectos. Tal como explicado abaixo, ambos têm prós e contras. Eles funcionam mais como complemento um do outro.
 
 
 ### Razões para usar Behaviors <span id="pros-for-behaviors"></span>
diff --git a/docs/guide-pt-BR/concept-events.md b/docs/guide-pt-BR/concept-events.md
index 49cbaa65298..df33873fbd4 100644
--- a/docs/guide-pt-BR/concept-events.md
+++ b/docs/guide-pt-BR/concept-events.md
@@ -9,7 +9,7 @@ Se sua classe precisar disparar eventos, ela deverá estender de [[yii\base\Comp
 Manipuladores de Evento <span id="event-handlers"></span>
 --------------
 
-Um manipulador de evento é uma função [Callback do PHP] (https://secure.php.net/manual/en/language.types.callable.php) que é executada quando o evento é disparado. Você pode usar qualquer um dos seguintes callbacks:
+Um manipulador de evento é uma função [Callback do PHP] (https://www.php.net/manual/en/language.types.callable.php) que é executada quando o evento é disparado. Você pode usar qualquer um dos seguintes callbacks:
 - uma função global do PHP especificada como uma string (sem parênteses), por exemplo, `'trim'`;
 - Um método do objeto especificado como um array, informando o objeto e um nome do método como uma string (sem parênteses), por exemplo `[$object, 'methodName']`;
 - Um método estático da classe especificado como um array informando o nome da classe e nome do método como string (sem parênteses), por exemplo, `['ClassName', 'methodName']`; 
diff --git a/docs/guide-pt-BR/db-migrations.md b/docs/guide-pt-BR/db-migrations.md
index 49601285f59..c06ec83cfb7 100644
--- a/docs/guide-pt-BR/db-migrations.md
+++ b/docs/guide-pt-BR/db-migrations.md
@@ -104,7 +104,7 @@ class m150101_185401_criar_tabela_noticias extends \yii\db\Migration
 ```
 
 > Observação: Nem todas as migrações são reversíveis. Por exemplo, se o método `up()` deleta um registro de uma tabela,
-  você possivelmente mente não será capaz de recuperar este registro com o método `down()`. Em alguns casos, você pode ter 
+  você possivelmente não será capaz de recuperar este registro com o método `down()`. Em alguns casos, você pode ter 
   tido muita preguiça e não ter implementado o método `down()`, porque não é muito comum reverter migrações de dados.
   Neste caso, você deve retornar `false` no método `down()` para indicar que a migração não é reversível.
 
diff --git a/docs/guide-pt-BR/helper-overview.md b/docs/guide-pt-BR/helper-overview.md
new file mode 100644
index 00000000000..eb28ed04c84
--- /dev/null
+++ b/docs/guide-pt-BR/helper-overview.md
@@ -0,0 +1,80 @@
+Helpers
+=======
+
+> Observação: Esta seção está em desenvolvimento.
+
+O Yii oferece muitas classes que ajudam a simplificar as tarefas comuns de codificação, como manipulação de string ou de array,
+geração de código HTML, e assim por diante. Essas classes helpers (auxiliares) são organizadas no namespace `yii\helpers` e
+são todas classes estáticas (o que significa que contêm apenas propriedades e métodos estáticos e não devem ser instanciadas).
+
+Você usa uma classe helper chamando diretamente um de seus métodos estáticos, como o seguinte:
+
+```php
+use yii\helpers\Html;
+
+echo Html::encode('Test > test');
+```
+
+> Observação: Para oferecer suporte à [personalização de classes helper](#customizing-helper-classes),  o Yii divide cada classe helper principal
+  em duas classes: uma classe base (ex. `BaseArrayHelper`) e uma classe concreta (ex. `ArrayHelper`).
+  Ao usar um helper, você deve usar apenas a versão concreta e nunca a classe base.
+
+
+Principais Classes Helper
+-------------------
+
+As seguintes classes helper são fornecidas nas versões Yii:
+
+- [ArrayHelper](helper-array.md)
+- Console
+- FileHelper
+- FormatConverter
+- [Html](helper-html.md)
+- HtmlPurifier
+- Imagine (fornecido pela extensão yii2-imagine)
+- Inflector
+- [Json](helper-json.md)
+- Markdown
+- StringHelper
+- [Url](helper-url.md)
+- VarDumper
+
+
+Personalização de Classes Helper <span id="customizing-helper-classes"></span>
+--------------------------
+
+Para personalizar uma classe helper principal (ex. [[yii\helpers\ArrayHelper]]), você deve criar uma nova classe que 
+estende da classe base correspondente ao helper (ex. [[yii\helpers\BaseArrayHelper]]) e nomear a sua classe da mesma
+forma que a classe concreta correspondente (ex. [[yii\helpers\ArrayHelper]]), Essa classe será então configurada para 
+substituir a implementação original da estrutura.
+
+O exemplo a seguir mostra como personalizar o método [[yii\helpers\ArrayHelper::merge()|merge()]] da classe
+[[yii\helpers\ArrayHelper]]:
+
+```php
+<?php
+
+namespace yii\helpers;
+
+class ArrayHelper extends BaseArrayHelper
+{
+    public static function merge($a, $b)
+    {
+        // sua implementação personalizada
+    }
+}
+```
+
+Salve sua classe em um arquivo chamado `ArrayHelper.php`. O arquivo pode estar em qualquer diretório, por exemplo `@app/components`.
+
+Em seguida, no [script de entrada](structure-entry-scripts.md) da sua aplicação, adicione a seguinte linha de código
+depois do include do arquivo `yii.php` para dizer ao [autoloader de classes do Yii](concept-autoloading.md) para carregar sua classe
+personalizada em vez da classe Helper original do framework:
+
+```php
+Yii::$classMap['yii\helpers\ArrayHelper'] = '@app/components/ArrayHelper.php';
+```
+
+Observe que personalizar as classes Helper só é útil se você quiser mudar o comportamento de uma função existente
+dos Helpers. Se você deseja adicionar outras funções para usar em sua aplicação, é melhor criar um
+Helper para isso.
diff --git a/docs/guide-pt-BR/intro-upgrade-from-v1.md b/docs/guide-pt-BR/intro-upgrade-from-v1.md
index 76ec57587f2..a0164a02df3 100644
--- a/docs/guide-pt-BR/intro-upgrade-from-v1.md
+++ b/docs/guide-pt-BR/intro-upgrade-from-v1.md
@@ -32,15 +32,15 @@ O Yii 2.0 requer o PHP 5.4 ou superior, que é uma versão de grande melhoria so
 Como resultado, existem muitas diferenças na linguagem às quais você deve dar a devida atenção.
 Segue abaixo um resumo das principais mudanças do PHP:
 
-- [Namespaces](https://secure.php.net/manual/pt_BR/language.namespaces.php).
-- [Funções anônimas](https://secure.php.net/manual/pt_BR/functions.anonymous.php).
+- [Namespaces](https://www.php.net/manual/pt_BR/language.namespaces.php).
+- [Funções anônimas](https://www.php.net/manual/pt_BR/functions.anonymous.php).
 - A sintaxe curta de arrays `[...elementos...]` é utilizada ao invés de `array(...elementos...)`.
 - Tags curtas de *echo* `<?=` são usadas nos arquivos de view. É seguro utilizá-las a partir do PHP 5.4.
-- [Classes e interfaces da SPL](https://secure.php.net/manual/pt_BR/book.spl.php).
-- [Late Static Bindings](https://secure.php.net/manual/pt_BR/language.oop5.late-static-bindings.php).
-- [Date e Time](https://secure.php.net/manual/pt_BR/book.datetime.php).
-- [Traits](https://secure.php.net/manual/pt_BR/language.oop5.traits.php).
-- [intl](https://secure.php.net/manual/pt_BR/book.intl.php). O Yii 2.0 utiliza a extensão
+- [Classes e interfaces da SPL](https://www.php.net/manual/pt_BR/book.spl.php).
+- [Late Static Bindings](https://www.php.net/manual/pt_BR/language.oop5.late-static-bindings.php).
+- [Date e Time](https://www.php.net/manual/pt_BR/book.datetime.php).
+- [Traits](https://www.php.net/manual/pt_BR/language.oop5.traits.php).
+- [intl](https://www.php.net/manual/pt_BR/book.intl.php). O Yii 2.0 utiliza a extensão
   `intl` do PHP para suportar as funcionalidades de internacionalização.
 
 
diff --git a/docs/guide-pt-BR/intro-yii.md b/docs/guide-pt-BR/intro-yii.md
index 0990cea848a..2a4b6dabfdf 100644
--- a/docs/guide-pt-BR/intro-yii.md
+++ b/docs/guide-pt-BR/intro-yii.md
@@ -65,5 +65,5 @@ detalhados para recursos específicos executando o verificador de requisitos
 
 Utilizar o Yii requer conhecimentos básicos sobre programação orientada a objetos
 (OOP), uma vez que o Yii é um framework puramente OOP.
-O Yii 2.0 também utiliza as funcionalides mais recentes do PHP, tais como [namespaces](https://secure.php.net/manual/en/language.namespaces.php) e [traits](https://secure.php.net/manual/en/language.oop5.traits.php). Compreender esses conceitos lhe ajudará a entender mais facilmente o Yii 2.0.
+O Yii 2.0 também utiliza as funcionalides mais recentes do PHP, tais como [namespaces](https://www.php.net/manual/en/language.namespaces.php) e [traits](https://www.php.net/manual/en/language.oop5.traits.php). Compreender esses conceitos lhe ajudará a entender mais facilmente o Yii 2.0.
 
diff --git a/docs/guide-pt-BR/runtime-bootstrapping.md b/docs/guide-pt-BR/runtime-bootstrapping.md
index fa3c41d3e28..61a1af298af 100644
--- a/docs/guide-pt-BR/runtime-bootstrapping.md
+++ b/docs/guide-pt-BR/runtime-bootstrapping.md
@@ -44,8 +44,8 @@ regras de URL possam ter efeito antes que sejam usados para resolver as requisi
 No modo de produção, habilite um cache de bytecode, como o [PHP OPcache] ou [APC], 
 para minimizar o tempo necessário para a inclusão e análise os arquivos PHP.
 
-[PHP OPcache]: https://secure.php.net/manual/en/intro.opcache.php
-[APC]: https://secure.php.net/manual/en/book.apc.php
+[PHP OPcache]: https://www.php.net/manual/pt_BR/intro.opcache.php
+[APC]: https://www.php.net/manual/pt_BR/book.apcu.php
 
 Algumas aplicações de larga escala possuem [configurações](concept-configurations.md) 
 complexas, que são divididos em vários arquivos menores. Se este for o caso, 
diff --git a/docs/guide-pt-BR/runtime-sessions-cookies.md b/docs/guide-pt-BR/runtime-sessions-cookies.md
index 74eacbbc0e6..1941937b0fc 100644
--- a/docs/guide-pt-BR/runtime-sessions-cookies.md
+++ b/docs/guide-pt-BR/runtime-sessions-cookies.md
@@ -121,7 +121,7 @@ A classe padrão [[yii\web\Session]] armazena dados da sessão como arquivos no
 * [[yii\web\DbSession]]: armazena dados de sessão em uma tabela no banco de dados.
 * [[yii\web\CacheSession]]: armazena dados de sessão em um cache com a ajuda de um [cache component](caching-data.md#cache-components) configurado.
 * [[yii\redis\Session]]: armazena dados de sessão utilizando [redis](http://redis.io/) como meio de armazenamento.
-* [[yii\mongodb\Session]]: armazena dados de sessão em um [MongoDB](http://www.mongodb.org/).
+* [[yii\mongodb\Session]]: armazena dados de sessão em um [MongoDB](https://www.mongodb.com/).
 
 Todas essas classes de sessão suportam o mesmo conjunto de métodos da API. Como resultado, você pode mudar para uma classe de armazenamento de sessão diferente, sem a necessidade de modificar o código da aplicação que usa sessões.
 
@@ -268,7 +268,7 @@ unset($cookies['language']);
 
 Além das propriedades [[yii\web\Cookie::name|name]], [[yii\web\Cookie::value|value]] mostradas nos exemplos acima, a classe [[yii\web\Cookie]] também define outras propriedades para representar plenamente todas as informações de cookie disponíveis, tal como [[yii\web\Cookie::domain|domain]], [[yii\web\Cookie::expire|expire]]. Você pode configurar essas propriedades conforme necessário para preparar um cookie e, em seguida, adicioná-lo à coleção de cookie da resposta.
 
-> Observação: Para melhor segurança, o valor padrão de [[yii\web\Cookie::httpOnly]] é definido para `true`. Isso ajuda a reduzir o risco de um script do lado do cliente acessar o cookie protegido (se o browser suporta-lo). Você pode ler o [httpOnly wiki article](https://www.owasp.org/index.php/HttpOnly) para mais detalhes.
+> Observação: Para melhor segurança, o valor padrão de [[yii\web\Cookie::httpOnly]] é definido para `true`. Isso ajuda a reduzir o risco de um script do lado do cliente acessar o cookie protegido (se o browser suporta-lo). Você pode ler o [httpOnly wiki article](https://owasp.org/www-community/HttpOnly) para mais detalhes.
 
 
 ### Validação de Cookie <span id="cookie-validation"></span>
diff --git a/docs/guide-pt-BR/security-authorization.md b/docs/guide-pt-BR/security-authorization.md
index 418872ff6a5..9f312bafffd 100644
--- a/docs/guide-pt-BR/security-authorization.md
+++ b/docs/guide-pt-BR/security-authorization.md
@@ -131,7 +131,7 @@ class SiteController extends Controller
 
 Controle de Acesso Baseado em Role (RBAC) fornece um simples porém poderoso controle de acesso centralizado. Por favor, consulte [Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control) para obter detalhes sobre comparação de RBAC com outros sistemas de controle de acesso mais tradicionais.
 
-Yii implementa um RBAC Hierárquico genérico, conforme [NIST RBAC model](http://csrc.nist.gov/rbac/sandhu-ferraiolo-kuhn-00.pdf). Ele fornece as funcionalidades RBAC através do [componente de aplicação](structure-application-components.md) [[yii\rbac\ManagerInterface|authManager]].
+Yii implementa um RBAC Hierárquico genérico, conforme [NIST RBAC model](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf). Ele fornece as funcionalidades RBAC através do [componente de aplicação](structure-application-components.md) [[yii\rbac\ManagerInterface|authManager]].
 
 O uso do RBAC divide-se em duas partes. A primeira parte é construir os dados de autorização RBAC, e a segunda parte é usar os dados de autorização para executar verificação de acesso em locais onde ela é necessária.
 
diff --git a/docs/guide-pt-BR/start-databases.md b/docs/guide-pt-BR/start-databases.md
index fdcf236eb6f..8aa6ee658bf 100644
--- a/docs/guide-pt-BR/start-databases.md
+++ b/docs/guide-pt-BR/start-databases.md
@@ -55,7 +55,7 @@ Configurando uma Conexão de BD <span id="configuring-db-connection"></span>
 ------------------------------
 
 Antes de prosseguir, certifique-se de que você possui instalados tanto a
-extensão [PDO](https://secure.php.net/manual/en/book.pdo.php) do PHP quanto o driver
+extensão [PDO](https://www.php.net/manual/en/book.pdo.php) do PHP quanto o driver
 PDO para o gerenciador de banco de dados que você está usando (por exemplo, `pdo_mysql` para o MySQL).
 Este é um requisito básico se a sua aplicação usa um banco de dados relacional.
 
diff --git a/docs/guide-pt-BR/start-installation.md b/docs/guide-pt-BR/start-installation.md
index 3a24dcb3ce3..5946bc63298 100644
--- a/docs/guide-pt-BR/start-installation.md
+++ b/docs/guide-pt-BR/start-installation.md
@@ -145,7 +145,7 @@ Verificando a Instalação <span id="verifying-installation"></span>
 ------------------------
 
 Após a instalação ser concluída, você pode tanto configurar seu servidor web (veja na próxima seção) como usar o
-[servidor web embutido do PHP](https://secure.php.net/manual/pt_BR/features.commandline.webserver.php) executando o seguinte comando de console no diretório `web`:
+[servidor web embutido do PHP](https://www.php.net/manual/pt_BR/features.commandline.webserver.php) executando o seguinte comando de console no diretório `web`:
 
 ```bash
 php yii serve
@@ -177,7 +177,7 @@ Você deverá ver a página de parabenização acima em seu navegador. Se não a
   ```
 
 Você deve configurar sua instalação PHP de forma a atingir os requisitos mínimos do Yii. A versão mínima do PHP que você deve ter é a 5.4. Mas o ideal seria utilizar a versão mais recente, PHP 7.
-Se sua aplicação precisa de um banco de dados, você também deve instalar a [Extensão PDO PHP](https://secure.php.net/manual/pt_BR/pdo.installation.php) e o driver de banco de dados correspondente (tal como `pdo_mysql` para bancos de dados MySQL).
+Se sua aplicação precisa de um banco de dados, você também deve instalar a [Extensão PDO PHP](https://www.php.net/manual/pt_BR/pdo.installation.php) e o driver de banco de dados correspondente (tal como `pdo_mysql` para bancos de dados MySQL).
 
 
 Configurando Servidores Web <span id="configuring-web-servers"></span>
@@ -242,7 +242,7 @@ DocumentRoot "caminho/para/basico/web"
 
 ### Configuração do Nginx Recomendada <span id="recommended-nginx-configuration"></span>
 
-Para usar o [Nginx](http://wiki.nginx.org/), você deve ter instalado o PHP como um [FPM SAPI](https://secure.php.net/install.fpm). Use a seguinte configuração do Nginx,
+Para usar o [Nginx](http://wiki.nginx.org/), você deve ter instalado o PHP como um [FPM SAPI](https://www.php.net/install.fpm). Use a seguinte configuração do Nginx,
 substituindo `caminho/para/basico/web` com o caminho real para `basico/web` e `mysite.test` com o nome de host real a servir.
 
 ```nginx
diff --git a/docs/guide-pt-BR/start-prerequisites.md b/docs/guide-pt-BR/start-prerequisites.md
index 3128b8d6a2c..2feb18e79fd 100644
--- a/docs/guide-pt-BR/start-prerequisites.md
+++ b/docs/guide-pt-BR/start-prerequisites.md
@@ -4,8 +4,8 @@ A curva de aprendizado no Yii não é tão íngreme como em outros frameworks PH
 
 ## PHP
 
-Yii é um framework PHP. Portanto, certifique-se de [ler e entender a referência da linguagem](https://secure.php.net/manual/pt_BR/langref.php).
-Quando estiver desenvolvendo com Yii, você estará escrevendo código orientado a objetos, então, certifique-se de que está familiarizado tanto com [Classes e Objetos](https://secure.php.net/manual/pt_BR/language.oop5.basic.php) como com [namespaces](https://secure.php.net/manual/pt_BR/language.namespaces.php).
+Yii é um framework PHP. Portanto, certifique-se de [ler e entender a referência da linguagem](https://www.php.net/manual/pt_BR/langref.php).
+Quando estiver desenvolvendo com Yii, você estará escrevendo código orientado a objetos, então, certifique-se de que está familiarizado tanto com [Classes e Objetos](https://www.php.net/manual/pt_BR/language.oop5.basic.php) como com [namespaces](https://www.php.net/manual/pt_BR/language.namespaces.php).
 
 ## Programação orientada a objetos
 
diff --git a/docs/guide-pt-BR/structure-applications.md b/docs/guide-pt-BR/structure-applications.md
index 64075d9f915..7632a900a87 100644
--- a/docs/guide-pt-BR/structure-applications.md
+++ b/docs/guide-pt-BR/structure-applications.md
@@ -398,7 +398,7 @@ Mais detalhes sobre essa propriedade podem ser encontrados na seção
 Essa propriedade é disponibilizada como uma maneira alternativa de definir a
 timezone do PHP em tempo de execução. Ao confiugrar essa propriedade, você está
 essencialmente chamando a função
-[date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php)
+[date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php)
 do PHP. Por exemplo:
 
 ```php
diff --git a/docs/guide-pt-BR/structure-extensions.md b/docs/guide-pt-BR/structure-extensions.md
index 1e590b0ca96..cbe0183bcf3 100644
--- a/docs/guide-pt-BR/structure-extensions.md
+++ b/docs/guide-pt-BR/structure-extensions.md
@@ -483,8 +483,6 @@ e podem ser facilmente instalados como descrito na subseção [Usando Extensões
 - [yiisoft/yii2-bootstrap](https://github.com/yiisoft/yii2-bootstrap):
   fornece um conjunto de widgets que encapsulam os componentes e plug-ins do 
   [Bootstrap](http://getbootstrap.com/).
-- [yiisoft/yii2-codeception](https://github.com/yiisoft/yii2-codeception):
-  fornece suporte a testes baseados no [Codeception](http://codeception.com/).
 - [yiisoft/yii2-debug](https://github.com/yiisoft/yii2-debug):
   fornece suporte a depuração para aplicações Yii. Quando esta extensão é usada, 
   uma barra de ferramenta de depuração aparecerá na parte inferior de cada página. 
@@ -510,7 +508,7 @@ e podem ser facilmente instalados como descrito na subseção [Usando Extensões
   fornece um conjunto de widgets que encapsulam as interações e widgets do 
   [JQuery UI](http://jqueryui.com/).
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb):
-  fornece suporte para o uso do [MongoDB](http://www.mongodb.org/). Este inclui 
+  fornece suporte para o uso do [MongoDB](https://www.mongodb.com/). Este inclui 
   recursos como consultas básicas, Active Record, migrations, cache, geração de 
   códigos, etc.
 - [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis):
diff --git a/docs/guide-pt-BR/structure-models.md b/docs/guide-pt-BR/structure-models.md
index 372d6a5c521..d0af4577c9a 100644
--- a/docs/guide-pt-BR/structure-models.md
+++ b/docs/guide-pt-BR/structure-models.md
@@ -43,8 +43,8 @@ echo $model->name;
 ```
 
 Você também pode acessar os atributos como elementos de um array, graças ao suporte 
-de [ArrayAccess](https://secure.php.net/manual/en/class.arrayaccess.php) e 
-[ArrayIterator](https://secure.php.net/manual/en/class.arrayiterator.php) pelo 
+de [ArrayAccess](https://www.php.net/manual/en/class.arrayaccess.php) e 
+[ArrayIterator](https://www.php.net/manual/en/class.arrayiterator.php) pelo 
 [[yii\base\Model]]:
 
 ```php
diff --git a/docs/guide-pt-BR/translators.json b/docs/guide-pt-BR/translators.json
index 869dde556f4..cc52faec676 100644
--- a/docs/guide-pt-BR/translators.json
+++ b/docs/guide-pt-BR/translators.json
@@ -5,6 +5,7 @@
   "Gustavo G. Andrade",
   "Jan Silva",
   "Lucas Barros",
+  "Raphael de Almeida",
   "Sidney da Silva Lins",
   "Wanderson Bragança"
-]
\ No newline at end of file
+]
diff --git a/docs/guide-pt-BR/tutorial-core-validators.md b/docs/guide-pt-BR/tutorial-core-validators.md
index d685b2acf09..c99acb801b3 100644
--- a/docs/guide-pt-BR/tutorial-core-validators.md
+++ b/docs/guide-pt-BR/tutorial-core-validators.md
@@ -92,7 +92,7 @@ Este validador compara o valor de entrada especificado com um outro e certifica
 
 Este validador verifica se o valor de entrada é uma data, hora ou data e hora em um formato adequado. Opcionalmente, pode converter o valor de entrada para um UNIX timestamp ou outro formato legível e armazená-lo em um atributo especificado via [[yii\validators\DateValidator::timestampAttribute|timestampAttribute]].
 
-- `format`: o formato date/time que o valor que está sendo validado deve ter. Este pode ser um padrão de data e hora conforme descrito no [ICU manual] (http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax). Alternativamente esta pode ser uma string com o prefixo `php:` representando um formato que pode ser reconhecido pela classe PHP `Datetime`. Por favor, consulte <https://secure.php.net/manual/en/datetime.createfromformat.php> para formatos suportados. Se isso não for definido, ele terá o valor de `Yii::$app->formatter->dateFormat`. Consulte a [[yii\validators\DateValidator::$format|documentação da API]] para mais detalhes.
+- `format`: o formato date/time que o valor que está sendo validado deve ter. Este pode ser um padrão de data e hora conforme descrito no [ICU manual] (http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax). Alternativamente esta pode ser uma string com o prefixo `php:` representando um formato que pode ser reconhecido pela classe PHP `Datetime`. Por favor, consulte <https://www.php.net/manual/en/datetime.createfromformat.php> para formatos suportados. Se isso não for definido, ele terá o valor de `Yii::$app->formatter->dateFormat`. Consulte a [[yii\validators\DateValidator::$format|documentação da API]] para mais detalhes.
 
 - `timestampAttribute`: o nome do atributo para que este validador possa atribuir o UNIX  timestamp convertido a partir da entrada de data / hora. Este pode ser o mesmo atributo que está sendo validado. Se este for o caso,  valor original será substituído pelo valor timestamp após a validação. Veja a seção ["Manipulando Datas com DatePicker"] (https://github.com/yiisoft/yii2-jui/blob/master/docs/guide/topics-date-picker.md) para exemplos de uso.
 
@@ -270,8 +270,8 @@ Este validador não valida dados. Em vez disso, aplica um filtro no valor de ent
 > Dica: Se você quiser trimar valores de entrada, você deve utilizar o validador [trim](#trim).
 
 > Dica: Existem várias funções PHP que tem a assinatura esperada para o callback do `filter`.
-> Por exemplo, para aplicar a conversão de tipos (usando por exemplo [intval](https://secure.php.net/manual/en/function.intval.php),
-> [boolval](https://secure.php.net/manual/en/function.boolval.php), ...) para garantir um tipo específico para um atributo,
+> Por exemplo, para aplicar a conversão de tipos (usando por exemplo [intval](https://www.php.net/manual/en/function.intval.php),
+> [boolval](https://www.php.net/manual/en/function.boolval.php), ...) para garantir um tipo específico para um atributo,
 > você pode simplesmente especificar os nomes das funções do filtro sem a necessidade de envolvê-los em um closure:
 >
 > ```php
diff --git a/docs/guide-ru/caching-data.md b/docs/guide-ru/caching-data.md
index 1dab06a2b80..cd64f09b0a6 100644
--- a/docs/guide-ru/caching-data.md
+++ b/docs/guide-ru/caching-data.md
@@ -95,13 +95,13 @@ $data = $cache->getOrSet($key, function () use ($user_id) {
 
 Yii поддерживает множество хранилищ кэша:
 
-* [[yii\caching\ApcCache]]: использует расширение PHP [APC](https://secure.php.net/manual/en/book.apc.php). Эта опция считается самой быстрой при работе с кэшем в «толстом» централизованном приложении (т.е. один сервер, без выделенного балансировщика нагрузки и т.д.);
+* [[yii\caching\ApcCache]]: использует расширение PHP [APC](https://www.php.net/manual/en/book.apc.php). Эта опция считается самой быстрой при работе с кэшем в «толстом» централизованном приложении (т.е. один сервер, без выделенного балансировщика нагрузки и т.д.);
 * [[yii\caching\DbCache]]: использует таблицу базы данных для хранения кэшированных данных. Чтобы использовать этот кэш, вы должны создать таблицу так, как это описано в [[yii\caching\DbCache::cacheTable]];
 * [[yii\caching\DummyCache]]: является кэшем-пустышкой, не реализующим реального кэширования. Смысл этого компонента в упрощении кода, проверяющего наличие кэша. Вы можете использовать данный тип кэша и переключиться на реальное кэширование позже. Примеры: использование при разработке; если сервер не поддерживает кэш. Для извлечения данных в этом случае используется один и тот же код `Yii::$app->cache->get($key)`. При этом можно не беспокоиться, что `Yii::$app->cache` может быть `null`;
 * [[yii\caching\FileCache]]: использует обычные файлы для хранения кэшированных данных. Замечательно подходит для кэширования больших кусков данных, таких как содержимое страницы;
-* [[yii\caching\MemCache]]: использует расширения PHP [memcache](https://secure.php.net/manual/en/book.memcache.php) и [memcached](https://secure.php.net/manual/en/book.memcached.php). Этот вариант может рассматриваться как самый быстрый при работе в распределенных приложениях (например, с несколькими серверами, балансировкой нагрузки и так далее);
+* [[yii\caching\MemCache]]: использует расширения PHP [memcache](https://www.php.net/manual/en/book.memcache.php) и [memcached](https://www.php.net/manual/en/book.memcached.php). Этот вариант может рассматриваться как самый быстрый при работе в распределенных приложениях (например, с несколькими серверами, балансировкой нагрузки и так далее);
 * [[yii\redis\Cache]]: реализует компонент кэша на основе [Redis](http://redis.io/), хранилища ключ-значение (требуется Redis версии 2.6.12 или выше);
-* [[yii\caching\WinCache]]: использует расширение PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension) ([смотрите также](https://secure.php.net/manual/en/book.wincache.php));
+* [[yii\caching\WinCache]]: использует расширение PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension) ([смотрите также](https://www.php.net/manual/en/book.wincache.php));
 * [[yii\caching\XCache]] _(deprecated)_: использует расширение PHP [XCache](http://xcache.lighttpd.net/);
 * [[yii\caching\ZendDataCache]] _(deprecated)_: использует [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm).
 
diff --git a/docs/guide-ru/caching-http.md b/docs/guide-ru/caching-http.md
index d0ae15a2d3a..5df1440f753 100644
--- a/docs/guide-ru/caching-http.md
+++ b/docs/guide-ru/caching-http.md
@@ -104,7 +104,7 @@ Cache-Control: public, max-age=3600
 
 ## Ограничитель кэша сессий <span id="session-cache-limiter"></span>
 
-Когда на странице используются сессии, PHP автоматически отправляет некоторые связанные с кэшем HTTP заголовки, определённые в настройке `session.cache_limiter` в php.ini. Эти заголовки могут вмешиваться или отключать кэширование, которое вы ожидаете от `HttpCache`. Чтобы предотвратить эту проблему, по умолчанию `HttpCache` будет автоматически отключать отправку этих заголовков. Если вы хотите изменить это поведение, вы должны настроить свойство [[yii\filters\HttpCache::sessionCacheLimiter]]. Это свойство может принимать строковое значение, включая `public`, `private`, `private_no_expire` и `nocache`. Пожалуйста, обратитесь к руководству PHP о [session_cache_limiter()](https://secure.php.net/manual/en/function.session-cache-limiter.php)
+Когда на странице используются сессии, PHP автоматически отправляет некоторые связанные с кэшем HTTP заголовки, определённые в настройке `session.cache_limiter` в php.ini. Эти заголовки могут вмешиваться или отключать кэширование, которое вы ожидаете от `HttpCache`. Чтобы предотвратить эту проблему, по умолчанию `HttpCache` будет автоматически отключать отправку этих заголовков. Если вы хотите изменить это поведение, вы должны настроить свойство [[yii\filters\HttpCache::sessionCacheLimiter]]. Это свойство может принимать строковое значение, включая `public`, `private`, `private_no_expire` и `nocache`. Пожалуйста, обратитесь к руководству PHP о [session_cache_limiter()](https://www.php.net/manual/en/function.session-cache-limiter.php)
 для объяснения этих значений.
 
 
diff --git a/docs/guide-ru/concept-autoloading.md b/docs/guide-ru/concept-autoloading.md
index f24e01674cc..f3394b45110 100644
--- a/docs/guide-ru/concept-autoloading.md
+++ b/docs/guide-ru/concept-autoloading.md
@@ -2,7 +2,7 @@
 =================
 
 Поиск и подключение файлов классов в Yii реализовано при помощи
-[автозагрузки классов](https://secure.php.net/manual/ru/language.oop5.autoload.php). Фреймворк предоставляет свой быстрый
+[автозагрузки классов](https://www.php.net/manual/ru/language.oop5.autoload.php). Фреймворк предоставляет свой быстрый
 совместимый с [PSR-4](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md)
 автозагрузчик, который устанавливается в момент подключения `Yii.php`.
 
@@ -14,7 +14,7 @@
 
 При использовании автозагрузчика классов Yii следует соблюдать два простых правила создания и именования классов:
 
-* Каждый класс должен принадлежать [пространству имён](https://secure.php.net/manual/ru/language.namespaces.php)
+* Каждый класс должен принадлежать [пространству имён](https://www.php.net/manual/ru/language.namespaces.php)
   (то есть `foo\bar\MyClass`).
 * Каждый класс должен находиться в отдельном файле, путь к которому определятся следующим правилом:
 
diff --git a/docs/guide-ru/concept-behaviors.md b/docs/guide-ru/concept-behaviors.md
index 0983d6f298b..555b13a6920 100644
--- a/docs/guide-ru/concept-behaviors.md
+++ b/docs/guide-ru/concept-behaviors.md
@@ -332,7 +332,7 @@ $user->touch('login_time');
 - [[yii\behaviors\AttributeBehavior]] - автоматически задаёт указанное значение одному или нескольким атрибутам
   ActiveRecord при срабатывании определённых событий.
 - [yii2tech\ar\softdelete\SoftDeleteBehavior](https://github.com/yii2tech/ar-softdelete) - предоставляет методы для
-  «мягкого» удаления и воосстановления ActiveRecord. То есть выставляет статус или флаг, который показывает, что
+  «мягкого» удаления и восстановления ActiveRecord. То есть выставляет статус или флаг, который показывает, что
   запись удалена.
 - [yii2tech\ar\position\PositionBehavior](https://github.com/yii2tech/ar-position) - позволяет управлять порядком
   записей через специальные методы. Информация сохраняется в целочисленном поле.
@@ -341,7 +341,7 @@ $user->touch('login_time');
 Сравнение с трейтами <span id="comparison-with-traits"></span>
 ---------------------------------------------------
 
-Несмотря на то, что поведения схожи с [трейтами](https://secure.php.net/manual/ru/language.oop5.traits.php) тем, что 
+Несмотря на то, что поведения схожи с [трейтами](https://www.php.net/manual/ru/language.oop5.traits.php) тем, что 
 "внедряют" свои свойства и методы в основной класс, они имеют множество отличий. Они оба имеют свои плюсы и минусы, 
 и, скорее, дополняют друг друга, а не заменяют.
 
diff --git a/docs/guide-ru/concept-events.md b/docs/guide-ru/concept-events.md
index a6f7dba9e12..9c75b3109d1 100644
--- a/docs/guide-ru/concept-events.md
+++ b/docs/guide-ru/concept-events.md
@@ -9,7 +9,7 @@
 Обработчики событий <span id="event-handlers"></span>
 --------------
 
-Обработчик события - это [callback-функция PHP](https://secure.php.net/manual/ru/language.types.callable.php), которая выполняется при срабатывании события, к которому она присоединена. Можно использовать следующие callback-функции:
+Обработчик события - это [callback-функция PHP](https://www.php.net/manual/ru/language.types.callable.php), которая выполняется при срабатывании события, к которому она присоединена. Можно использовать следующие callback-функции:
 
 - глобальную функцию PHP, указав строку с именем функции (без скобок), например, `'trim'`;
 - метод объекта, указав массив, содержащий строки с именами объекта и метода (без скобок), например, `[$object, 'methodName']`;
diff --git a/docs/guide-ru/db-active-record.md b/docs/guide-ru/db-active-record.md
index b05914748b3..33315658cf1 100644
--- a/docs/guide-ru/db-active-record.md
+++ b/docs/guide-ru/db-active-record.md
@@ -689,7 +689,7 @@ try {
 ```
 
 > Note: в коде выше ради совместимости с PHP 5.x и PHP 7.x использованы два блока catch. 
-> `\Exception` реализует интерфейс [`\Throwable` interface](https://secure.php.net/manual/ru/class.throwable.php)
+> `\Exception` реализует интерфейс [`\Throwable` interface](https://www.php.net/manual/ru/class.throwable.php)
 > начиная с PHP 7.0. Если вы используете только PHP 7 и новее, можете пропустить блок с `\Exception`.
 
 Второй способ заключается в том, чтобы перечислить операции с базой данных, которые требуют тразнакционного выполнения,
diff --git a/docs/guide-ru/db-dao.md b/docs/guide-ru/db-dao.md
index 9fbeae164eb..12ecc2eb487 100644
--- a/docs/guide-ru/db-dao.md
+++ b/docs/guide-ru/db-dao.md
@@ -1,7 +1,7 @@
 Объекты доступа к данным (DAO)
 ==============================
 
-Построенные поверх [PDO](https://secure.php.net/manual/ru/book.pdo.php), Yii DAO (объекты доступа к данным) обеспечивают
+Построенные поверх [PDO](https://www.php.net/manual/ru/book.pdo.php), Yii DAO (объекты доступа к данным) обеспечивают
 объектно-ориентированный API для доступа к реляционным базам данных. Это основа для других, более продвинутых, методов
 доступа к базам данных, включая [построитель запросов](db-query-builder.md) и [active record](db-active-record.md).
 
@@ -17,7 +17,7 @@ Yii DAO из коробки поддерживает следующие базы
 - [SQLite](http://sqlite.org/)
 - [PostgreSQL](http://www.postgresql.org/): версии 8.4 или выше.
 - [CUBRID](http://www.cubrid.org/): версии 9.3 или выше.
-- [Oracle](http://www.oracle.com/us/products/database/overview/index.html)
+- [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): версии 2008 или выше.
 
 
@@ -62,7 +62,7 @@ return [
 > Tip: Вы можете настроить несколько компонентов подключения, если в вашем приложении используется несколько баз данных.
 
 При настройке подключения, вы должны обязательно указывать Имя Источника Данных (DSN) через параметр [[yii\db\Connection::dsn|dsn]].
-Формат DSN отличается для разных баз данных. Дополнительное описание смотрите в [справочнике PHP](https://secure.php.net/manual/ru/pdo.construct.php).
+Формат DSN отличается для разных баз данных. Дополнительное описание смотрите в [справочнике PHP](https://www.php.net/manual/ru/pdo.construct.php).
 Ниже представлены несколько примеров:
  
 * MySQL, MariaDB: `mysql:host=localhost;dbname=mydatabase`
@@ -174,7 +174,7 @@ $post = Yii::$app->db->createCommand('SELECT * FROM post WHERE id=:id AND status
            ->queryOne();
 ```
 
-Привязка переменных реализована через [подготавливаемые запросы](https://secure.php.net/manual/ru/mysqli.quickstart.prepared-statements.php).
+Привязка переменных реализована через [подготавливаемые запросы](https://www.php.net/manual/ru/mysqli.quickstart.prepared-statements.php).
 Помимо предотвращения атак путём SQL инъекций, это увеличивает производительность, так как запрос подготавливается
 один раз, а потом выполняется много раз с разными параметрами. Например,
 
@@ -338,7 +338,7 @@ try {
 ```
 
 > Note: в коде выше ради совместимости с PHP 5.x и PHP 7.x использованы два блока catch. 
-> `\Exception` реализует интерфейс [`\Throwable` interface](https://secure.php.net/manual/ru/class.throwable.php)
+> `\Exception` реализует интерфейс [`\Throwable` interface](https://www.php.net/manual/ru/class.throwable.php)
 > начиная с PHP 7.0. Если вы используете только PHP 7 и новее, можете пропустить блок с `\Exception`.
 
 При вызове метода [[yii\db\Connection::beginTransaction()|beginTransaction()]], будет запущена новая транзакция.
diff --git a/docs/guide-ru/db-query-builder.md b/docs/guide-ru/db-query-builder.md
index 5db7896eef3..967b9e6eed4 100644
--- a/docs/guide-ru/db-query-builder.md
+++ b/docs/guide-ru/db-query-builder.md
@@ -149,7 +149,7 @@ $query->from(['u' => $subQuery]);
 #### Префиксы
 
 Также может применяться [[yii\db\Connection::$tablePrefix|tablePrefix]] по умолчанию. Подробное описание смотрите
-в подразделе [«Экранирование имён таблиц и столбцов» раздела «Объекты доступа к данным (DAO)»](guide-db-dao.html#quoting-table-and-column-names).
+в подразделе [«Экранирование имён таблиц и столбцов» раздела «Объекты доступа к данным (DAO)»](db-dao.md#quoting-table-and-column-names).
 
 ### [[yii\db\Query::where()|where()]] <span id="where"></span>
 
diff --git a/docs/guide-ru/glossary.md b/docs/guide-ru/glossary.md
index a3c8b9d7c6d..a44ff2a44c5 100644
--- a/docs/guide-ru/glossary.md
+++ b/docs/guide-ru/glossary.md
@@ -54,7 +54,7 @@ Bundle, известный как пакет в Yii 1.1, относится к 
 
 ## namespace
 
-Пространство имен ссылка на [PHP language feature](https://secure.php.net/manual/en/language.namespaces.php) который активно используется в Yii 2.
+Пространство имен ссылка на [PHP language feature](https://www.php.net/manual/en/language.namespaces.php) который активно используется в Yii 2.
 
 # P
 
diff --git a/docs/guide-ru/helper-array.md b/docs/guide-ru/helper-array.md
index 0397416849a..e0219c637a2 100644
--- a/docs/guide-ru/helper-array.md
+++ b/docs/guide-ru/helper-array.md
@@ -1,6 +1,6 @@
 ArrayHelper
 ===========
-Вдобавок к [богатому набору функций](https://secure.php.net/manual/ru/book.array.php)  для работы с массивами, которые есть в самом PHP, хелпер Yii Array предоставляет свои статические функции - возможно они могут быть вам полезны.
+Вдобавок к [богатому набору функций](https://www.php.net/manual/ru/book.array.php)  для работы с массивами, которые есть в самом PHP, хелпер Yii Array предоставляет свои статические функции - возможно они могут быть вам полезны.
 
 
 ## Получение значений <span id="getting-values"></span>
@@ -110,7 +110,7 @@ $type = ArrayHelper::remove($array, 'type');
 
 ## Проверка наличия ключей <span id="checking-existence-of-keys"></span>
 
-`ArrayHelper::keyExists` работает так же, как и стандартный [array_key_exists](https://secure.php.net/manual/ru/function.array-key-exists.php),
+`ArrayHelper::keyExists` работает так же, как и стандартный [array_key_exists](https://www.php.net/manual/ru/function.array-key-exists.php),
 но также может проверять ключи без учёта регистра:
 
 ```php
@@ -245,7 +245,7 @@ ArrayHelper::multisort($data, function($item) {
 ```
 Третий аргумент определяет способ сортировки – от большего к меньшему или от меньшего к большему. В случае, если мы сортируем по одному ключу, передаем  `SORT_ASC`  или  `SORT_DESC`. Если сортировка осуществляется по нескольким ключам, вы можете назначить направление сортировки для каждого из них с помощью массива.
 
-Последний аргумент – это флаг, который используется в стандартной функции PHP `sort()`. Посмотреть его возможные значения можно [тут](https://secure.php.net/manual/ru/function.sort.php).
+Последний аргумент – это флаг, который используется в стандартной функции PHP `sort()`. Посмотреть его возможные значения можно [тут](https://www.php.net/manual/ru/function.sort.php).
 
 
 ## Определение типа массива <span id="detecting-array-types"></span>
@@ -335,7 +335,7 @@ $data = ArrayHelper::toArray($posts, [
 
 Для таких случаев [[yii\helpers\ArrayHelper]] предоставляет [[yii\helpers\ArrayHelper::isIn()|isIn()]] и
 [[yii\helpers\ArrayHelper::isSubset()|isSubset()]]. Методы принимают такие же параметры, что и
-[in_array()](https://secure.php.net/manual/ru/function.in-array.php).
+[in_array()](https://www.php.net/manual/ru/function.in-array.php).
 
 ```php
 // true
diff --git a/docs/guide-ru/helper-html.md b/docs/guide-ru/helper-html.md
index 5ffb14c8676..198e46f6c71 100644
--- a/docs/guide-ru/helper-html.md
+++ b/docs/guide-ru/helper-html.md
@@ -2,7 +2,7 @@ Html-помощник
 =============
 
 Каждое веб-приложение формирует большое количество HTML-разметки. Если разметка статическая, её можно эффективно
-сформировать [смешиванием PHP и HTML в одном файле](https://secure.php.net/manual/ru/language.basic-syntax.phpmode.php), но
+сформировать [смешиванием PHP и HTML в одном файле](https://www.php.net/manual/ru/language.basic-syntax.phpmode.php), но
 когда разметка динамическая, становится сложно формировать её без дополнительной помощи. Yii предоставляет такую помощь
 в виде Html-помощника, который обеспечивает набор статических методов для обработки часто-используемых HTML тэгов, их
 атрибутов и содержимого.
@@ -155,8 +155,8 @@ Html::removeCssStyle($options, ['width', 'height']);
 ### Экранирование контента <span id="encoding-and-decoding-content"></span>
 
 Для корректного и безопасного отображения контента специальные символы в HTML-коде должны быть экранированы. В чистом
-PHP это осуществляется с помощью функций [htmlspecialchars](https://secure.php.net/manual/ru/function.htmlspecialchars.php)
-и [htmlspecialchars_decode](https://secure.php.net/manual/ru/function.htmlspecialchars-decode.php). Проблема использования
+PHP это осуществляется с помощью функций [htmlspecialchars](https://www.php.net/manual/ru/function.htmlspecialchars.php)
+и [htmlspecialchars_decode](https://www.php.net/manual/ru/function.htmlspecialchars-decode.php). Проблема использования
 этих функций заключается в том, что приходится указывать кодировку и дополнительные флаги во время каждого вызова.
 Поскольку флаги всё время одинаковы, а кодировка остаётся одной и той же в пределах приложения, Yii в целях
 безопасности предоставляет два компактных и простых в использовании метода:
diff --git a/docs/guide-ru/input-file-upload.md b/docs/guide-ru/input-file-upload.md
index eb9a667477e..5dd78ee8aad 100644
--- a/docs/guide-ru/input-file-upload.md
+++ b/docs/guide-ru/input-file-upload.md
@@ -123,7 +123,7 @@ class SiteController extends Controller
 Сначала нужно добавить в правило валидации `file` параметр `maxFiles` для ограничения максимального количества
 загружаемых одновременно файлов. Установка `maxFiles` равным `0` означает снятие ограничений на количество файлов,
 которые могут быть загружены одновременно. Максимально разрешенное количество одновременно закачиваемых файлов
-также ограничивается директивой PHP [`max_file_uploads`](https://secure.php.net/manual/ru/ini.core.php#ini.max-file-uploads),
+также ограничивается директивой PHP [`max_file_uploads`](https://www.php.net/manual/ru/ini.core.php#ini.max-file-uploads),
 и по умолчанию равно 20. Метод `upload()` нужно изменить для сохранения загруженных файлов по одному.
 
 ```php
diff --git a/docs/guide-ru/input-forms.md b/docs/guide-ru/input-forms.md
index 08e332e4aef..c2863607a7d 100644
--- a/docs/guide-ru/input-forms.md
+++ b/docs/guide-ru/input-forms.md
@@ -90,7 +90,7 @@ echo $form->field($model, 'items[]')->checkboxList(['a' => 'Item A', 'b' => 'Ite
 
 Имена элементов форм следует выбирать, учитывая, что могут возникнуть конфликты. Подробнее об этом в [документации jQuery](https://api.jquery.com/submit/):
 
-> Имена и идентификаторы форм и их элементов не должны совпадать с элементами форм, такими как `submit`, `length` или `method`. Конфликты имен могут вызывать трудно диагностируемые ошибки. Подробнее о способах избегания подобных проблем смотрите [DOMLint](http://kangax.github.io/domlint/).
+> Имена и идентификаторы форм и их элементов не должны совпадать с элементами форм, такими как `submit`, `length` или `method`. Конфликты имен могут вызывать трудно диагностируемые ошибки. Подробнее о способах избегания подобных проблем смотрите [DOMLint](https://kangax.github.io/domlint/).
 
 Дополнительные HTML-элементы можно добавить к форме, используя обычный HTML или методы из класса помощника [[yii\helpers\Html|Html]], как это было сделано с помощью [[yii\helpers\Html::submitButton()|Html::submitButton()]] в примере, приведённом выше. 
 
diff --git a/docs/guide-ru/intro-upgrade-from-v1.md b/docs/guide-ru/intro-upgrade-from-v1.md
index af2239a12bf..7dbb7e18e66 100644
--- a/docs/guide-ru/intro-upgrade-from-v1.md
+++ b/docs/guide-ru/intro-upgrade-from-v1.md
@@ -28,16 +28,16 @@ Yii 2.0 широко использует [Composer](https://getcomposer.org/),
 версией 5.2, которая использовалась Yii 1.1. Таким образом, существует много различий в языке, которые вы должны принимать
 во внимание:
 
-- [Пространства имён](https://secure.php.net/manual/ru/language.namespaces.php);
-- [Анонимные функции](https://secure.php.net/manual/ru/functions.anonymous.php);
+- [Пространства имён](https://www.php.net/manual/ru/language.namespaces.php);
+- [Анонимные функции](https://www.php.net/manual/ru/functions.anonymous.php);
 - Использование короткого синтаксиса для массивов: `[...элементы...]` вместо `array(...элементы...)`;
 - Использование короткого echo `<?=` для вывода в файлах представлений. С версии PHP 5.4 данную возможность можно
   использовать не опасаясь;
-- [Классы и интерфейсы SPL](https://secure.php.net/manual/ru/book.spl.php);
-- [Позднее статическое связывание (LSB)](https://secure.php.net/manual/ru/language.oop5.late-static-bindings.php);
-- [Классы для дат и времени](https://secure.php.net/manual/ru/book.datetime.php);
-- [Трейты](https://secure.php.net/manual/ru/language.oop5.traits.php);
-- [Интернационализация (intl)](https://secure.php.net/manual/ru/book.intl.php); Yii 2.0 использует расширение PHP `intl`
+- [Классы и интерфейсы SPL](https://www.php.net/manual/ru/book.spl.php);
+- [Позднее статическое связывание (LSB)](https://www.php.net/manual/ru/language.oop5.late-static-bindings.php);
+- [Классы для дат и времени](https://www.php.net/manual/ru/book.datetime.php);
+- [Трейты](https://www.php.net/manual/ru/language.oop5.traits.php);
+- [Интернационализация (intl)](https://www.php.net/manual/ru/book.intl.php); Yii 2.0 использует расширение PHP `intl`
   для различного функционала интернационализации.
 
 
diff --git a/docs/guide-ru/intro-yii.md b/docs/guide-ru/intro-yii.md
index 699809109e0..ebfab478935 100644
--- a/docs/guide-ru/intro-yii.md
+++ b/docs/guide-ru/intro-yii.md
@@ -46,6 +46,6 @@ Yii 2.0 требует PHP 5.4.0 и выше и наилучшим образо
 требований, который поставляется с каждым релизом фреймворка.
 
 Для разработки на Yii потребуется общее понимание ООП, так как фреймворк полностью следует этой парадигме. Также стоит
-изучить такие современные возможности PHP как [пространства имён](https://secure.php.net/manual/ru/language.namespaces.php)
-и [трейты](https://secure.php.net/manual/ru/language.oop5.traits.php). Понимание этих концепций позволит вам более легко освоиться c Yii 2.0.
+изучить такие современные возможности PHP как [пространства имён](https://www.php.net/manual/ru/language.namespaces.php)
+и [трейты](https://www.php.net/manual/ru/language.oop5.traits.php). Понимание этих концепций позволит вам более легко освоиться c Yii 2.0.
 
diff --git a/docs/guide-ru/output-client-scripts.md b/docs/guide-ru/output-client-scripts.md
index 03066e1d949..0deaa8b95b8 100644
--- a/docs/guide-ru/output-client-scripts.md
+++ b/docs/guide-ru/output-client-scripts.md
@@ -156,7 +156,7 @@ JS
 );
 ```
 
-Приведенный выше пример кода использует PHP [синтаксис Heredoc](https://secure.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc) для лучшей читаемости. Это также обеспечивает лучшую подсветку синтаксиса в большинстве IDE, поэтому это предпочтительный способ написания встроенного JavaScript, особенно полезный для кода, более длинного чем однострочный. Переменная `$message` создается PHP и благодаря [[yii\helpers\Json::htmlEncode|Json::htmlEncode]] содержит строку в допустимом синтаксисе JS, которую можно вставить в JavaScript код, чтобы поместить динамическую строку в вызов функции `alert()`.
+Приведенный выше пример кода использует PHP [синтаксис Heredoc](https://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc) для лучшей читаемости. Это также обеспечивает лучшую подсветку синтаксиса в большинстве IDE, поэтому это предпочтительный способ написания встроенного JavaScript, особенно полезный для кода, более длинного чем однострочный. Переменная `$message` создается PHP и благодаря [[yii\helpers\Json::htmlEncode|Json::htmlEncode]] содержит строку в допустимом синтаксисе JS, которую можно вставить в JavaScript код, чтобы поместить динамическую строку в вызов функции `alert()`.
 
 > Note: При использовании Heredoc, будьте осторожны с именами переменных в коде JS, поскольку переменные, начинающиеся с `$`, могут интерпретироваться как переменные PHP, которые будут заменены их содержимым.
 > jQuery функция в форме `$(` или `$.` не интерпретируется как переменная PHP и может безопасно использоваться.
diff --git a/docs/guide-ru/output-formatting.md b/docs/guide-ru/output-formatting.md
index 811f4bb9420..1a129de0a64 100644
--- a/docs/guide-ru/output-formatting.md
+++ b/docs/guide-ru/output-formatting.md
@@ -32,7 +32,7 @@ Formatter может быть использован двумя различны
    ```
 
 Все данные, отображаемые через компонент formatter, будут локализованы, если
-[расширение PHP intl](https://secure.php.net/manual/ru/book.intl.php) было установлено. Для этого вы можете настроить свойство
+[расширение PHP intl](https://www.php.net/manual/ru/book.intl.php) было установлено. Для этого вы можете настроить свойство
 [[yii\i18n\Formatter::locale|locale]]. Если оно не было настроено, то в качестве локали будет использован
 [[yii\base\Application::language|язык приложения]]. Подробнее смотрите в разделе «[интернационализация](tutorial-i18n.md)».
 Компонент форматирования будет выбирать корректный формат для даты и чисел в соответствии с локалью, включая имена
@@ -51,7 +51,7 @@ echo Yii::$app->formatter->asDate('2014-01-01'); // выведет: 1 январ
 ```
 
 > Обратите внимание, что форматирование может различаться между различными версиями библиотеки ICU, собранных с PHP,
-> а также на основе того установлено ли [расширение PHP intl](https://secure.php.net/manual/ru/book.intl.php) или нет.
+> а также на основе того установлено ли [расширение PHP intl](https://www.php.net/manual/ru/book.intl.php) или нет.
 > Таким образом, чтобы гарантировать, что ваш сайт будет одинаково отображать данные во всех окружениях рекомендуется
 > установить расширение PHP intl во всех окружениях и проверить, что версия библиотеки ICU совпадает.
 > См. также: [Настройка PHP окружения для интернационализации](tutorial-i18n.md#setup-environment).
@@ -115,7 +115,7 @@ echo Yii::$app->formatter->asDate('2014-01-01'); // выведет: 1 январ
 Дополнительно вы можете задать специальный формат, используя синтаксис, заданный [ICU Project](http://site.icu-project.org/),
 который описан в руководстве ICU по следующему адресу:
 <http://userguide.icu-project.org/formatparse/datetime>. Также вы можете использовать синтаксис, который распознаётся
-PHP-функцией [date()](https://secure.php.net/manual/ru/function.date.php), используя строку с префиксом `php:`.
+PHP-функцией [date()](https://www.php.net/manual/ru/function.date.php), используя строку с префиксом `php:`.
 
 ```php
 // ICU форматирование
@@ -170,7 +170,7 @@ echo Yii::$app->formatter->asTime('2014-10-06 14:41:00 CEST'); // 14:41:00
 [[yii\i18n\Formatter::thousandSeparator|тысячного разделителя]], которые были заданы в соответствии с локалью.
 
 Для более сложной конфигурации [[yii\i18n\Formatter::numberFormatterOptions]] и [[yii\i18n\Formatter::numberFormatterTextOptions]]
-могут быть использованы для настройки внутренне используемого [класса NumberFormatter](https://secure.php.net/manual/ru/class.numberformatter.php).
+могут быть использованы для настройки внутренне используемого [класса NumberFormatter](https://www.php.net/manual/ru/class.numberformatter.php).
 
 Например, чтобы настроить максимальное и минимальное количество знаков после запятой, вы можете настроить свойство
 [[yii\i18n\Formatter::numberFormatterOptions]] как в примере ниже:
diff --git a/docs/guide-ru/runtime-bootstrapping.md b/docs/guide-ru/runtime-bootstrapping.md
index 95f43e8686f..0222473af58 100644
--- a/docs/guide-ru/runtime-bootstrapping.md
+++ b/docs/guide-ru/runtime-bootstrapping.md
@@ -30,8 +30,8 @@
 В производственном режиме включите байткод кэшеры, такие как [PHP OPcache] или [APC], для минимизации времени 
 подключения и парсинг php файлов.
 
-[PHP OPcache]: https://secure.php.net/manual/ru/intro.opcache.php
-[APC]: https://secure.php.net/manual/ru/book.apc.php
+[PHP OPcache]: https://www.php.net/manual/ru/intro.opcache.php
+[APC]: https://www.php.net/manual/ru/book.apcu.php
 
 Некоторые большие приложения могут иметь сложную [конфигурацию](concept-configurations.md), которая разделена на несколько мелких файлов.
 Если это тот самый случай, возможно вам стоит кэшировать весь конфигурационный файл и загружать его прямо из кэша до создания объекта 
diff --git a/docs/guide-ru/runtime-responses.md b/docs/guide-ru/runtime-responses.md
index b06b7094a18..61a356d07ef 100644
--- a/docs/guide-ru/runtime-responses.md
+++ b/docs/guide-ru/runtime-responses.md
@@ -232,7 +232,7 @@ Web-серверов:
 - Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
 - Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Nginx: [X-Accel-Redirect](http://wiki.nginx.org/XSendfile)
+- Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
 - Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
diff --git a/docs/guide-ru/runtime-sessions-cookies.md b/docs/guide-ru/runtime-sessions-cookies.md
index 62364e10904..bd6184dc461 100644
--- a/docs/guide-ru/runtime-sessions-cookies.md
+++ b/docs/guide-ru/runtime-sessions-cookies.md
@@ -121,7 +121,7 @@ $session['captcha.lifetime'] = 3600;
 * [[yii\web\DbSession]]: сохраняет данные сессии в базе данных.
 * [[yii\web\CacheSession]]: хранение данных сессии в предварительно сконфигурированном компоненте кэша [кэш](caching-data.md#cache-components).
 * [[yii\redis\Session]]: хранение данных сессии в [redis](http://redis.io/).
-* [[yii\mongodb\Session]]: хранение сессии в [MongoDB](http://www.mongodb.org/).
+* [[yii\mongodb\Session]]: хранение сессии в [MongoDB](https://www.mongodb.com/).
 
 Все эти классы поддерживают одинаковый набор методов API. В результате вы можете переключаться между различными хранилищами сессий без модификации кода приложения.
 
@@ -261,7 +261,7 @@ unset($cookies['language']);
 
 Кроме свойств [[yii\web\Cookie::name|name]] и [[yii\web\Cookie::value|value]], класс [[yii\web\Cookie]] также предоставляет ряд свойств для получения информации о куках: [[yii\web\Cookie::domain|domain]], [[yii\web\Cookie::expire|expire]]. Эти свойства можно сконфигурировать и затем добавить куку в коллекцию для HTTP-ответа.
 
-> Note: Для большей безопасности значение свойства [[yii\web\Cookie::httpOnly]] по умолчанию установлено в `true`. Это уменьшает риски доступа к защищенной куке на клиентской стороне (если браузер поддерживает такую возможность). Вы можете обратиться к [httpOnly wiki](https://www.owasp.org/index.php/HttpOnly) для дополнительной информации.
+> Note: Для большей безопасности значение свойства [[yii\web\Cookie::httpOnly]] по умолчанию установлено в `true`. Это уменьшает риски доступа к защищенной куке на клиентской стороне (если браузер поддерживает такую возможность). Вы можете обратиться к [httpOnly wiki](https://owasp.org/www-community/HttpOnly) для дополнительной информации.
 
 ### Валидация кук <span id="cookie-validation"></span>
 
diff --git a/docs/guide-ru/security-authorization.md b/docs/guide-ru/security-authorization.md
index cd791049c26..7872d94b1be 100644
--- a/docs/guide-ru/security-authorization.md
+++ b/docs/guide-ru/security-authorization.md
@@ -153,7 +153,7 @@ class SiteController extends Controller
 Пожалуйста, обратитесь к [Wikipedia](https://ru.wikipedia.org/wiki/%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%BE%D0%BC_%D0%BD%D0%B0_%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B5_%D1%80%D0%BE%D0%BB%D0%B5%D0%B9)
 для получения информации о сравнении RBAC с другими, более традиционными, системами контроля доступа.
 
-Yii реализует общую иерархическую RBAC, следуя [NIST RBAC model](http://csrc.nist.gov/rbac/sandhu-ferraiolo-kuhn-00.pdf).
+Yii реализует общую иерархическую RBAC, следуя [NIST RBAC model](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf).
 Обеспечивается функциональность RBAC через [компонент приложения](structure-application-components.md) [[yii\rbac\ManagerInterface|authManager]].
 
 Использование RBAC состоит из двух частей. Первая часть — это создание RBAC данных авторизации, и вторая часть — это
diff --git a/docs/guide-ru/security-best-practices.md b/docs/guide-ru/security-best-practices.md
index 7a84629368b..e5e881b379a 100644
--- a/docs/guide-ru/security-best-practices.md
+++ b/docs/guide-ru/security-best-practices.md
@@ -177,8 +177,8 @@ CSRF - это аббревиатура для межсайтинговой по
 
 Далее по теме читайте:
 
-- <https://www.owasp.org/index.php/Exception_Handling>
-- <https://www.owasp.org/index.php/Top_10_2007-Information_Leakage>
+- <https://owasp.org/www-project-.net/articles/Exception_Handling.md>
+- <https://owasp.org/www-pdf-archive/OWASP_Top_10_2007.pdf> (A6 - Information Leakage and Improper Error Handling)
 
 
 Использование безопасного подключения через TLS
diff --git a/docs/guide-ru/security-passwords.md b/docs/guide-ru/security-passwords.md
index 8861e1d8c63..749776b3499 100644
--- a/docs/guide-ru/security-passwords.md
+++ b/docs/guide-ru/security-passwords.md
@@ -7,7 +7,7 @@
 
 Для того, чтобы обеспечить повышенную безопасность паролей ваших пользователей даже в худшем случае (ваше
 приложение взломано), нужно использовать алгоритм шифрования, устойчивый к атаке перебором. Лучший вариант в текущий
-момент `bcrypt`. В PHP вы можете использовать хеши `bcrypt` через [функцию crypt](https://secure.php.net/manual/en/function.crypt.php).
+момент `bcrypt`. В PHP вы можете использовать хеши `bcrypt` через [функцию crypt](https://www.php.net/manual/en/function.crypt.php).
 Yii обеспечивает две вспомогательные функции, которые упрощают использование функции `crypt` для генерации и проверки
 пароля.
 
diff --git a/docs/guide-ru/start-databases.md b/docs/guide-ru/start-databases.md
index 18d65496a0a..9889d89c3cf 100644
--- a/docs/guide-ru/start-databases.md
+++ b/docs/guide-ru/start-databases.md
@@ -45,7 +45,7 @@ INSERT INTO `country` VALUES ('US','United States',322976000);
 Настраиваем подключение к БД <span id="configuring-db-connection"></span>
 -------------------------------------------------------------------------
 
-Перед продолжением убедитесь, что у вас установлены PHP-расширение [PDO](https://secure.php.net/manual/ru/book.pdo.php) и драйвер PDO для используемой вами базы данных (например, `pdo_mysql` для MySQL). Это базовое требование в случае использования вашим приложением реляционной базы данных.
+Перед продолжением убедитесь, что у вас установлены PHP-расширение [PDO](https://www.php.net/manual/ru/book.pdo.php) и драйвер PDO для используемой вами базы данных (например, `pdo_mysql` для MySQL). Это базовое требование в случае использования вашим приложением реляционной базы данных.
 После того, как они установлены, откройте файл `config/db.php` и измените параметры на верные для вашей базы данных. По умолчанию этот файл содержит следующее:
 
 ```php
diff --git a/docs/guide-ru/start-installation.md b/docs/guide-ru/start-installation.md
index fdc405c35c2..8d9aa8725af 100644
--- a/docs/guide-ru/start-installation.md
+++ b/docs/guide-ru/start-installation.md
@@ -122,7 +122,7 @@ php requirements.php
 
 Для корректной работы фреймворка вам необходима установка PHP, соответствующая его минимальным требованиям. Основное
 требование — PHP версии 5.4 и выше. Если ваше приложение работает с базой данных, необходимо установить
-[расширение PHP PDO](https://secure.php.net/manual/ru/pdo.installation.php) и соответствующий драйвер 
+[расширение PHP PDO](https://www.php.net/manual/ru/pdo.installation.php) и соответствующий драйвер 
 (например, `pdo_mysql` для MySQL).
 
 
@@ -174,7 +174,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Рекомендуемые настройки Nginx <span id="recommended-nginx-configuration"></span>
 
-PHP должен быть установлен как [FPM SAPI](https://secure.php.net/manual/ru/install.fpm.php) для [Nginx](http://wiki.nginx.org/).
+PHP должен быть установлен как [FPM SAPI](https://www.php.net/manual/ru/install.fpm.php) для [Nginx](http://wiki.nginx.org/).
 Используйте следующие параметры Nginx и не забудьте заменить `path/to/basic/web` на корректный путь к `basic/web` и
 `mysite.test` на ваше имя хоста.
 
diff --git a/docs/guide-ru/structure-applications.md b/docs/guide-ru/structure-applications.md
index df5238ddbe1..570cbccbf9f 100644
--- a/docs/guide-ru/structure-applications.md
+++ b/docs/guide-ru/structure-applications.md
@@ -349,7 +349,7 @@ $width = \Yii::$app->params['thumbnail.size'][0];
 
 Данное свойство предоставляет альтернативный способ установки временной зоны в процессе работы приложения.
 Путем указания данного свойства, вы по существу вызываете PHP функцию 
-[date_default_timezone_set()](https://secure.php.net/manual/ru/function.date-default-timezone-set.php). Например,
+[date_default_timezone_set()](https://www.php.net/manual/ru/function.date-default-timezone-set.php). Например,
 
 ```php
 [
diff --git a/docs/guide-ru/structure-extensions.md b/docs/guide-ru/structure-extensions.md
index 9b4979b170b..421d2a970e3 100644
--- a/docs/guide-ru/structure-extensions.md
+++ b/docs/guide-ru/structure-extensions.md
@@ -386,8 +386,6 @@ Yii предоставляет следующие базовые расшире
   OAuth2 клиент.
 - [yiisoft/yii2-bootstrap](https://www.yiiframework.com/extension/yiisoft/yii2-bootstrap):
   предоставляет набор виджетов, которые являются компонентами и плагинами [Bootstrap](http://getbootstrap.com/).
-- [yiisoft/yii2-codeception](https://github.com/yiisoft/yii2-codeception) (deprecated):
-  предоставляет поддержку тестирования, основанного на [Codeception](http://codeception.com/).
 - [yiisoft/yii2-debug](https://www.yiiframework.com/extension/yiisoft/yii2-debug):
   предоставляет поддержку отладки в приложениях Yii. Когда это расширение используется, отладочная панель появится в
   нижней части каждой страницы. Это расширение также предоставляет набор отдельных страниц для отображения более
@@ -409,7 +407,7 @@ Yii предоставляет следующие базовые расшире
 - [yiisoft/yii2-jui](https://github.com/yiisoft/yii2-jui):
   предоставляет набор виджетов, основанный на взаимодействиях и виджетах [JQuery UI](http://jqueryui.com/).
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb):
-  предоставляет поддержку использования [MongoDB](http://www.mongodb.org/). Оно включает такие возможности, как
+  предоставляет поддержку использования [MongoDB](https://www.mongodb.com/). Оно включает такие возможности, как
   базовые запросы, Active Record, миграции, кэширование, генерация кода и т.д.
 - [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis):
   предоставляет поддержку использования [redis](http://redis.io/). Оно включает такие возможности, как базовые запросы,
diff --git a/docs/guide-ru/structure-models.md b/docs/guide-ru/structure-models.md
index b2452dc7bd4..37080d2967a 100644
--- a/docs/guide-ru/structure-models.md
+++ b/docs/guide-ru/structure-models.md
@@ -29,7 +29,7 @@ $model->name = 'example';
 echo $model->name;
 ```
 
-Также возможно получить доступ к атрибутам как к элементам массива, спасибо поддержке [ArrayAccess](https://secure.php.net/manual/ru/class.arrayaccess.php) и [Traversable](https://secure.php.net/manual/ru/class.traversable.php)
+Также возможно получить доступ к атрибутам как к элементам массива, спасибо поддержке [ArrayAccess](https://www.php.net/manual/ru/class.arrayaccess.php) и [Traversable](https://www.php.net/manual/ru/class.traversable.php)
 в [[yii\base\Model]]:
 
 ```php
diff --git a/docs/guide-ru/tutorial-core-validators.md b/docs/guide-ru/tutorial-core-validators.md
index b3659846821..79700c8a9c5 100644
--- a/docs/guide-ru/tutorial-core-validators.md
+++ b/docs/guide-ru/tutorial-core-validators.md
@@ -117,7 +117,7 @@ public function rules()
 - `format`: формат даты/времени, согласно которому должна быть сделана проверка.
    Значение может быть паттерном, описанным в [руководстве ICU](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax)
    или форматом PHP префиксированным `php:`. Формат должен приниматься классом `Datetime`. Подробнее о нём можно
-   прочитать в [руководстве PHP по date_create_from_format()](https://secure.php.net/manual/ru/datetime.createfromformat.php).
+   прочитать в [руководстве PHP по date_create_from_format()](https://www.php.net/manual/ru/datetime.createfromformat.php).
    Если значение не задано, используется `Yii::$app->formatter->dateFormat`.
    Подробнее читайте в [[yii\validators\DateValidator::$format|документации по API]].
 - `timestampAttribute`: имя атрибута, которому данный валидатор может присваивать значение UNIX timestamp,
diff --git a/docs/guide-ru/tutorial-i18n.md b/docs/guide-ru/tutorial-i18n.md
index d010588353c..ee0791109dc 100644
--- a/docs/guide-ru/tutorial-i18n.md
+++ b/docs/guide-ru/tutorial-i18n.md
@@ -134,7 +134,7 @@ echo \Yii::t('app', 'Balance: {0}', $sum);
 
 ### Указатели с расширенным форматированием
 
-Чтобы использовать расширенные возможности, вам необходимо установить и включить [PHP-расширение intl](https://secure.php.net/manual/ru/intro.intl.php).
+Чтобы использовать расширенные возможности, вам необходимо установить и включить [PHP-расширение intl](https://www.php.net/manual/ru/intro.intl.php).
 После этого вам станет доступен расширенный синтаксис указателей, а также сокращённая запись `{placeholderName, argumentType}`,
 эквивалентная форме `{placeholderName, argumentType, argumentStyle}`, позволяющая определять стиль форматирования.
 
@@ -554,13 +554,13 @@ class TranslationEventHandler
 Настройка PHP-окружения <span id="setup-environment"></span>
 ------------------------------------------------------------
 
-Для работы с большей частью функций интернационализации Yii использует [PHP-расширение intl](https://secure.php.net/manual/ru/book.intl.php).
+Для работы с большей частью функций интернационализации Yii использует [PHP-расширение intl](https://www.php.net/manual/ru/book.intl.php).
 Например, это расширение используют классы, отвечающие за форматирование чисел и дат [[yii\i18n\Formatter]] и за форматирование
 строк [[yii\i18n\MessageFormatter]]. Оба класса поддерживают базовый функционал даже в том случае, если расширение `intl` не
 установлено. Однако этот запасной вариант более или менее будет работать только для сайтов на английском языке, хотя даже для
 них большая часть широких возможностей расширения `intl` не будет доступна, поэтому его установка настоятельно рекомендуется.
 
-[PHP-расширение intl](https://secure.php.net/manual/ru/book.intl.php) основано на [библиотеке ICU](http://site.icu-project.org/), которая
+[PHP-расширение intl](https://www.php.net/manual/ru/book.intl.php) основано на [библиотеке ICU](http://site.icu-project.org/), которая
 описывает правила форматирования для различных локалей. Поэтому следует помнить, что форматирование чисел и дат вместе с
 синтаксисом форматирования может отличаться в зависимости от версии библиотеки ICU, которая была скомпилирована в вашем
 дистрибутиве PHP.
diff --git a/docs/guide-ru/tutorial-performance-tuning.md b/docs/guide-ru/tutorial-performance-tuning.md
index fa9162bad3a..8e22acdf55d 100644
--- a/docs/guide-ru/tutorial-performance-tuning.md
+++ b/docs/guide-ru/tutorial-performance-tuning.md
@@ -11,7 +11,7 @@
 Хорошо сконфигурированное окружение PHP очень важно. Для получения максимальной производительности,
 
 - Используйте последнюю стабильную версию PHP. Мажорные релизы PHP могут принести значительные улучшения производительности.
-- Включите кеширование байткода в [Opcache](https://secure.php.net/manual/ru/book.opcache.php) (PHP 5.5 и старше) или [APC](http://secure.php.net/manual/ru/book.apc.php) 
+- Включите кеширование байткода в [Opcache](https://www.php.net/manual/ru/book.opcache.php) (PHP 5.5 и старше) или [APC](https://www.php.net/manual/ru/book.apc.php) 
   (PHP 5.4 и более ранние версии). Кеширование байткода позволяет избежать затрат времени на обработку и подключение PHP 
   скриптов при каждом входящем запросе.
 
@@ -213,4 +213,4 @@ composer dumpautoload -o
 
 - [Отладочный тулбар Yii и отладчик](https://github.com/yiisoft/yii2-debug/blob/master/docs/guide/README.md)
 - [Профайлер XDebug](http://xdebug.org/docs/profiler)
-- [XHProf](https://secure.php.net/manual/en/book.xhprof.php)
+- [XHProf](https://www.php.net/manual/en/book.xhprof.php)
diff --git a/docs/guide-tr/intro-yii.md b/docs/guide-tr/intro-yii.md
index 0de94ce865c..7807853affc 100644
--- a/docs/guide-tr/intro-yii.md
+++ b/docs/guide-tr/intro-yii.md
@@ -34,4 +34,4 @@ Gereksinimler ve Önkoşullar
 
 Yii 2.0, PHP 5.4.0 veya üstü sürüm gerektirir ve PHP 7'nin en son sürümü ile en iyi şekilde çalışır. Her bir Yii sürümünde yer alan gereksinim denetleyicisini çalıştırarak, daha ayrıntılı gereksinimleri ayrı ayrı özellikler için bulabilirsiniz.
 
-Yii OOP temelli bir kütüphane olduğu için Yii'yi kullanmak, nesne yönelimli programlama (OOP) hakkında temel bilgi gerektirir. Yii 2.0 ayrıca PHP'nin [namespaceler](https://secure.php.net/manual/en/language.namespaces.php) ve [traitler](https://secure.php.net/manual/en/language.oop5.traits.php) gibi son özelliklerinden de yararlanır. Bu kavramları anlamak, Yii 2.0'ı daha kolay anlamanıza yardımcı olacaktır.
+Yii OOP temelli bir kütüphane olduğu için Yii'yi kullanmak, nesne yönelimli programlama (OOP) hakkında temel bilgi gerektirir. Yii 2.0 ayrıca PHP'nin [namespaceler](https://www.php.net/manual/en/language.namespaces.php) ve [traitler](https://www.php.net/manual/en/language.oop5.traits.php) gibi son özelliklerinden de yararlanır. Bu kavramları anlamak, Yii 2.0'ı daha kolay anlamanıza yardımcı olacaktır.
diff --git a/docs/guide-tr/start-prerequisites.md b/docs/guide-tr/start-prerequisites.md
index 82da68bf236..7755c2fda13 100644
--- a/docs/guide-tr/start-prerequisites.md
+++ b/docs/guide-tr/start-prerequisites.md
@@ -4,7 +4,7 @@ Yii'yi öğrenmesi, diğer PHP kütüphaneleri kadar zor olmasada, yine de başl
 
 ## PHP
 
-Yii bir PHP kütüphanesidir, bu yüzden [PHP Dil Başvuru Kılavuzunu](https://secure.php.net/manual/tr/langref.php) okuduğunuzdan ve anladığınızdan emin olun. Yii ile geliştirirken, nesne yönelimli bir şekilde kod yazacaksınız, bu yüzden [Sınıflar ve Nesneler](https://secure.php.net/manual/tr/language.oop5.basic.php) gibi [ad alanları](https://secure.php.net/manual/en/language.namespaces.php)na aşina olduğunuzdan emin olun.
+Yii bir PHP kütüphanesidir, bu yüzden [PHP Dil Başvuru Kılavuzunu](https://www.php.net/manual/tr/langref.php) okuduğunuzdan ve anladığınızdan emin olun. Yii ile geliştirirken, nesne yönelimli bir şekilde kod yazacaksınız, bu yüzden [Sınıflar ve Nesneler](https://www.php.net/manual/tr/language.oop5.basic.php) gibi [ad alanları](https://www.php.net/manual/en/language.namespaces.php)na aşina olduğunuzdan emin olun.
 
 ## Nesne Yönelimli Programlama (OOP)
 
diff --git a/docs/guide-uk/concept-autoloading.md b/docs/guide-uk/concept-autoloading.md
index 7c2c3d8ff6c..f8efe38d33f 100644
--- a/docs/guide-uk/concept-autoloading.md
+++ b/docs/guide-uk/concept-autoloading.md
@@ -2,7 +2,7 @@
 =======================
 
 Пошук і підключення файлів класів в Yii реалізовано за допомогою
-[автозавантаження класів](https://secure.php.net/manual/ru/language.oop5.autoload.php).
+[автозавантаження класів](https://www.php.net/manual/ru/language.oop5.autoload.php).
 Фреймворк надає власний швидкісний автозавантажувач, що сумісний з 
 [PSR-4](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md),
 який встановлюється в момент підключення файлу `Yii.php`.
@@ -16,7 +16,7 @@
 
 Для використання автозавантажувача класів Yii слід дотримуватися два простих правила створення і іменування класів:
 
-* Кожен клас повинен належати до [простору імен](https://secure.php.net/manual/en/language.namespaces.php) (наприклад, `foo\bar\MyClass`)
+* Кожен клас повинен належати до [простору імен](https://www.php.net/manual/en/language.namespaces.php) (наприклад, `foo\bar\MyClass`)
 * Кожен клас повинен знаходитися в окремому файлі, шлях до якого визначаться наступним правилом:
 
 ```php
diff --git a/docs/guide-uk/intro-upgrade-from-v1.md b/docs/guide-uk/intro-upgrade-from-v1.md
index 5fabdd52ee7..7a3e79ee3c6 100644
--- a/docs/guide-uk/intro-upgrade-from-v1.md
+++ b/docs/guide-uk/intro-upgrade-from-v1.md
@@ -30,16 +30,16 @@ Yii 2.0 використовує PHP 5.4 або вище, який включа
 яка використовувалася Yii 1.1. Таким чином, існує багато відмінностей у мові, які ви повинні приймати до уваги.
 Нижче наведені основні зміни в PHP:
 
-- [Простори імен](https://secure.php.net/manual/en/language.namespaces.php);
-- [Анонімні функції](https://secure.php.net/manual/en/functions.anonymous.php);
+- [Простори імен](https://www.php.net/manual/en/language.namespaces.php);
+- [Анонімні функції](https://www.php.net/manual/en/functions.anonymous.php);
 - Використання короткого синтаксису для масивів: `[...елементи...]` замість `array(...елементи...)`;
 - Використання тегів `<?=` для вивода у файлах представлень.
   З версії PHP 5.4 дану можливість можна використовувати без побоювань;
-- [Класи та інтерфейси SPL](https://secure.php.net/manual/en/book.spl.php);
-- [Пізнє статичне звʼязування (LSB)](https://secure.php.net/manual/en/language.oop5.late-static-bindings.php);
-- [Класи для дати та часу](https://secure.php.net/manual/en/book.datetime.php);
-- [Трейти](https://secure.php.net/manual/en/language.oop5.traits.php);
-- [Інтернаціонализація (intl)](https://secure.php.net/manual/en/book.intl.php); Yii 2.0 використовує розширення PHP `intl`
+- [Класи та інтерфейси SPL](https://www.php.net/manual/en/book.spl.php);
+- [Пізнє статичне звʼязування (LSB)](https://www.php.net/manual/en/language.oop5.late-static-bindings.php);
+- [Класи для дати та часу](https://www.php.net/manual/en/book.datetime.php);
+- [Трейти](https://www.php.net/manual/en/language.oop5.traits.php);
+- [Інтернаціонализація (intl)](https://www.php.net/manual/en/book.intl.php); Yii 2.0 використовує розширення PHP `intl`
   для різного функціоналу інтернаціоналізації.
 
 
diff --git a/docs/guide-uk/intro-yii.md b/docs/guide-uk/intro-yii.md
index e9c890db4d2..93b0efb9998 100644
--- a/docs/guide-uk/intro-yii.md
+++ b/docs/guide-uk/intro-yii.md
@@ -50,5 +50,5 @@ Yii 2.0 потребує PHP 5.4.0 та вище. Щоб дізнатися ви
 який поставляється із кожним релізом фреймворку.
 
 Для розробки на Yii необхідне загальне розуміння ООП, оскільки фреймворк повністю слідує цій парадигмі.
-Також слід вивчити такі сучасні можливості PHP як [простори імен](https://secure.php.net/manual/en/language.namespaces.php)
-і [трейти](https://secure.php.net/manual/en/language.oop5.traits.php).
+Також слід вивчити такі сучасні можливості PHP як [простори імен](https://www.php.net/manual/en/language.namespaces.php)
+і [трейти](https://www.php.net/manual/en/language.oop5.traits.php).
diff --git a/docs/guide-uk/start-databases.md b/docs/guide-uk/start-databases.md
index 53c73be72dd..dbbb4789e82 100644
--- a/docs/guide-uk/start-databases.md
+++ b/docs/guide-uk/start-databases.md
@@ -50,7 +50,7 @@ INSERT INTO `country` VALUES ('US','United States',322976000);
 Налаштування підключення до БД <span id="configuring-db-connection"></span>
 ------------------------------
 
-Перш ніж продовжити, переконайтеся, що у вас встановлено розширення PHP [PDO](https://secure.php.net/manual/en/book.pdo.php)
+Перш ніж продовжити, переконайтеся, що у вас встановлено розширення PHP [PDO](https://www.php.net/manual/en/book.pdo.php)
 та драйвер PDO для вашої БД (наприклад `pdo_mysql` для MySQL). Це є основною вимогою,
 якщо ваш додаток використовує реляційну базу даних.
 
diff --git a/docs/guide-uk/start-installation.md b/docs/guide-uk/start-installation.md
index fef5e47952e..d10bfa6a179 100644
--- a/docs/guide-uk/start-installation.md
+++ b/docs/guide-uk/start-installation.md
@@ -99,7 +99,7 @@
 ----------------------
 
 Після успішного встановлення ви можете налаштувати свій веб-сервер (див. наступний розділ)
-або використати [вбудований веб-сервер PHP](https://secure.php.net/manual/en/features.commandline.webserver.php),
+або використати [вбудований веб-сервер PHP](https://www.php.net/manual/en/features.commandline.webserver.php),
 виконавши наступну консольну команду із директорії `web`:
 
 ```bash
@@ -136,7 +136,7 @@ http://localhost:8080/
   ```
 
 Необхідно налаштувати PHP таким чином, щоб він відповідав мінімальним вимогам Yii. Основна вимога — PHP версії 5.4 або вище.
-Якщо ваш додаток працює з базою даних, необхідно встановити [розширення PHP PDO](https://secure.php.net/manual/en/pdo.installation.php)
+Якщо ваш додаток працює з базою даних, необхідно встановити [розширення PHP PDO](https://www.php.net/manual/en/pdo.installation.php)
 та відповідний драйвер (наприклад, `pdo_mysql` для MySQL).
 
 
@@ -191,7 +191,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Рекомендовані налаштування Nginx <span id="recommended-nginx-configuration"></span>
 
-Для використання [Nginx](http://wiki.nginx.org/) вам потрібно встановити PHP як [FPM SAPI](https://secure.php.net/install.fpm).
+Для використання [Nginx](http://wiki.nginx.org/) вам потрібно встановити PHP як [FPM SAPI](https://www.php.net/install.fpm).
 Використовуйте наступні параметри Nginx, замінивши `path/to/basic/web` на коректний шлях до
 `basic/web`, а `mysite.test` на актуальний домен.
 
diff --git a/docs/guide-uk/structure-applications.md b/docs/guide-uk/structure-applications.md
index 4db7787cf4a..9ae7057f969 100644
--- a/docs/guide-uk/structure-applications.md
+++ b/docs/guide-uk/structure-applications.md
@@ -356,7 +356,7 @@ $width = \Yii::$app->params['thumbnail.size'][0];
 
 Дана властивість надає альтернативний спосіб встановлення часової зони за замовчуванням у процесі роботи додатка.
 Таким чином, вказуючи дану властивість, ви, по суті, викликаєте PHP-функцію 
-[date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php). Наприклад,
+[date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php). Наприклад,
 
 ```php
 [
diff --git a/docs/guide-uk/structure-models.md b/docs/guide-uk/structure-models.md
index fa354c20b52..ec9fbb4067a 100644
--- a/docs/guide-uk/structure-models.md
+++ b/docs/guide-uk/structure-models.md
@@ -37,7 +37,7 @@ echo $model->name;
 ```
 
 Ви також можете отримувати доступ до атрибутів як до елементів масиву, завдяки підтримці
-[ArrayAccess](https://secure.php.net/manual/en/class.arrayaccess.php) та [ArrayIterator](https://secure.php.net/manual/en/class.arrayiterator.php)
+[ArrayAccess](https://www.php.net/manual/en/class.arrayaccess.php) та [ArrayIterator](https://www.php.net/manual/en/class.arrayiterator.php)
 у класі [[yii\base\Model]]:
 
 ```php
diff --git a/docs/guide-uz/intro-upgrade-from-v1.md b/docs/guide-uz/intro-upgrade-from-v1.md
index 791fc28fbb7..6a4911f4976 100644
--- a/docs/guide-uz/intro-upgrade-from-v1.md
+++ b/docs/guide-uz/intro-upgrade-from-v1.md
@@ -25,16 +25,16 @@ Yii 2.0 talqin Yii 1.1 talqinda qo'llanilgan PHP 5.2 ga nisbatan ancha yaxshilan
 Shu tufayli siz nazarda tutishingiz kerak bo'lgan tildagi ko'p o'zgarishlar mavjud. 
 Quyida PHP ning asosiy o'zgarishlari keltirilgan:
 
-- [Nomlar sohasi](https://secure.php.net/manual/ru/language.namespaces.php);
-- [Anonim funksiyalar](https://secure.php.net/manual/ru/functions.anonymous.php);
+- [Nomlar sohasi](https://www.php.net/manual/ru/language.namespaces.php);
+- [Anonim funksiyalar](https://www.php.net/manual/ru/functions.anonymous.php);
 - Massivlar uchun qisqa sintaksisni qo'llash: `[...elementlar...]` ni `array(...элементы...)` o'rniga;
 - Qisqartirilgan teglarni qo'llash `<?=` ko'rinish fayllarida chiqarish uchun.
   PHP 5.4 talqinida ushbu imkoniyatni hech qanday sozlashlarsiz qo'llash mumkin;
-- [SPL ning klaslari va interfeyslari](https://secure.php.net/manual/ru/book.spl.php);
-- [Kechroq statik bog'lash (LSB)](https://secure.php.net/manual/ru/language.oop5.late-static-bindings.php);
-- [Sana va vaqt uchun klaslar](https://secure.php.net/manual/ru/book.datetime.php);
-- [Treytlar](https://secure.php.net/manual/ru/language.oop5.traits.php);
-- [Xalqarolashtirish (Intl)](https://secure.php.net/manual/ru/book.intl.php); Xalqarolashtirish imkoniyatlaridan foydalanish maqsadida Yii 2.0 PHP ning `intl` kengaytmasini ishlatadi.
+- [SPL ning klaslari va interfeyslari](https://www.php.net/manual/ru/book.spl.php);
+- [Kechroq statik bog'lash (LSB)](https://www.php.net/manual/ru/language.oop5.late-static-bindings.php);
+- [Sana va vaqt uchun klaslar](https://www.php.net/manual/ru/book.datetime.php);
+- [Treytlar](https://www.php.net/manual/ru/language.oop5.traits.php);
+- [Xalqarolashtirish (Intl)](https://www.php.net/manual/ru/book.intl.php); Xalqarolashtirish imkoniyatlaridan foydalanish maqsadida Yii 2.0 PHP ning `intl` kengaytmasini ishlatadi.
 
 
 Nomlar sohasi
diff --git a/docs/guide-uz/intro-yii.md b/docs/guide-uz/intro-yii.md
index f4bb201642a..4e9f1d6de52 100644
--- a/docs/guide-uz/intro-yii.md
+++ b/docs/guide-uz/intro-yii.md
@@ -34,4 +34,4 @@ DT va bilimlarga talablar
 
 Yii 2.0 PHP 5.4.0 va undan yuqorisini talab qiladi. Boshqa imkoniyatlar uchun talablarni bilish uchun har bir alohida yo'lga qo'yilgan freymvork bilan birga mos o'rnatilgan talablar tekshiruv skriptini ishga tushirishingiz mumkin.
 
-Freymvork to'liq obektga mo'ljallangan dasturlashga (OMD) asoslanganligi bois Yii da ishlash uchun OMD ni umumiy tushunish talab etiladi. Shuningdek, PHP ning zamonaviy imkoniyatlari bo'lmish [nomlar soxasi](https://secure.php.net/manual/ru/language.namespaces.php) va [treytlar](https://secure.php.net/manual/ru/language.oop5.traits.php) ni o'rganish talab etiladi.
+Freymvork to'liq obektga mo'ljallangan dasturlashga (OMD) asoslanganligi bois Yii da ishlash uchun OMD ni umumiy tushunish talab etiladi. Shuningdek, PHP ning zamonaviy imkoniyatlari bo'lmish [nomlar soxasi](https://www.php.net/manual/ru/language.namespaces.php) va [treytlar](https://www.php.net/manual/ru/language.oop5.traits.php) ni o'rganish talab etiladi.
diff --git a/docs/guide-uz/start-databases.md b/docs/guide-uz/start-databases.md
index 1d7308b5a26..ef35995e602 100644
--- a/docs/guide-uz/start-databases.md
+++ b/docs/guide-uz/start-databases.md
@@ -45,7 +45,7 @@ Hozirda sizda `yii2basic` degan ma'lumotlar ombori bo'lishi kerak va unda 3 ta u
 Ma'lumotlar omborida bilan aloqani sozlaymiz<span id="configuring-db-connection"></span>
 -------------------------------------------------------------------------
 
-Ishni boshlashdan oldin sizda [PDO](https://secure.php.net/manual/ru/book.pdo.php) kengaytmasi o'rnatilganiga amin bo'ling va PDO-boshqaruvchisi ma'lumotlar ombori bilan boshqara olishingiz uchun(misol uchun, `pdo_mysql` MYSql uchun). Bu siz aloqali ma'lumtolar ombori bilan ishlashingiz uchun assosiy talablardir.
+Ishni boshlashdan oldin sizda [PDO](https://www.php.net/manual/ru/book.pdo.php) kengaytmasi o'rnatilganiga amin bo'ling va PDO-boshqaruvchisi ma'lumotlar ombori bilan boshqara olishingiz uchun(misol uchun, `pdo_mysql` MYSql uchun). Bu siz aloqali ma'lumtolar ombori bilan ishlashingiz uchun assosiy talablardir.
 Endi esa, hammasini o'rnatib bo'lganingizdan so'ng, `config/db.php` oching va sozlamalarni o`zingizni ma'lumotlar omboringiz sozlamalariga o'zgartiring. Boshlanish sozlamalar quydagichadir:
 
 ```php
diff --git a/docs/guide-uz/start-installation.md b/docs/guide-uz/start-installation.md
index 5925ef0e1c2..7c4a627d220 100644
--- a/docs/guide-uz/start-installation.md
+++ b/docs/guide-uz/start-installation.md
@@ -97,7 +97,7 @@ cd basic
 php requirements.php
 ```
 
-Freymvork to'g'ri ishlashi uchun PHPni minimal talablarga javob beradigan tarzda sozlashingiz kerak. Asosiy talablardan biri bu PHP versiyasi 5.4 va undan yuqori bolishi kerak. Agar veb-ilovangiz ma'lumotlar bazasi bilan ishlayotgan bo'lsa , [PHP PDO kengaytmasini](https://secure.php.net/manual/ru/pdo.installation.php) va tegishli drayverni (masalan, MySQL uchun pdo_mysql ) o'rnatishingiz kerak.
+Freymvork to'g'ri ishlashi uchun PHPni minimal talablarga javob beradigan tarzda sozlashingiz kerak. Asosiy talablardan biri bu PHP versiyasi 5.4 va undan yuqori bolishi kerak. Agar veb-ilovangiz ma'lumotlar bazasi bilan ishlayotgan bo'lsa , [PHP PDO kengaytmasini](https://www.php.net/manual/ru/pdo.installation.php) va tegishli drayverni (masalan, MySQL uchun pdo_mysql ) o'rnatishingiz kerak.
 
 
 Web-server sozlamasi<span id="configuring-web-servers"></span>
@@ -139,7 +139,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Tavsiya etilgan Nginx sozlamalari <span id="recommended-nginx-configuration"></span>
 
-PHP Nginx uchun [FPM SAPI](https://secure.php.net/manual/ru/install.fpm.php) sifatida o'rnatilishi kerak. Quyidagi [Nginx](http://wiki.nginx.org/) sozlamalaridan foydalaning va `basic/web` va `mysite.test` to'g'ri manzilini hostname-ga almashtirishni  va `path/to/basic/web` ni almashtirishni unutmang. 
+PHP Nginx uchun [FPM SAPI](https://www.php.net/manual/ru/install.fpm.php) sifatida o'rnatilishi kerak. Quyidagi [Nginx](http://wiki.nginx.org/) sozlamalaridan foydalaning va `basic/web` va `mysite.test` to'g'ri manzilini hostname-ga almashtirishni  va `path/to/basic/web` ni almashtirishni unutmang. 
 
 ```
 server {
diff --git a/docs/guide-vi/intro-yii.md b/docs/guide-vi/intro-yii.md
index 92581329f46..6548c58ed28 100644
--- a/docs/guide-vi/intro-yii.md
+++ b/docs/guide-vi/intro-yii.md
@@ -51,5 +51,5 @@ Yii 2.0 đòi hỏi phiên bản PHP 5.4.0 hoặc cao hơn. Bạn có thể ch
 kiểm tra xem những gì các đặc điểm cụ thể của từng cấu hình PHP.
 
 Để tìm hiểu Yii, bạn cần có kiến thức cơ bản về lập trình hướng đối tượng (OOP), vì Yii là một framework hướng đối tượng
-thuần túy. Yii 2.0 cũng sử dụng các tính năng PHP mới nhất, chẳng hạn như [namespaces](https://secure.php.net/manual/en/language.namespaces.php) và [traits](https://secure.php.net/manual/en/language.oop5.traits.php).
+thuần túy. Yii 2.0 cũng sử dụng các tính năng PHP mới nhất, chẳng hạn như [namespaces](https://www.php.net/manual/en/language.namespaces.php) và [traits](https://www.php.net/manual/en/language.oop5.traits.php).
 Hiểu được những khái niệm này sẽ giúp bạn nhanh chóng nắm bắt Yii 2.0.
diff --git a/docs/guide-vi/start-databases.md b/docs/guide-vi/start-databases.md
index 57277749955..d98a84dfb2b 100644
--- a/docs/guide-vi/start-databases.md
+++ b/docs/guide-vi/start-databases.md
@@ -50,7 +50,7 @@ INSERT INTO `country` VALUES ('US','United States',322976000);
 Cấu hình kết nối tới CSDL <span id="configuring-db-connection"></span>
 ---------------------------
 
-Trước tiên, hãy chắc chắn rằng bạn đã cài 2 gói PHP [PDO](https://secure.php.net/manual/en/book.pdo.php) và
+Trước tiên, hãy chắc chắn rằng bạn đã cài 2 gói PHP [PDO](https://www.php.net/manual/en/book.pdo.php) và
 PDO driver dành cho các CSDL mà đang sử dụng(ví dụ `pdo_mysql` cho MySQL). Đối với các CSDL quan hệ thì những gói này 
 cần phải có.
 
diff --git a/docs/guide-vi/start-installation.md b/docs/guide-vi/start-installation.md
index f354d1d9294..30772c4dcc8 100644
--- a/docs/guide-vi/start-installation.md
+++ b/docs/guide-vi/start-installation.md
@@ -110,7 +110,7 @@ Các yêu cầu Yii. Bạn có thể kiểm tra xem các yêu cầu tối thiể
   ```
 
 Bạn nên cấu hình cài đặt PHP của bạn để nó đáp ứng các yêu cầu tối thiểu của Yii. Diều quan trọng nhất, bạn nên có PHP 5.4 hoặc hơn. Bạn cũng nên cài đặt
-các gói [PDO PHP Extension](https://secure.php.net/manual/en/pdo.installation.php) và một trình điều khiển cơ sở dữ liệu tương ứng
+các gói [PDO PHP Extension](https://www.php.net/manual/en/pdo.installation.php) và một trình điều khiển cơ sở dữ liệu tương ứng
 (như là `pdo_mysql` cho CSDL MySQL), nếu ứng dụng của bạn cần thao tác với CSLD.
 
 
@@ -161,7 +161,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Các khuyến nghị khi cấu hình Nginx <span id="recommended-nginx-configuration"></span>
 
-Để sử dụng [Nginx](http://wiki.nginx.org/), bạn cần phải cài đặt [FPM SAPI](https://secure.php.net/install.fpm).
+Để sử dụng [Nginx](http://wiki.nginx.org/), bạn cần phải cài đặt [FPM SAPI](https://www.php.net/install.fpm).
 Bạn có thể cấu hình Nginx như sau, thay thế đường dẫn `path/to/basic/web` với đường dẫn thực tế ở
 `basic/web` và  `mysite.test` thay thế bằng tên máy chủ thực tế để cung cấp dịch vụ.
 
diff --git a/docs/guide-vi/start-prerequisites.md b/docs/guide-vi/start-prerequisites.md
index d67ba552c2f..642c53e0508 100644
--- a/docs/guide-vi/start-prerequisites.md
+++ b/docs/guide-vi/start-prerequisites.md
@@ -4,8 +4,8 @@ Quá trình học Yii không quá khó cũng như các framework PHP khác nhưn
 
 ## PHP
 
-Yii là một framework PHP nên hãy đảm bảo bạn đã [đọc và hiểu ngôn ngữ của nó](https://secure.php.net/manual/en/langref.php).
-Khi phát triển với Yii, bạn sẽ viết code theo hướng đối tượng, vì vậy hãy đảm bảo rằng bạn đã quen với [Classes và Objects](https://secure.php.net/manual/en/language.oop5.basic.php) cũng như [namespaces](https://secure.php.net/manual/en/language.namespaces.php).
+Yii là một framework PHP nên hãy đảm bảo bạn đã [đọc và hiểu ngôn ngữ của nó](https://www.php.net/manual/en/langref.php).
+Khi phát triển với Yii, bạn sẽ viết code theo hướng đối tượng, vì vậy hãy đảm bảo rằng bạn đã quen với [Classes và Objects](https://www.php.net/manual/en/language.oop5.basic.php) cũng như [namespaces](https://www.php.net/manual/en/language.namespaces.php).
 
 ## Lập trình hướng đối tượng
 
diff --git a/docs/guide-vi/structure-applications.md b/docs/guide-vi/structure-applications.md
index a5e13785c5e..8aad3d7f622 100644
--- a/docs/guide-vi/structure-applications.md
+++ b/docs/guide-vi/structure-applications.md
@@ -355,7 +355,7 @@ Xem thêm trong phần [Quốc tế hóa](tutorial-i18n.md) để hiểu thêm t
 
 Thuộc tính này cung cấp cách khác để thiết lập time zone trong PHP.
 Qua việc cấu hình thuộc tính này, chủ yếu được gọi qua hàm
-[date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php). Ví dụ:
+[date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php). Ví dụ:
 
 ```php
 [
diff --git a/docs/guide-vi/structure-models.md b/docs/guide-vi/structure-models.md
index 3af1aa4bdf6..ab45930cca6 100644
--- a/docs/guide-vi/structure-models.md
+++ b/docs/guide-vi/structure-models.md
@@ -37,7 +37,7 @@ echo $model->name;
 ```
 
 Bạn có thể truy cập các thuộc tính như truy cập mảng các phần tử, nhờ sự hỗ trợ từ lớp
-[ArrayAccess](https://secure.php.net/manual/en/class.arrayaccess.php) và [ArrayIterator](https://secure.php.net/manual/en/class.arrayiterator.php)
+[ArrayAccess](https://www.php.net/manual/en/class.arrayaccess.php) và [ArrayIterator](https://www.php.net/manual/en/class.arrayiterator.php)
 bởi [[yii\base\Model]]:
 
 ```php
diff --git a/docs/guide-zh-CN/caching-data.md b/docs/guide-zh-CN/caching-data.md
index a2bc1b7f481..c31f2964d6e 100644
--- a/docs/guide-zh-CN/caching-data.md
+++ b/docs/guide-zh-CN/caching-data.md
@@ -103,7 +103,7 @@ $data = $cache->getOrSet($key, function () use ($user_id) {
 
 Yii 支持一系列缓存存储器，概况如下：
 
-* [[yii\caching\ApcCache]]：使用 PHP [APC](https://secure.php.net/manual/en/book.apc.php) 扩展。
+* [[yii\caching\ApcCache]]：使用 PHP [APC](https://www.php.net/manual/en/book.apc.php) 扩展。
   这个选项可以认为是集中式应用程序环境中
  （例如：单一服务器，没有独立的负载均衡器等）最快的缓存方案。
 * [[yii\caching\DbCache]]：使用一个数据库的表存储缓存数据。要使用这个缓存，
@@ -120,14 +120,14 @@ Yii 支持一系列缓存存储器，概况如下：
   `Yii::$app->cache` 可能是 `null`。
 * [[yii\caching\FileCache]]：使用标准文件存储缓存数据。
   这个特别适用于缓存大块数据，例如一个整页的内容。
-* [[yii\caching\MemCache]]：使用 PHP [memcache](https://secure.php.net/manual/en/book.memcache.php) 
-  和 [memcached](https://secure.php.net/manual/en/book.memcached.php) 扩展。
+* [[yii\caching\MemCache]]：使用 PHP [memcache](https://www.php.net/manual/en/book.memcache.php) 
+  和 [memcached](https://www.php.net/manual/en/book.memcached.php) 扩展。
   这个选项被看作分布式应用环境中（例如：多台服务器，有负载均衡等）
   最快的缓存方案。
 * [[yii\redis\Cache]]：实现了一个基于 [Redis](http://redis.io/) 键值对存储器的缓存组件
  （需要 redis 2.6.12 及以上版本的支持 ）。
 * [[yii\caching\WinCache]]：使用 PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension)
- （[另可参考](https://secure.php.net/manual/en/book.wincache.php)）扩展.
+ （[另可参考](https://www.php.net/manual/en/book.wincache.php)）扩展.
 * [[yii\caching\XCache]]：使用 PHP [XCache](http://xcache.lighttpd.net/)扩展。
 * [[yii\caching\ZendDataCache]]：使用 
   [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend- server.htm#data_cache_component.htm) 
diff --git a/docs/guide-zh-CN/caching-http.md b/docs/guide-zh-CN/caching-http.md
index 71e81cc5f8b..d457e236080 100644
--- a/docs/guide-zh-CN/caching-http.md
+++ b/docs/guide-zh-CN/caching-http.md
@@ -131,7 +131,7 @@ Cache-Control: public, max-age=3600
 为了避免此问题，默认情况下 `HttpCache` 禁止自动发送这些头。
 想改变这一行为，可以配置 [[yii\filters\HttpCache::sessionCacheLimiter]] 属性。
 该属性接受一个字符串值，包括 `public`，`private`，`private_no_expire`，和 `nocache`。
-请参考 PHP 手册中的[缓存限制器](https://secure.php.net/manual/en/function.session-cache-limiter.php)
+请参考 PHP 手册中的[缓存限制器](https://www.php.net/manual/en/function.session-cache-limiter.php)
 了解这些值的含义。
 
 
diff --git a/docs/guide-zh-CN/concept-autoloading.md b/docs/guide-zh-CN/concept-autoloading.md
index 2ac47a6cfa3..0069f2258cb 100644
--- a/docs/guide-zh-CN/concept-autoloading.md
+++ b/docs/guide-zh-CN/concept-autoloading.md
@@ -1,7 +1,7 @@
 类自动加载（Autoloading）
 ======================
 
-Yii 依靠[类自动加载机制](https://secure.php.net/manual/en/language.oop5.autoload.php)来定位和包含所需的类文件。
+Yii 依靠[类自动加载机制](https://www.php.net/manual/zh/language.oop5.autoload.php)来定位和包含所需的类文件。
 它提供一个高性能且完美支持[PSR-4 标准](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md)
 的自动加载器。
 该自动加载器会在引入框架文件 `Yii.php` 时安装好。
diff --git a/docs/guide-zh-CN/concept-behaviors.md b/docs/guide-zh-CN/concept-behaviors.md
index 58794f12432..96c84d7bd0a 100644
--- a/docs/guide-zh-CN/concept-behaviors.md
+++ b/docs/guide-zh-CN/concept-behaviors.md
@@ -329,7 +329,7 @@ $user->touch('login_time');
 比较行为与 Traits <span id="comparison-with-traits"></span>
 ----------------------
 
-虽然行为类似于 [traits](https://secure.php.net/traits)，它们都将自己的属性和方法“注入”到主类中，
+虽然行为类似于 [traits](https://www.php.net/traits)，它们都将自己的属性和方法“注入”到主类中，
 但它们在许多方面有所不同。如下所述，他们都有优点和缺点。
 它们更像互补类而非替代类。
 
diff --git a/docs/guide-zh-CN/concept-events.md b/docs/guide-zh-CN/concept-events.md
index c23b8fcce59..e2ad8515ee4 100644
--- a/docs/guide-zh-CN/concept-events.md
+++ b/docs/guide-zh-CN/concept-events.md
@@ -13,7 +13,7 @@ Yii 引入了名为 [[yii\base\Component]] 的基类以支持事件。
 事件处理器（Event Handlers） <span id="event-handlers"></span>
 -------------------------
 
-事件处理器是一个[PHP 回调函数](https://secure.php.net/manual/en/language.types.callable.php)，
+事件处理器是一个[PHP 回调函数](https://www.php.net/manual/en/language.types.callable.php)，
 当它所附加到的事件被触发时它就会执行。可以使用以下回调函数之一：
 
 - 字符串形式指定的 PHP 全局函数，如 `'trim'` ；
diff --git a/docs/guide-zh-CN/db-active-record.md b/docs/guide-zh-CN/db-active-record.md
index 81d9a867795..6cac68139c0 100644
--- a/docs/guide-zh-CN/db-active-record.md
+++ b/docs/guide-zh-CN/db-active-record.md
@@ -473,8 +473,8 @@ Active Record 自动维护脏属性列表。 它保存所有属性的旧值，
 > 其中每个值都表示为一个字符串类型。
 > 为了确保正确的类型，比如，整型需要用[过滤验证器](input-validation.md#data-filtering)：
 > `['attributeName', 'filter', 'filter' => 'intval']`。其他 PHP 类型转换函数一样适用，像
-> [intval()](https://secure.php.net/manual/en/function.intval.php)， [floatval()](https://secure.php.net/manual/en/function.floatval.php)，
-> [boolval](https://secure.php.net/manual/en/function.boolval.php)，等等
+> [intval()](https://www.php.net/manual/en/function.intval.php)， [floatval()](https://www.php.net/manual/en/function.floatval.php)，
+> [boolval](https://www.php.net/manual/en/function.boolval.php)，等等
 
 ### 默认属性值（Default Attribute Values） <span id="default-attribute-values"></span>
 
@@ -689,7 +689,7 @@ try {
 ```
 
 > Tip: 在上面的代码中，我们有两个catch块用于兼容
-> PHP 5.x 和 PHP 7.x。 `\Exception` 继承于 [`\Throwable` interface](https://secure.php.net/manual/en/class.throwable.php)
+> PHP 5.x 和 PHP 7.x。 `\Exception` 继承于 [`\Throwable` interface](https://www.php.net/manual/en/class.throwable.php)
 > 由于 PHP 7.0 的改动，如果您的应用程序仅使用 PHP 7.0 及更高版本，您可以跳过 `\Exception` 部分。
 
 第二种方法是在 [[yii\db\ActiveRecord::transactions()]] 方法中列出需要事务支持的 DB 操作。 
@@ -792,6 +792,12 @@ public function behaviors()
         OptimisticLockBehavior::class,
     ];
 }
+
+public function optimisticLock()
+{
+    return 'version';
+}
+
 ```
 > Note: 因为 [[\yii\behaviors\OptimisticLockBehavior|OptimisticLockBehavior]] 仅仅在保存记录的时候被确认，
 > 如果用户提交的有效版本号被直接解析 ：[[\yii\web\Request::getBodyParam()|getBodyParam()]]，
diff --git a/docs/guide-zh-CN/db-dao.md b/docs/guide-zh-CN/db-dao.md
index 228a96c5e88..41db692655f 100644
--- a/docs/guide-zh-CN/db-dao.md
+++ b/docs/guide-zh-CN/db-dao.md
@@ -16,7 +16,7 @@ Yii DAO 支持下列现成的数据库：
 - [SQLite](http://sqlite.org/)
 - [PostgreSQL](http://www.postgresql.org/)：版本 8.4 或更高
 - [CUBRID](http://www.cubrid.org/)：版本 9.3 或更高。
-- [Oracle](http://www.oracle.com/us/products/database/overview/index.html)
+- [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx)：版本 2008 或更高。
 
 > Info: 在Yii 2.1及更高版本中，DAO 支持 CUBRID，Oracle 和 MSSQL
@@ -68,7 +68,7 @@ return [
 
 配置数据库连接时， 你应该总是通过 [[yii\db\Connection::dsn|dsn]] 属性来指明它的数据源名称 (DSN) 。
 不同的数据库有着不同的 DSN 格式。
-请参考 [PHP manual](https://secure.php.net/manual/en/function.PDO-construct.php) 来获得更多细节。下面是一些例子：
+请参考 [PHP manual](https://www.php.net/manual/en/pdo.construct.php) 来获得更多细节。下面是一些例子：
  
 * MySQL, MariaDB: `mysql:host=localhost;dbname=mydatabase`
 * SQLite: `sqlite:/path/to/database/file`
@@ -184,7 +184,7 @@ $post = Yii::$app->db->createCommand('SELECT * FROM post WHERE id=:id AND status
            ->queryOne();
 ```
 
-绑定参数是通过 [预处理语句](https://secure.php.net/manual/en/mysqli.quickstart.prepared-statements.php) 实现的。
+绑定参数是通过 [预处理语句](https://www.php.net/manual/en/mysqli.quickstart.prepared-statements.php) 实现的。
 除了防止 SQL 注入攻击，它也可以通过一次预处理 SQL 语句，
 使用不同参数多次执行，来提升性能。例如：
 
diff --git a/docs/guide-zh-CN/db-query-builder.md b/docs/guide-zh-CN/db-query-builder.md
index 0dfa3dd507f..fb06bfb7946 100644
--- a/docs/guide-zh-CN/db-query-builder.md
+++ b/docs/guide-zh-CN/db-query-builder.md
@@ -155,7 +155,7 @@ $query->from(['u' => $subQuery]);
 
 #### 前缀
 `from` 还可以应用默认的 [[yii\db\Connection::$tablePrefix|tablePrefix]] 前缀，实现细节请参考
-[“数据库访问对象指南”的“Quoting Tables”章节](guide-db-dao.html#quoting-table-and-column-names).
+[“数据库访问对象指南”的“Quoting Tables”章节](db-dao.md#quoting-table-and-column-names).
 
 ### [[yii\db\Query::where()|where()]] <span id="where"></span>
 
@@ -771,7 +771,7 @@ foreach ($query->each() as $username => $user) {
 
 #### MySQL中批量查询的局限性（Limitations of batch query in MySQL） <span id="batch-query-mysql"></span>
 
-MySQL 是通过 PDO 驱动库实现批量查询的。默认情况下，MySQL 查询是 [`带缓存的`](https://secure.php.net/manual/en/mysqlinfo.concepts.buffering.php)，
+MySQL 是通过 PDO 驱动库实现批量查询的。默认情况下，MySQL 查询是 [`带缓存的`](https://www.php.net/manual/en/mysqlinfo.concepts.buffering.php)，
 这违背了使用游标（cursor）获取数据的目的，
 因为它不阻止驱动程序将整个结果集加载到客户端的内存中。
 
diff --git a/docs/guide-zh-CN/helper-array.md b/docs/guide-zh-CN/helper-array.md
index c458e4ad7bf..0aafaaa1c0e 100644
--- a/docs/guide-zh-CN/helper-array.md
+++ b/docs/guide-zh-CN/helper-array.md
@@ -1,7 +1,7 @@
 数组助手类（ArrayHelper）
 ======================
 
-除了 [PHP 中丰富的数组函数集](https://secure.php.net/manual/zh/book.array.php)，
+除了 [PHP 中丰富的数组函数集](https://www.php.net/manual/zh/book.array.php)，
 Yii 数组助手类提供了额外的静态方法，让你更高效地处理数组。
 
 
@@ -117,7 +117,7 @@ $type = ArrayHelper::remove($array, 'type');
 
 ## 检查键名的存在（Checking Existence of Keys） <span id="checking-existence-of-keys"></span>
 
-`ArrayHelper::keyExists` 工作原理和 [array_key_exists](https://secure.php.net/manual/en/function.array-key-exists.php) 差不多，除了
+`ArrayHelper::keyExists` 工作原理和 [array_key_exists](https://www.php.net/manual/en/function.array-key-exists.php) 差不多，除了
 它还可支持大小写不敏感的键名比较，比如：
 
 ```php
@@ -321,7 +321,7 @@ ArrayHelper::multisort($data, function($item) {
 各个键指定不同的顺序。
 
 最后一个参数（译者注：第四个参数）是PHP的排序标识（sort flag），可使用的值和调用 PHP
-[sort()](https://secure.php.net/manual/zh/function.sort.php) 函数时传递的值一样。
+[sort()](https://www.php.net/manual/zh/function.sort.php) 函数时传递的值一样。
 
 
 ## 检测数组类型（Detecting Array Types） <span id="detecting-array-types"></span> 
@@ -356,7 +356,7 @@ $decoded = ArrayHelper::htmlDecode($data);
 
 您可以使用 [[yii\helpers\ArrayHelper::merge()|ArrayHelper::merge()]] 将两个或多个数组合并成一个递归的数组。
 如果每个数组都有一个具有相同字符串键值的元素，则后者将覆盖前者
-（不同于 [array_merge_recursive()](https://secure.php.net/manual/en/function.array-merge-recursive.php)）。
+（不同于 [array_merge_recursive()](https://www.php.net/manual/en/function.array-merge-recursive.php)）。
 如果两个数组都有一个数组类型的元素并且具有相同的键，则将执行递归合并。
 对于整数键的元素，来自后一个数组的元素将被附加到前一个数组。
 您可以使用 [[yii\helpers\UnsetArrayValue]] 对象来取消前一个数组的值或
diff --git a/docs/guide-zh-CN/helper-html.md b/docs/guide-zh-CN/helper-html.md
index 2e4007f1f37..83a5fc81a36 100644
--- a/docs/guide-zh-CN/helper-html.md
+++ b/docs/guide-zh-CN/helper-html.md
@@ -2,7 +2,7 @@ Html 帮助类（Html helper）
 =======================
 
 任何一个 web 应用程序会生成很多 HTMl 超文本标记。如果超文本标记是静态的，
-那么[将 PHP 和 HTML 混合在一个文件里](https://secure.php.net/manual/en/language.basic-syntax.phpmode.php)
+那么[将 PHP 和 HTML 混合在一个文件里](https://www.php.net/manual/en/language.basic-syntax.phpmode.php)
 这种做法是非常高效的。但是，如果这些超文本标记是动态生成的，那么如果没有额外的辅助工具，这个过程将会变得复杂。
 Yii 通过 HTML  帮助类来提供生成超文本标记的方法。这个帮助类包含有一系列的用于处理通用的 HTML 标签和其属性以及内容的静态方法。
 
@@ -147,8 +147,8 @@ Html::removeCssStyle($options, ['width', 'height']);
 ### 标签内容的转码和解码（Encoding and Decoding Content） <span id="encoding-and-decoding-content"></span>
 
 为了让内容能够正确安全的显示，一些 HTML 特殊字符应该被转码。在 PHP 中，
-这个操作由 [htmlspecialchars](https://secure.php.net/manual/en/function.htmlspecialchars.php) 和
-[htmlspecialchars_decode](https://secure.php.net/manual/en/function.htmlspecialchars-decode.php) 完成。
+这个操作由 [htmlspecialchars](https://www.php.net/manual/en/function.htmlspecialchars.php) 和
+[htmlspecialchars_decode](https://www.php.net/manual/en/function.htmlspecialchars-decode.php) 完成。
 直接使用这些方法的问题是，你总是需要指定转码所需的额外标志。由于标志一般总是不变的，而内容转码的过程为了避免一些安全问题，
 需要和应用的默认过程匹配，
 Yii 提供了两个简单可用的对 PHP 原生方法的封装：
diff --git a/docs/guide-zh-CN/input-file-upload.md b/docs/guide-zh-CN/input-file-upload.md
index 27e40039897..5532d42a867 100644
--- a/docs/guide-zh-CN/input-file-upload.md
+++ b/docs/guide-zh-CN/input-file-upload.md
@@ -123,7 +123,7 @@ class SiteController extends Controller
 首先你得调整模型类，在 `file` 验证规则里增加一个 `maxFiles` 选项，用以限制一次上传文件的最大数量。
 `upload()`方法也得修改,以便一个一个地保存上传的文件。将 `maxFiles` 设置为 `0` 意味着可以同时上传的文件数量没有限制。
 允许同时上传的文件的最大数量也受到 PHP 指令
-[`max_file_uploads`](https://secure.php.net/manual/en/ini.core.php#ini.max-file-uploads)的限制，
+[`max_file_uploads`](https://www.php.net/manual/en/ini.core.php#ini.max-file-uploads)的限制，
 默认为20。还应该更新 `upload()` 方法以逐个保存上传的文件。
 
 ```php
diff --git a/docs/guide-zh-CN/input-forms.md b/docs/guide-zh-CN/input-forms.md
index 039a6c2ed84..5310a0c9455 100644
--- a/docs/guide-zh-CN/input-forms.md
+++ b/docs/guide-zh-CN/input-forms.md
@@ -107,7 +107,7 @@ echo $form->field($model, 'items[]')->checkboxList(['a' => 'Item A', 'b' => 'Ite
 
 > 表单和它们的子元素不应该使用与表单的属性冲突的 input name 或 id，
 > 例如 `submit`，`length`，或者 `method`。
-> 要检查你的标签是否存在这些问题，一个完整的规则列表详见 [DOMLint](http://kangax.github.io/domlint/)。
+> 要检查你的标签是否存在这些问题，一个完整的规则列表详见 [DOMLint](https://kangax.github.io/domlint/)。
 
 额外的 HTML 标签可以使用纯 HTML 或者 [[yii\helpers\Html|Html]]-辅助类中的方法来添加到表单中，就如上面例子中的
 [[yii\helpers\Html::submitButton()|Html::submitButton()]]。
diff --git a/docs/guide-zh-CN/intro-upgrade-from-v1.md b/docs/guide-zh-CN/intro-upgrade-from-v1.md
index 42aa2b9b9a9..a2c3a9a3928 100644
--- a/docs/guide-zh-CN/intro-upgrade-from-v1.md
+++ b/docs/guide-zh-CN/intro-upgrade-from-v1.md
@@ -29,15 +29,15 @@ Yii 2.0 需要 PHP 5.4 或更高版本，该版本相对于 Yii 1.1 所需求的
 因此在语言层面上有很多的值得注意的不同之处。
 下面是 PHP 层的主要变化汇总：
 
-- [命名空间](https://secure.php.net/manual/zh/language.namespaces.php)
-- [匿名函数](https://secure.php.net/manual/zh/functions.anonymous.php)
+- [命名空间](https://www.php.net/manual/zh/language.namespaces.php)
+- [匿名函数](https://www.php.net/manual/zh/functions.anonymous.php)
 - 数组短语法 `[...元素...]` 用于取代 `array(...元素...)`
 - 视图文件中的短格式 echo 标签 `<?=`，自 PHP 5.4 起总会被识别并且合法，无论 short_open_tag 的设置是什么，可以安全使用。
-- [SPL 类和接口](https://secure.php.net/manual/zh/book.spl.php)
-- [延迟静态绑定](https://secure.php.net/manual/zh/language.oop5.late-static-bindings.php)
-- [日期和时间](https://secure.php.net/manual/zh/book.datetime.php)
-- [Traits](https://secure.php.net/manual/zh/language.oop5.traits.php)
-- [intl](https://secure.php.net/manual/zh/book.intl.php) Yii 2.0 使用 PHP 扩展 `intl` 
+- [SPL 类和接口](https://www.php.net/manual/zh/book.spl.php)
+- [延迟静态绑定](https://www.php.net/manual/zh/language.oop5.late-static-bindings.php)
+- [日期和时间](https://www.php.net/manual/zh/book.datetime.php)
+- [Traits](https://www.php.net/manual/zh/language.oop5.traits.php)
+- [intl](https://www.php.net/manual/zh/book.intl.php) Yii 2.0 使用 PHP 扩展 `intl` 
   来支持国际化的相关功能。
 
 
diff --git a/docs/guide-zh-CN/intro-yii.md b/docs/guide-zh-CN/intro-yii.md
index 8c70927874f..990f13b2010 100644
--- a/docs/guide-zh-CN/intro-yii.md
+++ b/docs/guide-zh-CN/intro-yii.md
@@ -54,7 +54,7 @@ Yii 2.0 需要 PHP 5.4.0 或以上版本支持。你可以通过运行任何
 Yii 发行包中附带的系统要求检查器查看每个具体特性所需的 PHP 配置。
 
 使用 Yii 需要对面向对象编程（OOP）有基本了解，因为 Yii 是一个纯面向对象的框架。Yii 2.0 还使用了 PHP 的最新特性，
-例如[命名空间](https://secure.php.net/manual/en/language.namespaces.php)
-和[Trait（特质）](https://secure.php.net/manual/en/language.oop5.traits.php)。
+例如[命名空间](https://www.php.net/manual/en/language.namespaces.php)
+和[Trait（特质）](https://www.php.net/manual/en/language.oop5.traits.php)。
 理解这些概念将有助于你更快地掌握 Yii 2.0。
 
diff --git a/docs/guide-zh-CN/output-client-scripts.md b/docs/guide-zh-CN/output-client-scripts.md
index 88087665616..0789119c5e0 100644
--- a/docs/guide-zh-CN/output-client-scripts.md
+++ b/docs/guide-zh-CN/output-client-scripts.md
@@ -189,7 +189,7 @@ JS
 ```
 
 上面的示例代码使用 PHP
-[Heredoc 语法](https://secure.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc) 以获得更好的可读性。
+[Heredoc 语法](https://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc) 以获得更好的可读性。
 这也可以在大多数 IDE 中实现更好的语法突出显示，因此它是编写内联 JavaScript 的首选方式，对于长于单行的代码尤其有用。变量 `$message` 是在 PHP
 中创建的，感谢 [[yii\helpers\Json::htmlEncode|Json::htmlEncode]]
 它包含有效 JS 语法中的字符串，可以将其插入到 JavaScript 代码中以放置 函数中的动态字符串调用 `alert()`。
diff --git a/docs/guide-zh-CN/output-formatting.md b/docs/guide-zh-CN/output-formatting.md
index de1f4f2b1f9..d27841da950 100644
--- a/docs/guide-zh-CN/output-formatting.md
+++ b/docs/guide-zh-CN/output-formatting.md
@@ -45,7 +45,7 @@ echo Yii::$app->formatter->format(0.125, ['percent', 2]);
 > 不要使用这个组件，
 > 而应该使用 [[yii\validators\DateValidator]] 和 [[yii\validators\NumberValidator]] 进行用户输入格式化
 > 对于机器可读的日期和时间格式之间的简单转换，
-> PHP 方法 [date()](https://secure.php.net/manual/en/function.date.php) 就足够了。
+> PHP 方法 [date()](https://www.php.net/manual/en/function.date.php) 就足够了。
 
 ## 配置 Formatter（Configuring Formatter） <span id="configuring-formatter"></span>
 
@@ -86,7 +86,7 @@ return [
 [[yii\i18n\Formatter::timeFormat|timeFormat]], 和 [[yii\i18n\Formatter::datetimeFormat|datetimeFormat]] 即可。
 
 同时，你还可以配置它使用 [ICU syntax](http://userguide.icu-project.org/formatparse/datetime)，
-同时你也可以配置它使用 [PHP date() 语法](https://secure.php.net/manual/en/function.date.php)，只需要加上 `php:` 前缀即可。
+同时你也可以配置它使用 [PHP date() 语法](https://www.php.net/manual/en/function.date.php)，只需要加上 `php:` 前缀即可。
 例如，
 
 ```php
@@ -175,7 +175,7 @@ echo Yii::$app->formatter->asTime('2014-10-06 14:41:00 CEST'); // 14:41:00
 
 如果你想要进行更高级的配置, 可以使用 [[yii\i18n\Formatter::numberFormatterOptions]] 和 
 [[yii\i18n\Formatter::numberFormatterTextOptions]]，
-[NumberFormatter class](https://secure.php.net/manual/en/class.numberformatter.php) 来进行格式化。
+[NumberFormatter class](https://www.php.net/manual/en/class.numberformatter.php) 来进行格式化。
 例如，为了调整小数部分的最大值和最小值，你可以配置 [[yii\i18n\Formatter::numberFormatterOptions]] 如下：
 
 ```php
@@ -235,7 +235,7 @@ echo Yii::$app->formatter->asDate('2014-01-01'); // output: 1 января 2014
 默认配置下，当前 [[yii\i18n\Formatter::locale|locale]] 决定于 [[yii\base\Application::language]].
 你可以覆盖 [[yii\i18n\Formatter::locale]] 属性来满足不同的需要。
 
-> Note: Yii formatter 依赖 [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) 
+> Note: Yii formatter 依赖 [PHP intl extension](https://www.php.net/manual/en/book.intl.php) 
 > 来进行本地数据格式化
 > 因为不同的 ICU 库可能会导致不同的输出，所以请在你的所有机器上保持 ICU 库的一致性。
 > 请参阅 [Setting up your PHP environment for internationalization](tutorial-i18n.md#setup-environment)。
diff --git a/docs/guide-zh-CN/runtime-bootstrapping.md b/docs/guide-zh-CN/runtime-bootstrapping.md
index e0429381301..95b4eeae67c 100644
--- a/docs/guide-zh-CN/runtime-bootstrapping.md
+++ b/docs/guide-zh-CN/runtime-bootstrapping.md
@@ -37,8 +37,8 @@
 在生产环境中，可以开启字节码缓存，比如 APC，
 来进一步最小化加载和解析 PHP 文件所需的时间。
 
-[PHP OPcache]: https://secure.php.net/manual/en/intro.opcache.php
-[APC]: https://secure.php.net/manual/en/book.apc.php
+[PHP OPcache]: https://www.php.net/manual/zh/intro.opcache.php
+[APC]: https://www.php.net/manual/zh/book.apcu.php
 
 一些大型应用都包含有非常复杂的应用[配置](concept-configurations.md)，
 它们会被分割到许多更小的配置文件中。
diff --git a/docs/guide-zh-CN/runtime-responses.md b/docs/guide-zh-CN/runtime-responses.md
index f3ad62c5d7c..0071079615b 100644
--- a/docs/guide-zh-CN/runtime-responses.md
+++ b/docs/guide-zh-CN/runtime-responses.md
@@ -233,7 +233,7 @@ Web 应用可在服务器发送文件前结束，为使用该功能，
 - Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
 - Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Nginx: [X-Accel-Redirect](http://wiki.nginx.org/XSendfile)
+- Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
 - Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
diff --git a/docs/guide-zh-CN/runtime-sessions-cookies.md b/docs/guide-zh-CN/runtime-sessions-cookies.md
index 9022547c5a0..310afbb2ff9 100644
--- a/docs/guide-zh-CN/runtime-sessions-cookies.md
+++ b/docs/guide-zh-CN/runtime-sessions-cookies.md
@@ -132,7 +132,7 @@ Yii 提供以下 session 类实现不同的 session 存储方式：
 * [[yii\web\DbSession]]：存储 session 数据在数据表中
 * [[yii\web\CacheSession]]：存储 session 数据到缓存中，缓存和配置中的[缓存组件](caching-data.md#cache-components)相关
 * [[yii\redis\Session]]：存储 session 数据到以 [redis](http://redis.io/) 作为存储媒介中
-* [[yii\mongodb\Session]]：存储 session 数据到 [MongoDB](http://www.mongodb.org/)。
+* [[yii\mongodb\Session]]：存储 session 数据到 [MongoDB](https://www.mongodb.com/)。
 
 所有这些 session 类支持相同的 API 方法集，因此，
 切换到不同的 session 存储介质不需要修改项目使用 session 的代码。
@@ -334,7 +334,7 @@ unset($cookies['language']);
 
 > Note: 为安全起见 [[yii\web\Cookie::httpOnly]] 被设置为 true，
   这可减少客户端脚本访问受保护 cookie（如果浏览器支持）的风险，
-  更多详情可阅读 [httpOnly wiki article](https://www.owasp.org/index.php/HttpOnly)。
+  更多详情可阅读 [httpOnly wiki article](https://owasp.org/www-community/HttpOnly)。
 
 
 ### Cookie 验证 <span id="cookie-validation"></span>
diff --git a/docs/guide-zh-CN/security-authorization.md b/docs/guide-zh-CN/security-authorization.md
index 7ffead1a6b0..3fa0e302826 100644
--- a/docs/guide-zh-CN/security-authorization.md
+++ b/docs/guide-zh-CN/security-authorization.md
@@ -159,7 +159,7 @@ class SiteController extends Controller
 详细的关于 RBAC 和诸多传统的存取控制方案对比的详情，请参阅
 [Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control)。
 
-Yii 实现了通用的分层的 RBAC，遵循的模型是 [NIST RBAC model](http://csrc.nist.gov/rbac/sandhu-ferraiolo-kuhn-00.pdf).
+Yii 实现了通用的分层的 RBAC，遵循的模型是 [NIST RBAC model](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf).
 它通过 [[yii\rbac\ManagerInterface|authManager]] [application component](structure-application-components.md) 提供 RBAC 功能。
 
 使用 RBAC 涉及到两部分工作。第一部分是建立授权数据，
diff --git a/docs/guide-zh-CN/security-best-practices.md b/docs/guide-zh-CN/security-best-practices.md
index 24b016a5bdd..3864ef9efe2 100644
--- a/docs/guide-zh-CN/security-best-practices.md
+++ b/docs/guide-zh-CN/security-best-practices.md
@@ -33,7 +33,7 @@ if (!in_array($sortBy, ['title', 'created_at', 'status'])) {
 
 进一步阅读该主题：
 
-- <https://www.owasp.org/index.php/Data_Validation>
+- <https://owasp.org/www-community/vulnerabilities/Improper_Data_Validation>
 - <https://www.owasp.org/index.php/Input_Validation_Cheat_Sheet>
 
 
@@ -46,9 +46,9 @@ Yii 提供了大量的工具来在不同的上下文执行转义。
 
 进一步阅读该话题：
 
-- <https://www.owasp.org/index.php/Command_Injection>
-- <https://www.owasp.org/index.php/Code_Injection>
-- <https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29>
+- <https://owasp.org/www-community/attacks/Command_Injection>
+- <https://owasp.org/www-community/attacks/Code_Injection>
+- <https://owasp.org/www-community/attacks/xss/>
 
 
 避免 SQL 注入
@@ -117,7 +117,7 @@ $rowCount = $connection->createCommand($sql)->queryScalar();
 
 进一步阅读该话题：
 
-- <https://www.owasp.org/index.php/SQL_Injection>
+- <https://owasp.org/www-community/attacks/SQL_Injection>
 
 
 防止 XSS 攻击
@@ -151,7 +151,7 @@ XSS 或者跨站脚本发生在输出 HTML 到浏览器时，输出内容没有
 
 进一步阅读该话题：
 
-- <https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29>
+- <https://owasp.org/www-community/attacks/xss/>
 
 
 防止 CSRF 攻击
@@ -255,7 +255,7 @@ class ContactAction extends Action
 
 进一步阅读该话题：
 
-- <https://www.owasp.org/index.php/CSRF>
+- <https://owasp.org/www-community/attacks/csrf>
 
 
 防止文件暴露
@@ -283,8 +283,8 @@ class ContactAction extends Action
 
 进一步阅读该话题：
 
-- <https://www.owasp.org/index.php/Exception_Handling>
-- <https://www.owasp.org/index.php/Top_10_2007-Information_Leakage>
+- <https://owasp.org/www-project-.net/articles/Exception_Handling.md>
+- <https://owasp.org/www-pdf-archive/OWASP_Top_10_2007.pdf> (A6 - Information Leakage and Improper Error Handling)
 
 
 使用 TLS 上的安全连接
diff --git a/docs/guide-zh-CN/security-passwords.md b/docs/guide-zh-CN/security-passwords.md
index da126e5e3b6..d13e024da4e 100644
--- a/docs/guide-zh-CN/security-passwords.md
+++ b/docs/guide-zh-CN/security-passwords.md
@@ -7,7 +7,7 @@
 
 为了即使在最糟糕的情况下（你的应用程序被破解了）也能给用户密码提供增强的安全性，
 你需要使用一个能够对抗暴力破解攻击的哈希算法。目前最好的选择是 `bcrypt`。在 PHP 中，
-你可以通过 [crypt 函数](https://secure.php.net/manual/en/function.crypt.php) 生成 `bcrypt` 哈希。
+你可以通过 [crypt 函数](https://www.php.net/manual/en/function.crypt.php) 生成 `bcrypt` 哈希。
 Yii 提供了两个帮助函数以让使用 `crypt` 来进行安全的哈希密码生成和验证更加容易。
 
 当一个用户为第一次使用，提供了一个密码时（比如：注册时），密码就需要被哈希化。
diff --git a/docs/guide-zh-CN/start-databases.md b/docs/guide-zh-CN/start-databases.md
index ad89a596d6a..435fd8494d0 100644
--- a/docs/guide-zh-CN/start-databases.md
+++ b/docs/guide-zh-CN/start-databases.md
@@ -51,7 +51,7 @@ INSERT INTO `country` VALUES ('US','United States',278357000);
 配置数据库连接 <span id="configuring-db-connection"></span>
 ---------------------------
 
-开始之前，请确保你已经安装了 PHP [PDO](https://secure.php.net/manual/en/book.pdo.php) 
+开始之前，请确保你已经安装了 PHP [PDO](https://www.php.net/manual/en/book.pdo.php) 
 扩展和你所使用的数据库的 PDO 驱动（例如 MySQL 的 `pdo_mysql`）。
 对于使用关系型数据库来讲，这是基本要求。
 
diff --git a/docs/guide-zh-CN/start-installation.md b/docs/guide-zh-CN/start-installation.md
index c9a1b9c7e91..c505cfdf3a3 100644
--- a/docs/guide-zh-CN/start-installation.md
+++ b/docs/guide-zh-CN/start-installation.md
@@ -139,7 +139,7 @@ Yii依靠 [Bower](http://bower.io/) 和/或 [NPM](https://www.npmjs.com/) 软件
 ------------
 
 当安装完成之后，
-或配置你的Web服务器(看下面的文章)或使用[内置Web Server](https://secure.php.net/manual/en/features.commandline.webserver.php)，
+或配置你的Web服务器(看下面的文章)或使用[内置Web Server](https://www.php.net/manual/en/features.commandline.webserver.php)，
 当在项目 `web` 目录下可以通过下面的命令:
  
 ```bash
@@ -173,7 +173,7 @@ http://localhost:8080/
   ```
 
 你需要配置好 PHP 安装环境，使其符合 Yii 的最小需求。主要是需要 PHP 5.4 或 以上版本。
-如果应用需要用到数据库，那还要安装 [PDO PHP 扩展](https://secure.php.net/manual/zh/pdo.installation.php) 
+如果应用需要用到数据库，那还要安装 [PDO PHP 扩展](https://www.php.net/manual/zh/pdo.installation.php) 
 和相应的数据库驱动（例如访问 MySQL 数据库所需的 `pdo_mysql`）。
 
 
@@ -234,7 +234,7 @@ DocumentRoot "path/to/basic/web"
 
 ### 推荐使用的 Nginx 配置 <span id="recommended-nginx-configuration"></span>
 
-为了使用 [Nginx](http://wiki.nginx.org/)，你应该已经将 PHP 安装为 [FPM SAPI](https://secure.php.net/install.fpm) 了。
+为了使用 [Nginx](http://wiki.nginx.org/)，你应该已经将 PHP 安装为 [FPM SAPI](https://www.php.net/install.fpm) 了。
 你可以使用如下 Nginx 配置，将 `path/to/basic/web` 替换为实际的 `basic/web` 目录，
 `mysite.local` 替换为实际的主机名以提供服务。
 
diff --git a/docs/guide-zh-CN/start-prerequisites.md b/docs/guide-zh-CN/start-prerequisites.md
index 3a7368b1b96..9ed6a5f9ad9 100644
--- a/docs/guide-zh-CN/start-prerequisites.md
+++ b/docs/guide-zh-CN/start-prerequisites.md
@@ -4,8 +4,8 @@ Yii 的学习曲线并不像其他 PHP 框架那样陡峭，但仍然需要一
 
 ## PHP
 
-Yii 是一个 PHP 框架，因此请确保您 [阅读并理解语言参考](https://secure.php.net/manual/zh/langref.php)。
-用 Yii 进行开发时，您将以面向对象的方式编写代码，因此请确保您熟悉[类与对象](https://secure.php.net/manual/en/language.oop5.basic.php)以及[命名空间](https://secure.php.net/manual/en/language.namespaces.php)。
+Yii 是一个 PHP 框架，因此请确保您 [阅读并理解语言参考](https://www.php.net/manual/zh/langref.php)。
+用 Yii 进行开发时，您将以面向对象的方式编写代码，因此请确保您熟悉[类与对象](https://www.php.net/manual/en/language.oop5.basic.php)以及[命名空间](https://www.php.net/manual/en/language.namespaces.php)。
 
 ## 面向对象编程（Object oriented programming）
 
diff --git a/docs/guide-zh-CN/structure-applications.md b/docs/guide-zh-CN/structure-applications.md
index 2f56ec24acd..3fa407b4535 100644
--- a/docs/guide-zh-CN/structure-applications.md
+++ b/docs/guide-zh-CN/structure-applications.md
@@ -356,7 +356,7 @@ $width = \Yii::$app->params['thumbnail.size'][0];
 #### [[yii\base\Application::timeZone|timeZone]] <span id="timeZone"></span>
 
 该属性提供一种方式修改 PHP 运行环境中的默认时区，配置该属性本质上就是调用 PHP 函数
-[date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php)，
+[date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php)，
 例如：
 
 ```php
diff --git a/docs/guide-zh-CN/structure-extensions.md b/docs/guide-zh-CN/structure-extensions.md
index b86aaf5b624..42b725c902c 100644
--- a/docs/guide-zh-CN/structure-extensions.md
+++ b/docs/guide-zh-CN/structure-extensions.md
@@ -399,8 +399,6 @@ Yii 提供了下列核心扩展，由 Yii 开发团队开发和维护。这些
   提供了一套常用的认证客户端，例如 Facebook OAuth2 客户端、GitHub OAuth2 客户端。
 - [yiisoft/yii2-bootstrap](https://github.com/yiisoft/yii2-bootstrap)：
   提供了一套挂件，封装了 [Bootstrap](http://getbootstrap.com/) 的组件和插件。
-- [yiisoft/yii2-codeception](https://github.com/yiisoft/yii2-codeception)：
-  提供了基于 [Codeception](http://codeception.com/) 的测试支持。
 - [yiisoft/yii2-debug](https://github.com/yiisoft/yii2-debug)：
   提供了对 Yii 应用的调试支持。当使用该扩展是，
   在每个页面的底部将显示一个调试工具条。
@@ -421,7 +419,7 @@ Yii 提供了下列核心扩展，由 Yii 开发团队开发和维护。这些
 - [yiisoft/yii2-jui](https://github.com/yiisoft/yii2-jui)：
   提供了一套封装 [JQuery UI](http://jqueryui.com/) 的挂件以及它们的交互。
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb)：
-  提供了对 [MongoDB](http://www.mongodb.org/) 的使用支持。它包含基本
+  提供了对 [MongoDB](https://www.mongodb.com/) 的使用支持。它包含基本
   的查询、活动记录、数据迁移、缓存、代码生成等特性。
 - [yiisoft/yii2-queue](https://www.yiiframework.com/extension/yiisoft/yii2-queue)：
   通过队列异步提供运行任务的支持。
diff --git a/docs/guide-zh-CN/structure-models.md b/docs/guide-zh-CN/structure-models.md
index bdded5ecb81..1309d973458 100644
--- a/docs/guide-zh-CN/structure-models.md
+++ b/docs/guide-zh-CN/structure-models.md
@@ -37,8 +37,8 @@ echo $model->name;
 ```
 
 也可像访问数组单元项一样访问属性，这要感谢[[yii\base\Model]]支持 
-[ArrayAccess 数组访问](https://secure.php.net/manual/en/class.arrayaccess.php) 
-和 [ArrayIterator 数组迭代器](https://secure.php.net/manual/en/class.arrayiterator.php):
+[ArrayAccess 数组访问](https://www.php.net/manual/en/class.arrayaccess.php) 
+和 [ArrayIterator 数组迭代器](https://www.php.net/manual/en/class.arrayiterator.php):
 
 ```php
 $model = new \app\models\ContactForm;
diff --git a/docs/guide-zh-CN/structure-widgets.md b/docs/guide-zh-CN/structure-widgets.md
index 606b0416b95..79cc680c6de 100644
--- a/docs/guide-zh-CN/structure-widgets.md
+++ b/docs/guide-zh-CN/structure-widgets.md
@@ -67,7 +67,7 @@ use yii\helpers\Html;
 注意和调用 [[yii\base\Widget::widget()]] 返回渲染结果不同，
 调用 [[yii\base\Widget::begin()]] 方法返回一个可组建小部件内容的小部件实例。
 
-> Note: 当调用 [[yii\base\Widget::end()]] 的时候，一些小部件将使用 [输出缓冲](https://secure.php.net/manual/en/book.outcontrol.php)
+> Note: 当调用 [[yii\base\Widget::end()]] 的时候，一些小部件将使用 [输出缓冲](https://www.php.net/manual/en/book.outcontrol.php)
 > 来调整封闭的内容。因此，当调用 [[yii\base\Widget::begin()]] 和
 > [[yii\base\Widget::end()]] 时，最好在同一个视图文件里。
 > 不遵循这个规则可能会导致意外的输出。
diff --git a/docs/guide-zh-CN/tutorial-core-validators.md b/docs/guide-zh-CN/tutorial-core-validators.md
index 294d15ee695..3fd8af9e60f 100644
--- a/docs/guide-zh-CN/tutorial-core-validators.md
+++ b/docs/guide-zh-CN/tutorial-core-validators.md
@@ -141,7 +141,7 @@ public function rules()
 - `format`：被验证值的日期/时间格式。
    这里的值可以是 [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax) 中定义的日期时间格式。
    另外还可以设置以 `php:` 开头的字符串，用来表示PHP可以识别的日期时间格式。
-   `Datetime` 日期时间类。请参考 <https://secure.php.net/manual/en/datetime.createfromformat.php> 获取更多支持的格式。
+   `Datetime` 日期时间类。请参考 <https://www.php.net/manual/en/datetime.createfromformat.php> 获取更多支持的格式。
    如果没有设置，默认值将使用 `Yii::$app->formatter->dateFormat` 中的值。
    请参考 [[yii\validators\DateValidator::$format|API 文档]] 以获取更详细的说明。
 
@@ -389,8 +389,8 @@ function foo($model, $attribute) {
 > Tip: 如果你只是想要用 trim 处理下输入值，你可以直接用 [trim](#trim) 验证器的。
 
 > Tip: 有许多的PHP方法结构和 `filter` 需要的结构一致。
-> 比如使用类型转换方法 ([intval](https://secure.php.net/manual/en/function.intval.php)，
-> [boolval](https://secure.php.net/manual/en/function.boolval.php), ...) 来确保属性为指定的类型，
+> 比如使用类型转换方法 ([intval](https://www.php.net/manual/en/function.intval.php)，
+> [boolval](https://www.php.net/manual/en/function.boolval.php), ...) 来确保属性为指定的类型，
 > 你可以简单的设置这些方法名而不是重新定义一个匿名函数：
 >
 > ```php
diff --git a/docs/guide-zh-CN/tutorial-i18n.md b/docs/guide-zh-CN/tutorial-i18n.md
index ec17c2136e8..4d855adb0aa 100644
--- a/docs/guide-zh-CN/tutorial-i18n.md
+++ b/docs/guide-zh-CN/tutorial-i18n.md
@@ -231,7 +231,7 @@ $price = 100;
 echo \Yii::t('app', 'Price: {0, number, currency}', $price);
 ```
 
-> Note: 参数的格式化需要安装 [intl PHP 扩展](https://secure.php.net/manual/en/intro.intl.php)。
+> Note: 参数的格式化需要安装 [intl PHP 扩展](https://www.php.net/manual/en/intro.intl.php)。
 
 可以使用缩写的形式或完整的形式来格式化占位符：
 
@@ -738,12 +738,12 @@ class TranslationEventHandler
 
 ## 设置 PHP 环境（Setting Up PHP Environment） <span id="setup-environment"></span>
 
-Yii 使用 [PHP intl 扩展](https://secure.php.net/manual/en/book.intl.php) 来提供大多数 I18N 的功能，
+Yii 使用 [PHP intl 扩展](https://www.php.net/manual/en/book.intl.php) 来提供大多数 I18N 的功能，
 如日期和数字格式的 [[yii\i18n\Formatter]] 类和消息格式的 [[yii\i18n\MessageFormatter]] 类。
 当 `intl` 扩展没有安装时，两者会提供一个回调机制。然而，该回调机制只适用于目标语言是英语的情况下。
 因此，当 I18N 对你来说必不可少时，强烈建议你安装 `intl`。
 
-[PHP intl 扩展](https://secure.php.net/manual/en/book.intl.php) 是基于对于所有不同的语言环境
+[PHP intl 扩展](https://www.php.net/manual/en/book.intl.php) 是基于对于所有不同的语言环境
 提供格式化规则的 [ICU库](http://site.icu-project.org/)。
 不同版本的 ICU 中可能会产生不同日期和数值格式的结果。
 为了确保你的网站在所有环境产生相同的结果，
diff --git a/docs/guide-zh-CN/tutorial-performance-tuning.md b/docs/guide-zh-CN/tutorial-performance-tuning.md
index 76849debff7..8415323a6fb 100644
--- a/docs/guide-zh-CN/tutorial-performance-tuning.md
+++ b/docs/guide-zh-CN/tutorial-performance-tuning.md
@@ -11,8 +11,8 @@
 一个好的 PHP 环境是非常重要的。为了得到最大的性能，
 
 - 使用最新稳定版本的 PHP。 PHP 的主要版本可能带来显著的性能提升。
-- 启用字节码缓存 [Opcache](https://secure.php.net/opcache)（PHP 5.5或更高版本）
-  或 [APC](https://secure.php.net/apc)
+- 启用字节码缓存 [Opcache](https://www.php.net/opcache)（PHP 5.5或更高版本）
+  或 [APC](https://www.php.net/apc)
   （PHP 5.4或更早版本）。字节码缓存省去了每次解析和加载 PHP 脚本所带来的开销。
 - [Tune `realpath()` cache](https://github.com/samdark/realpath_cache_tuner).
 
@@ -217,7 +217,7 @@ composer dumpautoload -o
 
 - [Yii debug toolbar and debugger](https://github.com/yiisoft/yii2-debug/blob/master/docs/guide/README.md)
 - [Blackfire](https://blackfire.io/)
-- [XHProf](https://secure.php.net/manual/en/book.xhprof.php)
+- [XHProf](https://www.php.net/manual/en/book.xhprof.php)
 - [XDebug profiler](http://xdebug.org/docs/profiler)
 
 ## 准备扩展应用程序
diff --git a/docs/guide/caching-data.md b/docs/guide/caching-data.md
index 61e208f9c73..f8fbd63116e 100644
--- a/docs/guide/caching-data.md
+++ b/docs/guide/caching-data.md
@@ -103,7 +103,7 @@ For example, you can modify the above configuration to use [[yii\caching\ApcCach
 
 Yii supports a wide range of cache storage. The following is a summary:
 
-* [[yii\caching\ApcCache]]: uses PHP [APC](https://secure.php.net/manual/en/book.apc.php) extension. This option can be
+* [[yii\caching\ApcCache]]: uses PHP [APC](https://www.php.net/manual/en/book.apc.php) extension. This option can be
   considered as the fastest one when dealing with cache for a centralized thick application (e.g. one
   server, no dedicated load balancers, etc.).
 * [[yii\caching\DbCache]]: uses a database table to store cached data. To use this cache, you must
@@ -120,14 +120,14 @@ Yii supports a wide range of cache storage. The following is a summary:
   `Yii::$app->cache` might be `null`.
 * [[yii\caching\FileCache]]: uses standard files to store cached data. This is particularly suitable
   to cache large chunk of data, such as page content.
-* [[yii\caching\MemCache]]: uses PHP [memcache](https://secure.php.net/manual/en/book.memcache.php)
-  and [memcached](https://secure.php.net/manual/en/book.memcached.php) extensions. This option can be considered as
+* [[yii\caching\MemCache]]: uses PHP [memcache](https://www.php.net/manual/en/book.memcache.php)
+  and [memcached](https://www.php.net/manual/en/book.memcached.php) extensions. This option can be considered as
   the fastest one when dealing with cache in a distributed applications (e.g. with several servers, load
   balancers, etc.)
 * [[yii\redis\Cache]]: implements a cache component based on [Redis](http://redis.io/) key-value store
   (redis version 2.6.12 or higher is required).
 * [[yii\caching\WinCache]]: uses PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension)
-  ([see also](https://secure.php.net/manual/en/book.wincache.php)) extension.
+  ([see also](https://www.php.net/manual/en/book.wincache.php)) extension.
 * [[yii\caching\XCache]] _(deprecated)_: uses PHP [XCache](http://xcache.lighttpd.net/) extension.
 * [[yii\caching\ZendDataCache]] _(deprecated)_: uses
   [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
diff --git a/docs/guide/caching-http.md b/docs/guide/caching-http.md
index 6cca6822aed..31964c12afe 100644
--- a/docs/guide/caching-http.md
+++ b/docs/guide/caching-http.md
@@ -131,7 +131,7 @@ that you want from `HttpCache`. To prevent this problem, by default `HttpCache`
 these headers automatically. If you want to change this behavior, you should configure the
 [[yii\filters\HttpCache::sessionCacheLimiter]] property. The property can take a string value, including
 `public`, `private`, `private_no_expire`, and `nocache`. Please refer to the PHP manual about
-[session_cache_limiter()](https://secure.php.net/manual/en/function.session-cache-limiter.php)
+[session_cache_limiter()](https://www.php.net/manual/en/function.session-cache-limiter.php)
 for explanations about these values.
 
 
diff --git a/docs/guide/concept-autoloading.md b/docs/guide/concept-autoloading.md
index a6d0294eca6..05f539e0139 100644
--- a/docs/guide/concept-autoloading.md
+++ b/docs/guide/concept-autoloading.md
@@ -1,7 +1,7 @@
 Class Autoloading
 =================
 
-Yii relies on the [class autoloading mechanism](https://secure.php.net/manual/en/language.oop5.autoload.php)
+Yii relies on the [class autoloading mechanism](https://www.php.net/manual/en/language.oop5.autoload.php)
 to locate and include all required class files. It provides a high-performance class autoloader that is compliant with the
 [PSR-4 standard](https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-4-autoloader.md).
 The autoloader is installed when you include the `Yii.php` file.
@@ -15,7 +15,7 @@ Using the Yii Autoloader <span id="using-yii-autoloader"></span>
 
 To make use of the Yii class autoloader, you should follow two simple rules when creating and naming your classes:
 
-* Each class must be under a [namespace](https://secure.php.net/manual/en/language.namespaces.php) (e.g. `foo\bar\MyClass`)
+* Each class must be under a [namespace](https://www.php.net/manual/en/language.namespaces.php) (e.g. `foo\bar\MyClass`)
 * Each class must be saved in an individual file whose path is determined by the following algorithm:
 
 ```php
diff --git a/docs/guide/concept-behaviors.md b/docs/guide/concept-behaviors.md
index 3ff95ebc123..e89813310ab 100644
--- a/docs/guide/concept-behaviors.md
+++ b/docs/guide/concept-behaviors.md
@@ -329,7 +329,7 @@ There are several built-in and external behaviors available:
 Comparing Behaviors with Traits <span id="comparison-with-traits"></span>
 ----------------------
 
-While behaviors are similar to [traits](https://secure.php.net/traits) in that they both "inject" their
+While behaviors are similar to [traits](https://www.php.net/traits) in that they both "inject" their
 properties and methods to the primary class, they differ in many aspects. As explained below, they
 both have pros and cons. They are more like complements to each other rather than alternatives.
 
diff --git a/docs/guide/concept-events.md b/docs/guide/concept-events.md
index 6a784292e35..c8743d6c9d4 100644
--- a/docs/guide/concept-events.md
+++ b/docs/guide/concept-events.md
@@ -13,7 +13,7 @@ events, it should extend from [[yii\base\Component]], or from a child class.
 Event Handlers <span id="event-handlers"></span>
 --------------
 
-An event handler is a [PHP callback](https://secure.php.net/manual/en/language.types.callable.php) that gets executed
+An event handler is a [PHP callback](https://www.php.net/manual/en/language.types.callable.php) that gets executed
 when the event it is attached to is triggered. You can use any of the following callbacks:
 
 - a global PHP function specified as a string (without parentheses), e.g., `'trim'`;
diff --git a/docs/guide/db-active-record.md b/docs/guide/db-active-record.md
index 79b140eb1f3..8dfa6ec2628 100644
--- a/docs/guide/db-active-record.md
+++ b/docs/guide/db-active-record.md
@@ -473,8 +473,8 @@ If you are interested in the attribute values prior to their most recent modific
 > HTML forms where every value is represented as a string.
 > To ensure the correct type for e.g. integer values you may apply a [validation filter](input-validation.md#data-filtering):
 > `['attributeName', 'filter', 'filter' => 'intval']`. This works with all the typecasting functions of PHP like
-> [intval()](https://secure.php.net/manual/en/function.intval.php), [floatval()](https://secure.php.net/manual/en/function.floatval.php),
-> [boolval](https://secure.php.net/manual/en/function.boolval.php), etc...
+> [intval()](https://www.php.net/manual/en/function.intval.php), [floatval()](https://www.php.net/manual/en/function.floatval.php),
+> [boolval](https://www.php.net/manual/en/function.boolval.php), etc...
 
 ### Default Attribute Values <span id="default-attribute-values"></span>
 
@@ -689,7 +689,7 @@ try {
 ```
 
 > Note: in the above code we have two catch-blocks for compatibility 
-> with PHP 5.x and PHP 7.x. `\Exception` implements the [`\Throwable` interface](https://secure.php.net/manual/en/class.throwable.php)
+> with PHP 5.x and PHP 7.x. `\Exception` implements the [`\Throwable` interface](https://www.php.net/manual/en/class.throwable.php)
 > since PHP 7.0, so you can skip the part with `\Exception` if your app uses only PHP 7.0 and higher.
 
 The second way is to list the DB operations that require transactional support in the [[yii\db\ActiveRecord::transactions()]]
@@ -792,6 +792,12 @@ public function behaviors()
         OptimisticLockBehavior::class,
     ];
 }
+
+public function optimisticLock()
+{
+    return 'version';
+}
+
 ```
 > Note: Because [[\yii\behaviors\OptimisticLockBehavior|OptimisticLockBehavior]] will ensure the record is only saved
 > if user submits a valid version number by directly parsing [[\yii\web\Request::getBodyParam()|getBodyParam()]], it
diff --git a/docs/guide/db-dao.md b/docs/guide/db-dao.md
index 98351e88536..1edf54188e8 100644
--- a/docs/guide/db-dao.md
+++ b/docs/guide/db-dao.md
@@ -1,7 +1,7 @@
 Database Access Objects
 =======================
 
-Built on top of [PDO](https://secure.php.net/manual/en/book.pdo.php), Yii DAO (Database Access Objects) provides an
+Built on top of [PDO](https://www.php.net/manual/en/book.pdo.php), Yii DAO (Database Access Objects) provides an
 object-oriented API for accessing relational databases. It is the foundation for other more advanced database
 access methods, including [query builder](db-query-builder.md) and [active record](db-active-record.md).
 
@@ -16,7 +16,7 @@ In Yii 2.0, DAO supports the following databases out of the box:
 - [SQLite](http://sqlite.org/)
 - [PostgreSQL](http://www.postgresql.org/): version 8.4 or higher
 - [CUBRID](http://www.cubrid.org/): version 9.3 or higher.
-- [Oracle](http://www.oracle.com/us/products/database/overview/index.html)
+- [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): version 2008 or higher.
 
 > Note: New version of pdo_oci for PHP 7 currently exists only as the source code. Follow
@@ -61,7 +61,7 @@ You can then access the DB connection via the expression `Yii::$app->db`.
 > Tip: You can configure multiple DB application components if your application needs to access multiple databases.
 
 When configuring a DB connection, you should always specify its Data Source Name (DSN) via the [[yii\db\Connection::dsn|dsn]] 
-property. The format of DSN varies for different databases. Please refer to the [PHP manual](https://secure.php.net/manual/en/function.PDO-construct.php) 
+property. The format of DSN varies for different databases. Please refer to the [PHP manual](https://www.php.net/manual/en/pdo.construct.php) 
 for more details. Below are some examples:
  
 * MySQL, MariaDB: `mysql:host=localhost;dbname=mydatabase`
@@ -190,7 +190,7 @@ $post = Yii::$app->db->createCommand('SELECT * FROM post WHERE id=:id AND status
            ->queryOne();
 ```
 
-Parameter binding is implemented via [prepared statements](https://secure.php.net/manual/en/mysqli.quickstart.prepared-statements.php).
+Parameter binding is implemented via [prepared statements](https://www.php.net/manual/en/mysqli.quickstart.prepared-statements.php).
 Besides preventing SQL injection attacks, it may also improve performance by preparing a SQL statement once and
 executing it multiple times with different parameters. For example,
 
@@ -384,7 +384,7 @@ the changes made by the queries prior to that failed query in the transaction. `
 exception as if we had not caught it, so the normal error handling process will take care of it.
 
 > Note: in the above code we have two catch-blocks for compatibility 
-> with PHP 5.x and PHP 7.x. `\Exception` implements the [`\Throwable` interface](https://secure.php.net/manual/en/class.throwable.php)
+> with PHP 5.x and PHP 7.x. `\Exception` implements the [`\Throwable` interface](https://www.php.net/manual/en/class.throwable.php)
 > since PHP 7.0, so you can skip the part with `\Exception` if your app uses only PHP 7.0 and higher.
 
 
diff --git a/docs/guide/db-query-builder.md b/docs/guide/db-query-builder.md
index fa7b2013b08..5d9b6e02c17 100644
--- a/docs/guide/db-query-builder.md
+++ b/docs/guide/db-query-builder.md
@@ -155,7 +155,7 @@ $query->from(['u' => $subQuery]);
 
 #### Prefixes
 Also a default [[yii\db\Connection::$tablePrefix|tablePrefix]] can be applied. Implementation instructions
-are in the ["Quoting Tables" section of the "Database Access Objects" guide](guide-db-dao.html#quoting-table-and-column-names).
+are in the ["Quoting Tables" section of the "Database Access Objects" guide](db-dao.md#quoting-table-and-column-names).
 
 ### [[yii\db\Query::where()|where()]] <span id="where"></span>
 
@@ -798,7 +798,7 @@ foreach ($query->each() as $username => $user) {
 #### Limitations of batch query in MySQL <span id="batch-query-mysql"></span>
 
 MySQL implementation of batch queries relies on the PDO driver library. By default, MySQL queries are 
-[`buffered`](https://secure.php.net/manual/en/mysqlinfo.concepts.buffering.php). This defeats the purpose 
+[`buffered`](https://www.php.net/manual/en/mysqlinfo.concepts.buffering.php). This defeats the purpose 
 of using the cursor to get the data, because it doesn't prevent the whole result set from being 
 loaded into the client's memory by the driver.
 
diff --git a/docs/guide/glossary.md b/docs/guide/glossary.md
index 3c0c7c01dc8..c93fa8cdf49 100644
--- a/docs/guide/glossary.md
+++ b/docs/guide/glossary.md
@@ -52,7 +52,7 @@ Module is a sub-application which contains MVC elements by itself, such as model
 
 ## namespace
 
-Namespace refers to a [PHP language feature](https://secure.php.net/manual/en/language.namespaces.php) which is actively used in Yii 2.
+Namespace refers to a [PHP language feature](https://www.php.net/manual/en/language.namespaces.php) which is actively used in Yii 2.
 
 # P
 
diff --git a/docs/guide/helper-array.md b/docs/guide/helper-array.md
index 698b8e795b3..19c3c03ad5f 100644
--- a/docs/guide/helper-array.md
+++ b/docs/guide/helper-array.md
@@ -1,7 +1,7 @@
 ArrayHelper
 ===========
 
-Additionally to the [rich set of PHP array functions](https://secure.php.net/manual/en/book.array.php), the Yii array helper provides
+Additionally to the [rich set of PHP array functions](https://www.php.net/manual/en/book.array.php), the Yii array helper provides
 extra static methods allowing you to deal with arrays more efficiently.
 
 
@@ -117,7 +117,7 @@ After executing the code `$array` will contain `['options' => [1, 2]]` and `$typ
 
 ## Checking Existence of Keys <span id="checking-existence-of-keys"></span>
 
-`ArrayHelper::keyExists` works the same way as [array_key_exists](https://secure.php.net/manual/en/function.array-key-exists.php)
+`ArrayHelper::keyExists` works the same way as [array_key_exists](https://www.php.net/manual/en/function.array-key-exists.php)
 except that it also supports case-insensitive key comparison. For example,
 
 ```php
@@ -322,7 +322,7 @@ Third argument is direction. In case of sorting by a single key it could be eith
 sort direction.
 
 Last argument is PHP sort flag that could take the same values as the ones passed to
-PHP [sort()](https://secure.php.net/manual/en/function.sort.php).
+PHP [sort()](https://www.php.net/manual/en/function.sort.php).
 
 
 ## Detecting Array Types <span id="detecting-array-types"></span>
@@ -357,7 +357,7 @@ Encoding will use application charset and could be changed via third argument.
 
 You can use [[yii\helpers\ArrayHelper::merge()|ArrayHelper::merge()]] to merge two or more arrays into one recursively.
 If each array has an element with the same string key value, the latter will overwrite the former
-(different from [array_merge_recursive()](https://secure.php.net/manual/en/function.array-merge-recursive.php)).
+(different from [array_merge_recursive()](https://www.php.net/manual/en/function.array-merge-recursive.php)).
 Recursive merging will be conducted if both arrays have an element of array type and are having the same key.
 For integer-keyed elements, the elements from the latter array will be appended to the former array.
 You can use [[yii\helpers\UnsetArrayValue]] object to unset value from previous array or
@@ -472,7 +472,7 @@ While PHP offers `in_array()`, this does not support subsets or `\Traversable` o
 
 To aid these kinds of tests, [[yii\helpers\ArrayHelper]] provides [[yii\helpers\ArrayHelper::isIn()|isIn()]]
 and [[yii\helpers\ArrayHelper::isSubset()|isSubset()]] with the same signature as
-[in_array()](https://secure.php.net/manual/en/function.in-array.php).
+[in_array()](https://www.php.net/manual/en/function.in-array.php).
 
 ```php
 // true
diff --git a/docs/guide/helper-html.md b/docs/guide/helper-html.md
index 1c411e76ce1..3a0b28efad8 100644
--- a/docs/guide/helper-html.md
+++ b/docs/guide/helper-html.md
@@ -2,7 +2,7 @@ Html helper
 ===========
 
 Every web application generates lots of HTML markup. If the markup is static, it can be done efficiently by
-[mixing PHP and HTML in a single file](https://secure.php.net/manual/en/language.basic-syntax.phpmode.php), but when it is
+[mixing PHP and HTML in a single file](https://www.php.net/manual/en/language.basic-syntax.phpmode.php), but when it is
 generated dynamically it starts to get tricky to handle it without extra help. Yii provides such help in the form
 of an Html helper, which provides a set of static methods for handling commonly used HTML tags, their options, and their content.
 
@@ -147,8 +147,8 @@ method accepts an array of properties to remove. If it's a single property, it c
 ### Encoding and Decoding Content <span id="encoding-and-decoding-content"></span>
 
 In order for content to be displayed properly and securely in HTML, special characters in the content should be encoded.
-In PHP this is done with [htmlspecialchars](https://secure.php.net/manual/en/function.htmlspecialchars.php) and
-[htmlspecialchars_decode](https://secure.php.net/manual/en/function.htmlspecialchars-decode.php). The issue with using
+In PHP this is done with [htmlspecialchars](https://www.php.net/manual/en/function.htmlspecialchars.php) and
+[htmlspecialchars_decode](https://www.php.net/manual/en/function.htmlspecialchars-decode.php). The issue with using
 these methods directly is that you have to specify encoding and extra flags all the time. Since these flags are the same
 all the time and the encoding should match the one of the application in order to prevent security issues, Yii provides two
 compact and simple-to-use methods:
diff --git a/docs/guide/helper-json.md b/docs/guide/helper-json.md
index c8aed96f123..60d99ac1823 100644
--- a/docs/guide/helper-json.md
+++ b/docs/guide/helper-json.md
@@ -4,8 +4,8 @@ Json Helper
 Json helper provides a set of static methods for encoding and decoding JSON.
 It handles encoding errors and the `[[yii\helpers\Json::encode()]]` method will not encode a JavaScript expression that is represented in 
 terms of a `[[yii\web\JsExpression]]` object.
-By default, ecoding is done with the `JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE` options.
-Please see [PHP:json_encode](https://secure.php.net/manual/en/function.json-encode.php) for more information.
+By default, encoding is done with the `JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE` options.
+Please see [PHP:json_encode](https://www.php.net/manual/en/function.json-encode.php) for more information.
 
 ## Pretty Print <span id="pretty-print"></span>
 
diff --git a/docs/guide/input-file-upload.md b/docs/guide/input-file-upload.md
index 4f254e677cc..aa2ea2c550a 100644
--- a/docs/guide/input-file-upload.md
+++ b/docs/guide/input-file-upload.md
@@ -123,7 +123,7 @@ You can also upload multiple files at once, with some adjustments to the code li
 First you should adjust the model class by adding the `maxFiles` option in the `file` validation rule to limit
 the maximum number of files allowed to upload. Setting `maxFiles` to `0` means there is no limit on the number of files
 that can be uploaded simultaneously. The maximum number of files allowed to be uploaded simultaneously is also limited
-with PHP directive [`max_file_uploads`](https://secure.php.net/manual/en/ini.core.php#ini.max-file-uploads),
+with PHP directive [`max_file_uploads`](https://www.php.net/manual/en/ini.core.php#ini.max-file-uploads),
 which defaults to 20. The `upload()` method should also be updated to save the uploaded files one by one.
 
 ```php
diff --git a/docs/guide/input-forms.md b/docs/guide/input-forms.md
index 2160aed8336..990fd667e1b 100644
--- a/docs/guide/input-forms.md
+++ b/docs/guide/input-forms.md
@@ -107,7 +107,7 @@ are some reserved names that can cause conflicts:
 
 > Forms and their child elements should not use input names or ids that conflict with properties of a form,
 > such as `submit`, `length`, or `method`. Name conflicts can cause confusing failures.
-> For a complete list of rules and to check your markup for these problems, see [DOMLint](http://kangax.github.io/domlint/).
+> For a complete list of rules and to check your markup for these problems, see [DOMLint](https://kangax.github.io/domlint/).
 
 Additional HTML tags can be added to the form using plain HTML or using the methods from the [[yii\helpers\Html|Html]]-helper
 class like it is done in the above example with [[yii\helpers\Html::submitButton()|Html::submitButton()]].
diff --git a/docs/guide/intro-upgrade-from-v1.md b/docs/guide/intro-upgrade-from-v1.md
index 7ebb99e4311..aecfd9f8526 100644
--- a/docs/guide/intro-upgrade-from-v1.md
+++ b/docs/guide/intro-upgrade-from-v1.md
@@ -29,15 +29,15 @@ Yii 2.0 requires PHP 5.4 or above, which is a huge improvement over PHP version
 As a result, there are many differences on the language level that you should pay attention to.
 Below is a summary of the major changes regarding PHP:
 
-- [Namespaces](https://secure.php.net/manual/en/language.namespaces.php).
-- [Anonymous functions](https://secure.php.net/manual/en/functions.anonymous.php).
+- [Namespaces](https://www.php.net/manual/en/language.namespaces.php).
+- [Anonymous functions](https://www.php.net/manual/en/functions.anonymous.php).
 - Short array syntax `[...elements...]` is used instead of `array(...elements...)`.
 - Short echo tags `<?=` are used in view files. This is safe to use starting from PHP 5.4.
-- [SPL classes and interfaces](https://secure.php.net/manual/en/book.spl.php).
-- [Late Static Bindings](https://secure.php.net/manual/en/language.oop5.late-static-bindings.php).
-- [Date and Time](https://secure.php.net/manual/en/book.datetime.php).
-- [Traits](https://secure.php.net/manual/en/language.oop5.traits.php).
-- [intl](https://secure.php.net/manual/en/book.intl.php). Yii 2.0 makes use of the `intl` PHP extension
+- [SPL classes and interfaces](https://www.php.net/manual/en/book.spl.php).
+- [Late Static Bindings](https://www.php.net/manual/en/language.oop5.late-static-bindings.php).
+- [Date and Time](https://www.php.net/manual/en/book.datetime.php).
+- [Traits](https://www.php.net/manual/en/language.oop5.traits.php).
+- [intl](https://www.php.net/manual/en/book.intl.php). Yii 2.0 makes use of the `intl` PHP extension
   to support internationalization features.
 
 
diff --git a/docs/guide/intro-yii.md b/docs/guide/intro-yii.md
index d56ea04f1ca..6a15660cc3f 100644
--- a/docs/guide/intro-yii.md
+++ b/docs/guide/intro-yii.md
@@ -54,7 +54,7 @@ Yii 2.0 requires PHP 5.4.0 or above and runs best with the latest version of PHP
 requirements for individual features by running the requirement checker included in every Yii release.
 
 Using Yii requires basic knowledge of object-oriented programming (OOP), as Yii is a pure OOP-based framework.
-Yii 2.0 also makes use of the latest features of PHP, such as [namespaces](https://secure.php.net/manual/en/language.namespaces.php)
-and [traits](https://secure.php.net/manual/en/language.oop5.traits.php). Understanding these concepts will help
+Yii 2.0 also makes use of the latest features of PHP, such as [namespaces](https://www.php.net/manual/en/language.namespaces.php)
+and [traits](https://www.php.net/manual/en/language.oop5.traits.php). Understanding these concepts will help
 you more easily pick up Yii 2.0.
 
diff --git a/docs/guide/output-client-scripts.md b/docs/guide/output-client-scripts.md
index 40736f7bae6..d12e3e3c28c 100644
--- a/docs/guide/output-client-scripts.md
+++ b/docs/guide/output-client-scripts.md
@@ -189,7 +189,7 @@ JS
 ```
 
 The above example code uses PHP
-[Heredoc syntax](https://secure.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc) for better readability. This also enables better syntax highlighting in most IDEs so it is the
+[Heredoc syntax](https://www.php.net/manual/en/language.types.string.php#language.types.string.syntax.heredoc) for better readability. This also enables better syntax highlighting in most IDEs so it is the
 preferred way of writing inline JavaScript, especially useful for code that is longer than a single line. The variable `$message` is created in PHP and
 thanks to [[yii\helpers\Json::htmlEncode|Json::htmlEncode]] it contains the 
 string in valid JS syntax, which can be inserted into the JavaScript code to place the dynamic string in the function call to `alert()`.
diff --git a/docs/guide/output-formatting.md b/docs/guide/output-formatting.md
index 9cd7e4102ce..de8497a8e86 100644
--- a/docs/guide/output-formatting.md
+++ b/docs/guide/output-formatting.md
@@ -45,7 +45,7 @@ echo Yii::$app->formatter->format(0.125, ['percent', 2]);
 > the formatter is not the right tool for that.
 > To convert user input for date and number values you may use [[yii\validators\DateValidator]] and [[yii\validators\NumberValidator]]
 > respectively. For simple conversion between machine readable date and time formats,
-> the PHP [date()](https://secure.php.net/manual/en/function.date.php)-function is enough.
+> the PHP [date()](https://www.php.net/manual/en/function.date.php)-function is enough.
 
 ## Configuring Formatter <span id="configuring-formatter"></span>
 
@@ -86,7 +86,7 @@ and [[yii\i18n\Formatter::asDatetime()|datetime]] methods can be customized glob
 [[yii\i18n\Formatter::datetimeFormat|datetimeFormat]].
 
 You can specify date and time formats using the [ICU syntax](http://userguide.icu-project.org/formatparse/datetime).
-You can also use the [PHP date() syntax](https://secure.php.net/manual/en/function.date.php) with a prefix `php:` to differentiate
+You can also use the [PHP date() syntax](https://www.php.net/manual/en/function.date.php) with a prefix `php:` to differentiate
 it from ICU syntax. For example,
 
 ```php
@@ -174,7 +174,7 @@ The format for number formatting can be adjusted using the [[yii\i18n\Formatter:
 active [[yii\i18n\Formatter::locale|locale]].
 
 For more advanced configuration, [[yii\i18n\Formatter::numberFormatterOptions]] and [[yii\i18n\Formatter::numberFormatterTextOptions]]
-can be used to configure the [NumberFormatter class](https://secure.php.net/manual/en/class.numberformatter.php) used internally
+can be used to configure the [NumberFormatter class](https://www.php.net/manual/en/class.numberformatter.php) used internally
 to implement the formatter. For example, to adjust the maximum and minimum value of fraction digits, you can configure 
 the [[yii\i18n\Formatter::numberFormatterOptions]] property like the following:
 
@@ -235,7 +235,7 @@ echo Yii::$app->formatter->asDate('2014-01-01'); // output: 1 января 2014
 By default, the currently active [[yii\i18n\Formatter::locale|locale]] is determined by the value of 
 [[yii\base\Application::language]]. You may override it by setting the [[yii\i18n\Formatter::locale]] property explicitly.
 
-> Note: The Yii formatter relies on the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) to support
+> Note: The Yii formatter relies on the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) to support
 > localized data formatting. Because different versions of the ICU library compiled with PHP may cause different
 > formatting results, it is recommended that you use the same ICU version for all your environments. For more details,
 > please refer to [Setting up your PHP environment for internationalization](tutorial-i18n.md#setup-environment).
diff --git a/docs/guide/rest-quick-start.md b/docs/guide/rest-quick-start.md
index 3e5fe4c4724..e04121cf560 100644
--- a/docs/guide/rest-quick-start.md
+++ b/docs/guide/rest-quick-start.md
@@ -190,7 +190,7 @@ For example, the URL `http://localhost/users?fields=id,email` will only return t
 > such as `password_hash`, `auth_key`. You certainly do not want these to appear in your API result.
 > You can and should remove these fields from result as described in the [Resources](rest-resources.md) section.
 
-Addionally, you can sort collections like `http://localhost/users?sort=email` or
+Additionally, you can sort collections like `http://localhost/users?sort=email` or
 `http://localhost/users?sort=-email`. Filtering collections like `http://localhost/users?filter[id]=10` or
 `http://localhost/users?filter[email][like]=gmail.com` could be implemented using
 data filters. See [Resources](rest-resources.md#filtering-collections) section for details.
diff --git a/docs/guide/runtime-bootstrapping.md b/docs/guide/runtime-bootstrapping.md
index 970f5674799..dd8d880fb00 100644
--- a/docs/guide/runtime-bootstrapping.md
+++ b/docs/guide/runtime-bootstrapping.md
@@ -37,8 +37,8 @@ before they are used to resolve requests.
 In production mode, enable a bytecode cache, such as [PHP OPcache] or [APC], to minimize the time needed for including
 and parsing PHP files.
 
-[PHP OPcache]: https://secure.php.net/manual/en/intro.opcache.php
-[APC]: https://secure.php.net/manual/en/book.apc.php
+[PHP OPcache]: https://www.php.net/manual/en/intro.opcache.php
+[APC]: https://www.php.net/manual/en/book.apcu.php
 
 Some large applications have very complex application [configurations](concept-configurations.md)
 which are divided into many smaller configuration files. If this is the case, consider caching
diff --git a/docs/guide/runtime-requests.md b/docs/guide/runtime-requests.md
index bce3c3c2423..c11d52a78ce 100644
--- a/docs/guide/runtime-requests.md
+++ b/docs/guide/runtime-requests.md
@@ -201,7 +201,7 @@ except the `X-ProxyUser-Ip` and `Front-End-Https` headers in case the request is
 In that case the former is used to retrieve the user IP as configured in `ipHeaders` and the latter
 will be used to determine the result of [[yii\web\Request::getIsSecureConnection()]].
 
-Since 2.0.31 [RFC 7239](https://tools.ietf.org/html/rfc7239) `Forwarded` header is supported. In order to enable
+Since 2.0.31 [RFC 7239](https://datatracker.ietf.org/doc/html/rfc7239) `Forwarded` header is supported. In order to enable
 it you need to add header name to `secureHeaders`. Make sure your proxy is setting it, otherwise end user would be
 able to spoof IP and protocol.
 
diff --git a/docs/guide/runtime-responses.md b/docs/guide/runtime-responses.md
index 6705f4c67bc..9934ca3d40b 100644
--- a/docs/guide/runtime-responses.md
+++ b/docs/guide/runtime-responses.md
@@ -233,7 +233,7 @@ for some popular Web servers:
 - Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
 - Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Nginx: [X-Accel-Redirect](http://wiki.nginx.org/XSendfile)
+- Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
 - Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
diff --git a/docs/guide/runtime-sessions-cookies.md b/docs/guide/runtime-sessions-cookies.md
index 384b62b3b8e..e53adc96ab1 100644
--- a/docs/guide/runtime-sessions-cookies.md
+++ b/docs/guide/runtime-sessions-cookies.md
@@ -132,7 +132,7 @@ session classes implementing different session storage:
 * [[yii\web\DbSession]]: stores session data in a database table.
 * [[yii\web\CacheSession]]: stores session data in a cache with the help of a configured [cache component](caching-data.md#cache-components).
 * [[yii\redis\Session]]: stores session data using [redis](http://redis.io/) as the storage medium.
-* [[yii\mongodb\Session]]: stores session data in a [MongoDB](http://www.mongodb.org/).
+* [[yii\mongodb\Session]]: stores session data in a [MongoDB](https://www.mongodb.com/).
 
 All these session classes support the same set of API methods. As a result, you can switch to a different
 session storage class without the need to modify your application code that uses sessions.
@@ -374,20 +374,20 @@ Both [[yii\web\Cookie]] and [[yii\web\Session]] support the following security f
 For better security, the default value of [[yii\web\Cookie::httpOnly]] and the 'httponly' parameter of 
 [[yii\web\Session::cookieParams]] is set to `true`. This helps mitigate the risk of a client-side script accessing 
 the protected cookie (if the browser supports it).
-You may read the [HttpOnly wiki article](https://www.owasp.org/index.php/HttpOnly) for more details.
+You may read the [HttpOnly wiki article](https://owasp.org/www-community/HttpOnly) for more details.
 
 ### secure
 
 The purpose of the secure flag is to prevent cookies from being sent in clear text. If the browser supports the
 secure flag it will only include the cookie when the request is sent over a secure (TLS) connection.
-You may read the [SecureFlag wiki article](https://www.owasp.org/index.php/SecureFlag) for more details.
+You may read the [SecureFlag wiki article](https://owasp.org/www-community/controls/SecureCookieAttribute) for more details.
 
 ### sameSite
 
 Starting with Yii 2.0.21 the [[yii\web\Cookie::sameSite]] setting is supported. It requires PHP version 7.3.0 or higher.
 The purpose of the `sameSite` setting is to prevent CSRF (Cross-Site Request Forgery) attacks.
 If the browser supports the `sameSite` setting it will only include the cookie according to the specified policy ('Lax' or 'Strict').
-You may read the [SameSite wiki article](https://www.owasp.org/index.php/SameSite) for more details.
+You may read the [SameSite wiki article](https://owasp.org/www-community/SameSite) for more details.
 For better security, an exception will be thrown if `sameSite` is used with an unsupported version of PHP.
 To use this feature across different PHP versions check the version first. E.g.
 ```php
diff --git a/docs/guide/security-authorization.md b/docs/guide/security-authorization.md
index 6e69e17a91e..83563e4e61f 100644
--- a/docs/guide/security-authorization.md
+++ b/docs/guide/security-authorization.md
@@ -159,7 +159,7 @@ Role-Based Access Control (RBAC) provides a simple yet powerful centralized acce
 the [Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control) for details about comparing RBAC
 with other more traditional access control schemes.
 
-Yii implements a General Hierarchical RBAC, following the [NIST RBAC model](http://csrc.nist.gov/rbac/sandhu-ferraiolo-kuhn-00.pdf).
+Yii implements a General Hierarchical RBAC, following the [NIST RBAC model](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf).
 It provides the RBAC functionality through the [[yii\rbac\ManagerInterface|authManager]] [application component](structure-application-components.md).
 
 Using RBAC involves two parts of work. The first part is to build up the RBAC authorization data, and the second
@@ -281,7 +281,7 @@ build the hierarchy itself won't be different.
 You can use [migrations](db-migrations.md)
 to initialize and modify hierarchy via APIs offered by `authManager`.
 
-Create new migration using `./yii migrate/create init_rbac` then impement creating a hierarchy:
+Create new migration using `./yii migrate/create init_rbac` then implement creating a hierarchy:
 
 ```php
 <?php
diff --git a/docs/guide/security-best-practices.md b/docs/guide/security-best-practices.md
index 258fcf224ca..2724ce7f45b 100644
--- a/docs/guide/security-best-practices.md
+++ b/docs/guide/security-best-practices.md
@@ -33,7 +33,7 @@ In Yii, most probably you'll use [form validation](input-validation.md) to do al
 
 Further reading on the topic:
 
-- <https://www.owasp.org/index.php/Data_Validation>
+- <https://owasp.org/www-community/vulnerabilities/Improper_Data_Validation>
 - <https://www.owasp.org/index.php/Input_Validation_Cheat_Sheet>
 
 
@@ -46,9 +46,9 @@ contexts.
 
 Further reading on the topic:
 
-- <https://www.owasp.org/index.php/Command_Injection>
-- <https://www.owasp.org/index.php/Code_Injection>
-- <https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29>
+- <https://owasp.org/www-community/attacks/Command_Injection>
+- <https://owasp.org/www-community/attacks/Code_Injection>
+- <https://owasp.org/www-community/attacks/xss/>
 
 
 Avoiding SQL injections
@@ -117,7 +117,7 @@ You can get details about the syntax in [Quoting Table and Column Names](db-dao.
 
 Further reading on the topic:
 
-- <https://www.owasp.org/index.php/SQL_Injection>
+- <https://owasp.org/www-community/attacks/SQL_Injection>
 
 
 Avoiding XSS
@@ -151,7 +151,7 @@ Note that HtmlPurifier processing is quite heavy so consider adding caching.
 
 Further reading on the topic:
 
-- <https://www.owasp.org/index.php/Cross-site_Scripting_%28XSS%29>
+- <https://owasp.org/www-community/attacks/xss/>
 
 
 Avoiding CSRF
@@ -259,8 +259,8 @@ class ContactAction extends Action
 
 Further reading on the topic:
 
-- <https://www.owasp.org/index.php/CSRF>
-- <https://www.owasp.org/index.php/SameSite>
+- <https://owasp.org/www-community/attacks/csrf>
+- <https://owasp.org/www-community/SameSite>
 
 
 Avoiding file exposure
@@ -288,8 +288,8 @@ details possible. If you absolutely need it check twice that access is properly
 
 Further reading on the topic:
 
-- <https://www.owasp.org/index.php/Exception_Handling>
-- <https://www.owasp.org/index.php/Top_10_2007-Information_Leakage>
+- <https://owasp.org/www-project-.net/articles/Exception_Handling.md>
+- <https://owasp.org/www-pdf-archive/OWASP_Top_10_2007.pdf> (A6 - Information Leakage and Improper Error Handling)
 
 
 Using secure connection over TLS
diff --git a/docs/guide/security-passwords.md b/docs/guide/security-passwords.md
index 5edce289c07..327ccced5a0 100644
--- a/docs/guide/security-passwords.md
+++ b/docs/guide/security-passwords.md
@@ -7,7 +7,7 @@ but modern hardware makes it possible to crack such hashes and even stronger one
 
 In order to provide increased security for user passwords, even in the worst case scenario (your application is breached),
 you need to use a hashing algorithm that is resilient against brute force attacks. The best current choice is `bcrypt`.
-In PHP, you can create a `bcrypt` hash using the [crypt function](https://secure.php.net/manual/en/function.crypt.php). Yii provides
+In PHP, you can create a `bcrypt` hash using the [crypt function](https://www.php.net/manual/en/function.crypt.php). Yii provides
 two helper functions which make using `crypt` to securely generate and verify hashes easier.
 
 When a user provides a password for the first time (e.g., upon registration), the password needs to be hashed:
diff --git a/docs/guide/start-databases.md b/docs/guide/start-databases.md
index 111f79e819b..4b0c41ca281 100644
--- a/docs/guide/start-databases.md
+++ b/docs/guide/start-databases.md
@@ -51,7 +51,7 @@ At this point, you have a database named `yii2basic`, and within it a `country`
 Configuring a DB Connection <span id="configuring-db-connection"></span>
 ---------------------------
 
-Before proceeding, make sure you have installed both the [PDO](https://secure.php.net/manual/en/book.pdo.php) PHP extension and
+Before proceeding, make sure you have installed both the [PDO](https://www.php.net/manual/en/book.pdo.php) PHP extension and
 the PDO driver for the database you are using (e.g. `pdo_mysql` for MySQL). This is a basic requirement
 if your application uses a relational database.
 
diff --git a/docs/guide/start-installation.md b/docs/guide/start-installation.md
index 27e3ba3313f..7a1c43d0e05 100644
--- a/docs/guide/start-installation.md
+++ b/docs/guide/start-installation.md
@@ -139,7 +139,7 @@ Verifying the Installation <span id="verifying-installation"></span>
 --------------------------
 
 After installation is done, either configure your web server (see next section) or use the
-[built-in PHP web server](https://secure.php.net/manual/en/features.commandline.webserver.php) by running the following
+[built-in PHP web server](https://www.php.net/manual/en/features.commandline.webserver.php) by running the following
 console command while in the project root directory:
  
 ```bash
@@ -173,7 +173,7 @@ Yii's requirements. You can check if the minimum requirements are met using one
   ```
 
 You should configure your PHP installation so that it meets the minimum requirements of Yii. Most importantly, you
-should have PHP 5.4 or above. Ideally latest PHP 7. You should also install the [PDO PHP Extension](https://secure.php.net/manual/en/pdo.installation.php)
+should have PHP 5.4 or above. Ideally latest PHP 7. You should also install the [PDO PHP Extension](https://www.php.net/manual/en/pdo.installation.php)
 and a corresponding database driver (such as `pdo_mysql` for MySQL databases), if your application needs a database.
 
 
@@ -236,7 +236,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Recommended Nginx Configuration <span id="recommended-nginx-configuration"></span>
 
-To use [Nginx](http://wiki.nginx.org/), you should install PHP as an [FPM SAPI](https://secure.php.net/install.fpm).
+To use [Nginx](http://wiki.nginx.org/), you should install PHP as an [FPM SAPI](https://www.php.net/install.fpm).
 You may use the following Nginx configuration, replacing `path/to/basic/web` with the actual path for 
 `basic/web` and `mysite.test` with the actual hostname to serve.
 
diff --git a/docs/guide/start-prerequisites.md b/docs/guide/start-prerequisites.md
index a662478b826..4043b57e396 100644
--- a/docs/guide/start-prerequisites.md
+++ b/docs/guide/start-prerequisites.md
@@ -4,8 +4,8 @@ The Yii learning curve is not as steep as other PHP frameworks but still there a
 
 ## PHP
 
-Yii is a PHP framework so make sure you [read and understand language reference](https://secure.php.net/manual/en/langref.php).
-When developing with Yii you will be writing code in an object oriented fashion, so make sure you are familiar with [Classes and Objects](https://secure.php.net/manual/en/language.oop5.basic.php) as well as [namespaces](https://secure.php.net/manual/en/language.namespaces.php).
+Yii is a PHP framework so make sure you [read and understand language reference](https://www.php.net/manual/en/langref.php).
+When developing with Yii you will be writing code in an object oriented fashion, so make sure you are familiar with [Classes and Objects](https://www.php.net/manual/en/language.oop5.basic.php) as well as [namespaces](https://www.php.net/manual/en/language.namespaces.php).
 
 ## Object oriented programming
 
diff --git a/docs/guide/structure-applications.md b/docs/guide/structure-applications.md
index b057d6c359a..748b667299d 100644
--- a/docs/guide/structure-applications.md
+++ b/docs/guide/structure-applications.md
@@ -357,7 +357,7 @@ More details about this property can be found in the [Internationalization](tuto
 
 This property is provided as an alternative way of setting the default time zone of the PHP runtime.
 By configuring this property, you are essentially calling the PHP function
-[date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php). For example:
+[date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php). For example:
 
 ```php
 [
diff --git a/docs/guide/structure-extensions.md b/docs/guide/structure-extensions.md
index c7dc96dd020..6409c91cc0d 100644
--- a/docs/guide/structure-extensions.md
+++ b/docs/guide/structure-extensions.md
@@ -399,8 +399,6 @@ registered on [Packagist](https://packagist.org/) and can be easily installed as
   provides a set of commonly used auth clients, such as Facebook OAuth2 client, GitHub OAuth2 client.
 - [yiisoft/yii2-bootstrap](https://www.yiiframework.com/extension/yiisoft/yii2-bootstrap):
   provides a set of widgets that encapsulate the [Bootstrap](http://getbootstrap.com/) components and plugins.
-- [yiisoft/yii2-codeception](https://github.com/yiisoft/yii2-codeception) (deprecated):
-  provides testing support based on [Codeception](http://codeception.com/).
 - [yiisoft/yii2-debug](https://www.yiiframework.com/extension/yiisoft/yii2-debug):
   provides debugging support for Yii applications. When this extension is used, a debugger toolbar will appear
   at the bottom of every page. The extension also provides a set of standalone pages to display more detailed
@@ -421,7 +419,7 @@ registered on [Packagist](https://packagist.org/) and can be easily installed as
 - [yiisoft/yii2-jui](https://www.yiiframework.com/extension/yiisoft/yii2-jui):
   provides a set of widgets that encapsulate the [JQuery UI](http://jqueryui.com/) interactions and widgets.
 - [yiisoft/yii2-mongodb](https://www.yiiframework.com/extension/yiisoft/yii2-mongodb):
-  provides the support for using [MongoDB](http://www.mongodb.org/). It includes features such as basic query,
+  provides the support for using [MongoDB](https://www.mongodb.com/). It includes features such as basic query,
   Active Record, migrations, caching, code generation, etc.
 - [yiisoft/yii2-queue](https://www.yiiframework.com/extension/yiisoft/yii2-queue):
   provides the supports for running tasks asynchronously via queues.
diff --git a/docs/guide/structure-models.md b/docs/guide/structure-models.md
index 1cfc9bb95e8..4fb65e16666 100644
--- a/docs/guide/structure-models.md
+++ b/docs/guide/structure-models.md
@@ -37,7 +37,7 @@ echo $model->name;
 ```
 
 You can also access attributes like accessing array elements, thanks to the support for
-[ArrayAccess](https://secure.php.net/manual/en/class.arrayaccess.php) and [Traversable](https://secure.php.net/manual/en/class.traversable.php)
+[ArrayAccess](https://www.php.net/manual/en/class.arrayaccess.php) and [Traversable](https://www.php.net/manual/en/class.traversable.php)
 by [[yii\base\Model]]:
 
 ```php
diff --git a/docs/guide/structure-widgets.md b/docs/guide/structure-widgets.md
index e0791d6d629..65c0bb8f9f3 100644
--- a/docs/guide/structure-widgets.md
+++ b/docs/guide/structure-widgets.md
@@ -66,7 +66,7 @@ use yii\helpers\Html;
 Note that unlike [[yii\base\Widget::widget()]] which returns the rendering result of a widget, the method
 [[yii\base\Widget::begin()]] returns an instance of the widget which you can use to build the widget content.
 
-> Note: Some widgets will use [output buffering](https://secure.php.net/manual/en/book.outcontrol.php) to adjust the enclosed
+> Note: Some widgets will use [output buffering](https://www.php.net/manual/en/book.outcontrol.php) to adjust the enclosed
 > content when [[yii\base\Widget::end()]] is called. For this reason calling [[yii\base\Widget::begin()]] and
 > [[yii\base\Widget::end()]] is expected to happen in the same view file.
 > Not following this rule may result in unexpected output.
diff --git a/docs/guide/tutorial-core-validators.md b/docs/guide/tutorial-core-validators.md
index cce419172b9..6fa31c45cf5 100644
--- a/docs/guide/tutorial-core-validators.md
+++ b/docs/guide/tutorial-core-validators.md
@@ -141,7 +141,7 @@ specified via [[yii\validators\DateValidator::timestampAttribute|timestampAttrib
 - `format`: the date/time format that the value being validated should be in.
    This can be a date time pattern as described in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
    Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the PHP
-   `Datetime` class. Please refer to <https://secure.php.net/manual/en/datetime.createfromformat.php> on supported formats.
+   `Datetime` class. Please refer to <https://www.php.net/manual/en/datetime.createfromformat.php> on supported formats.
    If this is not set, it will take the value of `Yii::$app->formatter->dateFormat`.
    See the [[yii\validators\DateValidator::$format|API documentation]] for more details.
 
@@ -424,8 +424,8 @@ back to the attribute being validated.
 > Tip: If you want to trim input values, you may directly use the [trim](#trim) validator.
 
 > Tip: There are many PHP functions that have the signature expected for the `filter` callback.
-> For example to apply type casting (using e.g. [intval](https://secure.php.net/manual/en/function.intval.php),
-> [boolval](https://secure.php.net/manual/en/function.boolval.php), ...) to ensure a specific type for an attribute,
+> For example to apply type casting (using e.g. [intval](https://www.php.net/manual/en/function.intval.php),
+> [boolval](https://www.php.net/manual/en/function.boolval.php), ...) to ensure a specific type for an attribute,
 > you can simply specify the function names of the filter without the need to wrap them in a closure:
 >
 > ```php
diff --git a/docs/guide/tutorial-i18n.md b/docs/guide/tutorial-i18n.md
index 75cbb7e9014..2123f57d911 100644
--- a/docs/guide/tutorial-i18n.md
+++ b/docs/guide/tutorial-i18n.md
@@ -231,7 +231,7 @@ $price = 100;
 echo \Yii::t('app', 'Price: {0,number,currency}', $price);
 ```
 
-> Note: Parameter formatting requires the installation of the [intl PHP extension](https://secure.php.net/manual/en/intro.intl.php).
+> Note: Parameter formatting requires the installation of the [intl PHP extension](https://www.php.net/manual/en/intro.intl.php).
 
 You can use either the short form or the full form to specify a placeholder with formatting:
 
@@ -738,12 +738,12 @@ See the [Data Formatting](output-formatting.md) section for details.
 
 ## Setting Up PHP Environment <span id="setup-environment"></span>
 
-Yii uses the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) to provide most of its I18N features,
+Yii uses the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) to provide most of its I18N features,
 such as the date and number formatting of the [[yii\i18n\Formatter]] class and the message formatting using [[yii\i18n\MessageFormatter]].
 Both classes provide a fallback mechanism when the `intl` extension is not installed. However, the fallback implementation
 only works well for English target language. So it is highly recommended that you install `intl` when I18N is needed.
 
-The [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is based on the [ICU library](http://site.icu-project.org/) which
+The [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is based on the [ICU library](http://site.icu-project.org/) which
 provides the knowledge and formatting rules for all different locales. Different versions of ICU may produce different
 formatting result of date and number values. To ensure your website produces the same results across all environments,
 it is recommended that you install the same version of the `intl` extension (and thus the same version of ICU)
diff --git a/docs/guide/tutorial-performance-tuning.md b/docs/guide/tutorial-performance-tuning.md
index b7a85b45543..9578948fdc2 100644
--- a/docs/guide/tutorial-performance-tuning.md
+++ b/docs/guide/tutorial-performance-tuning.md
@@ -11,7 +11,7 @@ factors and explain how you can improve your application performance by adjustin
 A well configured PHP environment is very important. In order to get maximum performance,
 
 - Use the latest stable PHP version. Major releases of PHP may bring significant performance improvements.
-- Enable bytecode caching with [Opcache](https://secure.php.net/opcache) (PHP 5.5 or later) or [APC](https://secure.php.net/apc) 
+- Enable bytecode caching with [Opcache](https://www.php.net/opcache) (PHP 5.5 or later) or [APC](https://www.php.net/apc) 
   (PHP 5.4). Bytecode caching avoids the time spent in parsing and including PHP scripts for every
   incoming request.
 - [Tune `realpath()` cache](https://github.com/samdark/realpath_cache_tuner).
@@ -190,7 +190,7 @@ composer dumpautoload -o
 Additionally you may consider using
 [authoritative class maps](https://getcomposer.org/doc/articles/autoloader-optimization.md#optimization-level-2-a-authoritative-class-maps)
 and [APCu cache](https://getcomposer.org/doc/articles/autoloader-optimization.md#optimization-level-2-b-apcu-cache).
-Note that both opmizations may or may not be suitable for your particular case.
+Note that both optimizations may or may not be suitable for your particular case.
 
 
 ## Processing Data Offline <span id="processing-data-offline"></span>
@@ -217,9 +217,9 @@ The following profiling tools may be useful:
 
 - [Yii debug toolbar and debugger](https://github.com/yiisoft/yii2-debug/blob/master/docs/guide/README.md)
 - [Blackfire](https://blackfire.io/)
-- [XHProf](https://secure.php.net/manual/en/book.xhprof.php)
+- [XHProf](https://www.php.net/manual/en/book.xhprof.php)
 - [XDebug profiler](http://xdebug.org/docs/profiler)
 
 ## Prepare application for scaling
 
-When nothing helps you may try making your application scalabe. A good introduction is provided in [Configuring a Yii 2 Application for an Autoscaling Stack](https://github.com/samdark/yii2-cookbook/blob/master/book/scaling.md).
+When nothing helps you may try making your application scalable. A good introduction is provided in [Configuring a Yii 2 Application for an Autoscaling Stack](https://github.com/samdark/yii2-cookbook/blob/master/book/scaling.md).
diff --git a/docs/internals/core-code-style.md b/docs/internals/core-code-style.md
index 45c2e933ba3..78199c4b81b 100644
--- a/docs/internals/core-code-style.md
+++ b/docs/internals/core-code-style.md
@@ -46,7 +46,7 @@ Class names MUST be declared in `StudlyCaps`. For example, `Controller`, `Model`
 
 The term "class" refers to all classes and interfaces here.
 
-- Classes should be named using `CamelCase`.
+- Classes should be named using `StudlyCase`.
 - The brace should always be written on the line underneath the class name.
 - Every class must have a documentation block that conforms to the PHPDoc.
 - All code in a class must be indented with 4 spaces.
@@ -152,7 +152,7 @@ class Foo
  * Checks whether the IP is in subnet range
  *
  * @param string $ip an IPv4 or IPv6 address
- * @param int $cidr the CIDR lendth
+ * @param int $cidr the CIDR length
  * @param string $range subnet in CIDR format e.g. `10.0.0.0/8` or `2001:af::/64`
  * @return bool whether the IP is in subnet range
  */
diff --git a/docs/internals/release.md b/docs/internals/release.md
index c5c0eb73feb..703190e9dc3 100644
--- a/docs/internals/release.md
+++ b/docs/internals/release.md
@@ -77,7 +77,7 @@ before.
 - create a new branch `2.0` from `master`
 - ensure composer.json does not contain a branch alias on this branch anymore.
 - merge necessary changes from `master` to `2.1`
-- point `master` to the lastest commit on `2.1`
+- point `master` to the latest commit on `2.1`
 - adjust composer.json branch alias for master to `2.1.x-dev`.
 - delete `2.1` branch
 
diff --git a/framework/BaseYii.php b/framework/BaseYii.php
index 4a5302a0fa0..002b0f61ed8 100644
--- a/framework/BaseYii.php
+++ b/framework/BaseYii.php
@@ -31,15 +31,15 @@
  */
 defined('YII_ENV') or define('YII_ENV', 'prod');
 /**
- * Whether the the application is running in production environment.
+ * Whether the application is running in the production environment.
  */
 defined('YII_ENV_PROD') or define('YII_ENV_PROD', YII_ENV === 'prod');
 /**
- * Whether the the application is running in development environment.
+ * Whether the application is running in the development environment.
  */
 defined('YII_ENV_DEV') or define('YII_ENV_DEV', YII_ENV === 'dev');
 /**
- * Whether the the application is running in testing environment.
+ * Whether the application is running in the testing environment.
  */
 defined('YII_ENV_TEST') or define('YII_ENV_TEST', YII_ENV === 'test');
 
@@ -93,7 +93,7 @@ class BaseYii
      */
     public static function getVersion()
     {
-        return '2.0.43';
+        return '2.0.44-dev';
     }
 
     /**
@@ -130,7 +130,7 @@ public static function getVersion()
      */
     public static function getAlias($alias, $throwException = true)
     {
-        if (strpos($alias, '@') !== 0) {
+        if (strncmp($alias, '@', 1) !== 0) {
             // not an alias
             return $alias;
         }
@@ -201,7 +201,7 @@ public static function getRootAlias($alias)
      * See the [guide article on aliases](guide:concept-aliases) for more information.
      *
      * @param string $alias the alias name (e.g. "@yii"). It must start with a '@' character.
-     * It may contain the forward slash '/' which serves as boundary character when performing
+     * It may contain the forward-slash '/' which serves as a boundary character when performing
      * alias translation by [[getAlias()]].
      * @param string $path the path corresponding to the alias. If this is null, the alias will
      * be removed. Trailing '/' and '\' characters will be trimmed. This can be
@@ -266,7 +266,7 @@ public static function setAlias($alias, $path)
      * and have its top-level namespace or sub-namespaces defined as path aliases.
      *
      * Example: When aliases `@yii` and `@yii/bootstrap` are defined, classes in the `yii\bootstrap` namespace
-     * will be loaded using the `@yii/bootstrap` alias which points to the directory where bootstrap extension
+     * will be loaded using the `@yii/bootstrap` alias which points to the directory where the bootstrap extension
      * files are installed and all classes from other `yii` namespaces will be loaded from the yii framework directory.
      *
      * Also the [guide section on autoloading](guide:concept-autoloading).
@@ -278,7 +278,7 @@ public static function autoload($className)
     {
         if (isset(static::$classMap[$className])) {
             $classFile = static::$classMap[$className];
-            if (strpos($classFile, '@') === 0) {
+            if (strncmp($classFile, '@', 1) === 0) {
                 $classFile = static::getAlias($classFile);
             }
         } elseif (strpos($className, '\\') !== false) {
@@ -393,11 +393,11 @@ public static function setLogger($logger)
 
     /**
      * Logs a debug message.
-     * Trace messages are logged mainly for development purpose to see
-     * the execution work flow of some code. This method will only log
+     * Trace messages are logged mainly for development purposes to see
+     * the execution workflow of some code. This method will only log
      * a message when the application is in debug mode.
      * @param string|array $message the message to be logged. This can be a simple string or a more
-     * complex data structure, such as array.
+     * complex data structure, such as an array.
      * @param string $category the category of the message.
      * @since 2.0.14
      */
@@ -411,7 +411,7 @@ public static function debug($message, $category = 'application')
     /**
      * Alias of [[debug()]].
      * @param string|array $message the message to be logged. This can be a simple string or a more
-     * complex data structure, such as array.
+     * complex data structure, such as an array.
      * @param string $category the category of the message.
      * @deprecated since 2.0.14. Use [[debug()]] instead.
      */
@@ -425,7 +425,7 @@ public static function trace($message, $category = 'application')
      * An error message is typically logged when an unrecoverable error occurs
      * during the execution of an application.
      * @param string|array $message the message to be logged. This can be a simple string or a more
-     * complex data structure, such as array.
+     * complex data structure, such as an array.
      * @param string $category the category of the message.
      */
     public static function error($message, $category = 'application')
@@ -438,7 +438,7 @@ public static function error($message, $category = 'application')
      * A warning message is typically logged when an error occurs while the execution
      * can still continue.
      * @param string|array $message the message to be logged. This can be a simple string or a more
-     * complex data structure, such as array.
+     * complex data structure, such as an array.
      * @param string $category the category of the message.
      */
     public static function warning($message, $category = 'application')
@@ -451,7 +451,7 @@ public static function warning($message, $category = 'application')
      * An informative message is typically logged by an application to keep record of
      * something important (e.g. an administrator logs in).
      * @param string|array $message the message to be logged. This can be a simple string or a more
-     * complex data structure, such as array.
+     * complex data structure, such as an array.
      * @param string $category the category of the message.
      */
     public static function info($message, $category = 'application')
@@ -522,7 +522,7 @@ public static function powered()
      * echo \Yii::t('app', 'Hello, {username}!', ['username' => $username]);
      * ```
      *
-     * Further formatting of message parameters is supported using the [PHP intl extensions](https://secure.php.net/manual/en/intro.intl.php)
+     * Further formatting of message parameters is supported using the [PHP intl extensions](https://www.php.net/manual/en/intro.intl.php)
      * message formatter. See [[\yii\i18n\I18N::translate()]] for more details.
      *
      * @param string $category the message category.
diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index eaf515e26df..da783b578fe 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -1,6 +1,38 @@
 Yii Framework 2 Change Log
 ==========================
 
+2.0.44 under development
+------------------------
+
+- Enh #13105: Add yiiActiveForm validate_only property for skipping form auto-submission (ptolomaues)
+- Enh #18967: Use proper attribute names for tabular data in `yii\widgets\ActiveField::addAriaAttributes()` (AnkIF)
+- Bug #18798: Fix `StringHelper::dirname()` when passing string with a trailing slash (perlexed)
+- Enh #18328: Raise warning when trying to register a file after `View::endPage()` has been called (perlexed)
+- Enh #18812: Added error messages and optimized "error" methods in `yii\helpers\BaseJson` (WinterSilence, samdark)
+- Chg #18823: Rollback changes #18806 in `yii\validators\ExistValidator::checkTargetRelationExistence()` (WinterSilence)
+- Enh #18826: Add ability to turn the sorting off for a clicked column in GridView with multisort (ditibal)
+- Bug #18646: Remove stale identity data from session if `IdentityInterface::findIdentity()` returns `null` (mikehaertl)
+- Bug #18832: Fix `Inflector::camel2words()` adding extra spaces (brandonkelly)
+- Enh #18762: Added `yii\helpers\Json::$keepObjectType` and `yii\web\JsonResponseFormatter::$keepObjectType` in order to avoid changing zero-indexed objects to array in `yii\helpers\Json::encode()` (zebraf1)
+- Enh #18783: Add support for URI namespaced tags in `XmlResponseFormatter` (WinterSilence, samdark)
+- Enh #18783: Add `XmlResponseFormatter::$objectTagToLowercase` option to lowercase object tags (WinterSilence, samdark)
+- Bug #18845: Fix duplicating `id` in `MigrateController::addDefaultPrimaryKey()` (WinterSilence, samdark)
+- Bug #17119: Fix `yii\caching\Cache::multiSet()` to use `yii\caching\Cache::$defaultDuration` when no duration is passed (OscarBarrett)
+- Bug #18842: Fix `yii\base\Controller::bindInjectedParams()` to not throw error when argument of `ReflectionUnionType` type is passed (bizley)
+- Enh #18858: Reduce memory usage in `yii\base\View::afterRender` method (LeoOnTheEarth)
+- Bug #18880: Fix `yii\helpers\ArrayHelper::toArray()` for `DateTime` objects in PHP >= 7.4 (rhertogh)
+- Bug #18883: Fix `yii\web\HeaderCollection::fromArray()` now ensures lower case keys (rhertogh)
+- Enh #18899: Replace usages of `strpos` with `strncmp` and remove redundant usage of `array_merge` and `array_values` (AlexGx)
+- Bug #18898: Fix `yii\helpers\Inflector::camel2words()` to work with words ending with 0 (michaelarnauts)
+- Enh #18904: Improve Captcha client-side validation (hexkir)
+- Bug #18913: Add filename validation for `MessageSource::getMessageFilePath()` (uaoleg)
+- Bug #18909: Fix bug with binding default action parameters for controllers (bizley)
+- Bug #18955: Check `yiisoft/yii2-swiftmailer` before using as default mailer in `yii\base\Application` (WinterSilence)
+- Bug #18988: Fix default value of `yii\console\controllers\MessageController::$translator` (WinterSilence)
+- Bug #18993: Load defaults by `attributes()` in `yii\db\ActiveRecord::loadDefaultValues()` (WinterSilence)
+- Bug #19021: Fix return type in PhpDoc `yii\db\Migration` functions `up()`, `down()`, `safeUp()` and `safeDown()` (WinterSilence, rhertogh)
+
+
 2.0.43 August 09, 2021
 ----------------------
 
diff --git a/framework/UPGRADE.md b/framework/UPGRADE.md
index 7ec63dcd92e..8a9a20a4737 100644
--- a/framework/UPGRADE.md
+++ b/framework/UPGRADE.md
@@ -51,6 +51,25 @@ if you want to upgrade from version A to version C and there is
 version B between A and C, you need to follow the instructions
 for both A and B.
 
+Upgrade from Yii 2.0.43
+-----------------------
+
+* `Json::encode()` can now handle zero-indexed objects in same way as `json_encode()` and keep them as objects. In order to avoid breaking backwards compatibility this behavior could be enabled by a new option flag but is disabled by default.
+  * Set `yii/helpers/Json::$keepObjectType = true` anywhere in your application code
+  * Or configure json response formatter to enable it for all JSON responses:
+      ```php
+      'response' => [
+        'formatters' => [
+          \yii\web\Response::FORMAT_JSON => [
+            'class' => 'yii\web\JsonResponseFormatter',
+            'prettyPrint' => YII_DEBUG, // use "pretty" output in debug mode
+            'keepObjectType' => true, // keep object type for zero-indexed objects
+          ],
+        ],
+      ],
+      ```
+* `yii\caching\Cache::multiSet()` now uses the default cache duration (`yii\caching\Cache::$defaultDuration`) when no duration is provided. A duration of 0 should be explicitly passed if items should not expire.
+
 Upgrade from Yii 2.0.42
 -----------------------
 
@@ -65,6 +84,8 @@ Upgrade from Yii 2.0.42
   ```sql
   INSERT INTO `some_table` (`int_unsigned_col`) VALUES (22)
   ```
+* Property `yii\db\ColumnSchemaBuilder::$categoryMap` has been removed in favor of getter/setter methods `getCategoryMap()` 
+  and `setCategoryMap()`.
 
 Upgrade from Yii 2.0.41
 -----------------------
@@ -829,7 +850,7 @@ Upgrade from Yii 2.0 Beta
   You can add it with `ALTER TABLE log ADD COLUMN prefix TEXT AFTER log_time;`.
 
 * The `fileinfo` PHP extension is now required by Yii. If you use  `yii\helpers\FileHelper::getMimeType()`, make sure
-  you have enabled this extension. This extension is [builtin](https://secure.php.net/manual/en/fileinfo.installation.php) in php above `5.3`.
+  you have enabled this extension. This extension is [builtin](https://www.php.net/manual/en/fileinfo.installation.php) in php above `5.3`.
 
 * Please update your main layout file by adding this line in the `<head>` section: `<?= Html::csrfMetaTags() ?>`.
   This change is needed because `yii\web\View` no longer automatically generates CSRF meta tags due to issue #3358.
diff --git a/framework/assets/yii.activeForm.js b/framework/assets/yii.activeForm.js
index ab44e0cbd8b..671f6dcc9f6 100644
--- a/framework/assets/yii.activeForm.js
+++ b/framework/assets/yii.activeForm.js
@@ -218,6 +218,7 @@
                     attributes: attributes,
                     submitting: false,
                     validated: false,
+                    validate_only: false, // validate without auto submitting
                     options: getFormOptions($form)
                 });
 
@@ -754,12 +755,14 @@
                 data.submitting = false;
             } else {
                 data.validated = true;
-                if (data.submitObject) {
-                    applyButtonOptions($form, data.submitObject);
-                }
-                $form.submit();
-                if (data.submitObject) {
-                    restoreButtonOptions($form);
+                if (!data.validate_only) {
+                    if (data.submitObject) {
+                        applyButtonOptions($form, data.submitObject);
+                    }
+                    $form.submit();
+                    if (data.submitObject) {
+                        restoreButtonOptions($form);
+                    }
                 }
             }
         } else {
diff --git a/framework/assets/yii.validation.js b/framework/assets/yii.validation.js
index 88f79decba3..2f1e06039b1 100644
--- a/framework/assets/yii.validation.js
+++ b/framework/assets/yii.validation.js
@@ -261,7 +261,7 @@ yii.validation = (function ($) {
             hash = hash == null ? options.hash : hash[options.caseSensitive ? 0 : 1];
             var v = options.caseSensitive ? value : value.toLowerCase();
             for (var i = v.length - 1, h = 0; i >= 0; --i) {
-                h += v.charCodeAt(i);
+                h += v.charCodeAt(i) << i;
             }
             if (h != hash) {
                 pub.addMessage(messages, options.message, value);
diff --git a/framework/base/Application.php b/framework/base/Application.php
index 94f4be11787..3e095447c17 100644
--- a/framework/base/Application.php
+++ b/framework/base/Application.php
@@ -477,7 +477,7 @@ public function setVendorPath($path)
      * If time zone is not configured in php.ini or application config,
      * it will be set to UTC by default.
      * @return string the time zone used by this application.
-     * @see https://secure.php.net/manual/en/function.date-default-timezone-get.php
+     * @see https://www.php.net/manual/en/function.date-default-timezone-get.php
      */
     public function getTimeZone()
     {
@@ -487,9 +487,9 @@ public function getTimeZone()
     /**
      * Sets the time zone used by this application.
      * This is a simple wrapper of PHP function date_default_timezone_set().
-     * Refer to the [php manual](https://secure.php.net/manual/en/timezones.php) for available timezones.
+     * Refer to the [php manual](https://www.php.net/manual/en/timezones.php) for available timezones.
      * @param string $value the time zone used by this application.
-     * @see https://secure.php.net/manual/en/function.date-default-timezone-set.php
+     * @see https://www.php.net/manual/en/function.date-default-timezone-set.php
      */
     public function setTimeZone($value)
     {
@@ -589,6 +589,7 @@ public function getI18n()
     /**
      * Returns the mailer component.
      * @return \yii\mail\MailerInterface the mailer application component.
+     * @throws InvalidConfigException If this component is not configured.
      */
     public function getMailer()
     {
@@ -597,8 +598,7 @@ public function getMailer()
 
     /**
      * Returns the auth manager for this application.
-     * @return \yii\rbac\ManagerInterface the auth manager application component.
-     * Null is returned if auth manager is not configured.
+     * @return \yii\rbac\ManagerInterface|null the auth manager application component or null if it's not configured.
      */
     public function getAuthManager()
     {
@@ -625,20 +625,25 @@ public function getSecurity()
 
     /**
      * Returns the configuration of core application components.
+     * @return array
      * @see set()
      */
     public function coreComponents()
     {
-        return [
+        $components = [
             'log' => ['class' => 'yii\log\Dispatcher'],
             'view' => ['class' => 'yii\web\View'],
             'formatter' => ['class' => 'yii\i18n\Formatter'],
             'i18n' => ['class' => 'yii\i18n\I18N'],
-            'mailer' => ['class' => 'yii\swiftmailer\Mailer'],
             'urlManager' => ['class' => 'yii\web\UrlManager'],
             'assetManager' => ['class' => 'yii\web\AssetManager'],
             'security' => ['class' => 'yii\base\Security'],
         ];
+        if (class_exists('yii\swiftmailer\Mailer')) {
+            $components['mailer'] = ['class' => 'yii\swiftmailer\Mailer'];
+        }
+
+        return $components;
     }
 
     /**
diff --git a/framework/base/BaseObject.php b/framework/base/BaseObject.php
index acb50ada50c..e5d4e1001c8 100644
--- a/framework/base/BaseObject.php
+++ b/framework/base/BaseObject.php
@@ -173,7 +173,7 @@ public function __set($name, $value)
      * Note that if the property is not defined, false will be returned.
      * @param string $name the property name or the event name
      * @return bool whether the named property is set (not null).
-     * @see https://secure.php.net/manual/en/function.isset.php
+     * @see https://www.php.net/manual/en/function.isset.php
      */
     public function __isset($name)
     {
@@ -195,7 +195,7 @@ public function __isset($name)
      * If the property is read-only, it will throw an exception.
      * @param string $name the property name
      * @throws InvalidCallException if the property is read only.
-     * @see https://secure.php.net/manual/en/function.unset.php
+     * @see https://www.php.net/manual/en/function.unset.php
      */
     public function __unset($name)
     {
diff --git a/framework/base/Component.php b/framework/base/Component.php
index 47e872bd976..32f714cbcba 100644
--- a/framework/base/Component.php
+++ b/framework/base/Component.php
@@ -223,7 +223,7 @@ public function __set($name, $value)
      * will be implicitly called when executing `isset($component->property)`.
      * @param string $name the property name or the event name
      * @return bool whether the named property is set
-     * @see https://secure.php.net/manual/en/function.isset.php
+     * @see https://www.php.net/manual/en/function.isset.php
      */
     public function __isset($name)
     {
@@ -255,7 +255,7 @@ public function __isset($name)
      * will be implicitly called when executing `unset($component->property)`.
      * @param string $name the property name
      * @throws InvalidCallException if the property is read only.
-     * @see https://secure.php.net/manual/en/function.unset.php
+     * @see https://www.php.net/manual/en/function.unset.php
      */
     public function __unset($name)
     {
diff --git a/framework/base/DynamicModel.php b/framework/base/DynamicModel.php
index 610e03d8335..4510596d95a 100644
--- a/framework/base/DynamicModel.php
+++ b/framework/base/DynamicModel.php
@@ -252,7 +252,6 @@ public function attributes()
      * Sets the attribute labels in a massive way.
      *
      * @see attributeLabels()
-     * @see $_attributeLabels
      * @since 2.0.35
      *
      * @param array $labels Array of attribute labels
@@ -269,7 +268,6 @@ public function setAttributeLabels(array $labels = [])
      * Sets a label for an attribute.
      *
      * @see attributeLabels()
-     * @see $_attributeLabels
      * @since 2.0.35
      *
      * @param string $attribute Attribute name
diff --git a/framework/base/ErrorException.php b/framework/base/ErrorException.php
index 03b662f3af9..657b8e390b8 100644
--- a/framework/base/ErrorException.php
+++ b/framework/base/ErrorException.php
@@ -32,7 +32,7 @@ class ErrorException extends \ErrorException
 
     /**
      * Constructs the exception.
-     * @link https://secure.php.net/manual/en/errorexception.construct.php
+     * @link https://www.php.net/manual/en/errorexception.construct.php
      * @param string $message [optional]
      * @param int $code [optional]
      * @param int $severity [optional]
diff --git a/framework/base/Model.php b/framework/base/Model.php
index bbbb0d2cbfe..204242143c1 100644
--- a/framework/base/Model.php
+++ b/framework/base/Model.php
@@ -335,9 +335,9 @@ public function attributeHints()
      * Errors found during the validation can be retrieved via [[getErrors()]],
      * [[getFirstErrors()]] and [[getFirstError()]].
      *
-     * @param string[]|string $attributeNames attribute name or list of attribute names that should be validated.
-     * If this parameter is empty, it means any attribute listed in the applicable
-     * validation rules should be validated.
+     * @param string[]|string|null $attributeNames attribute name or list of attribute names
+     * that should be validated. If this parameter is empty, it means any attribute listed in
+     * the applicable validation rules should be validated.
      * @param bool $clearErrors whether to call [[clearErrors()]] before performing validation
      * @return bool whether the validation is successful without any error.
      * @throws InvalidArgumentException if the current scenario is unknown.
@@ -426,7 +426,7 @@ public function getValidators()
 
     /**
      * Returns the validators applicable to the current [[scenario]].
-     * @param string $attribute the name of the attribute whose applicable validators should be returned.
+     * @param string|null $attribute the name of the attribute whose applicable validators should be returned.
      * If this is null, the validators for ALL attributes in the model will be returned.
      * @return \yii\validators\Validator[] the validators applicable to the current [[scenario]].
      */
@@ -561,10 +561,9 @@ public function hasErrors($attribute = null)
 
     /**
      * Returns the errors for all attributes or a single attribute.
-     * @param string $attribute attribute name. Use null to retrieve errors for all attributes.
-     * @property array An array of errors for all attributes. Empty array is returned if no error.
-     * The result is a two-dimensional array. See [[getErrors()]] for detailed description.
+     * @param string|null $attribute attribute name. Use null to retrieve errors for all attributes. 
      * @return array errors for all attributes or the specified attribute. Empty array is returned if no error.
+     * See [[getErrors()]] for detailed description.
      * Note that when returning errors for all attributes, the result is a two-dimensional array, like the following:
      *
      * ```php
@@ -678,7 +677,7 @@ public function addErrors(array $items)
 
     /**
      * Removes errors for all attributes or a single attribute.
-     * @param string $attribute attribute name. Use null to remove errors for all attributes.
+     * @param string|null $attribute attribute name. Use null to remove errors for all attributes.
      */
     public function clearErrors($attribute = null)
     {
@@ -704,7 +703,7 @@ public function generateAttributeLabel($name)
 
     /**
      * Returns attribute values.
-     * @param array $names list of attributes whose value needs to be returned.
+     * @param array|null $names list of attributes whose value needs to be returned.
      * Defaults to null, meaning all attributes listed in [[attributes()]] will be returned.
      * If it is an array, only the attributes in the array will be returned.
      * @param array $except list of attributes whose value should NOT be returned.
@@ -857,7 +856,7 @@ public function activeAttributes()
      * Note, that the data being populated is subject to the safety check by [[setAttributes()]].
      *
      * @param array $data the data array to load, typically `$_POST` or `$_GET`.
-     * @param string $formName the form name to use to load the data into the model.
+     * @param string|null $formName the form name to use to load the data into the model, empty string when form not use.
      * If not set, [[formName()]] is used.
      * @return bool whether `load()` found the expected form in `$data`.
      */
@@ -887,7 +886,7 @@ public function load($data, $formName = null)
      * @param array $models the models to be populated. Note that all models should have the same class.
      * @param array $data the data array. This is usually `$_POST` or `$_GET`, but can also be any valid array
      * supplied by end user.
-     * @param string $formName the form name to be used for loading the data into the models.
+     * @param string|null $formName the form name to be used for loading the data into the models.
      * If not set, it will use the [[formName()]] value of the first model in `$models`.
      * This parameter is available since version 2.0.1.
      * @return bool whether at least one of the models is successfully populated.
@@ -923,7 +922,7 @@ public static function loadMultiple($models, $data, $formName = null)
      * This method will validate every model. The models being validated may
      * be of the same or different types.
      * @param array $models the models to be validated
-     * @param array $attributeNames list of attribute names that should be validated.
+     * @param array|null $attributeNames list of attribute names that should be validated.
      * If this parameter is empty, it means any attribute listed in the applicable
      * validation rules should be validated.
      * @return bool whether all models are valid. False will be returned if one
@@ -1007,7 +1006,7 @@ public function getIterator()
      * Returns whether there is an element at the specified offset.
      * This method is required by the SPL interface [[\ArrayAccess]].
      * It is implicitly called when you use something like `isset($model[$offset])`.
-     * @param mixed $offset the offset to check on.
+     * @param string $offset the offset to check on.
      * @return bool whether or not an offset exists.
      */
     public function offsetExists($offset)
@@ -1019,7 +1018,7 @@ public function offsetExists($offset)
      * Returns the element at the specified offset.
      * This method is required by the SPL interface [[\ArrayAccess]].
      * It is implicitly called when you use something like `$value = $model[$offset];`.
-     * @param mixed $offset the offset to retrieve element.
+     * @param string $offset the offset to retrieve element.
      * @return mixed the element at the offset, null if no element is found at the offset
      */
     public function offsetGet($offset)
@@ -1030,20 +1029,20 @@ public function offsetGet($offset)
     /**
      * Sets the element at the specified offset.
      * This method is required by the SPL interface [[\ArrayAccess]].
-     * It is implicitly called when you use something like `$model[$offset] = $item;`.
-     * @param int $offset the offset to set element
-     * @param mixed $item the element value
+     * It is implicitly called when you use something like `$model[$offset] = $value;`.
+     * @param string $offset the offset to set element
+     * @param mixed $value the element value
      */
-    public function offsetSet($offset, $item)
+    public function offsetSet($offset, $value)
     {
-        $this->$offset = $item;
+        $this->$offset = $value;
     }
 
     /**
      * Sets the element value at the specified offset to null.
      * This method is required by the SPL interface [[\ArrayAccess]].
      * It is implicitly called when you use something like `unset($model[$offset])`.
-     * @param mixed $offset the offset to unset element
+     * @param string $offset the offset to unset element
      */
     public function offsetUnset($offset)
     {
diff --git a/framework/base/Security.php b/framework/base/Security.php
index 49972d17bde..6276bf5a584 100644
--- a/framework/base/Security.php
+++ b/framework/base/Security.php
@@ -55,12 +55,12 @@ class Security extends Component
     ];
     /**
      * @var string Hash algorithm for key derivation. Recommend sha256, sha384 or sha512.
-     * @see [hash_algos()](https://secure.php.net/manual/en/function.hash-algos.php)
+     * @see [hash_algos()](https://www.php.net/manual/en/function.hash-algos.php)
      */
     public $kdfHash = 'sha256';
     /**
      * @var string Hash algorithm for message authentication. Recommend sha256, sha384 or sha512.
-     * @see [hash_algos()](https://secure.php.net/manual/en/function.hash-algos.php)
+     * @see [hash_algos()](https://www.php.net/manual/en/function.hash-algos.php)
      */
     public $macHash = 'sha256';
     /**
@@ -537,7 +537,7 @@ public function generateRandomString($length = 32)
      * compute the hash doubles for every increment by one of $cost.
      * @return string The password hash string. When [[passwordHashStrategy]] is set to 'crypt',
      * the output is always 60 ASCII characters, when set to 'password_hash' the output length
-     * might increase in future versions of PHP (https://secure.php.net/manual/en/function.password-hash.php)
+     * might increase in future versions of PHP (https://www.php.net/manual/en/function.password-hash.php)
      * @throws Exception on bad password parameter or cost parameter.
      * @see validatePassword()
      */
@@ -599,7 +599,7 @@ public function validatePassword($password, $hash)
     /**
      * Generates a salt that can be used to generate a password hash.
      *
-     * The PHP [crypt()](https://secure.php.net/manual/en/function.crypt.php) built-in function
+     * The PHP [crypt()](https://www.php.net/manual/en/function.crypt.php) built-in function
      * requires, for the Blowfish hash algorithm, a salt string in a specific format:
      * "$2a$", "$2x$" or "$2y$", a two digit cost parameter, "$", and 22 characters
      * from the alphabet "./0-9A-Za-z".
diff --git a/framework/base/View.php b/framework/base/View.php
index 41b3d9650ca..1cb79cfcf92 100644
--- a/framework/base/View.php
+++ b/framework/base/View.php
@@ -316,10 +316,10 @@ public function afterRender($viewFile, $params, &$output)
             $event = new ViewEvent([
                 'viewFile' => $viewFile,
                 'params' => $params,
-                'output' => $output,
             ]);
+            $event->output =& $output;
+
             $this->trigger(self::EVENT_AFTER_RENDER, $event);
-            $output = $event->output;
         }
     }
 
@@ -336,7 +336,6 @@ public function afterRender($viewFile, $params, &$output)
      * @param array $_params_ the parameters (name-value pairs) that will be extracted and made available in the view file.
      * @return string the rendering result
      * @throws \Exception
-     * @throws \Throwable
      */
     public function renderPhpFile($_file_, $_params_ = [])
     {
diff --git a/framework/behaviors/TimestampBehavior.php b/framework/behaviors/TimestampBehavior.php
index 4b4f54c2af6..7f79fe3bc9d 100644
--- a/framework/behaviors/TimestampBehavior.php
+++ b/framework/behaviors/TimestampBehavior.php
@@ -84,7 +84,7 @@ class TimestampBehavior extends AttributeBehavior
     /**
      * {@inheritdoc}
      *
-     * In case, when the value is `null`, the result of the PHP function [time()](https://secure.php.net/manual/en/function.time.php)
+     * In case, when the value is `null`, the result of the PHP function [time()](https://www.php.net/manual/en/function.time.php)
      * will be used as value.
      */
     public $value;
@@ -108,7 +108,7 @@ public function init()
     /**
      * {@inheritdoc}
      *
-     * In case, when the [[value]] is `null`, the result of the PHP function [time()](https://secure.php.net/manual/en/function.time.php)
+     * In case, when the [[value]] is `null`, the result of the PHP function [time()](https://www.php.net/manual/en/function.time.php)
      * will be used as value.
      */
     protected function getValue($event)
diff --git a/framework/caching/ApcCache.php b/framework/caching/ApcCache.php
index 50e893c4565..32b74eb5fbb 100644
--- a/framework/caching/ApcCache.php
+++ b/framework/caching/ApcCache.php
@@ -12,8 +12,8 @@
 /**
  * ApcCache provides APC caching in terms of an application component.
  *
- * To use this application component, the [APC PHP extension](https://secure.php.net/apc) must be loaded.
- * Alternatively [APCu PHP extension](https://secure.php.net/apcu) could be used via setting `useApcu` to `true`.
+ * To use this application component, the [APC PHP extension](https://www.php.net/apc) must be loaded.
+ * Alternatively [APCu PHP extension](https://www.php.net/apcu) could be used via setting `useApcu` to `true`.
  * In order to enable APC or APCu for CLI you should add "apc.enable_cli = 1" to your php.ini.
  *
  * See [[Cache]] for common cache operations that ApcCache supports.
diff --git a/framework/caching/Cache.php b/framework/caching/Cache.php
index ea79e1427ae..a4afaee5eb4 100644
--- a/framework/caching/Cache.php
+++ b/framework/caching/Cache.php
@@ -261,14 +261,15 @@ public function set($key, $value, $duration = null, $dependency = null)
      * expiration time will be replaced with the new ones, respectively.
      *
      * @param array $items the items to be cached, as key-value pairs.
-     * @param int $duration default number of seconds in which the cached values will expire. 0 means never expire.
+     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * default [[defaultDuration]] value is used.
      * @param Dependency $dependency dependency of the cached items. If the dependency changes,
      * the corresponding values in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return array array of failed keys
      * @deprecated This method is an alias for [[multiSet()]] and will be removed in 2.1.0.
      */
-    public function mset($items, $duration = 0, $dependency = null)
+    public function mset($items, $duration = null, $dependency = null)
     {
         return $this->multiSet($items, $duration, $dependency);
     }
@@ -279,15 +280,20 @@ public function mset($items, $duration = 0, $dependency = null)
      * expiration time will be replaced with the new ones, respectively.
      *
      * @param array $items the items to be cached, as key-value pairs.
-     * @param int $duration default number of seconds in which the cached values will expire. 0 means never expire.
+     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * default [[defaultDuration]] value is used.
      * @param Dependency $dependency dependency of the cached items. If the dependency changes,
      * the corresponding values in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return array array of failed keys
      * @since 2.0.7
      */
-    public function multiSet($items, $duration = 0, $dependency = null)
+    public function multiSet($items, $duration = null, $dependency = null)
     {
+        if ($duration === null) {
+            $duration = $this->defaultDuration;
+        }
+
         if ($dependency !== null && $this->serializer !== false) {
             $dependency->evaluateDependency($this);
         }
diff --git a/framework/caching/CacheInterface.php b/framework/caching/CacheInterface.php
index cc344154570..2b14c25e397 100644
--- a/framework/caching/CacheInterface.php
+++ b/framework/caching/CacheInterface.php
@@ -112,13 +112,14 @@ public function set($key, $value, $duration = null, $dependency = null);
      * expiration time will be replaced with the new ones, respectively.
      *
      * @param array $items the items to be cached, as key-value pairs.
-     * @param int $duration default number of seconds in which the cached values will expire. 0 means never expire.
+     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * default [[defaultDuration]] value is used.
      * @param Dependency $dependency dependency of the cached items. If the dependency changes,
      * the corresponding values in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return array array of failed keys
      */
-    public function multiSet($items, $duration = 0, $dependency = null);
+    public function multiSet($items, $duration = null, $dependency = null);
 
     /**
      * Stores a value identified by a key into cache if the cache does not contain this key.
diff --git a/framework/caching/ExpressionDependency.php b/framework/caching/ExpressionDependency.php
index 503e6dc798d..09d6756bf83 100644
--- a/framework/caching/ExpressionDependency.php
+++ b/framework/caching/ExpressionDependency.php
@@ -15,7 +15,7 @@
  * the same as the one evaluated when storing the data to cache.
  *
  * A PHP expression can be any PHP code that has a value. To learn more about what an expression is,
- * please refer to the [php manual](https://secure.php.net/manual/en/language.expressions.php).
+ * please refer to the [php manual](https://www.php.net/manual/en/language.expressions.php).
  *
  * For more details and usage information on Cache, see the [guide article on caching](guide:caching-overview).
  *
@@ -27,7 +27,7 @@ class ExpressionDependency extends Dependency
     /**
      * @var string the string representation of a PHP expression whose result is used to determine the dependency.
      * A PHP expression can be any PHP code that evaluates to a value. To learn more about what an expression is,
-     * please refer to the [php manual](https://secure.php.net/manual/en/language.expressions.php).
+     * please refer to the [php manual](https://www.php.net/manual/en/language.expressions.php).
      */
     public $expression = 'true';
     /**
diff --git a/framework/caching/FileCache.php b/framework/caching/FileCache.php
index 378a84fb736..52a80c67b35 100644
--- a/framework/caching/FileCache.php
+++ b/framework/caching/FileCache.php
@@ -261,7 +261,7 @@ protected function gcRecursive($path, $expiredOnly)
     {
         if (($handle = opendir($path)) !== false) {
             while (($file = readdir($handle)) !== false) {
-                if (strpos($file, '.') === 0) {
+                if (strncmp($file, '.', 1) === 0) {
                     continue;
                 }
                 $fullPath = $path . DIRECTORY_SEPARATOR . $file;
diff --git a/framework/caching/MemCache.php b/framework/caching/MemCache.php
index 8fe5378b5d8..9c1e1791a3f 100644
--- a/framework/caching/MemCache.php
+++ b/framework/caching/MemCache.php
@@ -77,22 +77,22 @@ class MemCache extends Cache
      * By default the Memcached instances are destroyed at the end of the request. To create an instance that
      * persists between requests, you may specify a unique ID for the instance. All instances created with the
      * same ID will share the same connection.
-     * @see https://secure.php.net/manual/en/memcached.construct.php
+     * @see https://www.php.net/manual/en/memcached.construct.php
      */
     public $persistentId;
     /**
      * @var array options for Memcached. This property is used only when [[useMemcached]] is true.
-     * @see https://secure.php.net/manual/en/memcached.setoptions.php
+     * @see https://www.php.net/manual/en/memcached.setoptions.php
      */
     public $options;
     /**
      * @var string memcached sasl username. This property is used only when [[useMemcached]] is true.
-     * @see https://secure.php.net/manual/en/memcached.setsaslauthdata.php
+     * @see https://www.php.net/manual/en/memcached.setsaslauthdata.php
      */
     public $username;
     /**
      * @var string memcached sasl password. This property is used only when [[useMemcached]] is true.
-     * @see https://secure.php.net/manual/en/memcached.setsaslauthdata.php
+     * @see https://www.php.net/manual/en/memcached.setsaslauthdata.php
      */
     public $password;
 
@@ -249,8 +249,8 @@ public function getServers()
     /**
      * @param array $config list of memcache or memcached server configurations. Each element must be an array
      * with the following keys: host, port, persistent, weight, timeout, retryInterval, status.
-     * @see https://secure.php.net/manual/en/memcache.addserver.php
-     * @see https://secure.php.net/manual/en/memcached.addserver.php
+     * @see https://www.php.net/manual/en/memcache.addserver.php
+     * @see https://www.php.net/manual/en/memcached.addserver.php
      */
     public function setServers($config)
     {
@@ -286,7 +286,7 @@ protected function getValues($keys)
      *
      * @param string $key the key identifying the value to be cached
      * @param mixed $value the value to be cached.
-     * @see [Memcache::set()](https://secure.php.net/manual/en/memcache.set.php)
+     * @see [Memcache::set()](https://www.php.net/manual/en/memcache.set.php)
      * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.
      * @return bool true if the value is successfully stored into cache, false otherwise
      */
@@ -308,7 +308,7 @@ protected function setValues($data, $duration)
             $expire = $this->normalizeDuration($duration);
 
             // Memcached::setMulti() returns boolean
-            // @see https://secure.php.net/manual/en/memcached.setmulti.php
+            // @see https://www.php.net/manual/en/memcached.setmulti.php
             return $this->_cache->setMulti($data, $expire) ? [] : array_keys($data);
         }
 
@@ -321,7 +321,7 @@ protected function setValues($data, $duration)
      *
      * @param string $key the key identifying the value to be cached
      * @param mixed $value the value to be cached
-     * @see [Memcache::set()](https://secure.php.net/manual/en/memcache.set.php)
+     * @see [Memcache::set()](https://www.php.net/manual/en/memcache.set.php)
      * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.
      * @return bool true if the value is successfully stored into cache, false otherwise
      */
@@ -356,8 +356,8 @@ protected function flushValues()
      * Normalizes duration value
      *
      * @see https://github.com/yiisoft/yii2/issues/17710
-     * @see https://secure.php.net/manual/en/memcache.set.php
-     * @see https://secure.php.net/manual/en/memcached.expiration.php
+     * @see https://www.php.net/manual/en/memcache.set.php
+     * @see https://www.php.net/manual/en/memcached.expiration.php
      *
      * @since 2.0.31
      * @param int $duration
diff --git a/framework/caching/MemCacheServer.php b/framework/caching/MemCacheServer.php
index c6274814eee..96d10c46ad7 100644
--- a/framework/caching/MemCacheServer.php
+++ b/framework/caching/MemCacheServer.php
@@ -10,7 +10,7 @@
 /**
  * MemCacheServer represents the configuration data for a single memcache or memcached server.
  *
- * See [PHP manual](https://secure.php.net/manual/en/memcache.addserver.php) for detailed explanation
+ * See [PHP manual](https://www.php.net/manual/en/memcache.addserver.php) for detailed explanation
  * of each configuration property.
  *
  * For more details and usage information on Cache, see the [guide article on caching](guide:caching-overview).
diff --git a/framework/captcha/CaptchaAction.php b/framework/captcha/CaptchaAction.php
index e61a9ed34ae..c3b9c420e27 100644
--- a/framework/captcha/CaptchaAction.php
+++ b/framework/captcha/CaptchaAction.php
@@ -150,7 +150,7 @@ public function run()
     public function generateValidationHash($code)
     {
         for ($h = 0, $i = strlen($code) - 1; $i >= 0; --$i) {
-            $h += ord($code[$i]);
+            $h += ord($code[$i]) << $i;
         }
 
         return $h;
diff --git a/framework/composer.json b/framework/composer.json
index b211cb5eea3..2875edb6657 100644
--- a/framework/composer.json
+++ b/framework/composer.json
@@ -59,7 +59,7 @@
         "issues": "https://github.com/yiisoft/yii2/issues?state=open",
         "forum": "http://www.yiiframework.com/forum/",
         "wiki": "http://www.yiiframework.com/wiki/",
-        "irc": "irc://irc.libera.chat:6697/yii",
+        "irc": "ircs://irc.libera.chat:6697/yii",
         "source": "https://github.com/yiisoft/yii2"
     },
     "require": {
diff --git a/framework/console/Application.php b/framework/console/Application.php
index b8c07cdee49..4ee2535249d 100644
--- a/framework/console/Application.php
+++ b/framework/console/Application.php
@@ -11,7 +11,7 @@
 use yii\base\InvalidRouteException;
 
 // define STDIN, STDOUT and STDERR if the PHP SAPI did not define them (e.g. creating console application in web env)
-// https://secure.php.net/manual/en/features.commandline.io-streams.php
+// https://www.php.net/manual/en/features.commandline.io-streams.php
 defined('STDIN') or define('STDIN', fopen('php://stdin', 'r'));
 defined('STDOUT') or define('STDOUT', fopen('php://stdout', 'w'));
 defined('STDERR') or define('STDERR', fopen('php://stderr', 'w'));
diff --git a/framework/console/Controller.php b/framework/console/Controller.php
index fa0555386cc..6fb573db946 100644
--- a/framework/console/Controller.php
+++ b/framework/console/Controller.php
@@ -226,7 +226,12 @@ public function bindActionParams($action, $params)
                 }
                 $args[] = $actionParams[$key] = $params[$key];
                 unset($params[$key]);
-            } elseif (PHP_VERSION_ID >= 70100 && ($type = $param->getType()) !== null && !$type->isBuiltin()) {
+            } elseif (
+                PHP_VERSION_ID >= 70100
+                && ($type = $param->getType()) !== null
+                && $type instanceof \ReflectionNamedType
+                && !$type->isBuiltin()
+            ) {
                 try {
                     $this->bindInjectedParams($type, $name, $args, $requestedParams);
                 } catch (\yii\base\Exception $e) {
@@ -316,6 +321,7 @@ public function stdout($string)
      * ```
      *
      * @param string $string the string to print
+     * @param int ...$args additional parameters to decorate the output
      * @return int|bool Number of bytes printed or false on error
      */
     public function stderr($string)
diff --git a/framework/console/UnknownCommandException.php b/framework/console/UnknownCommandException.php
index 3dc4aed1bc7..29d00799b42 100644
--- a/framework/console/UnknownCommandException.php
+++ b/framework/console/UnknownCommandException.php
@@ -61,7 +61,7 @@ public function getName()
      *   available commands. The Levenshtein distance is defined as the minimal number of
      *   characters you have to replace, insert or delete to transform str1 into str2.
      *
-     * @see https://secure.php.net/manual/en/function.levenshtein.php
+     * @see https://www.php.net/manual/en/function.levenshtein.php
      * @return array a list of suggested alternatives sorted by similarity.
      */
     public function getSuggestedAlternatives()
@@ -104,7 +104,7 @@ public function getSuggestedAlternatives()
      *   available commands. The Levenshtein distance is defined as the minimal number of
      *   characters you have to replace, insert or delete to transform str1 into str2.
      *
-     * @see https://secure.php.net/manual/en/function.levenshtein.php
+     * @see https://www.php.net/manual/en/function.levenshtein.php
      * @param array $actions available command names.
      * @param string $command the command to compare to.
      * @return array a list of suggested alternatives sorted by similarity.
diff --git a/framework/console/controllers/BaseMigrateController.php b/framework/console/controllers/BaseMigrateController.php
index 0d3f0de7d39..24280c36e7c 100644
--- a/framework/console/controllers/BaseMigrateController.php
+++ b/framework/console/controllers/BaseMigrateController.php
@@ -37,7 +37,7 @@ abstract class BaseMigrateController extends Controller
      */
     public $defaultAction = 'up';
     /**
-     * @var string|array the directory containing the migration classes. This can be either
+     * @var string|array|null the directory containing the migration classes. This can be either
      * a [path alias](guide:concept-aliases) or a directory path.
      *
      * Migration classes located at this path should be declared without a namespace.
@@ -54,7 +54,7 @@ abstract class BaseMigrateController extends Controller
      * as the migration name contains the origin of the migration in the history, which is not the case when
      * using multiple migration paths.
      *
-     * @see $migrationNamespaces
+     * @see migrationNamespaces
      */
     public $migrationPath = ['@app/migrations'];
     /**
@@ -75,7 +75,7 @@ abstract class BaseMigrateController extends Controller
      * ```
      *
      * @since 2.0.10
-     * @see $migrationPath
+     * @see migrationPath
      */
     public $migrationNamespaces = [];
     /**
@@ -632,7 +632,7 @@ public function actionNew($limit = 10)
      * For example:
      *
      * ```
-     * yii migrate/create 'app\\migrations\\createUserTable'
+     * yii migrate/create app\\migrations\\createUserTable
      * ```
      *
      * In case [[migrationPath]] is not set and no namespace is provided, the first entry of [[migrationNamespaces]] will be used.
diff --git a/framework/console/controllers/MessageController.php b/framework/console/controllers/MessageController.php
index a8278d9db5c..5eb1e312a08 100644
--- a/framework/console/controllers/MessageController.php
+++ b/framework/console/controllers/MessageController.php
@@ -58,12 +58,11 @@ class MessageController extends \yii\console\Controller
      */
     public $languages = [];
     /**
-     * @var string the name of the function for translating messages.
-     * Defaults to 'Yii::t'. This is used as a mark to find the messages to be
-     * translated. You may use a string for single function name or an array for
-     * multiple function names.
+     * @var string|string[] the name of the function for translating messages.
+     * This is used as a mark to find the messages to be translated.
+     * You may use a string for single function name or an array for multiple function names.
      */
-    public $translator = 'Yii::t';
+    public $translator = ['Yii::t', '\Yii::t'];
     /**
      * @var bool whether to sort messages by keys when merging new messages
      * with the existing ones. Defaults to false, which means the new (untranslated)
@@ -91,13 +90,12 @@ class MessageController extends \yii\console\Controller
      * If a file/directory matches both a pattern in "only" and "except", it will NOT be processed.
      */
     public $except = [
-        '.svn',
-        '.git',
-        '.gitignore',
-        '.gitkeep',
-        '.hgignore',
-        '.hgkeep',
+        '.*',
+        '/.*',
         '/messages',
+        '/tests',
+        '/runtime',
+        '/vendor',
         '/BaseYii.php', // contains examples about Yii::t()
     ];
     /**
@@ -386,7 +384,7 @@ protected function saveMessagesToDb($messages, $db, $sourceMessageTable, $messag
 
         if (!$removeUnused) {
             foreach ($obsolete as $pk => $msg) {
-                if (strpos($msg, '@@') === 0 && substr($msg, -2) === '@@') {
+                if (strncmp($msg, '@@', 2) === 0 && substr($msg, -2) === '@@') {
                     unset($obsolete[$pk]);
                 }
             }
diff --git a/framework/console/controllers/MigrateController.php b/framework/console/controllers/MigrateController.php
index 3f0efeaac12..8bf011fe42a 100644
--- a/framework/console/controllers/MigrateController.php
+++ b/framework/console/controllers/MigrateController.php
@@ -387,7 +387,7 @@ private function normalizeTableName($name)
             $name = substr($name, 0, -1);
         }
 
-        if (strpos($name, '_') === 0) {
+        if (strncmp($name, '_', 1) === 0) {
             return substr($name, 1);
         }
 
@@ -606,7 +606,7 @@ protected function splitFieldIntoChunks($field)
     protected function addDefaultPrimaryKey(&$fields)
     {
         foreach ($fields as $field) {
-            if (false !== strripos($field['decorators'], 'primarykey()')) {
+            if ($field['property'] === 'id' || false !== strripos($field['decorators'], 'primarykey()')) {
                 return;
             }
         }
diff --git a/framework/console/controllers/ServeController.php b/framework/console/controllers/ServeController.php
index 67afee668b3..7df3b67c8f8 100644
--- a/framework/console/controllers/ServeController.php
+++ b/framework/console/controllers/ServeController.php
@@ -37,7 +37,7 @@ class ServeController extends Controller
     public $docroot = '@app/web';
     /**
      * @var string path or [path alias](guide:concept-aliases) to router script.
-     * See https://secure.php.net/manual/en/features.commandline.webserver.php
+     * See https://www.php.net/manual/en/features.commandline.webserver.php
      */
     public $router;
 
diff --git a/framework/data/ActiveDataFilter.php b/framework/data/ActiveDataFilter.php
index 88ad36254c2..5c46d0a449b 100644
--- a/framework/data/ActiveDataFilter.php
+++ b/framework/data/ActiveDataFilter.php
@@ -101,7 +101,7 @@ protected function buildCondition($condition)
 
         if (!empty($parts)) {
             if (count($parts) > 1) {
-                $parts = array_merge(['AND'], $parts);
+                array_unshift($parts, 'AND');
             } else {
                 $parts = array_shift($parts);
             }
diff --git a/framework/data/DataProviderInterface.php b/framework/data/DataProviderInterface.php
index 71ed1febfb9..0260c381e8f 100644
--- a/framework/data/DataProviderInterface.php
+++ b/framework/data/DataProviderInterface.php
@@ -61,7 +61,7 @@ public function getModels();
     public function getKeys();
 
     /**
-     * @return Sort the sorting object. If this is false, it means the sorting is disabled.
+     * @return Sort|false the sorting object. If this is false, it means the sorting is disabled.
      */
     public function getSort();
 
diff --git a/framework/data/Sort.php b/framework/data/Sort.php
index 0e620644272..bbb1ce9b336 100644
--- a/framework/data/Sort.php
+++ b/framework/data/Sort.php
@@ -305,8 +305,8 @@ public function getAttributeOrders($recalculate = false)
      * @param string $param the value of the [[sortParam]].
      * @return array the valid sort attributes.
      * @since 2.0.12
-     * @see $separator for the attribute name separator.
-     * @see $sortParam
+     * @see separator for the attribute name separator.
+     * @see sortParam
      */
     protected function parseSortParam($param)
     {
@@ -438,14 +438,25 @@ public function createSortParam($attribute)
         $definition = $this->attributes[$attribute];
         $directions = $this->getAttributeOrders();
         if (isset($directions[$attribute])) {
-            $direction = $directions[$attribute] === SORT_DESC ? SORT_ASC : SORT_DESC;
+            if ($this->enableMultiSort) {
+                if ($directions[$attribute] === SORT_ASC) {
+                    $direction = SORT_DESC;
+                } else {
+                    $direction = null;
+                }
+            } else {
+                $direction = $directions[$attribute] === SORT_DESC ? SORT_ASC : SORT_DESC;
+            }
+
             unset($directions[$attribute]);
         } else {
             $direction = isset($definition['default']) ? $definition['default'] : SORT_ASC;
         }
 
         if ($this->enableMultiSort) {
-            $directions = array_merge([$attribute => $direction], $directions);
+            if ($direction !== null) {
+                $directions = array_merge([$attribute => $direction], $directions);
+            }
         } else {
             $directions = [$attribute => $direction];
         }
diff --git a/framework/db/ActiveRecord.php b/framework/db/ActiveRecord.php
index 0ccbcca6305..face7132b76 100644
--- a/framework/db/ActiveRecord.php
+++ b/framework/db/ActiveRecord.php
@@ -115,9 +115,13 @@ class ActiveRecord extends BaseActiveRecord
      */
     public function loadDefaultValues($skipIfSet = true)
     {
-        foreach (static::getTableSchema()->columns as $column) {
-            if ($column->defaultValue !== null && (!$skipIfSet || $this->{$column->name} === null)) {
-                $this->{$column->name} = $column->defaultValue;
+        $columns = static::getTableSchema()->columns;
+        foreach ($this->attributes() as $name) {
+            if (isset($columns[$name])) {
+                $defaultValue = $columns[$name]->defaultValue;
+                if ($defaultValue !== null && (!$skipIfSet || $this->getAttribute($name) === null)) {
+                    $this->setAttribute($name, $defaultValue);
+                }
             }
         }
 
@@ -553,7 +557,7 @@ public static function populateRecord($record, $row)
      * @param array $attributes list of attributes that need to be saved. Defaults to `null`,
      * meaning all attributes that are loaded from DB will be saved.
      * @return bool whether the attributes are valid and the record is inserted successfully.
-     * @throws \Exception|\Throwable in case insert failed.
+     * @throws \Exception in case insert failed.
      */
     public function insert($runValidation = true, $attributes = null)
     {
@@ -663,7 +667,7 @@ protected function insertInternal($attributes = null)
      * or [[beforeSave()]] stops the updating process.
      * @throws StaleObjectException if [[optimisticLock|optimistic locking]] is enabled and the data
      * being updated is outdated.
-     * @throws \Exception|\Throwable in case update failed.
+     * @throws \Exception in case update failed.
      */
     public function update($runValidation = true, $attributeNames = null)
     {
@@ -712,7 +716,7 @@ public function update($runValidation = true, $attributeNames = null)
      * Note that it is possible the number of rows deleted is 0, even though the deletion execution is successful.
      * @throws StaleObjectException if [[optimisticLock|optimistic locking]] is enabled and the data
      * being deleted is outdated.
-     * @throws \Exception|\Throwable in case delete failed.
+     * @throws \Exception in case delete failed.
      */
     public function delete()
     {
diff --git a/framework/db/ActiveRelationTrait.php b/framework/db/ActiveRelationTrait.php
index 461ea759cc2..8f2a6e44289 100644
--- a/framework/db/ActiveRelationTrait.php
+++ b/framework/db/ActiveRelationTrait.php
@@ -167,7 +167,7 @@ public function inverseOf($relationName)
 
     /**
      * Finds the related records for the specified primary record.
-     * This method is invoked when a relation of an ActiveRecord is being accessed in a lazy fashion.
+     * This method is invoked when a relation of an ActiveRecord is being accessed lazily.
      * @param string $name the relation name
      * @param ActiveRecordInterface|BaseActiveRecord $model the primary model
      * @return mixed the related record(s)
@@ -589,7 +589,7 @@ private function getModelKey($model, $attributes)
     }
 
     /**
-     * @param mixed $value raw key value. Since 2.0.40 non-string values must be convertable to string (like special
+     * @param mixed $value raw key value. Since 2.0.40 non-string values must be convertible to string (like special
      * objects for cross-DBMS relations, for example: `|MongoId`).
      * @return string normalized key value.
      */
diff --git a/framework/db/ArrayExpression.php b/framework/db/ArrayExpression.php
index 7a36793efb7..e473eb10ec2 100644
--- a/framework/db/ArrayExpression.php
+++ b/framework/db/ArrayExpression.php
@@ -69,7 +69,6 @@ public function __construct($value, $type = null, $dimension = 1)
 
     /**
      * @return null|string
-     * @see type
      */
     public function getType()
     {
@@ -78,7 +77,6 @@ public function getType()
 
     /**
      * @return array|mixed|QueryInterface
-     * @see value
      */
     public function getValue()
     {
@@ -87,7 +85,6 @@ public function getValue()
 
     /**
      * @return int the number of indices needed to select an element
-     * @see dimensions
      */
     public function getDimension()
     {
@@ -97,7 +94,7 @@ public function getDimension()
     /**
      * Whether a offset exists
      *
-     * @link https://secure.php.net/manual/en/arrayaccess.offsetexists.php
+     * @link https://www.php.net/manual/en/arrayaccess.offsetexists.php
      * @param mixed $offset <p>
      * An offset to check for.
      * </p>
@@ -115,7 +112,7 @@ public function offsetExists($offset)
     /**
      * Offset to retrieve
      *
-     * @link https://secure.php.net/manual/en/arrayaccess.offsetget.php
+     * @link https://www.php.net/manual/en/arrayaccess.offsetget.php
      * @param mixed $offset <p>
      * The offset to retrieve.
      * </p>
@@ -130,7 +127,7 @@ public function offsetGet($offset)
     /**
      * Offset to set
      *
-     * @link https://secure.php.net/manual/en/arrayaccess.offsetset.php
+     * @link https://www.php.net/manual/en/arrayaccess.offsetset.php
      * @param mixed $offset <p>
      * The offset to assign the value to.
      * </p>
@@ -148,7 +145,7 @@ public function offsetSet($offset, $value)
     /**
      * Offset to unset
      *
-     * @link https://secure.php.net/manual/en/arrayaccess.offsetunset.php
+     * @link https://www.php.net/manual/en/arrayaccess.offsetunset.php
      * @param mixed $offset <p>
      * The offset to unset.
      * </p>
@@ -163,7 +160,7 @@ public function offsetUnset($offset)
     /**
      * Count elements of an object
      *
-     * @link https://secure.php.net/manual/en/countable.count.php
+     * @link https://www.php.net/manual/en/countable.count.php
      * @return int The custom count as an integer.
      * </p>
      * <p>
@@ -178,7 +175,7 @@ public function count()
     /**
      * Retrieve an external iterator
      *
-     * @link https://secure.php.net/manual/en/iteratoraggregate.getiterator.php
+     * @link https://www.php.net/manual/en/iteratoraggregate.getiterator.php
      * @return Traversable An instance of an object implementing <b>Iterator</b> or
      * <b>Traversable</b>
      * @since 2.0.14.1
diff --git a/framework/db/BatchQueryResult.php b/framework/db/BatchQueryResult.php
index 5158e4b281d..c473d0ecd23 100644
--- a/framework/db/BatchQueryResult.php
+++ b/framework/db/BatchQueryResult.php
@@ -246,7 +246,7 @@ private function getDbDriverName()
     /**
      * Unserialization is disabled to prevent remote code execution in case application
      * calls unserialize() on user input containing specially crafted string.
-     * @see CVE-2020-15148
+     * @see https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-15148
      * @since 2.0.38
      */
     public function __wakeup()
diff --git a/framework/db/Command.php b/framework/db/Command.php
index 881a898a65a..53be1470dec 100644
--- a/framework/db/Command.php
+++ b/framework/db/Command.php
@@ -66,7 +66,7 @@ class Command extends Component
     public $pdoStatement;
     /**
      * @var int the default fetch mode for this command.
-     * @see https://secure.php.net/manual/en/pdostatement.setfetchmode.php
+     * @see https://www.php.net/manual/en/pdostatement.setfetchmode.php
      */
     public $fetchMode = \PDO::FETCH_ASSOC;
     /**
@@ -296,7 +296,7 @@ public function cancel()
      * @param int $length length of the data type
      * @param mixed $driverOptions the driver-specific options
      * @return $this the current command being executed
-     * @see https://secure.php.net/manual/en/function.PDOStatement-bindParam.php
+     * @see https://www.php.net/manual/en/function.PDOStatement-bindParam.php
      */
     public function bindParam($name, &$value, $dataType = null, $length = null, $driverOptions = null)
     {
@@ -338,7 +338,7 @@ protected function bindPendingParams()
      * @param mixed $value The value to bind to the parameter
      * @param int $dataType SQL data type of the parameter. If null, the type is determined by the PHP type of the value.
      * @return $this the current command being executed
-     * @see https://secure.php.net/manual/en/function.PDOStatement-bindValue.php
+     * @see https://www.php.net/manual/en/function.PDOStatement-bindValue.php
      */
     public function bindValue($name, $value, $dataType = null)
     {
@@ -399,7 +399,7 @@ public function query()
 
     /**
      * Executes the SQL statement and returns ALL rows at once.
-     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://secure.php.net/manual/en/function.PDOStatement-setFetchMode.php)
+     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php)
      * for valid fetch modes. If this parameter is null, the value set in [[fetchMode]] will be used.
      * @return array all rows of the query result. Each array element is an array representing a row of data.
      * An empty array is returned if the query results in nothing.
@@ -413,7 +413,7 @@ public function queryAll($fetchMode = null)
     /**
      * Executes the SQL statement and returns the first row of the result.
      * This method is best used when only the first row of result is needed for a query.
-     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://secure.php.net/manual/en/pdostatement.setfetchmode.php)
+     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/pdostatement.setfetchmode.php)
      * for valid fetch modes. If this parameter is null, the value set in [[fetchMode]] will be used.
      * @return array|false the first row (in terms of an array) of the query result. False is returned if the query
      * results in nothing.
@@ -1136,7 +1136,7 @@ protected function logQuery($category)
     /**
      * Performs the actual DB query of a SQL statement.
      * @param string $method method of PDOStatement to be called
-     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://secure.php.net/manual/en/function.PDOStatement-setFetchMode.php)
+     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php)
      * for valid fetch modes. If this parameter is null, the value set in [[fetchMode]] will be used.
      * @return mixed the method execution result
      * @throws Exception if the query causes any problem
@@ -1195,7 +1195,7 @@ protected function queryInternal($method, $fetchMode = null)
      * Returns the cache key for the query.
      *
      * @param string $method method of PDOStatement to be called
-     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://secure.php.net/manual/en/function.PDOStatement-setFetchMode.php)
+     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php)
      * for valid fetch modes.
      * @return array the cache key
      * @since 2.0.16
diff --git a/framework/db/Connection.php b/framework/db/Connection.php
index c31a8689f47..74b954ffa43 100644
--- a/framework/db/Connection.php
+++ b/framework/db/Connection.php
@@ -15,11 +15,11 @@
 use yii\caching\CacheInterface;
 
 /**
- * Connection represents a connection to a database via [PDO](https://secure.php.net/manual/en/book.pdo.php).
+ * Connection represents a connection to a database via [PDO](https://www.php.net/manual/en/book.pdo.php).
  *
  * Connection works together with [[Command]], [[DataReader]] and [[Transaction]]
  * to provide data access to various DBMS in a common set of APIs. They are a thin wrapper
- * of the [PDO PHP extension](https://secure.php.net/manual/en/book.pdo.php).
+ * of the [PDO PHP extension](https://www.php.net/manual/en/book.pdo.php).
  *
  * Connection supports database replication and read-write splitting. In particular, a Connection component
  * can be configured with multiple [[masters]] and [[slaves]]. It will do load balancing and failover by choosing
@@ -154,10 +154,10 @@ class Connection extends Component
 
     /**
      * @var string the Data Source Name, or DSN, contains the information required to connect to the database.
-     * Please refer to the [PHP manual](https://secure.php.net/manual/en/pdo.construct.php) on
+     * Please refer to the [PHP manual](https://www.php.net/manual/en/pdo.construct.php) on
      * the format of the DSN string.
      *
-     * For [SQLite](https://secure.php.net/manual/en/ref.pdo-sqlite.connection.php) you may use a [path alias](guide:concept-aliases)
+     * For [SQLite](https://www.php.net/manual/en/ref.pdo-sqlite.connection.php) you may use a [path alias](guide:concept-aliases)
      * for specifying the database path, e.g. `sqlite:@app/data/db.sql`.
      *
      * @see charset
@@ -174,7 +174,7 @@ class Connection extends Component
     /**
      * @var array PDO attributes (name => value) that should be set when calling [[open()]]
      * to establish a DB connection. Please refer to the
-     * [PHP manual](https://secure.php.net/manual/en/pdo.setattribute.php) for
+     * [PHP manual](https://www.php.net/manual/en/pdo.setattribute.php) for
      * details about available attributes.
      */
     public $attributes;
@@ -499,7 +499,7 @@ public function getIsActive()
      * Use 0 to indicate that the cached data will never expire.
      * @param \yii\caching\Dependency $dependency the cache dependency associated with the cached query results.
      * @return mixed the return result of the callable
-     * @throws \Exception|\Throwable if there is any exception during query
+     * @throws \Exception if there is any exception during query
      * @see enableQueryCache
      * @see queryCache
      * @see noCache()
@@ -540,7 +540,7 @@ public function cache(callable $callable, $duration = null, $dependency = null)
      * @param callable $callable a PHP callable that contains DB queries which should not use query cache.
      * The signature of the callable is `function (Connection $db)`.
      * @return mixed the return result of the callable
-     * @throws \Exception|\Throwable if there is any exception during query
+     * @throws \Exception if there is any exception during query
      * @see enableQueryCache
      * @see queryCache
      * @see cache()
@@ -802,7 +802,7 @@ public function beginTransaction($isolationLevel = null)
      * @param callable $callback a valid PHP callback that performs the job. Accepts connection instance as parameter.
      * @param string|null $isolationLevel The isolation level to use for this transaction.
      * See [[Transaction::begin()]] for details.
-     * @throws \Exception|\Throwable if there is any exception during query. In this case the transaction will be rolled back.
+     * @throws \Exception if there is any exception during query. In this case the transaction will be rolled back.
      * @return mixed result of callback function
      */
     public function transaction(callable $callback, $isolationLevel = null)
@@ -923,7 +923,7 @@ public function getTableSchema($name, $refresh = false)
      * Returns the ID of the last inserted row or sequence value.
      * @param string $sequenceName name of the sequence object (required by some DBMS)
      * @return string the row ID of the last row inserted, or the last value retrieved from the sequence object
-     * @see https://secure.php.net/manual/en/pdo.lastinsertid.php
+     * @see https://www.php.net/manual/en/pdo.lastinsertid.php
      */
     public function getLastInsertID($sequenceName = '')
     {
@@ -935,7 +935,7 @@ public function getLastInsertID($sequenceName = '')
      * Note that if the parameter is not a string, it will be returned without change.
      * @param string $value string to be quoted
      * @return string the properly quoted string
-     * @see https://secure.php.net/manual/en/pdo.quote.php
+     * @see https://www.php.net/manual/en/pdo.quote.php
      */
     public function quoteValue($value)
     {
@@ -1116,7 +1116,7 @@ public function getMaster()
      * @param callable $callback a PHP callable to be executed by this method. Its signature is
      * `function (Connection $db)`. Its return value will be returned by this method.
      * @return mixed the return value of the callback
-     * @throws \Exception|\Throwable if there is any exception thrown from the callback
+     * @throws \Exception if there is any exception thrown from the callback
      */
     public function useMaster(callable $callback)
     {
diff --git a/framework/db/DataReader.php b/framework/db/DataReader.php
index 50a2d7dadc3..a8c875606d1 100644
--- a/framework/db/DataReader.php
+++ b/framework/db/DataReader.php
@@ -37,7 +37,7 @@
  * Doing it the second time will throw an exception.
  *
  * It is possible to use a specific mode of data fetching by setting
- * [[fetchMode]]. See the [PHP manual](https://secure.php.net/manual/en/function.PDOStatement-setFetchMode.php)
+ * [[fetchMode]]. See the [PHP manual](https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php)
  * for more details about possible fetch mode.
  *
  * @property-read int $columnCount The number of columns in the result set. This property is read-only.
@@ -80,7 +80,7 @@ public function __construct(Command $command, $config = [])
      * should match the case of the column, as returned by the driver.
      * @param mixed $value Name of the PHP variable to which the column will be bound.
      * @param int $dataType Data type of the parameter
-     * @see https://secure.php.net/manual/en/function.PDOStatement-bindColumn.php
+     * @see https://www.php.net/manual/en/function.PDOStatement-bindColumn.php
      */
     public function bindColumn($column, &$value, $dataType = null)
     {
@@ -95,7 +95,7 @@ public function bindColumn($column, &$value, $dataType = null)
      * Set the default fetch mode for this statement.
      *
      * @param int $mode fetch mode
-     * @see https://secure.php.net/manual/en/function.PDOStatement-setFetchMode.php
+     * @see https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php
      */
     public function setFetchMode($mode)
     {
diff --git a/framework/db/Exception.php b/framework/db/Exception.php
index ae16407f85d..1fb68df43da 100644
--- a/framework/db/Exception.php
+++ b/framework/db/Exception.php
@@ -17,7 +17,7 @@ class Exception extends \yii\base\Exception
 {
     /**
      * @var array the error info provided by a PDO exception. This is the same as returned
-     * by [PDO::errorInfo](https://secure.php.net/manual/en/pdo.errorinfo.php).
+     * by [PDO::errorInfo](https://www.php.net/manual/en/pdo.errorinfo.php).
      */
     public $errorInfo = [];
 
diff --git a/framework/db/JsonExpression.php b/framework/db/JsonExpression.php
index 0446ae87cc2..36b46030ae5 100644
--- a/framework/db/JsonExpression.php
+++ b/framework/db/JsonExpression.php
@@ -80,7 +80,7 @@ public function getType()
     /**
      * Specify data which should be serialized to JSON
      *
-     * @link https://secure.php.net/manual/en/jsonserializable.jsonserialize.php
+     * @link https://www.php.net/manual/en/jsonserializable.jsonserialize.php
      * @return mixed data which can be serialized by <b>json_encode</b>,
      * which is a value of any type other than a resource.
      * @since 2.0.14.2
diff --git a/framework/db/Migration.php b/framework/db/Migration.php
index a144d4a43f4..a8e2264f2c7 100644
--- a/framework/db/Migration.php
+++ b/framework/db/Migration.php
@@ -104,7 +104,7 @@ protected function getDb()
     /**
      * This method contains the logic to be executed when applying this migration.
      * Child classes may override this method to provide actual migration logic.
-     * @return bool return a false value to indicate the migration fails
+     * @return false|void|mixed return a false value to indicate the migration fails
      * and should not proceed further. All other return values mean the migration succeeds.
      */
     public function up()
@@ -133,7 +133,7 @@ public function up()
      * This method contains the logic to be executed when removing this migration.
      * The default implementation throws an exception indicating the migration cannot be removed.
      * Child classes may override this method if the corresponding migrations can be removed.
-     * @return bool return a false value to indicate the migration fails
+     * @return false|void|mixed return a false value to indicate the migration fails
      * and should not proceed further. All other return values mean the migration succeeds.
      */
     public function down()
@@ -177,7 +177,7 @@ private function printException($e)
      * Note: Not all DBMS support transactions. And some DB queries cannot be put into a transaction. For some examples,
      * please refer to [implicit commit](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html).
      *
-     * @return bool return a false value to indicate the migration fails
+     * @return false|void|mixed return a false value to indicate the migration fails
      * and should not proceed further. All other return values mean the migration succeeds.
      */
     public function safeUp()
@@ -194,7 +194,7 @@ public function safeUp()
      * Note: Not all DBMS support transactions. And some DB queries cannot be put into a transaction. For some examples,
      * please refer to [implicit commit](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html).
      *
-     * @return bool return a false value to indicate the migration fails
+     * @return false|void|mixed return a false value to indicate the migration fails
      * and should not proceed further. All other return values mean the migration succeeds.
      */
     public function safeDown()
diff --git a/framework/db/PdoValue.php b/framework/db/PdoValue.php
index 806eaa3bf31..3a0ce6f689c 100644
--- a/framework/db/PdoValue.php
+++ b/framework/db/PdoValue.php
@@ -16,9 +16,9 @@
  * [':name' => 'John', ':profile' => new PdoValue($profile, \PDO::PARAM_LOB)]`.
  * ```
  *
- * To see possible types, check [PDO::PARAM_* constants](https://secure.php.net/manual/en/pdo.constants.php).
+ * To see possible types, check [PDO::PARAM_* constants](https://www.php.net/manual/en/pdo.constants.php).
  *
- * @see https://secure.php.net/manual/en/pdostatement.bindparam.php
+ * @see https://www.php.net/manual/en/pdostatement.bindparam.php
  * @author Dmytro Naumenko <d.naumenko.a@gmail.com>
  * @since 2.0.14
  */
@@ -30,7 +30,7 @@ final class PdoValue implements ExpressionInterface
     private $value;
     /**
      * @var int One of PDO_PARAM_* constants
-     * @see https://secure.php.net/manual/en/pdo.constants.php
+     * @see https://www.php.net/manual/en/pdo.constants.php
      */
     private $type;
 
diff --git a/framework/db/Query.php b/framework/db/Query.php
index 1892c8a272e..d23893b3bc7 100644
--- a/framework/db/Query.php
+++ b/framework/db/Query.php
@@ -452,7 +452,7 @@ public function exists($db = null)
      * @param string|ExpressionInterface $selectExpression
      * @param Connection|null $db the database connection used to execute the query.
      * @return bool|string|null
-     * @throws \Throwable if can't create command
+     * @throws \Exception if can't create command
      */
     protected function queryScalar($selectExpression, $db)
     {
diff --git a/framework/db/QueryBuilder.php b/framework/db/QueryBuilder.php
index c6f74872313..bb032d78830 100644
--- a/framework/db/QueryBuilder.php
+++ b/framework/db/QueryBuilder.php
@@ -73,7 +73,7 @@ class QueryBuilder extends \yii\base\BaseObject
      *
      * In case you want to add custom conditions support, use the [[setConditionClasses()]] method.
      *
-     * @see setConditonClasses()
+     * @see setConditionClasses()
      * @see defaultConditionClasses()
      * @since 2.0.14
      */
@@ -159,7 +159,7 @@ protected function defaultConditionClasses()
      * default expression builders for this query builder. See [[expressionBuilders]] docs for details.
      *
      * @return array
-     * @see $expressionBuilders
+     * @see expressionBuilders
      * @since 2.0.14
      */
     protected function defaultExpressionBuilders()
diff --git a/framework/db/QueryTrait.php b/framework/db/QueryTrait.php
index 46527dc9f1c..9f6b06434b2 100644
--- a/framework/db/QueryTrait.php
+++ b/framework/db/QueryTrait.php
@@ -39,8 +39,8 @@ trait QueryTrait
     /**
      * @var array|null how to sort the query results. This is used to construct the ORDER BY clause in a SQL statement.
      * The array keys are the columns to be sorted by, and the array values are the corresponding sort directions which
-     * can be either [SORT_ASC](https://secure.php.net/manual/en/array.constants.php#constant.sort-asc)
-     * or [SORT_DESC](https://secure.php.net/manual/en/array.constants.php#constant.sort-desc).
+     * can be either [SORT_ASC](https://www.php.net/manual/en/array.constants.php#constant.sort-asc)
+     * or [SORT_DESC](https://www.php.net/manual/en/array.constants.php#constant.sort-desc).
      * The array may also contain [[ExpressionInterface]] objects. If that is the case, the expressions
      * will be converted into strings without any change.
      */
diff --git a/framework/db/Schema.php b/framework/db/Schema.php
index 120141d1120..71a6ea57759 100644
--- a/framework/db/Schema.php
+++ b/framework/db/Schema.php
@@ -256,7 +256,7 @@ public function getQueryBuilder()
      * Determines the PDO type for the given PHP data value.
      * @param mixed $data the data whose PDO type is to be determined
      * @return int the PDO type
-     * @see https://secure.php.net/manual/en/pdo.constants.php
+     * @see https://www.php.net/manual/en/pdo.constants.php
      */
     public function getPdoType($data)
     {
@@ -361,7 +361,7 @@ public function findUniqueIndexes($table)
      * @param string $sequenceName name of the sequence object (required by some DBMS)
      * @return string the row ID of the last row inserted, or the last value retrieved from the sequence object
      * @throws InvalidCallException if the DB connection is not active
-     * @see https://secure.php.net/manual/en/function.PDO-lastInsertId.php
+     * @see https://www.php.net/manual/en/function.PDO-lastInsertId.php
      */
     public function getLastInsertID($sequenceName = '')
     {
@@ -452,7 +452,7 @@ public function insert($table, $columns)
      * Note that if the parameter is not a string, it will be returned without change.
      * @param string $str string to be quoted
      * @return string the properly quoted string
-     * @see https://secure.php.net/manual/en/function.PDO-quote.php
+     * @see https://www.php.net/manual/en/function.PDO-quote.php
      */
     public function quoteValue($str)
     {
@@ -480,7 +480,7 @@ public function quoteValue($str)
     public function quoteTableName($name)
     {
 
-        if (strpos($name, '(') === 0 && strpos($name, ')') === strlen($name) - 1) {
+        if (strncmp($name, '(', 1) === 0 && strpos($name, ')') === strlen($name) - 1) {
             return $name;
         }
         if (strpos($name, '{{') !== false) {
diff --git a/framework/db/Transaction.php b/framework/db/Transaction.php
index 7a119d1171e..87e72dd18d1 100644
--- a/framework/db/Transaction.php
+++ b/framework/db/Transaction.php
@@ -36,7 +36,7 @@
  * ```
  *
  * > Note: in the above code we have two catch-blocks for compatibility
- * > with PHP 5.x and PHP 7.x. `\Exception` implements the [`\Throwable` interface](https://secure.php.net/manual/en/class.throwable.php)
+ * > with PHP 5.x and PHP 7.x. `\Exception` implements the [`\Throwable` interface](https://www.php.net/manual/en/class.throwable.php)
  * > since PHP 7.0, so you can skip the part with `\Exception` if your app uses only PHP 7.0 and higher.
  *
  * @property-read bool $isActive Whether this transaction is active. Only an active transaction can
diff --git a/framework/db/cubrid/Schema.php b/framework/db/cubrid/Schema.php
index a487235fdd6..73a06c4d130 100644
--- a/framework/db/cubrid/Schema.php
+++ b/framework/db/cubrid/Schema.php
@@ -326,7 +326,7 @@ protected function loadColumnSchema($info)
      * Determines the PDO type for the given PHP data value.
      * @param mixed $data the data whose PDO type is to be determined
      * @return int the PDO type
-     * @see https://secure.php.net/manual/en/pdo.constants.php
+     * @see https://www.php.net/manual/en/pdo.constants.php
      */
     public function getPdoType($data)
     {
diff --git a/framework/db/oci/Schema.php b/framework/db/oci/Schema.php
index 7b1cc80997b..cba0b206a76 100644
--- a/framework/db/oci/Schema.php
+++ b/framework/db/oci/Schema.php
@@ -372,7 +372,7 @@ protected function getTableSequenceName($tableName)
 
     /**
      * @Overrides method in class 'Schema'
-     * @see https://secure.php.net/manual/en/function.PDO-lastInsertId.php -> Oracle does not support this
+     * @see https://www.php.net/manual/en/function.PDO-lastInsertId.php -> Oracle does not support this
      *
      * Returns the ID of the last inserted row or sequence value.
      * @param string $sequenceName name of the sequence object (required by some DBMS)
@@ -421,7 +421,7 @@ protected function createColumn($column)
                     if ($defaultValue !== null) {
                         if (
                             strlen($defaultValue) > 2
-                            && strpos($defaultValue, "'") === 0
+                            && strncmp($defaultValue, "'", 1) === 0
                             && substr($defaultValue, -1) === "'"
                         ) {
                             $defaultValue = substr($defaultValue, 1, -1);
diff --git a/framework/db/pgsql/Schema.php b/framework/db/pgsql/Schema.php
index 8f0f1e7d42a..7f6b9d018cc 100644
--- a/framework/db/pgsql/Schema.php
+++ b/framework/db/pgsql/Schema.php
@@ -443,7 +443,7 @@ public function findUniqueIndexes($table)
                 $row = array_change_key_case($row, CASE_LOWER);
             }
             $column = $row['columnname'];
-            if (strpos($column, '"') === 0) {
+            if (strncmp($column, '"', 1) === 0) {
                 // postgres will quote names that are not lowercase-only
                 // https://github.com/yiisoft/yii2/issues/10613
                 $column = substr($column, 1, -1);
diff --git a/framework/di/Container.php b/framework/di/Container.php
index 19678348dee..8917754016b 100644
--- a/framework/di/Container.php
+++ b/framework/di/Container.php
@@ -26,8 +26,8 @@
  * Container supports constructor injection as well as property injection.
  *
  * To use Container, you first need to set up the class dependencies by calling [[set()]].
- * You then call [[get()]] to create a new class object. Container will automatically instantiate
- * dependent objects, inject them into the object being created, configure and finally return the newly created object.
+ * You then call [[get()]] to create a new class object. The Container will automatically instantiate
+ * dependent objects, inject them into the object being created, configure, and finally return the newly created object.
  *
  * By default, [[\Yii::$container]] refers to a Container instance which is used by [[\Yii::createObject()]]
  * to create new object instances. You may use this method to replace the `new` operator
@@ -146,7 +146,7 @@ class Container extends Component
      * In this case, the constructor parameters and object configurations will be used
      * only if the class is instantiated the first time.
      *
-     * @param string|Instance $class the class Instance, name or an alias name (e.g. `foo`) that was previously
+     * @param string|Instance $class the class Instance, name, or an alias name (e.g. `foo`) that was previously
      * registered via [[set()]] or [[setSingleton()]].
      * @param array $params a list of constructor parameter values. Use one of two definitions:
      *  - Parameters as name-value pairs, for example: `['posts' => PostRepository::class]`.
@@ -296,7 +296,7 @@ public function setSingleton($class, $definition = [], array $params = [])
     /**
      * Returns a value indicating whether the container has the definition of the specified name.
      * @param string $class class name, interface name or alias name
-     * @return bool whether the container has the definition of the specified name..
+     * @return bool Whether the container has the definition of the specified name.
      * @see set()
      */
     public function has($class)
@@ -606,8 +606,8 @@ protected function resolveDependencies($dependencies, $reflection = null)
     /**
      * Invoke a callback with resolving dependencies in parameters.
      *
-     * This methods allows invoking a callback and let type hinted parameter names to be
-     * resolved as objects of the Container. It additionally allow calling function using named parameters.
+     * This method allows invoking a callback and let type hinted parameter names to be
+     * resolved as objects of the Container. It additionally allows calling function using named parameters.
      *
      * For example, the following callback may be invoked using the Container to resolve the formatter dependency:
      *
diff --git a/framework/di/Instance.php b/framework/di/Instance.php
index bea4fe8cdd4..62fb50e1d2e 100644
--- a/framework/di/Instance.php
+++ b/framework/di/Instance.php
@@ -188,7 +188,7 @@ public function get($container = null)
      * @param array $state
      * @return Instance
      * @throws InvalidConfigException when $state property does not contain `id` parameter
-     * @see var_export()
+     * @see https://www.php.net/manual/en/function.var-export.php
      * @since 2.0.12
      */
     public static function __set_state($state)
diff --git a/framework/filters/AccessRule.php b/framework/filters/AccessRule.php
index aece5ccf68a..8cb4fca24b7 100644
--- a/framework/filters/AccessRule.php
+++ b/framework/filters/AccessRule.php
@@ -62,8 +62,8 @@ class AccessRule extends Component
      * Note that it is preferred to check for permissions instead.
      *
      * If this property is not set or empty, it means this rule applies regardless of roles.
-     * @see $permissions
-     * @see $roleParams
+     * @see permissions
+     * @see roleParams
      */
     public $roles;
     /**
@@ -72,8 +72,8 @@ class AccessRule extends Component
      *
      * If this property is not set or empty, it means this rule applies regardless of permissions.
      * @since 2.0.12
-     * @see $roles
-     * @see $roleParams
+     * @see roles
+     * @see roleParams
      */
     public $permissions;
     /**
@@ -106,7 +106,7 @@ class AccessRule extends Component
      *
      * A reference to the [[AccessRule]] instance will be passed to the closure as the first parameter.
      *
-     * @see $roles
+     * @see roles
      * @since 2.0.12
      */
     public $roleParams = [];
diff --git a/framework/filters/HttpCache.php b/framework/filters/HttpCache.php
index 4964e59be75..2a6f6e32a4c 100644
--- a/framework/filters/HttpCache.php
+++ b/framework/filters/HttpCache.php
@@ -91,10 +91,10 @@ class HttpCache extends ActionFilter
      */
     public $cacheControlHeader = 'public, max-age=3600';
     /**
-     * @var string the name of the cache limiter to be set when [session_cache_limiter()](https://secure.php.net/manual/en/function.session-cache-limiter.php)
+     * @var string the name of the cache limiter to be set when [session_cache_limiter()](https://www.php.net/manual/en/function.session-cache-limiter.php)
      * is called. The default value is an empty string, meaning turning off automatic sending of cache headers entirely.
      * You may set this property to be `public`, `private`, `private_no_expire`, and `nocache`.
-     * Please refer to [session_cache_limiter()](https://secure.php.net/manual/en/function.session-cache-limiter.php)
+     * Please refer to [session_cache_limiter()](https://www.php.net/manual/en/function.session-cache-limiter.php)
      * for detailed explanation of these values.
      *
      * If this property is `null`, then `session_cache_limiter()` will not be called. As a result,
diff --git a/framework/filters/PageCache.php b/framework/filters/PageCache.php
index 774e8dbd479..1930aa0873f 100644
--- a/framework/filters/PageCache.php
+++ b/framework/filters/PageCache.php
@@ -124,7 +124,6 @@ class PageCache extends ActionFilter implements DynamicContentAwareInterface
      * @var bool|array a boolean value indicating whether to cache all cookies, or an array of
      * cookie names indicating which cookies can be cached. Be very careful with caching cookies, because
      * it may leak sensitive or private data stored in cookies to unwanted users.
-     * @see insertResponseCollectionIntoData()
      * @since 2.0.4
      */
     public $cacheCookies = false;
@@ -132,7 +131,6 @@ class PageCache extends ActionFilter implements DynamicContentAwareInterface
      * @var bool|array a boolean value indicating whether to cache all HTTP headers, or an array of
      * HTTP header names (case-insensitive) indicating which HTTP headers can be cached.
      * Note if your HTTP headers contain sensitive information, you should white-list which headers can be cached.
-     * @see insertResponseCollectionIntoData()
      * @since 2.0.4
      */
     public $cacheHeaders = true;
diff --git a/framework/filters/auth/HttpBasicAuth.php b/framework/filters/auth/HttpBasicAuth.php
index 8ba40e0bf73..546d0e628e6 100644
--- a/framework/filters/auth/HttpBasicAuth.php
+++ b/framework/filters/auth/HttpBasicAuth.php
@@ -37,7 +37,7 @@
  *             'class' => \yii\filters\auth\HttpBasicAuth::class,
  *             'auth' => function ($username, $password) {
  *                 $user = User::find()->where(['username' => $username])->one();
- *                 if ($user->verifyPassword($password)) {
+ *                 if ($user && $user->validatePassword($password)) {
  *                     return $user;
  *                 }
  *                 return null;
diff --git a/framework/helpers/BaseArrayHelper.php b/framework/helpers/BaseArrayHelper.php
index 8bc7ef2bc0b..dcd28657c9e 100644
--- a/framework/helpers/BaseArrayHelper.php
+++ b/framework/helpers/BaseArrayHelper.php
@@ -70,6 +70,8 @@ public static function toArray($object, $properties = [], $recursive = true)
             }
 
             return $object;
+        } elseif ($object instanceof \DateTimeInterface) {
+            return (array)$object;
         } elseif (is_object($object)) {
             if (!empty($properties)) {
                 $className = get_class($object);
@@ -615,7 +617,7 @@ public static function keyExists($key, $array, $caseSensitive = true)
     {
         if ($caseSensitive) {
             // Function `isset` checks key faster but skips `null`, `array_key_exists` handles this case
-            // https://secure.php.net/manual/en/function.array-key-exists.php#107786
+            // https://www.php.net/manual/en/function.array-key-exists.php#107786
             if (is_array($array) && (isset($array[$key]) || array_key_exists($key, $array))) {
                 return true;
             }
@@ -647,7 +649,7 @@ public static function keyExists($key, $array, $caseSensitive = true)
      * When sorting by multiple keys with different sorting directions, use an array of sorting directions.
      * @param int|array $sortFlag the PHP sort flag. Valid values include
      * `SORT_REGULAR`, `SORT_NUMERIC`, `SORT_STRING`, `SORT_LOCALE_STRING`, `SORT_NATURAL` and `SORT_FLAG_CASE`.
-     * Please refer to [PHP manual](https://secure.php.net/manual/en/function.sort.php)
+     * Please refer to [PHP manual](https://www.php.net/manual/en/function.sort.php)
      * for more details. When sorting by multiple keys with different sort flags, use an array of sort flags.
      * @throws InvalidArgumentException if the $direction or $sortFlag parameters do not have
      * correct number of elements as that of $key.
@@ -698,7 +700,7 @@ public static function multisort(&$array, $key, $direction = SORT_ASC, $sortFlag
      * @param string $charset the charset that the data is using. If not set,
      * [[\yii\base\Application::charset]] will be used.
      * @return array the encoded data
-     * @see https://secure.php.net/manual/en/function.htmlspecialchars.php
+     * @see https://www.php.net/manual/en/function.htmlspecialchars.php
      */
     public static function htmlEncode($data, $valuesOnly = true, $charset = null)
     {
@@ -731,7 +733,7 @@ public static function htmlEncode($data, $valuesOnly = true, $charset = null)
      * @param bool $valuesOnly whether to decode array values only. If false,
      * both the array keys and array values will be decoded.
      * @return array the decoded data
-     * @see https://secure.php.net/manual/en/function.htmlspecialchars-decode.php
+     * @see https://www.php.net/manual/en/function.htmlspecialchars-decode.php
      */
     public static function htmlDecode($data, $valuesOnly = true)
     {
@@ -829,14 +831,14 @@ public static function isIndexed($array, $consecutive = false)
     /**
      * Check whether an array or [[Traversable]] contains an element.
      *
-     * This method does the same as the PHP function [in_array()](https://secure.php.net/manual/en/function.in-array.php)
+     * This method does the same as the PHP function [in_array()](https://www.php.net/manual/en/function.in-array.php)
      * but additionally works for objects that implement the [[Traversable]] interface.
      * @param mixed $needle The value to look for.
      * @param array|Traversable $haystack The set of values to search.
      * @param bool $strict Whether to enable strict (`===`) comparison.
      * @return bool `true` if `$needle` was found in `$haystack`, `false` otherwise.
      * @throws InvalidArgumentException if `$haystack` is neither traversable nor an array.
-     * @see https://secure.php.net/manual/en/function.in-array.php
+     * @see https://www.php.net/manual/en/function.in-array.php
      * @since 2.0.7
      */
     public static function isIn($needle, $haystack, $strict = false)
@@ -859,11 +861,11 @@ public static function isIn($needle, $haystack, $strict = false)
     /**
      * Checks whether a variable is an array or [[Traversable]].
      *
-     * This method does the same as the PHP function [is_array()](https://secure.php.net/manual/en/function.is-array.php)
+     * This method does the same as the PHP function [is_array()](https://www.php.net/manual/en/function.is-array.php)
      * but additionally works on objects that implement the [[Traversable]] interface.
      * @param mixed $var The variable being evaluated.
      * @return bool whether $var can be traversed via foreach
-     * @see https://secure.php.net/manual/en/function.is-array.php
+     * @see https://www.php.net/manual/en/function.is-array.php
      * @since 2.0.8
      */
     public static function isTraversable($var)
@@ -952,7 +954,7 @@ public static function filter($array, $filters)
                 continue;
             }
 
-            if (is_string($filter) && strpos($filter, '!') === 0) {
+            if (is_string($filter) && strncmp($filter, '!', 1) === 0) {
                 $excludeFilters[] = substr($filter, 1);
                 continue;
             }
diff --git a/framework/helpers/BaseFileHelper.php b/framework/helpers/BaseFileHelper.php
index b1bf1c19e52..8dd20649e76 100644
--- a/framework/helpers/BaseFileHelper.php
+++ b/framework/helpers/BaseFileHelper.php
@@ -99,13 +99,12 @@ public static function normalizePath($path, $ds = DIRECTORY_SEPARATOR)
      * "path/to/zh-CN/view.php". If the file is not found, it will try a fallback with just a language code that is
      * "zh" i.e. "path/to/zh/view.php". If it is not found as well the original file will be returned.
      *
-     * If the target and the source language codes are the same,
-     * the original file will be returned.
+     * If the target and the source language codes are the same, the original file will be returned.
      *
      * @param string $file the original file
-     * @param string $language the target language that the file should be localized to.
+     * @param string|null $language the target language that the file should be localized to.
      * If not set, the value of [[\yii\base\Application::language]] will be used.
-     * @param string $sourceLanguage the language that the original file is in.
+     * @param string|null $sourceLanguage the language that the original file is in.
      * If not set, the value of [[\yii\base\Application::sourceLanguage]] will be used.
      * @return string the matching localized file, or the original file if the localized version is not found.
      * If the target and the source language codes are the same, the original file will be returned.
@@ -138,11 +137,11 @@ public static function localize($file, $language = null, $sourceLanguage = null)
     /**
      * Determines the MIME type of the specified file.
      * This method will first try to determine the MIME type based on
-     * [finfo_open](https://secure.php.net/manual/en/function.finfo-open.php). If the `fileinfo` extension is not installed,
+     * [finfo_open](https://www.php.net/manual/en/function.finfo-open.php). If the `fileinfo` extension is not installed,
      * it will fall back to [[getMimeTypeByExtension()]] when `$checkExtension` is true.
      * @param string $file the file name.
-     * @param string $magicFile name of the optional magic database file (or alias), usually something like `/path/to/magic.mime`.
-     * This will be passed as the second parameter to [finfo_open()](https://secure.php.net/manual/en/function.finfo-open.php)
+     * @param string|null $magicFile name of the optional magic database file (or alias), usually something like `/path/to/magic.mime`.
+     * This will be passed as the second parameter to [finfo_open()](https://www.php.net/manual/en/function.finfo-open.php)
      * when the `fileinfo` extension is installed. If the MIME type is being determined based via [[getMimeTypeByExtension()]]
      * and this is null, it will use the file specified by [[mimeMagicFile]].
      * @param bool $checkExtension whether to use the file extension to determine the MIME type in case
@@ -180,7 +179,7 @@ public static function getMimeType($file, $magicFile = null, $checkExtension = t
      * Determines the MIME type based on the extension name of the specified file.
      * This method will use a local map between extension names and MIME types.
      * @param string $file the file name.
-     * @param string $magicFile the path (or alias) of the file that contains all available MIME type information.
+     * @param string|null $magicFile the path (or alias) of the file that contains all available MIME type information.
      * If this is not set, the file specified by [[mimeMagicFile]] will be used.
      * @return string|null the MIME type. Null is returned if the MIME type cannot be determined.
      */
@@ -202,7 +201,7 @@ public static function getMimeTypeByExtension($file, $magicFile = null)
      * Determines the extensions by given MIME type.
      * This method will use a local map between extension names and MIME types.
      * @param string $mimeType file MIME type.
-     * @param string $magicFile the path (or alias) of the file that contains all available MIME type information.
+     * @param string|null $magicFile the path (or alias) of the file that contains all available MIME type information.
      * If this is not set, the file specified by [[mimeMagicFile]] will be used.
      * @return array the extensions corresponding to the specified MIME type
      */
@@ -503,13 +502,14 @@ public static function findFiles($dir, $options = [])
      * @param array $options options for directory searching. Valid options are:
      *
      * - `filter`: callback, a PHP callback that is called for each directory or file.
-     *   The signature of the callback should be: `function ($path)`, where `$path` refers the full path to be filtered.
-     *   The callback can return one of the following values:
+     *   The signature of the callback should be: `function (string $path): bool`, where `$path` refers
+     *   the full path to be filtered. The callback can return one of the following values:
      *
      *   * `true`: the directory will be returned
      *   * `false`: the directory will NOT be returned
      *
      * - `recursive`: boolean, whether the files under the subdirectories should also be looked for. Defaults to `true`.
+     * See [[findFiles()]] for more options.
      * @return array directories found under the directory, in no particular order. Ordering depends on the files system used.
      * @throws InvalidArgumentException if the dir is invalid.
      * @since 2.0.14
@@ -539,6 +539,8 @@ public static function findDirectories($dir, $options = [])
 
     /**
      * @param string $dir
+     * @param array $options
+     * @return array
      */
     private static function setBasePath($dir, $options)
     {
@@ -553,6 +555,8 @@ private static function setBasePath($dir, $options)
 
     /**
      * @param string $dir
+     * @return resource
+     * @throws InvalidArgumentException if unable to open directory
      */
     private static function openDir($dir)
     {
@@ -565,13 +569,15 @@ private static function openDir($dir)
 
     /**
      * @param string $dir
+     * @return string
+     * @throws InvalidArgumentException if directory not exists
      */
     private static function clearDir($dir)
     {
         if (!is_dir($dir)) {
             throw new InvalidArgumentException("The dir argument must be a directory: $dir");
         }
-        return rtrim($dir, DIRECTORY_SEPARATOR);
+        return rtrim($dir, '\/');
     }
 
     /**
@@ -697,7 +703,7 @@ private static function matchBasename($baseName, $pattern, $firstWildcard, $flag
     private static function matchPathname($path, $basePath, $pattern, $firstWildcard, $flags)
     {
         // match with FNM_PATHNAME; the pattern has base implicitly in front of it.
-        if (strpos($pattern, '/') === 0) {
+        if (strncmp($pattern, '/', 1) === 0) {
             $pattern = StringHelper::byteSubstr($pattern, 1, StringHelper::byteLength($pattern));
             if ($firstWildcard !== false && $firstWildcard !== 0) {
                 $firstWildcard--;
@@ -807,7 +813,7 @@ private static function parseExcludePattern($pattern, $caseSensitive)
             return $result;
         }
 
-        if (strpos($pattern, '!') === 0) {
+        if (strncmp($pattern, '!', 1) === 0) {
             $result['flags'] |= self::PATTERN_NEGATIVE;
             $pattern = StringHelper::byteSubstr($pattern, 1, StringHelper::byteLength($pattern));
         }
@@ -819,7 +825,7 @@ private static function parseExcludePattern($pattern, $caseSensitive)
             $result['flags'] |= self::PATTERN_NODIR;
         }
         $result['firstWildcard'] = self::firstWildcardInPattern($pattern);
-        if (strpos($pattern, '*') === 0 && self::firstWildcardInPattern(StringHelper::byteSubstr($pattern, 1, StringHelper::byteLength($pattern))) === false) {
+        if (strncmp($pattern, '*', 1) === 0 && self::firstWildcardInPattern(StringHelper::byteSubstr($pattern, 1, StringHelper::byteLength($pattern))) === false) {
             $result['flags'] |= self::PATTERN_ENDSWITH;
         }
         $result['pattern'] = $pattern;
diff --git a/framework/helpers/BaseFormatConverter.php b/framework/helpers/BaseFormatConverter.php
index 340f7d4447e..84417bfee04 100644
--- a/framework/helpers/BaseFormatConverter.php
+++ b/framework/helpers/BaseFormatConverter.php
@@ -91,7 +91,7 @@ class BaseFormatConverter
      *
      * Pattern constructs that are not supported by the PHP format will be removed.
      *
-     * [php date() function format]: https://secure.php.net/manual/en/function.date.php
+     * [php date() function format]: https://www.php.net/manual/en/function.date.php
      * [ICU format]: http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax
      *
      * @param string $pattern date format pattern in ICU format.
@@ -238,7 +238,7 @@ public static function convertDateIcuToPhp($pattern, $type = 'date', $locale = n
      *
      * Pattern constructs that are not supported by the ICU format will be removed.
      *
-     * [php date() function format]: https://secure.php.net/manual/en/function.date.php
+     * [php date() function format]: https://www.php.net/manual/en/function.date.php
      * [ICU format]: http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax
      *
      * Since 2.0.13 it handles escaped characters correctly.
@@ -248,7 +248,7 @@ public static function convertDateIcuToPhp($pattern, $type = 'date', $locale = n
      */
     public static function convertDatePhpToIcu($pattern)
     {
-        // https://secure.php.net/manual/en/function.date.php
+        // https://www.php.net/manual/en/function.date.php
         $result = strtr($pattern, [
             "'" => "''''",  // single `'` should be encoded as `''`, which internally should be encoded as `''''`
             // Day
@@ -497,7 +497,7 @@ public static function convertDateIcuToJui($pattern, $type = 'date', $locale = n
      *
      * Pattern constructs that are not supported by the jQuery UI format will be removed.
      *
-     * [php date() function format]: https://secure.php.net/manual/en/function.date.php
+     * [php date() function format]: https://www.php.net/manual/en/function.date.php
      * [jQuery UI date format]: http://api.jqueryui.com/datepicker/#utility-formatDate
      *
      * @param string $pattern date format pattern in php date()-function format.
@@ -505,7 +505,7 @@ public static function convertDateIcuToJui($pattern, $type = 'date', $locale = n
      */
     public static function convertDatePhpToJui($pattern)
     {
-        // https://secure.php.net/manual/en/function.date.php
+        // https://www.php.net/manual/en/function.date.php
         return strtr($pattern, [
             // Day
             'd' => 'dd',    // Day of the month, 2 digits with leading zeros 	01 to 31
diff --git a/framework/helpers/BaseHtml.php b/framework/helpers/BaseHtml.php
index 83caf53b8b0..5d89314971f 100644
--- a/framework/helpers/BaseHtml.php
+++ b/framework/helpers/BaseHtml.php
@@ -104,7 +104,7 @@ class BaseHtml
      * HTML entities in `$content` will not be further encoded.
      * @return string the encoded content
      * @see decode()
-     * @see https://secure.php.net/manual/en/function.htmlspecialchars.php
+     * @see https://www.php.net/manual/en/function.htmlspecialchars.php
      */
     public static function encode($content, $doubleEncode = true)
     {
@@ -117,7 +117,7 @@ public static function encode($content, $doubleEncode = true)
      * @param string $content the content to be decoded
      * @return string the decoded content
      * @see encode()
-     * @see https://secure.php.net/manual/en/function.htmlspecialchars-decode.php
+     * @see https://www.php.net/manual/en/function.htmlspecialchars-decode.php
      */
     public static function decode($content)
     {
@@ -1745,7 +1745,6 @@ public static function activeListBox($model, $attribute, $items, $options = [])
      * about attribute expression.
      * @param array $items the data item used to generate the checkboxes.
      * The array keys are the checkbox values, and the array values are the corresponding labels.
-     * Note that the labels will NOT be HTML-encoded, while the values will.
      * @param array $options options (name => config) for the checkbox list container tag.
      * The following options are specially handled:
      *
@@ -1787,7 +1786,6 @@ public static function activeCheckboxList($model, $attribute, $items, $options =
      * about attribute expression.
      * @param array $items the data item used to generate the radio buttons.
      * The array keys are the radio values, and the array values are the corresponding labels.
-     * Note that the labels will NOT be HTML-encoded, while the values will.
      * @param array $options options (name => config) for the radio button list container tag.
      * The following options are specially handled:
      *
@@ -1829,7 +1827,6 @@ public static function activeRadioList($model, $attribute, $items, $options = []
      * about attribute expression.
      * @param array $items the data item used to generate the input fields.
      * The array keys are the input values, and the array values are the corresponding labels.
-     * Note that the labels will NOT be HTML-encoded, while the values will.
      * @param array $options options (name => config) for the input list. The supported special options
      * depend on the input type specified by `$type`.
      * @return string the generated input list
@@ -2016,7 +2013,6 @@ public static function renderTagAttributes($attributes)
      *
      * @param array $options the options to be modified.
      * @param string|array $class the CSS class(es) to be added
-     * @see mergeCssClasses()
      * @see removeCssClass()
      */
     public static function addCssClass(&$options, $class)
diff --git a/framework/helpers/BaseInflector.php b/framework/helpers/BaseInflector.php
index 2e01e761907..4cad3f92279 100644
--- a/framework/helpers/BaseInflector.php
+++ b/framework/helpers/BaseInflector.php
@@ -287,7 +287,7 @@ class BaseInflector
     /**
      * @var mixed Either a [[\Transliterator]], or a string from which a [[\Transliterator]] can be built
      * for transliteration. Used by [[transliterate()]] when intl is available. Defaults to [[TRANSLITERATE_LOOSE]]
-     * @see https://secure.php.net/manual/en/transliterator.transliterate.php
+     * @see https://www.php.net/manual/en/transliterator.transliterate.php
      */
     public static $transliterator = self::TRANSLITERATE_LOOSE;
 
@@ -371,11 +371,11 @@ public static function camelize($word)
      */
     public static function camel2words($name, $ucwords = true)
     {
-        $label = mb_strtolower(trim(str_replace([
-            '-',
-            '_',
-            '.',
-        ], ' ', preg_replace('/(?<!\p{Lu})(\p{Lu})|(\p{Lu})(?=\p{Ll})/u', ' \0', $name))), self::encoding());
+        // Add a space before any uppercase letter preceded by a lowercase letter (xY => x Y)
+        // and any uppercase letter preceded by an uppercase letter and followed by a lowercase letter (XYz => X Yz)
+        $label = preg_replace('/(?<=\p{Ll})\p{Lu}|(?<=\p{L})\p{Lu}(?=\p{Ll})/u', ' \0', $name);
+
+        $label = mb_strtolower(trim(str_replace(['-', '_', '.'], ' ', $label)), self::encoding());
 
         return $ucwords ? StringHelper::mb_ucwords($label, self::encoding()) : $label;
     }
diff --git a/framework/helpers/BaseJson.php b/framework/helpers/BaseJson.php
index 2637653e845..ad41de7f714 100644
--- a/framework/helpers/BaseJson.php
+++ b/framework/helpers/BaseJson.php
@@ -9,8 +9,9 @@
 
 use yii\base\Arrayable;
 use yii\base\InvalidArgumentException;
-use yii\web\JsExpression;
 use yii\base\Model;
+use yii\web\JsExpression;
+use yii\web\JsonResponseFormatter;
 
 /**
  * BaseJson provides concrete implementation for [[Json]].
@@ -28,21 +29,29 @@ class BaseJson
      * In case `prettyPrint` is `null` (default) the `options` passed to `encode` functions will not be changed.
      * @since 2.0.43
      */
-    public static $prettyPrint = null;
+    public static $prettyPrint;
+
+    /**
+     * @var bool Avoids objects with zero-indexed keys to be encoded as array
+     * `Json::encode((object)['test'])` will be encoded as an object not as an array. This matches the behaviour of `json_encode()`.
+     * Defaults to false to avoid any backwards compatibility issues.
+     * Enable for single purpose: `Json::$keepObjectType = true;`
+     * @see JsonResponseFormatter documentation to enable for all JSON responses
+     * @since 2.0.44
+     */
+    public static $keepObjectType = false;
+
     /**
-     * List of JSON Error messages assigned to constant names for better handling of version differences.
-     * @var array
+     * @var array List of JSON Error messages assigned to constant names for better handling of PHP <= 5.5.
      * @since 2.0.7
      */
     public static $jsonErrorMessages = [
-        'JSON_ERROR_DEPTH' => 'The maximum stack depth has been exceeded.',
-        'JSON_ERROR_STATE_MISMATCH' => 'Invalid or malformed JSON.',
-        'JSON_ERROR_CTRL_CHAR' => 'Control character error, possibly incorrectly encoded.',
-        'JSON_ERROR_SYNTAX' => 'Syntax error.',
-        'JSON_ERROR_UTF8' => 'Malformed UTF-8 characters, possibly incorrectly encoded.', // PHP 5.3.3
-        'JSON_ERROR_RECURSION' => 'One or more recursive references in the value to be encoded.', // PHP 5.5.0
-        'JSON_ERROR_INF_OR_NAN' => 'One or more NAN or INF values in the value to be encoded', // PHP 5.5.0
-        'JSON_ERROR_UNSUPPORTED_TYPE' => 'A value of a type that cannot be encoded was given', // PHP 5.5.0
+        'JSON_ERROR_SYNTAX' => 'Syntax error',
+        'JSON_ERROR_UNSUPPORTED_TYPE' => 'Type is not supported',
+        'JSON_ERROR_DEPTH' => 'The maximum stack depth has been exceeded',
+        'JSON_ERROR_STATE_MISMATCH' => 'Invalid or malformed JSON',
+        'JSON_ERROR_CTRL_CHAR' => 'Control character error, possibly incorrectly encoded',
+        'JSON_ERROR_UTF8' => 'Malformed UTF-8 characters, possibly incorrectly encoded',
     ];
 
 
@@ -58,7 +67,7 @@ class BaseJson
      *
      * @param mixed $value the data to be encoded.
      * @param int $options the encoding options. For more details please refer to
-     * <https://secure.php.net/manual/en/function.json-encode.php>. Default is `JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE`.
+     * <https://www.php.net/manual/en/function.json-encode.php>. Default is `JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE`.
      * @return string the encoding result.
      * @throws InvalidArgumentException if there is any encoding error.
      */
@@ -126,7 +135,7 @@ public static function decode($json, $asArray = true)
     /**
      * Handles [[encode()]] and [[decode()]] errors by throwing exceptions with the respective error message.
      *
-     * @param int $lastError error code from [json_last_error()](https://secure.php.net/manual/en/function.json-last-error.php).
+     * @param int $lastError error code from [json_last_error()](https://www.php.net/manual/en/function.json-last-error.php).
      * @throws InvalidArgumentException if there is any encoding/decoding error.
      * @since 2.0.6
      */
@@ -136,15 +145,14 @@ protected static function handleJsonError($lastError)
             return;
         }
 
-        $availableErrors = [];
-        foreach (static::$jsonErrorMessages as $const => $message) {
-            if (defined($const)) {
-                $availableErrors[constant($const)] = $message;
-            }
+        if (PHP_VERSION_ID >= 50500) {
+            throw new InvalidArgumentException(json_last_error_msg(), $lastError);
         }
 
-        if (isset($availableErrors[$lastError])) {
-            throw new InvalidArgumentException($availableErrors[$lastError], $lastError);
+        foreach (static::$jsonErrorMessages as $const => $message) {
+            if (defined($const) && constant($const) === $lastError) {
+                throw new InvalidArgumentException($message, $lastError);
+            }
         }
 
         throw new InvalidArgumentException('Unknown JSON encoding/decoding error.');
@@ -159,6 +167,8 @@ protected static function handleJsonError($lastError)
      */
     protected static function processData($data, &$expressions, $expPrefix)
     {
+        $revertToObject = false;
+
         if (is_object($data)) {
             if ($data instanceof JsExpression) {
                 $token = "!{[$expPrefix=" . count($expressions) . ']}!';
@@ -179,16 +189,28 @@ protected static function processData($data, &$expressions, $expPrefix)
                 $data = $data->toArray();
             } elseif ($data instanceof \SimpleXMLElement) {
                 $data = (array) $data;
+
+                // Avoid empty elements to be returned as array.
+                // Not breaking BC because empty array was always cast to stdClass before.
+                $revertToObject = true;
             } else {
+                /*
+                 * $data type is changed to array here and its elements will be processed further
+                 * We must cast $data back to object later to keep intended dictionary type in JSON.
+                 * Revert is only done when keepObjectType flag is provided to avoid breaking BC
+                 */
+                $revertToObject = static::$keepObjectType;
+
                 $result = [];
                 foreach ($data as $name => $value) {
                     $result[$name] = $value;
                 }
                 $data = $result;
-            }
 
-            if ($data === []) {
-                return new \stdClass();
+                // Avoid empty objects to be returned as array (would break BC without keepObjectType flag)
+                if ($data === []) {
+                    $revertToObject = true;
+                }
             }
         }
 
@@ -200,11 +222,12 @@ protected static function processData($data, &$expressions, $expPrefix)
             }
         }
 
-        return $data;
+        return $revertToObject ? (object) $data : $data;
     }
 
     /**
      * Generates a summary of the validation errors.
+     *
      * @param Model|Model[] $models the model(s) whose validation errors are to be displayed.
      * @param array $options the tag options in terms of name-value pairs. The following options are specially handled:
      *
@@ -219,13 +242,14 @@ public static function errorSummary($models, $options = [])
         $showAllErrors = ArrayHelper::remove($options, 'showAllErrors', false);
         $lines = self::collectErrors($models, $showAllErrors);
 
-        return json_encode($lines);
+        return static::encode($lines);
     }
 
     /**
-     * Return array of the validation errors
+     * Return array of the validation errors.
+     *
      * @param Model|Model[] $models the model(s) whose validation errors are to be displayed.
-     * @param $showAllErrors boolean, if set to true every error message for each attribute will be shown otherwise
+     * @param bool $showAllErrors if set to true every error message for each attribute will be shown otherwise
      * only the first error message for each attribute will be shown.
      * @return array of the validation errors
      * @since 2.0.14
@@ -233,14 +257,14 @@ public static function errorSummary($models, $options = [])
     private static function collectErrors($models, $showAllErrors)
     {
         $lines = [];
+
         if (!is_array($models)) {
             $models = [$models];
         }
-
         foreach ($models as $model) {
-            $lines = array_unique(array_merge($lines, $model->getErrorSummary($showAllErrors)));
+            $lines[] = $model->getErrorSummary($showAllErrors);
         }
 
-        return $lines;
+        return array_unique(call_user_func_array('array_merge', $lines));
     }
 }
diff --git a/framework/helpers/BaseMarkdown.php b/framework/helpers/BaseMarkdown.php
index 08da9c5b0e1..9b88c725018 100644
--- a/framework/helpers/BaseMarkdown.php
+++ b/framework/helpers/BaseMarkdown.php
@@ -45,7 +45,7 @@ class BaseMarkdown
     /**
      * @var string the markdown flavor to use when none is specified explicitly.
      * Defaults to `original`.
-     * @see $flavors
+     * @see flavors
      */
     public static $defaultFlavor = 'original';
 
diff --git a/framework/helpers/BaseStringHelper.php b/framework/helpers/BaseStringHelper.php
index 8ab4db035d4..738147ea4c9 100644
--- a/framework/helpers/BaseStringHelper.php
+++ b/framework/helpers/BaseStringHelper.php
@@ -41,14 +41,14 @@ public static function byteLength($string)
      * @param int $length the desired portion length. If not specified or `null`, there will be
      * no limit on length i.e. the output will be until the end of the string.
      * @return string the extracted part of string, or FALSE on failure or an empty string.
-     * @see https://secure.php.net/manual/en/function.substr.php
+     * @see https://www.php.net/manual/en/function.substr.php
      */
     public static function byteSubstr($string, $start, $length = null)
     {
         if ($length === null) {
             $length = static::byteLength($string);
         }
- 
+
         return mb_substr($string, $start, $length, '8bit');
     }
 
@@ -63,7 +63,7 @@ public static function byteSubstr($string, $start, $length = null)
      * @param string $path A path string.
      * @param string $suffix If the name component ends in suffix this will also be cut off.
      * @return string the trailing name component of the given path.
-     * @see https://secure.php.net/manual/en/function.basename.php
+     * @see https://www.php.net/manual/en/function.basename.php
      */
     public static function basename($path, $suffix = '')
     {
@@ -71,7 +71,7 @@ public static function basename($path, $suffix = '')
         if ($len > 0 && mb_substr($path, -$len) === $suffix) {
             $path = mb_substr($path, 0, -$len);
         }
- 
+
         $path = rtrim(str_replace('\\', '/', $path), '/');
         $pos = mb_strrpos($path, '/');
         if ($pos !== false) {
@@ -88,13 +88,18 @@ public static function basename($path, $suffix = '')
      *
      * @param string $path A path string.
      * @return string the parent directory's path.
-     * @see https://secure.php.net/manual/en/function.basename.php
+     * @see https://www.php.net/manual/en/function.basename.php
      */
     public static function dirname($path)
     {
-        $pos = mb_strrpos(str_replace('\\', '/', $path), '/');
-        if ($pos !== false) {
-            return mb_substr($path, 0, $pos);
+        $normalizedPath = rtrim(
+            str_replace('\\', '/', $path),
+            '/'
+        );
+        $separatorPosition = mb_strrpos($normalizedPath, '/');
+
+        if ($separatorPosition !== false) {
+            return mb_substr($path, 0, $separatorPosition);
         }
 
         return '';
@@ -440,7 +445,7 @@ public static function matchWildcard($pattern, $string, $options = [])
      * @param string $string the string to be proceeded
      * @param string $encoding Optional, defaults to "UTF-8"
      * @return string
-     * @see https://secure.php.net/manual/en/function.ucfirst.php
+     * @see https://www.php.net/manual/en/function.ucfirst.php
      * @since 2.0.16
      */
     public static function mb_ucfirst($string, $encoding = 'UTF-8')
@@ -468,7 +473,7 @@ public static function mb_ucwords($string, $encoding = 'UTF-8')
         }
 
         $parts = preg_split('/(\s+[^\w]+\s+|^[^\w]+\s+|\s+)/u', $string, -1, PREG_SPLIT_NO_EMPTY | PREG_SPLIT_DELIM_CAPTURE);
-        $ucfirstEven = !trim(mb_substr($parts[0], -1, 1, $encoding));
+        $ucfirstEven = trim(mb_substr($parts[0], -1, 1, $encoding)) === '';
         foreach ($parts as $key => $value) {
             $isEven = (bool)($key % 2);
             if ($ucfirstEven === $isEven) {
diff --git a/framework/helpers/BaseUrl.php b/framework/helpers/BaseUrl.php
index 4da728e6816..fdf4f53d3d6 100644
--- a/framework/helpers/BaseUrl.php
+++ b/framework/helpers/BaseUrl.php
@@ -248,7 +248,7 @@ public static function ensureScheme($url, $scheme)
             return $url;
         }
 
-        if (strpos($url, '//') === 0) {
+        if (strncmp($url, '//', 2) === 0) {
             // e.g. //example.com/path/to/resource
             return $scheme === '' ? $url : "$scheme:$url";
         }
diff --git a/framework/helpers/Markdown.php b/framework/helpers/Markdown.php
index 8552d1320c9..c86e5e47664 100644
--- a/framework/helpers/Markdown.php
+++ b/framework/helpers/Markdown.php
@@ -23,7 +23,7 @@
  * For more details please refer to the [Markdown library documentation](https://github.com/cebe/markdown#readme).
  *
  * > Note: The Markdown library works with PHPDoc annotations so if you use it together with
- * > PHP `opcache` make sure [it does not strip comments](https://secure.php.net/manual/en/opcache.configuration.php#ini.opcache.save-comments).
+ * > PHP `opcache` make sure [it does not strip comments](https://www.php.net/manual/en/opcache.configuration.php#ini.opcache.save-comments).
  *
  * @author Carsten Brandt <mail@cebe.cc>
  * @since 2.0
diff --git a/framework/helpers/ReplaceArrayValue.php b/framework/helpers/ReplaceArrayValue.php
index a408af264d4..3ce281cd2e3 100644
--- a/framework/helpers/ReplaceArrayValue.php
+++ b/framework/helpers/ReplaceArrayValue.php
@@ -79,7 +79,7 @@ public function __construct($value)
      * @param array $state
      * @return ReplaceArrayValue
      * @throws InvalidConfigException when $state property does not contain `value` parameter
-     * @see var_export()
+     * @see https://www.php.net/manual/en/function.var-export.php
      * @since 2.0.16
      */
     public static function __set_state($state)
diff --git a/framework/helpers/UnsetArrayValue.php b/framework/helpers/UnsetArrayValue.php
index e350c86e811..331b0619a43 100644
--- a/framework/helpers/UnsetArrayValue.php
+++ b/framework/helpers/UnsetArrayValue.php
@@ -54,7 +54,7 @@ class UnsetArrayValue
      *
      * @param array $state
      * @return UnsetArrayValue
-     * @see var_export()
+     * @see https://www.php.net/manual/en/function.var-export.php
      * @since 2.0.16
      */
     public static function __set_state($state)
diff --git a/framework/i18n/Formatter.php b/framework/i18n/Formatter.php
index 27bad524d5c..cf67ddfa0f0 100644
--- a/framework/i18n/Formatter.php
+++ b/framework/i18n/Formatter.php
@@ -35,7 +35,7 @@
  * You can access that instance via `Yii::$app->formatter`.
  *
  * The Formatter class is designed to format values according to a [[locale]]. For this feature to work
- * the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) has to be installed.
+ * the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) has to be installed.
  * Most of the methods however work also if the PHP intl extension is not installed by providing
  * a fallback implementation. Without intl month and day names are in English only.
  * Note that even if the intl extension is installed, formatting date and time values for years >=2038 or <=1901
@@ -44,7 +44,7 @@
  *
  * > Note: The Formatter class is meant to be used for formatting values for display to users in different
  * > languages and time zones. If you need to format a date or time in machine readable format, use the
- * > PHP [date()](https://secure.php.net/manual/en/function.date.php) function instead.
+ * > PHP [date()](https://www.php.net/manual/en/function.date.php) function instead.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Enrica Ruedin <e.ruedin@guggach.com>
@@ -94,7 +94,7 @@ class Formatter extends Component
     /**
      * @var string the locale ID that is used to localize the date and number formatting.
      * For number and date formatting this is only effective when the
-     * [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is installed.
+     * [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is installed.
      * If not set, [[\yii\base\Application::language]] will be used.
      */
     public $locale;
@@ -108,9 +108,9 @@ class Formatter extends Component
     /**
      * @var string the time zone to use for formatting time and date values.
      *
-     * This can be any value that may be passed to [date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php)
+     * This can be any value that may be passed to [date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php)
      * e.g. `UTC`, `Europe/Berlin` or `America/Chicago`.
-     * Refer to the [php manual](https://secure.php.net/manual/en/timezones.php) for available time zones.
+     * Refer to the [php manual](https://www.php.net/manual/en/timezones.php) for available time zones.
      * If this property is not set, [[\yii\base\Application::timeZone]] will be used.
      *
      * Note that the default time zone for input data is assumed to be UTC by default if no time zone is included in the input date value.
@@ -121,7 +121,7 @@ class Formatter extends Component
      * @var string the time zone that is assumed for input values if they do not include a time zone explicitly.
      *
      * The value must be a valid time zone identifier, e.g. `UTC`, `Europe/Berlin` or `America/Chicago`.
-     * Please refer to the [php manual](https://secure.php.net/manual/en/timezones.php) for available time zones.
+     * Please refer to the [php manual](https://www.php.net/manual/en/timezones.php) for available time zones.
      *
      * It defaults to `UTC` so you only have to adjust this value if you store datetime values in another time zone in your database.
      *
@@ -137,7 +137,7 @@ class Formatter extends Component
      *
      * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
-     * PHP [date()](https://secure.php.net/manual/en/function.date.php)-function.
+     * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
      *
      * For example:
      *
@@ -153,7 +153,7 @@ class Formatter extends Component
      *
      * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
-     * PHP [date()](https://secure.php.net/manual/en/function.date.php)-function.
+     * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
      *
      * For example:
      *
@@ -170,7 +170,7 @@ class Formatter extends Component
      * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
-     * PHP [date()](https://secure.php.net/manual/en/function.date.php)-function.
+     * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
      *
      * For example:
      *
@@ -182,7 +182,7 @@ class Formatter extends Component
     public $datetimeFormat = 'medium';
     /**
      * @var \IntlCalendar|int|null the calendar to be used for date formatting. The value of this property will be directly
-     * passed to the [constructor of the `IntlDateFormatter` class](https://secure.php.net/manual/en/intldateformatter.create.php).
+     * passed to the [constructor of the `IntlDateFormatter` class](https://www.php.net/manual/en/intldateformatter.create.php).
      *
      * Defaults to `null`, which means the Gregorian calendar will be used. You may also explicitly pass the constant
      * `\IntlDateFormatter::GREGORIAN` for Gregorian calendar.
@@ -201,42 +201,42 @@ class Formatter extends Component
      * Available calendar names can be found in the [ICU manual](http://userguide.icu-project.org/datetime/calendar).
      *
      * Since PHP 5.5 you may also use an instance of the [[\IntlCalendar]] class.
-     * Check the [PHP manual](https://secure.php.net/manual/en/intldateformatter.create.php) for more details.
+     * Check the [PHP manual](https://www.php.net/manual/en/intldateformatter.create.php) for more details.
      *
-     * If the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is not available, setting this property will have no effect.
+     * If the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is not available, setting this property will have no effect.
      *
-     * @see https://secure.php.net/manual/en/intldateformatter.create.php
-     * @see https://secure.php.net/manual/en/class.intldateformatter.php#intl.intldateformatter-constants.calendartypes
-     * @see https://secure.php.net/manual/en/class.intlcalendar.php
+     * @see https://www.php.net/manual/en/intldateformatter.create.php
+     * @see https://www.php.net/manual/en/class.intldateformatter.php#intl.intldateformatter-constants.calendartypes
+     * @see https://www.php.net/manual/en/class.intlcalendar.php
      * @since 2.0.7
      */
     public $calendar;
     /**
      * @var string|null the character displayed as the decimal point when formatting a number.
      * If not set, the decimal separator corresponding to [[locale]] will be used.
-     * If [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is not available, the default value is '.'.
+     * If [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is not available, the default value is '.'.
      */
     public $decimalSeparator;
     /**
      * @var string the character displayed as the decimal point when formatting a currency.
      * If not set, the currency decimal separator corresponding to [[locale]] will be used.
-     * If [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is not available, setting this property will have no effect.
+     * If [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is not available, setting this property will have no effect.
      * @since 2.0.35
      */
     public $currencyDecimalSeparator;
     /**
      * @var string|null the character displayed as the thousands separator (also called grouping separator) character when formatting a number.
      * If not set, the thousand separator corresponding to [[locale]] will be used.
-     * If [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is not available, the default value is ','.
+     * If [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is not available, the default value is ','.
      */
     public $thousandSeparator;
     /**
      * @var array a list of name value pairs that are passed to the
-     * intl [NumberFormatter::setAttribute()](https://secure.php.net/manual/en/numberformatter.setattribute.php) method of all
+     * intl [NumberFormatter::setAttribute()](https://www.php.net/manual/en/numberformatter.setattribute.php) method of all
      * the number formatter objects created by [[createNumberFormatter()]].
-     * This property takes only effect if the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is installed.
+     * This property takes only effect if the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is installed.
      *
-     * Please refer to the [PHP manual](https://secure.php.net/manual/en/class.numberformatter.php#intl.numberformatter-constants.unumberformatattribute)
+     * Please refer to the [PHP manual](https://www.php.net/manual/en/class.numberformatter.php#intl.numberformatter-constants.unumberformatattribute)
      * for the possible options.
      *
      * For example to adjust the maximum and minimum value of fraction digits you can configure this property like the following:
@@ -251,11 +251,11 @@ class Formatter extends Component
     public $numberFormatterOptions = [];
     /**
      * @var array a list of name value pairs that are passed to the
-     * intl [NumberFormatter::setTextAttribute()](https://secure.php.net/manual/en/numberformatter.settextattribute.php) method of all
+     * intl [NumberFormatter::setTextAttribute()](https://www.php.net/manual/en/numberformatter.settextattribute.php) method of all
      * the number formatter objects created by [[createNumberFormatter()]].
-     * This property takes only effect if the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is installed.
+     * This property takes only effect if the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is installed.
      *
-     * Please refer to the [PHP manual](https://secure.php.net/manual/en/class.numberformatter.php#intl.numberformatter-constants.unumberformattextattribute)
+     * Please refer to the [PHP manual](https://www.php.net/manual/en/class.numberformatter.php#intl.numberformatter-constants.unumberformattextattribute)
      * for the possible options.
      *
      * For example to change the minus sign for negative numbers you can configure this property like the following:
@@ -269,11 +269,11 @@ class Formatter extends Component
     public $numberFormatterTextOptions = [];
     /**
      * @var array a list of name value pairs that are passed to the
-     * intl [NumberFormatter::setSymbol()](https://secure.php.net/manual/en/numberformatter.setsymbol.php) method of all
+     * intl [NumberFormatter::setSymbol()](https://www.php.net/manual/en/numberformatter.setsymbol.php) method of all
      * the number formatter objects created by [[createNumberFormatter()]].
-     * This property takes only effect if the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is installed.
+     * This property takes only effect if the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is installed.
      *
-     * Please refer to the [PHP manual](https://secure.php.net/manual/en/class.numberformatter.php#intl.numberformatter-constants.unumberformatsymbol)
+     * Please refer to the [PHP manual](https://www.php.net/manual/en/class.numberformatter.php#intl.numberformatter-constants.unumberformatsymbol)
      * for the possible options.
      *
      * For example to choose a custom currency symbol, e.g. [U+20BD](http://unicode-table.com/en/20BD/) instead of `руб.` for Russian Ruble:
@@ -377,7 +377,7 @@ class Formatter extends Component
     ];
 
     /**
-     * @var bool whether the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is loaded.
+     * @var bool whether the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is loaded.
      */
     private $_intlLoaded = false;
     /**
@@ -626,9 +626,9 @@ public function asBoolean($value)
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp. A UNIX timestamp is always in UTC by its definition.
-     * - a string that can be [parsed to create a DateTime object](https://secure.php.net/manual/en/datetime.formats.php).
+     * - a string that can be [parsed to create a DateTime object](https://www.php.net/manual/en/datetime.formats.php).
      *   The timestamp is assumed to be in [[defaultTimeZone]] unless a time zone is explicitly given.
-     * - a PHP [DateTime](https://secure.php.net/manual/en/class.datetime.php) object. You may set the time zone
+     * - a PHP [DateTime](https://www.php.net/manual/en/class.datetime.php) object. You may set the time zone
      *   for the DateTime object to specify the source time zone.
      *
      * The formatter will convert date values according to [[timeZone]] before formatting it.
@@ -642,7 +642,7 @@ public function asBoolean($value)
      * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
-     * PHP [date()](https://secure.php.net/manual/en/function.date.php)-function.
+     * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
      *
      * @return string the formatted result.
      * @throws InvalidArgumentException if the input value can not be evaluated as a date value.
@@ -664,9 +664,9 @@ public function asDate($value, $format = null)
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp. A UNIX timestamp is always in UTC by its definition.
-     * - a string that can be [parsed to create a DateTime object](https://secure.php.net/manual/en/datetime.formats.php).
+     * - a string that can be [parsed to create a DateTime object](https://www.php.net/manual/en/datetime.formats.php).
      *   The timestamp is assumed to be in [[defaultTimeZone]] unless a time zone is explicitly given.
-     * - a PHP [DateTime](https://secure.php.net/manual/en/class.datetime.php) object. You may set the time zone
+     * - a PHP [DateTime](https://www.php.net/manual/en/class.datetime.php) object. You may set the time zone
      *   for the DateTime object to specify the source time zone.
      *
      * The formatter will convert date values according to [[timeZone]] before formatting it.
@@ -679,7 +679,7 @@ public function asDate($value, $format = null)
      * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
-     * PHP [date()](https://secure.php.net/manual/en/function.date.php)-function.
+     * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
      *
      * @return string the formatted result.
      * @throws InvalidArgumentException if the input value can not be evaluated as a date value.
@@ -701,9 +701,9 @@ public function asTime($value, $format = null)
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp. A UNIX timestamp is always in UTC by its definition.
-     * - a string that can be [parsed to create a DateTime object](https://secure.php.net/manual/en/datetime.formats.php).
+     * - a string that can be [parsed to create a DateTime object](https://www.php.net/manual/en/datetime.formats.php).
      *   The timestamp is assumed to be in [[defaultTimeZone]] unless a time zone is explicitly given.
-     * - a PHP [DateTime](https://secure.php.net/manual/en/class.datetime.php) object. You may set the time zone
+     * - a PHP [DateTime](https://www.php.net/manual/en/class.datetime.php) object. You may set the time zone
      *   for the DateTime object to specify the source time zone.
      *
      * The formatter will convert date values according to [[timeZone]] before formatting it.
@@ -716,7 +716,7 @@ public function asTime($value, $format = null)
      * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
-     * PHP [date()](https://secure.php.net/manual/en/function.date.php)-function.
+     * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
      *
      * @return string the formatted result.
      * @throws InvalidArgumentException if the input value can not be evaluated as a date value.
@@ -747,9 +747,9 @@ public function asDatetime($value, $format = null)
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp
-     * - a string that can be [parsed to create a DateTime object](https://secure.php.net/manual/en/datetime.formats.php).
+     * - a string that can be [parsed to create a DateTime object](https://www.php.net/manual/en/datetime.formats.php).
      *   The timestamp is assumed to be in [[defaultTimeZone]] unless a time zone is explicitly given.
-     * - a PHP [DateTime](https://secure.php.net/manual/en/class.datetime.php) object
+     * - a PHP [DateTime](https://www.php.net/manual/en/class.datetime.php) object
      *
      * @param string $format the format used to convert the value into a date string.
      * @param string $type 'date', 'time', or 'datetime'.
@@ -846,9 +846,9 @@ private function formatDateTimeValue($value, $format, $type)
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp
-     * - a string that can be [parsed to create a DateTime object](https://secure.php.net/manual/en/datetime.formats.php).
+     * - a string that can be [parsed to create a DateTime object](https://www.php.net/manual/en/datetime.formats.php).
      *   The timestamp is assumed to be in [[defaultTimeZone]] unless a time zone is explicitly given.
-     * - a PHP [DateTime](https://secure.php.net/manual/en/class.datetime.php) object
+     * - a PHP [DateTime](https://www.php.net/manual/en/class.datetime.php) object
      *
      * @param bool $checkDateTimeInfo whether to also check if the date/time value has some time and date information attached.
      * Defaults to `false`. If `true`, the method will then return an array with the first element being the normalized
@@ -920,9 +920,9 @@ protected function normalizeDatetimeValue($value, $checkDateTimeInfo = false)
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp
-     * - a string that can be [parsed to create a DateTime object](https://secure.php.net/manual/en/datetime.formats.php).
+     * - a string that can be [parsed to create a DateTime object](https://www.php.net/manual/en/datetime.formats.php).
      *   The timestamp is assumed to be in [[defaultTimeZone]] unless a time zone is explicitly given.
-     * - a PHP [DateTime](https://secure.php.net/manual/en/class.datetime.php) object
+     * - a PHP [DateTime](https://www.php.net/manual/en/class.datetime.php) object
      *
      * @return string the formatted result.
      */
@@ -948,9 +948,9 @@ public function asTimestamp($value)
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp
-     * - a string that can be [parsed to create a DateTime object](https://secure.php.net/manual/en/datetime.formats.php).
+     * - a string that can be [parsed to create a DateTime object](https://www.php.net/manual/en/datetime.formats.php).
      *   The timestamp is assumed to be in [[defaultTimeZone]] unless a time zone is explicitly given.
-     * - a PHP [DateTime](https://secure.php.net/manual/en/class.datetime.php) object
+     * - a PHP [DateTime](https://www.php.net/manual/en/class.datetime.php) object
      * - a PHP DateInterval object (a positive time interval will refer to the past, a negative one to the future)
      *
      * @param int|string|DateTime|DateTimeInterface|null $referenceTime if specified the value is used as a reference time instead of `now`
@@ -1030,7 +1030,7 @@ public function asRelativeTime($value, $referenceTime = null)
      * Represents the value as duration in human readable format.
      *
      * @param DateInterval|string|int|null $value the value to be formatted. Acceptable formats:
-     *  - [DateInterval object](https://secure.php.net/manual/ru/class.dateinterval.php)
+     *  - [DateInterval object](https://www.php.net/manual/ru/class.dateinterval.php)
      *  - integer - number of seconds. For example: value `131` represents `2 minutes, 11 seconds`
      *  - ISO8601 duration format. For example, all of these values represent `1 day, 2 hours, 30 minutes` duration:
      *    `2015-01-01T13:00:00Z/2015-01-02T13:30:00Z` - between two datetime values
@@ -1101,7 +1101,7 @@ public function asDuration($value, $implodeString = ', ', $negativeSign = '-')
      * Formats the value as an integer number by removing any decimal digits without rounding.
      *
      * Since 2.0.16 numbers that are mispresented after normalization are formatted as strings using fallback function
-     * without [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) support. For very big numbers it's
+     * without [PHP intl extension](https://www.php.net/manual/en/book.intl.php) support. For very big numbers it's
      * recommended to pass them as strings and not use scientific notation otherwise the output might be wrong.
      *
      * @param mixed $value the value to be formatted.
@@ -1142,7 +1142,7 @@ public function asInteger($value, $options = [], $textOptions = [])
      * value is rounded automatically to the defined decimal digits.
      *
      * Since 2.0.16 numbers that are mispresented after normalization are formatted as strings using fallback function
-     * without [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) support. For very big numbers it's
+     * without [PHP intl extension](https://www.php.net/manual/en/book.intl.php) support. For very big numbers it's
      * recommended to pass them as strings and not use scientific notation otherwise the output might be wrong.
      *
      * @param mixed $value the value to be formatted.
@@ -1192,7 +1192,7 @@ public function asDecimal($value, $decimals = null, $options = [], $textOptions
      * Formats the value as a percent number with "%" sign.
      *
      * Since 2.0.16 numbers that are mispresented after normalization are formatted as strings using fallback function
-     * without [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) support. For very big numbers it's
+     * without [PHP intl extension](https://www.php.net/manual/en/book.intl.php) support. For very big numbers it's
      * recommended to pass them as strings and not use scientific notation otherwise the output might be wrong.
      *
      * @param mixed $value the value to be formatted. It must be a factor e.g. `0.75` will result in `75%`.
@@ -1245,7 +1245,7 @@ public function asPercent($value, $decimals = null, $options = [], $textOptions
      * If not given, the number of digits depends in the input value and is determined based on
      * `NumberFormatter::MIN_FRACTION_DIGITS` and `NumberFormatter::MAX_FRACTION_DIGITS`, which can be configured
      * using [[$numberFormatterOptions]].
-     * If the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is not available, the default value
+     * If the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is not available, the default value
      * depends on your PHP configuration.
      * If you want consistent behavior between environments where intl is available and not, you should explicitly
      * specify a value here.
@@ -1280,7 +1280,7 @@ public function asScientific($value, $decimals = null, $options = [], $textOptio
     /**
      * Formats the value as a currency number.
      *
-     * This function does not require the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) to be installed
+     * This function does not require the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) to be installed
      * to work, but it is highly recommended to install it to get good formatting results.
      *
      * Since 2.0.16 numbers that are mispresented after normalization are formatted as strings using fallback function
@@ -1311,7 +1311,7 @@ public function asCurrency($value, $currency = null, $options = [], $textOptions
         if ($this->_intlLoaded) {
             $currency = $currency ?: $this->currencyCode;
             // currency code must be set before fraction digits
-            // https://secure.php.net/manual/en/numberformatter.formatcurrency.php#114376
+            // https://www.php.net/manual/en/numberformatter.formatcurrency.php#114376
             if ($currency && !isset($textOptions[NumberFormatter::CURRENCY_CODE])) {
                 $textOptions[NumberFormatter::CURRENCY_CODE] = $currency;
             }
@@ -1341,14 +1341,14 @@ public function asCurrency($value, $currency = null, $options = [], $textOptions
     /**
      * Formats the value as a number spellout.
      *
-     * This function requires the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) to be installed.
+     * This function requires the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) to be installed.
      *
      * This formatter does not work well with very big numbers.
      *
      * @param mixed $value the value to be formatted
      * @return string the formatted result.
      * @throws InvalidArgumentException if the input value is not numeric or the formatting failed.
-     * @throws InvalidConfigException when the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is not available.
+     * @throws InvalidConfigException when the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is not available.
      */
     public function asSpellout($value)
     {
@@ -1371,14 +1371,14 @@ public function asSpellout($value)
     /**
      * Formats the value as a ordinal value of a number.
      *
-     * This function requires the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) to be installed.
+     * This function requires the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) to be installed.
      *
      * This formatter does not work well with very big numbers.
      *
      * @param mixed $value the value to be formatted
      * @return string the formatted result.
      * @throws InvalidArgumentException if the input value is not numeric or the formatting failed.
-     * @throws InvalidConfigException when the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is not available.
+     * @throws InvalidConfigException when the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is not available.
      */
     public function asOrdinal($value)
     {
@@ -1751,9 +1751,9 @@ protected function formatNumber($value, $decimals, $maxPosition, $formatBase, $o
     /**
      * Normalizes a numeric input value.
      *
-     * - everything [empty](https://secure.php.net/manual/en/function.empty.php) will result in `0`
-     * - a [numeric](https://secure.php.net/manual/en/function.is-numeric.php) string will be casted to float
-     * - everything else will be returned if it is [numeric](https://secure.php.net/manual/en/function.is-numeric.php),
+     * - everything [empty](https://www.php.net/manual/en/function.empty.php) will result in `0`
+     * - a [numeric](https://www.php.net/manual/en/function.is-numeric.php) string will be casted to float
+     * - everything else will be returned if it is [numeric](https://www.php.net/manual/en/function.is-numeric.php),
      *   otherwise an exception is thrown.
      *
      * @param mixed $value the input value
diff --git a/framework/i18n/GettextMessageSource.php b/framework/i18n/GettextMessageSource.php
index d96fb5290f0..b3190ba4c63 100644
--- a/framework/i18n/GettextMessageSource.php
+++ b/framework/i18n/GettextMessageSource.php
@@ -8,6 +8,7 @@
 namespace yii\i18n;
 
 use Yii;
+use yii\base\InvalidArgumentException;
 
 /**
  * GettextMessageSource represents a message source that is based on GNU Gettext.
@@ -32,19 +33,19 @@ class GettextMessageSource extends MessageSource
     const PO_FILE_EXT = '.po';
 
     /**
-     * @var string
+     * @var string base directory of messages files
      */
     public $basePath = '@app/messages';
     /**
-     * @var string
+     * @var string sub-directory of messages files
      */
     public $catalog = 'messages';
     /**
-     * @var bool
+     * @var bool whether to use generated MO files
      */
     public $useMoFile = true;
     /**
-     * @var bool
+     * @var bool whether to use big-endian when reading and writing an integer
      */
     public $useBigEndian = false;
 
@@ -129,6 +130,10 @@ protected function loadFallbackMessages($category, $fallbackLanguage, $messages,
      */
     protected function getMessageFilePath($language)
     {
+        $language = (string) $language;
+        if ($language !== '' && !preg_match('/^[a-z_-]+$/i', $language)) {
+            throw new InvalidArgumentException(sprintf('Invalid language code: "%s".', $language));
+        }
         $messageFile = Yii::getAlias($this->basePath) . '/' . $language . '/' . $this->catalog;
         if ($this->useMoFile) {
             $messageFile .= self::MO_FILE_EXT;
diff --git a/framework/i18n/Locale.php b/framework/i18n/Locale.php
index 86b78de6a88..a0e1a1b48cf 100644
--- a/framework/i18n/Locale.php
+++ b/framework/i18n/Locale.php
@@ -14,7 +14,7 @@
 /**
  * Locale provides various locale information via convenient methods.
  *
- * The class requires [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) to be installed.
+ * The class requires [PHP intl extension](https://www.php.net/manual/en/book.intl.php) to be installed.
  *
  * @property-read string $currencySymbol This property is read-only.
  *
diff --git a/framework/i18n/MessageFormatter.php b/framework/i18n/MessageFormatter.php
index 7aec4824149..47e4246fd21 100644
--- a/framework/i18n/MessageFormatter.php
+++ b/framework/i18n/MessageFormatter.php
@@ -23,7 +23,7 @@
  *   substituted.
  * - Fixes PHP 5.5 weird placeholder replacement in case no arguments are provided at all (https://bugs.php.net/bug.php?id=65920).
  * - Offers limited support for message formatting in case PHP intl extension is not installed.
- *   However it is highly recommended that you install [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) if you want
+ *   However it is highly recommended that you install [PHP intl extension](https://www.php.net/manual/en/book.intl.php) if you want
  *   to use MessageFormatter features.
  *
  *   The fallback implementation only supports the following message formats:
@@ -32,7 +32,7 @@
  *   - simple parameters
  *   - integer number parameters
  *
- *   The fallback implementation does NOT support the ['apostrophe-friendly' syntax](https://secure.php.net/manual/en/messageformatter.formatmessage.php).
+ *   The fallback implementation does NOT support the ['apostrophe-friendly' syntax](https://www.php.net/manual/en/messageformatter.formatmessage.php).
  *   Also messages that are working with the fallback implementation are not necessarily compatible with the
  *   PHP intl MessageFormatter so do not rely on the fallback if you are able to install intl extension somehow.
  *
@@ -51,7 +51,7 @@ class MessageFormatter extends Component
 
     /**
      * Get the error code from the last operation.
-     * @link https://secure.php.net/manual/en/messageformatter.geterrorcode.php
+     * @link https://www.php.net/manual/en/messageformatter.geterrorcode.php
      * @return string Code of the last error.
      */
     public function getErrorCode()
@@ -61,7 +61,7 @@ public function getErrorCode()
 
     /**
      * Get the error text from the last operation.
-     * @link https://secure.php.net/manual/en/messageformatter.geterrormessage.php
+     * @link https://www.php.net/manual/en/messageformatter.geterrormessage.php
      * @return string Description of the last error.
      */
     public function getErrorMessage()
@@ -72,7 +72,7 @@ public function getErrorMessage()
     /**
      * Formats a message via [ICU message format](http://userguide.icu-project.org/formatparse/messages).
      *
-     * It uses the PHP intl extension's [MessageFormatter](https://secure.php.net/manual/en/class.messageformatter.php)
+     * It uses the PHP intl extension's [MessageFormatter](https://www.php.net/manual/en/class.messageformatter.php)
      * and works around some issues.
      * If PHP intl is not installed a fallback will be used that supports a subset of the ICU message format.
      *
@@ -134,7 +134,7 @@ public function format($pattern, $params, $language)
     /**
      * Parses an input string according to an [ICU message format](http://userguide.icu-project.org/formatparse/messages) pattern.
      *
-     * It uses the PHP intl extension's [MessageFormatter::parse()](https://secure.php.net/manual/en/messageformatter.parsemessage.php)
+     * It uses the PHP intl extension's [MessageFormatter::parse()](https://www.php.net/manual/en/messageformatter.parsemessage.php)
      * and adds support for named arguments.
      * Usage of this method requires PHP intl extension to be installed.
      *
@@ -423,7 +423,7 @@ private function parseToken($token, $args, $locale)
                         $selector = trim(mb_substr($selector, $pos + 1, mb_strlen($selector, $charset), $charset));
                     }
                     if ($message === false && $selector === 'other' ||
-                        strpos($selector, '=') === 0 && (int) mb_substr($selector, 1, mb_strlen($selector, $charset), $charset) === $arg ||
+                        strncmp($selector, '=', 1) === 0 && (int) mb_substr($selector, 1, mb_strlen($selector, $charset), $charset) === $arg ||
                         $selector === 'one' && $arg - $offset == 1
                     ) {
                         $message = implode(',', str_replace('#', $arg - $offset, $plural[$i]));
diff --git a/framework/i18n/PhpMessageSource.php b/framework/i18n/PhpMessageSource.php
index 4bcfcd9adff..4dd860a5ced 100644
--- a/framework/i18n/PhpMessageSource.php
+++ b/framework/i18n/PhpMessageSource.php
@@ -8,6 +8,7 @@
 namespace yii\i18n;
 
 use Yii;
+use yii\base\InvalidArgumentException;
 
 /**
  * PhpMessageSource represents a message source that stores translated messages in PHP scripts.
@@ -132,6 +133,10 @@ protected function loadFallbackMessages($category, $fallbackLanguage, $messages,
      */
     protected function getMessageFilePath($category, $language)
     {
+        $language = (string) $language;
+        if ($language !== '' && !preg_match('/^[a-z_-]+$/i', $language)) {
+            throw new InvalidArgumentException(sprintf('Invalid language code: "%s".', $language));
+        }
         $messageFile = Yii::getAlias($this->basePath) . "/$language/";
         if (isset($this->fileMap[$category])) {
             $messageFile .= $this->fileMap[$category];
diff --git a/framework/log/Dispatcher.php b/framework/log/Dispatcher.php
index 8109e0b8978..9b4136c04f3 100644
--- a/framework/log/Dispatcher.php
+++ b/framework/log/Dispatcher.php
@@ -106,8 +106,8 @@ public function init()
 
     /**
      * Gets the connected logger.
-     * If not set, [[\Yii::getLogger()]] will be used.
-     * @property Logger the logger. If not set, [[\Yii::getLogger()]] will be used.
+     * If not set, [[Yii::getLogger()]] will be used.
+     * @property Logger the logger. If not set, [[Yii::getLogger()]] will be used.
      * @return Logger the logger.
      */
     public function getLogger()
@@ -123,12 +123,15 @@ public function getLogger()
      * Sets the connected logger.
      * @param Logger|string|array $value the logger to be used. This can either be a logger instance
      * or a configuration that will be used to create one using [[Yii::createObject()]].
+     * If you are providing custom logger configuration and would like it to be used for the whole application 
+     * and not just for the dispatcher you should use [[Yii::setLogger()]] instead.
      */
     public function setLogger($value)
     {
         if (is_string($value) || is_array($value)) {
             $value = Yii::createObject($value);
         }
+
         $this->_logger = $value;
         $this->_logger->dispatcher = $this;
     }
diff --git a/framework/log/FileTarget.php b/framework/log/FileTarget.php
index a29c67367af..157c0db50ed 100644
--- a/framework/log/FileTarget.php
+++ b/framework/log/FileTarget.php
@@ -64,9 +64,9 @@ class FileTarget extends Target
      * systems which do not play well with rename on open files. Rotation by renaming however is
      * a bit faster.
      *
-     * The problem with windows systems where the [rename()](https://secure.php.net/manual/en/function.rename.php)
+     * The problem with windows systems where the [rename()](https://www.php.net/manual/en/function.rename.php)
      * function does not work with files that are opened by some process is described in a
-     * [comment by Martin Pelletier](https://secure.php.net/manual/en/function.rename.php#102274) in
+     * [comment by Martin Pelletier](https://www.php.net/manual/en/function.rename.php#102274) in
      * the PHP documentation. By setting rotateByCopy to `true` you can work
      * around this problem.
      */
diff --git a/framework/log/Logger.php b/framework/log/Logger.php
index 42d71cc988d..a4f21dd4aa7 100644
--- a/framework/log/Logger.php
+++ b/framework/log/Logger.php
@@ -196,7 +196,7 @@ public function flush($final = false)
                 if (is_int($index)) {
                     $messages[] = $message;
                 } else {
-                    if (strpos($index, 'begin-') === 0) {
+                    if (strncmp($index, 'begin-', 6) === 0) {
                         $oppositeProfile = 'end-' . substr($index, 6);
                     } else {
                         $oppositeProfile = 'begin-' . substr($index, 4);
diff --git a/framework/log/SyslogTarget.php b/framework/log/SyslogTarget.php
index 6a9b0cfbb7d..84bde8941f5 100644
--- a/framework/log/SyslogTarget.php
+++ b/framework/log/SyslogTarget.php
@@ -27,9 +27,9 @@ class SyslogTarget extends Target
      */
     public $facility = LOG_USER;
     /**
-     * @var int openlog options. This is a bitfield passed as the `$option` parameter to [openlog()](https://secure.php.net/openlog).
+     * @var int openlog options. This is a bitfield passed as the `$option` parameter to [openlog()](https://www.php.net/openlog).
      * Defaults to `null` which means to use the default options `LOG_ODELAY | LOG_PID`.
-     * @see https://secure.php.net/openlog for available options.
+     * @see https://www.php.net/openlog for available options.
      * @since 2.0.11
      */
     public $options;
diff --git a/framework/requirements/requirements.php b/framework/requirements/requirements.php
index 29ab338b91b..b6e3d80965c 100644
--- a/framework/requirements/requirements.php
+++ b/framework/requirements/requirements.php
@@ -47,7 +47,7 @@
         'name' => 'MBString extension',
         'mandatory' => true,
         'condition' => extension_loaded('mbstring'),
-        'by' => '<a href="https://secure.php.net/manual/en/book.mbstring.php">Multibyte string</a> processing',
+        'by' => '<a href="https://www.php.net/manual/en/book.mbstring.php">Multibyte string</a> processing',
         'memo' => 'Required for multibyte encoding string processing.'
     ),
     array(
@@ -61,7 +61,7 @@
         'name' => 'Intl extension',
         'mandatory' => false,
         'condition' => $this->checkPhpExtensionVersion('intl', '1.0.2', '>='),
-        'by' => '<a href="https://secure.php.net/manual/en/book.intl.php">Internationalization</a> support',
+        'by' => '<a href="https://www.php.net/manual/en/book.intl.php">Internationalization</a> support',
         'memo' => 'PHP Intl extension 1.0.2 or higher is required when you want to use advanced parameters formatting
         in <code>Yii::t()</code>, non-latin languages with <code>Inflector::slug()</code>,
         <abbr title="Internationalized domain names">IDN</abbr>-feature of
@@ -71,7 +71,7 @@
         'name' => 'ICU version',
         'mandatory' => false,
         'condition' => defined('INTL_ICU_VERSION') && version_compare(INTL_ICU_VERSION, '49', '>='),
-        'by' => '<a href="https://secure.php.net/manual/en/book.intl.php">Internationalization</a> support',
+        'by' => '<a href="https://www.php.net/manual/en/book.intl.php">Internationalization</a> support',
         'memo' => 'ICU 49.0 or higher is required when you want to use <code>#</code> placeholder in plural rules
         (for example, plural in
         <a href=\"http://www.yiiframework.com/doc-2.0/yii-i18n-formatter.html#asRelativeTime%28%29-detail\">
@@ -82,7 +82,7 @@
         'name' => 'ICU Data version',
         'mandatory' => false,
         'condition' => defined('INTL_ICU_DATA_VERSION') && version_compare(INTL_ICU_DATA_VERSION, '49.1', '>='),
-        'by' => '<a href="https://secure.php.net/manual/en/book.intl.php">Internationalization</a> support',
+        'by' => '<a href="https://www.php.net/manual/en/book.intl.php">Internationalization</a> support',
         'memo' => 'ICU Data 49.1 or higher is required when you want to use <code>#</code> placeholder in plural rules
         (for example, plural in
         <a href=\"http://www.yiiframework.com/doc-2.0/yii-i18n-formatter.html#asRelativeTime%28%29-detail\">
@@ -93,14 +93,14 @@
         'name' => 'Fileinfo extension',
         'mandatory' => false,
         'condition' => extension_loaded('fileinfo'),
-        'by' => '<a href="https://secure.php.net/manual/en/book.fileinfo.php">File Information</a>',
+        'by' => '<a href="https://www.php.net/manual/en/book.fileinfo.php">File Information</a>',
         'memo' => 'Required for files upload to detect correct file mime-types.'
     ),
     array(
         'name' => 'DOM extension',
         'mandatory' => false,
         'condition' => extension_loaded('dom'),
-        'by' => '<a href="https://secure.php.net/manual/en/book.dom.php">Document Object Model</a>',
+        'by' => '<a href="https://www.php.net/manual/en/book.dom.php">Document Object Model</a>',
         'memo' => 'Required for REST API to send XML responses via <code>yii\web\XmlResponseFormatter</code>.'
     ),
     array(
diff --git a/framework/rest/CreateAction.php b/framework/rest/CreateAction.php
index 82e77b72db1..82537a56ca8 100644
--- a/framework/rest/CreateAction.php
+++ b/framework/rest/CreateAction.php
@@ -52,7 +52,7 @@ public function run()
         if ($model->save()) {
             $response = Yii::$app->getResponse();
             $response->setStatusCode(201);
-            $id = implode(',', array_values($model->getPrimaryKey(true)));
+            $id = implode(',', $model->getPrimaryKey(true));
             $response->getHeaders()->set('Location', Url::toRoute([$this->viewAction, 'id' => $id], true));
         } elseif (!$model->hasErrors()) {
             throw new ServerErrorHttpException('Failed to create the object for unknown reason.');
diff --git a/framework/test/BaseActiveFixture.php b/framework/test/BaseActiveFixture.php
index 317d0fa85f1..54c30c99384 100644
--- a/framework/test/BaseActiveFixture.php
+++ b/framework/test/BaseActiveFixture.php
@@ -84,7 +84,7 @@ public function load()
      *
      * @return array the data to be put into the database
      * @throws InvalidConfigException if the specified data file does not exist.
-     * @see [[loadData]]
+     * @see loadData()
      */
     protected function getData()
     {
diff --git a/framework/validators/CompareValidator.php b/framework/validators/CompareValidator.php
index a57886d7c1d..fbe4d2cbe2b 100644
--- a/framework/validators/CompareValidator.php
+++ b/framework/validators/CompareValidator.php
@@ -16,7 +16,7 @@
  *
  * The value being compared with can be another attribute value
  * (specified via [[compareAttribute]]) or a constant (specified via
- * [[compareValue]]. When both are specified, the latter takes
+ * [[compareValue]]). When both are specified, the latter takes
  * precedence. If neither is specified, the attribute will be compared
  * with another attribute whose name is by appending "_repeat" to the source
  * attribute name.
@@ -105,14 +105,10 @@ public function init()
         if ($this->message === null) {
             switch ($this->operator) {
                 case '==':
-                    $this->message = Yii::t('yii', '{attribute} must be equal to "{compareValueOrAttribute}".');
-                    break;
                 case '===':
                     $this->message = Yii::t('yii', '{attribute} must be equal to "{compareValueOrAttribute}".');
                     break;
                 case '!=':
-                    $this->message = Yii::t('yii', '{attribute} must not be equal to "{compareValueOrAttribute}".');
-                    break;
                 case '!==':
                     $this->message = Yii::t('yii', '{attribute} must not be equal to "{compareValueOrAttribute}".');
                     break;
diff --git a/framework/validators/DateValidator.php b/framework/validators/DateValidator.php
index 24604cf6721..7d920108ab7 100644
--- a/framework/validators/DateValidator.php
+++ b/framework/validators/DateValidator.php
@@ -60,7 +60,7 @@ class DateValidator extends Validator
      * This property influences the default value of [[format]] and also sets the correct behavior when [[format]] is one of the intl
      * short formats, `short`, `medium`, `long`, or `full`.
      *
-     * This is only effective when the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is installed.
+     * This is only effective when the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is installed.
      *
      * This property can be set to the following values:
      *
@@ -76,7 +76,7 @@ class DateValidator extends Validator
      * This can be a date time pattern as described in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the PHP Datetime class.
-     * Please refer to <https://secure.php.net/manual/en/datetime.createfromformat.php> on supported formats.
+     * Please refer to <https://www.php.net/manual/en/datetime.createfromformat.php> on supported formats.
      *
      * If this property is not set, the default value will be obtained from `Yii::$app->formatter->dateFormat`, see [[\yii\i18n\Formatter::dateFormat]] for details.
      * Since version 2.0.8 the default value will be determined from different formats of the formatter class,
@@ -95,8 +95,8 @@ class DateValidator extends Validator
      * ```
      *
      * **Note:** the underlying date parsers being used vary dependent on the format. If you use the ICU format and
-     * the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is installed, the [IntlDateFormatter](https://secure.php.net/manual/en/intldateformatter.parse.php)
-     * is used to parse the input value. In all other cases the PHP [DateTime](https://secure.php.net/manual/en/datetime.createfromformat.php) class
+     * the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is installed, the [IntlDateFormatter](https://www.php.net/manual/en/intldateformatter.parse.php)
+     * is used to parse the input value. In all other cases the PHP [DateTime](https://www.php.net/manual/en/datetime.createfromformat.php) class
      * is used. The IntlDateFormatter has the advantage that it can parse international dates like `12. Mai 2015` or `12 мая 2014`, while the
      * PHP parser is limited to English only. The PHP parser however is more strict about the input format as it will not accept
      * `12.05.05` for the format `php:d.m.Y`, but the IntlDateFormatter will accept it for the format `dd.MM.yyyy`.
@@ -105,16 +105,16 @@ class DateValidator extends Validator
     public $format;
     /**
      * @var string the locale ID that is used to localize the date parsing.
-     * This is only effective when the [PHP intl extension](https://secure.php.net/manual/en/book.intl.php) is installed.
+     * This is only effective when the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is installed.
      * If not set, the locale of the [[\yii\base\Application::formatter|formatter]] will be used.
      * See also [[\yii\i18n\Formatter::locale]].
      */
     public $locale;
     /**
      * @var string the timezone to use for parsing date and time values.
-     * This can be any value that may be passed to [date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php)
+     * This can be any value that may be passed to [date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php)
      * e.g. `UTC`, `Europe/Berlin` or `America/Chicago`.
-     * Refer to the [php manual](https://secure.php.net/manual/en/timezones.php) for available timezones.
+     * Refer to the [php manual](https://www.php.net/manual/en/timezones.php) for available timezones.
      * If this property is not set, [[\yii\base\Application::timeZone]] will be used.
      */
     public $timeZone;
@@ -150,9 +150,9 @@ class DateValidator extends Validator
     /**
      * @var string the timezone to use when populating the [[timestampAttribute]] with [[timestampAttributeFormat]]. Defaults to `UTC`.
      *
-     * This can be any value that may be passed to [date_default_timezone_set()](https://secure.php.net/manual/en/function.date-default-timezone-set.php)
+     * This can be any value that may be passed to [date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php)
      * e.g. `UTC`, `Europe/Berlin` or `America/Chicago`.
-     * Refer to the [php manual](https://secure.php.net/manual/en/timezones.php) for available timezones.
+     * Refer to the [php manual](https://www.php.net/manual/en/timezones.php) for available timezones.
      *
      * If [[timestampAttributeFormat]] is not set, this property will be ignored.
      * @see timestampAttributeFormat
diff --git a/framework/validators/ExistValidator.php b/framework/validators/ExistValidator.php
index 679bf57d26b..4b7d94f3861 100644
--- a/framework/validators/ExistValidator.php
+++ b/framework/validators/ExistValidator.php
@@ -133,7 +133,9 @@ private function checkTargetRelationExistence($model, $attribute)
 
         $connection = $model::getDb();
         if ($this->forceMasterDb && method_exists($connection, 'useMaster')) {
-            $exists = $connection->useMaster([$relationQuery, 'exists']);
+            $exists = $connection->useMaster(function() use ($relationQuery) {
+                return $relationQuery->exists();
+            });
         } else {
             $exists = $relationQuery->exists();
         }
diff --git a/framework/validators/FileValidator.php b/framework/validators/FileValidator.php
index d67934ffd74..7a7f5c5c42b 100644
--- a/framework/validators/FileValidator.php
+++ b/framework/validators/FileValidator.php
@@ -62,8 +62,8 @@ class FileValidator extends Validator
      * Defaults to null, meaning no limit.
      * Note, the size limit is also affected by `upload_max_filesize` and `post_max_size` INI setting
      * and the 'MAX_FILE_SIZE' hidden field value. See [[getSizeLimit()]] for details.
-     * @see https://secure.php.net/manual/en/ini.core.php#ini.upload-max-filesize
-     * @see https://secure.php.net/post-max-size
+     * @see https://www.php.net/manual/en/ini.core.php#ini.upload-max-filesize
+     * @see https://www.php.net/post-max-size
      * @see getSizeLimit
      * @see tooBig for the customized message for a file that is too big.
      */
@@ -77,7 +77,7 @@ class FileValidator extends Validator
      * > Note: The maximum number of files allowed to be uploaded simultaneously is
      * also limited with PHP directive `max_file_uploads`, which defaults to 20.
      *
-     * @see https://secure.php.net/manual/en/ini.core.php#ini.max-file-uploads
+     * @see https://www.php.net/manual/en/ini.core.php#ini.max-file-uploads
      * @see tooMany for the customized message when too many files are uploaded.
      */
     public $maxFiles = 1;
diff --git a/framework/validators/UniqueValidator.php b/framework/validators/UniqueValidator.php
index 7aa1e8131a4..f383ec9afc3 100644
--- a/framework/validators/UniqueValidator.php
+++ b/framework/validators/UniqueValidator.php
@@ -191,10 +191,10 @@ private function modelExists($targetClass, $conditions, $model)
                 // only select primary key to optimize query
                 $columnsCondition = array_flip($targetClass::primaryKey());
                 $query->select(array_flip($this->applyTableAlias($query, $columnsCondition)));
-                
+
                 // any with relation can't be loaded because related fields are not selected
                 $query->with = null;
-    
+
                 if (is_array($query->joinWith)) {
                     // any joinWiths need to have eagerLoading turned off to prevent related fields being loaded
                     foreach ($query->joinWith as &$joinWith) {
@@ -321,7 +321,7 @@ private function applyTableAlias($query, $conditions, $alias = null)
         foreach ($conditions as $columnName => $columnValue) {
             if (strpos($columnName, '(') === false) {
                 $columnName = preg_replace('/^' . preg_quote($alias) . '\.(.*)$/', '$1', $columnName);
-                if (strpos($columnName, '[[') === 0) {
+                if (strncmp($columnName, '[[', 2) === 0) {
                     $prefixedColumn = "{$alias}.{$columnName}";
                 } else {
                     $prefixedColumn = "{$alias}.[[{$columnName}]]";
diff --git a/framework/web/AssetBundle.php b/framework/web/AssetBundle.php
index d04ad40eba6..aca626cd4d9 100644
--- a/framework/web/AssetBundle.php
+++ b/framework/web/AssetBundle.php
@@ -16,7 +16,7 @@
  * AssetBundle represents a collection of asset files, such as CSS, JS, images.
  *
  * Each asset bundle has a unique name that globally identifies it among all asset bundles used in an application.
- * The name is the [fully qualified class name](https://secure.php.net/manual/en/language.namespaces.rules.php)
+ * The name is the [fully qualified class name](https://www.php.net/manual/en/language.namespaces.rules.php)
  * of the class representing it.
  *
  * An asset bundle can depend on other asset bundles. When registering an asset bundle
@@ -40,7 +40,7 @@ class AssetBundle extends BaseObject
      * If you do not set this property, it means the source asset files are located under [[basePath]].
      *
      * You can use either a directory or an alias of the directory.
-     * @see $publishOptions
+     * @see publishOptions
      */
     public $sourcePath;
     /**
diff --git a/framework/web/CompositeUrlRule.php b/framework/web/CompositeUrlRule.php
index d707c64ccc4..550a6d7e738 100644
--- a/framework/web/CompositeUrlRule.php
+++ b/framework/web/CompositeUrlRule.php
@@ -132,8 +132,8 @@ protected function iterateRules($rules, $manager, $route, $params)
      *
      * @return null|int Status of the URL creation after the last [[createUrl()]] call. `null` if rule does not provide
      * info about create status.
-     * @see $createStatus
-     * @see https://secure.php.net/manual/en/language.operators.bitwise.php
+     * @see createStatus
+     * @see https://www.php.net/manual/en/language.operators.bitwise.php
      * @since 2.0.12
      */
     public function getCreateUrlStatus()
diff --git a/framework/web/Controller.php b/framework/web/Controller.php
index b52cf80c9e1..2913e1993e4 100644
--- a/framework/web/Controller.php
+++ b/framework/web/Controller.php
@@ -177,7 +177,12 @@ public function bindActionParams($action, $params)
                 }
                 $args[] = $actionParams[$name] = $params[$name];
                 unset($params[$name]);
-            } elseif (PHP_VERSION_ID >= 70100 && ($type = $param->getType()) !== null && !$type->isBuiltin()) {
+            } elseif (
+                PHP_VERSION_ID >= 70100
+                && ($type = $param->getType()) !== null
+                && $type instanceof \ReflectionNamedType
+                && !$type->isBuiltin()
+            ) {
                 try {
                     $this->bindInjectedParams($type, $name, $args, $requestedParams);
                 } catch (HttpException $e) {
diff --git a/framework/web/Cookie.php b/framework/web/Cookie.php
index 84b694b4768..434e5cdf299 100644
--- a/framework/web/Cookie.php
+++ b/framework/web/Cookie.php
@@ -22,7 +22,7 @@ class Cookie extends \yii\base\BaseObject
      * during CSRF-prone request methods (e.g. POST, PUT, PATCH etc).
      * E.g. a POST request from https://otherdomain.com to https://yourdomain.com will not include the cookie, however a GET request will.
      * When a user follows a link from https://otherdomain.com to https://yourdomain.com it will include the cookie
-     * @see $sameSite
+     * @see sameSite
      */
     const SAME_SITE_LAX = 'Lax';
     /**
@@ -30,7 +30,7 @@ class Cookie extends \yii\base\BaseObject
      * regardless of the request method and even when following a regular link.
      * E.g. a GET request from https://otherdomain.com to https://yourdomain.com or a user following a link from
      * https://otherdomain.com to https://yourdomain.com will not include the cookie.
-     * @see $sameSite
+     * @see sameSite
      */
     const SAME_SITE_STRICT = 'Strict';
     /**
@@ -38,8 +38,8 @@ class Cookie extends \yii\base\BaseObject
      * i.e in responses to both first-party and cross-origin requests.
      * E.g. a POST request from https://otherdomain.com to https://yourdomain.com will include the cookie.
      * Note: If `sameSite` is set to None, the `secure` attribute must be set to `true` (otherwise the cookie will be blocked by the browser).
-     * @see $sameSite
-     * @see $secure
+     * @see sameSite
+     * @see secure
      * @since 2.0.43
      */
     const SAME_SITE_NONE = 'None';
diff --git a/framework/web/DbSession.php b/framework/web/DbSession.php
index d1ff105930b..d82484a4435 100644
--- a/framework/web/DbSession.php
+++ b/framework/web/DbSession.php
@@ -206,7 +206,7 @@ public function writeSession($id, $data)
         }
 
         // exception must be caught in session write handler
-        // https://secure.php.net/manual/en/function.session-set-save-handler.php#refsect1-function.session-set-save-handler-notes
+        // https://www.php.net/manual/en/function.session-set-save-handler.php#refsect1-function.session-set-save-handler-notes
         try {
             // ensure backwards compatability (fixed #9438)
             if ($this->writeCallback && !$this->fields) {
diff --git a/framework/web/ErrorAction.php b/framework/web/ErrorAction.php
index 81f06b643f7..67bd8a6d413 100644
--- a/framework/web/ErrorAction.php
+++ b/framework/web/ErrorAction.php
@@ -76,7 +76,7 @@ class ErrorAction extends Action
 
     /**
      * @var \Exception the exception object, normally is filled on [[init()]] method call.
-     * @see [[findException()]] to know default way of obtaining exception.
+     * @see findException() to know default way of obtaining exception.
      * @since 2.0.11
      */
     protected $exception;
diff --git a/framework/web/ErrorHandler.php b/framework/web/ErrorHandler.php
index 0d573ad7927..5bb28dec3ee 100644
--- a/framework/web/ErrorHandler.php
+++ b/framework/web/ErrorHandler.php
@@ -401,7 +401,7 @@ public function createServerInformationLink()
             'http://lighttpd.net/' => ['lighttpd'],
             'http://gwan.com/' => ['g-wan', 'gwan'],
             'http://iis.net/' => ['iis', 'services'],
-            'https://secure.php.net/manual/en/features.commandline.webserver.php' => ['development'],
+            'https://www.php.net/manual/en/features.commandline.webserver.php' => ['development'],
         ];
         if (isset($_SERVER['SERVER_SOFTWARE'])) {
             foreach ($serverUrls as $url => $keywords) {
diff --git a/framework/web/HeaderCollection.php b/framework/web/HeaderCollection.php
index ee33a2795bd..0e03214511e 100644
--- a/framework/web/HeaderCollection.php
+++ b/framework/web/HeaderCollection.php
@@ -180,7 +180,7 @@ public function toArray()
      */
     public function fromArray(array $array)
     {
-        $this->_headers = $array;
+        $this->_headers = array_change_key_case($array, CASE_LOWER);
     }
 
     /**
diff --git a/framework/web/JsonResponseFormatter.php b/framework/web/JsonResponseFormatter.php
index cb847c36e8d..2218ca0d9ab 100644
--- a/framework/web/JsonResponseFormatter.php
+++ b/framework/web/JsonResponseFormatter.php
@@ -26,6 +26,7 @@
  *         \yii\web\Response::FORMAT_JSON => [
  *              'class' => 'yii\web\JsonResponseFormatter',
  *              'prettyPrint' => YII_DEBUG, // use "pretty" output in debug mode
+ *              'keepObjectType' => false, // keep object type for zero-indexed objects
  *              // ...
  *         ],
  *     ],
@@ -67,7 +68,7 @@ class JsonResponseFormatter extends Component implements ResponseFormatterInterf
     public $useJsonp = false;
     /**
      * @var int the encoding options passed to [[Json::encode()]]. For more details please refer to
-     * <https://secure.php.net/manual/en/function.json-encode.php>.
+     * <https://www.php.net/manual/en/function.json-encode.php>.
      * Default is `JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE`.
      * This property has no effect, when [[useJsonp]] is `true`.
      * @since 2.0.7
@@ -82,6 +83,13 @@ class JsonResponseFormatter extends Component implements ResponseFormatterInterf
      */
     public $prettyPrint = false;
 
+    /**
+     * @var bool Avoids objects with zero-indexed keys to be encoded as array
+     * Json::encode((object)['test']) will be encoded as an object not array. This matches the behaviour of json_encode().
+     * Defaults to Json::$keepObjectType value
+     * @since 2.0.44
+     */
+    public $keepObjectType;
 
     /**
      * Formats the specified response.
@@ -97,7 +105,7 @@ public function format($response)
             $this->contentType .= '; charset=UTF-8';
         }
         $response->getHeaders()->set('Content-Type', $this->contentType);
-  
+
         if ($this->useJsonp) {
             $this->formatJsonp($response);
         } else {
@@ -116,7 +124,16 @@ protected function formatJson($response)
             if ($this->prettyPrint) {
                 $options |= JSON_PRETTY_PRINT;
             }
+
+            $default = Json::$keepObjectType;
+            if ($this->keepObjectType !== null) {
+                Json::$keepObjectType = $this->keepObjectType;
+            }
+
             $response->content = Json::encode($response->data, $options);
+
+            // Restore default value to avoid any unexpected behaviour
+            Json::$keepObjectType = $default;
         } elseif ($response->content === null) {
             $response->content = 'null';
         }
diff --git a/framework/web/Request.php b/framework/web/Request.php
index 51dd502ba1b..bcaeb03af51 100644
--- a/framework/web/Request.php
+++ b/framework/web/Request.php
@@ -208,7 +208,7 @@ class Request extends \yii\base\Request
      * See [[IpValidator::::setRanges()|IpValidator::setRanges()]]
      * and [[IpValidator::networks]] for advanced matching.
      *
-     * @see $secureHeaders
+     * @see secureHeaders
      * @since 2.0.13
      */
     public $trustedHosts = [];
@@ -218,8 +218,8 @@ class Request extends \yii\base\Request
      * If the list contains the `Forwarded` header, processing will be done according to RFC 7239.
      * The match of header names is case-insensitive.
      * @see https://en.wikipedia.org/wiki/List_of_HTTP_header_fields
-     * @see https://tools.ietf.org/html/rfc7239
-     * @see $trustedHosts
+     * @see https://datatracker.ietf.org/doc/html/rfc7239
+     * @see trustedHosts
      * @since 2.0.13
      */
     public $secureHeaders = [
@@ -240,8 +240,8 @@ class Request extends \yii\base\Request
      * It's not advisable to put insecure headers here.
      * To use the `Forwarded` header according to RFC 7239, the header must be added to [[secureHeaders]] list.
      * The match of header names is case-insensitive.
-     * @see $trustedHosts
-     * @see $secureHeaders
+     * @see trustedHosts
+     * @see secureHeaders
      * @since 2.0.13
      */
     public $ipHeaders = [
@@ -252,8 +252,8 @@ class Request extends \yii\base\Request
      * The array keys are header names and the array value is a list of header values that indicate a secure connection.
      * The match of header names and values is case-insensitive.
      * It's not advisable to put insecure headers here.
-     * @see $trustedHosts
-     * @see $secureHeaders
+     * @see trustedHosts
+     * @see secureHeaders
      * @since 2.0.13
      */
     public $secureProtocolHeaders = [
@@ -554,7 +554,7 @@ public function setRawBody($rawBody)
      * Request parameters are determined using the parsers configured in [[parsers]] property.
      * If no parsers are configured for the current [[contentType]] it uses the PHP function `mb_parse_str()`
      * to parse the [[rawBody|request body]].
-     * @return array the request parameters given in the request body.
+     * @return array|object the request parameters given in the request body.
      * @throws \yii\base\InvalidConfigException if a registered parser does not implement the [[RequestParserInterface]].
      * @see getMethod()
      * @see getBodyParam()
@@ -723,7 +723,7 @@ public function getQueryParam($name, $defaultValue = null)
      *
      * By default this value is based on the user request information. This method will
      * return the value of `$_SERVER['HTTP_HOST']` if it is available or `$_SERVER['SERVER_NAME']` if not.
-     * You may want to check out the [PHP documentation](https://secure.php.net/manual/en/reserved.variables.server.php)
+     * You may want to check out the [PHP documentation](https://www.php.net/manual/en/reserved.variables.server.php)
      * for more information on these variables.
      *
      * You may explicitly specify it by setting the [[setHostInfo()|hostInfo]] property.
@@ -1171,7 +1171,7 @@ public function getUserAgent()
     /**
      * Returns the user IP address from [[ipHeaders]].
      * @return string|null user IP address, null if not available
-     * @see $ipHeaders
+     * @see ipHeaders
      * @since 2.0.28
      */
     protected function getUserIpFromIpHeaders()
@@ -1216,9 +1216,9 @@ public function getUserIP()
      *
      * @param string $ips comma separated IP list
      * @return string|null IP as string. Null is returned if IP can not be determined from header.
-     * @see $getUserHost
-     * @see $ipHeader
-     * @see $trustedHeaders
+     * @see getUserHost()
+     * @see ipHeaders
+     * @see getTrustedHeaders()
      * @since 2.0.28
      */
     protected function getUserIpFromIpHeader($ips)
diff --git a/framework/web/Session.php b/framework/web/Session.php
index a7de39f1824..5ac99277f50 100644
--- a/framework/web/Session.php
+++ b/framework/web/Session.php
@@ -101,7 +101,7 @@ class Session extends Component implements \IteratorAggregate, \ArrayAccess, \Co
     /**
      * @var array parameter-value pairs to override default session cookie parameters that are used for session_set_cookie_params() function
      * Array may have the following possible keys: 'lifetime', 'path', 'domain', 'secure', 'httponly'
-     * @see https://secure.php.net/manual/en/function.session-set-cookie-params.php
+     * @see https://www.php.net/manual/en/function.session-set-cookie-params.php
      */
     private $_cookieParams = ['httponly' => true];
     /**
@@ -294,7 +294,7 @@ public function setHasSessionId($value)
 
     /**
      * Gets the session ID.
-     * This is a wrapper for [PHP session_id()](https://secure.php.net/manual/en/function.session-id.php).
+     * This is a wrapper for [PHP session_id()](https://www.php.net/manual/en/function.session-id.php).
      * @return string the current session ID
      */
     public function getId()
@@ -304,7 +304,7 @@ public function getId()
 
     /**
      * Sets the session ID.
-     * This is a wrapper for [PHP session_id()](https://secure.php.net/manual/en/function.session-id.php).
+     * This is a wrapper for [PHP session_id()](https://www.php.net/manual/en/function.session-id.php).
      * @param string $value the session ID for the current session
      */
     public function setId($value)
@@ -315,7 +315,7 @@ public function setId($value)
     /**
      * Updates the current session ID with a newly generated one.
      *
-     * Please refer to <https://secure.php.net/session_regenerate_id> for more details.
+     * Please refer to <https://www.php.net/session_regenerate_id> for more details.
      *
      * This method has no effect when session is not [[getIsActive()|active]].
      * Make sure to call [[open()]] before calling it.
@@ -339,7 +339,7 @@ public function regenerateID($deleteOldSession = false)
 
     /**
      * Gets the name of the current session.
-     * This is a wrapper for [PHP session_name()](https://secure.php.net/manual/en/function.session-name.php).
+     * This is a wrapper for [PHP session_name()](https://www.php.net/manual/en/function.session-name.php).
      * @return string the current session name
      */
     public function getName()
@@ -349,7 +349,7 @@ public function getName()
 
     /**
      * Sets the name for the current session.
-     * This is a wrapper for [PHP session_name()](https://secure.php.net/manual/en/function.session-name.php).
+     * This is a wrapper for [PHP session_name()](https://www.php.net/manual/en/function.session-name.php).
      * @param string $value the session name for the current session, must be an alphanumeric string.
      * It defaults to "PHPSESSID".
      */
@@ -362,7 +362,7 @@ public function setName($value)
 
     /**
      * Gets the current session save path.
-     * This is a wrapper for [PHP session_save_path()](https://secure.php.net/manual/en/function.session-save-path.php).
+     * This is a wrapper for [PHP session_save_path()](https://www.php.net/manual/en/function.session-save-path.php).
      * @return string the current session save path, defaults to '/tmp'.
      */
     public function getSavePath()
@@ -372,7 +372,7 @@ public function getSavePath()
 
     /**
      * Sets the current session save path.
-     * This is a wrapper for [PHP session_save_path()](https://secure.php.net/manual/en/function.session-save-path.php).
+     * This is a wrapper for [PHP session_save_path()](https://www.php.net/manual/en/function.session-save-path.php).
      * @param string $value the current session save path. This can be either a directory name or a [path alias](guide:concept-aliases).
      * @throws InvalidArgumentException if the path is not a valid directory
      */
@@ -388,7 +388,7 @@ public function setSavePath($value)
 
     /**
      * @return array the session cookie parameters.
-     * @see https://secure.php.net/manual/en/function.session-get-cookie-params.php
+     * @see https://www.php.net/manual/en/function.session-get-cookie-params.php
      */
     public function getCookieParams()
     {
@@ -411,7 +411,7 @@ public function getCookieParams()
      * See https://www.owasp.org/index.php/SameSite for more information about `sameSite`.
      *
      * @throws InvalidArgumentException if the parameters are incomplete.
-     * @see https://secure.php.net/manual/en/function.session-set-cookie-params.php
+     * @see https://www.php.net/manual/en/function.session-set-cookie-params.php
      */
     public function setCookieParams(array $value)
     {
@@ -422,7 +422,7 @@ public function setCookieParams(array $value)
      * Sets the session cookie parameters.
      * This method is called by [[open()]] when it is about to open the session.
      * @throws InvalidArgumentException if the parameters are incomplete.
-     * @see https://secure.php.net/manual/en/function.session-set-cookie-params.php
+     * @see https://www.php.net/manual/en/function.session-set-cookie-params.php
      */
     private function setCookieParamsInternal()
     {
@@ -548,7 +548,7 @@ public function setTimeout($value)
     }
 
     /**
-     * @var bool Whether strict mode is enabled or not.
+     * @param bool $value Whether strict mode is enabled or not.
      * When `true` this setting prevents the session component to use an uninitialized session ID.
      * Note: Enabling `useStrictMode` on PHP < 5.5.2 is only supported with custom storage classes.
      * Warning! Although enabling strict mode is mandatory for secure sessions, the default value of 'session.use-strict-mode' is `0`.
@@ -961,7 +961,7 @@ public function hasFlash($key)
 
     /**
      * This method is required by the interface [[\ArrayAccess]].
-     * @param mixed $offset the offset to check on
+     * @param int|string $offset the offset to check on
      * @return bool
      */
     public function offsetExists($offset)
@@ -973,7 +973,7 @@ public function offsetExists($offset)
 
     /**
      * This method is required by the interface [[\ArrayAccess]].
-     * @param int $offset the offset to retrieve element.
+     * @param int|string $offset the offset to retrieve element.
      * @return mixed the element at the offset, null if no element is found at the offset
      */
     public function offsetGet($offset)
@@ -985,7 +985,7 @@ public function offsetGet($offset)
 
     /**
      * This method is required by the interface [[\ArrayAccess]].
-     * @param int $offset the offset to set element
+     * @param int|string $offset the offset to set element
      * @param mixed $item the element value
      */
     public function offsetSet($offset, $item)
@@ -996,7 +996,7 @@ public function offsetSet($offset, $item)
 
     /**
      * This method is required by the interface [[\ArrayAccess]].
-     * @param mixed $offset the offset to unset element
+     * @param int|string $offset the offset to unset element
      */
     public function offsetUnset($offset)
     {
diff --git a/framework/web/UploadedFile.php b/framework/web/UploadedFile.php
index ed8fa111b89..a6609703cd5 100644
--- a/framework/web/UploadedFile.php
+++ b/framework/web/UploadedFile.php
@@ -54,7 +54,7 @@ class UploadedFile extends BaseObject
     public $size;
     /**
      * @var int an error code describing the status of this file uploading.
-     * @see https://secure.php.net/manual/en/features.file-upload.errors.php
+     * @see https://www.php.net/manual/en/features.file-upload.errors.php
      */
     public $error;
 
diff --git a/framework/web/UrlNormalizerRedirectException.php b/framework/web/UrlNormalizerRedirectException.php
index 195d45b8fd4..88147cf3a48 100644
--- a/framework/web/UrlNormalizerRedirectException.php
+++ b/framework/web/UrlNormalizerRedirectException.php
@@ -18,12 +18,12 @@ class UrlNormalizerRedirectException extends \yii\base\Exception
 {
     /**
      * @var array|string the parameter to be used to generate a valid URL for redirection
-     * @see [[\yii\helpers\Url::to()]]
+     * @see \yii\helpers\Url::to()
      */
     public $url;
     /**
      * @var bool|string the URI scheme to use in the generated URL for redirection
-     * @see [[\yii\helpers\Url::to()]]
+     * @see \yii\helpers\Url::to()
      */
     public $scheme;
     /**
diff --git a/framework/web/UrlRule.php b/framework/web/UrlRule.php
index 25d3cd81faf..84719ecdad9 100644
--- a/framework/web/UrlRule.php
+++ b/framework/web/UrlRule.php
@@ -42,27 +42,27 @@ class UrlRule extends BaseObject implements UrlRuleInterface
     const CREATION_ONLY = 2;
     /**
      * Represents the successful URL generation by last [[createUrl()]] call.
-     * @see $createStatus
+     * @see createStatus
      * @since 2.0.12
      */
     const CREATE_STATUS_SUCCESS = 0;
     /**
      * Represents the unsuccessful URL generation by last [[createUrl()]] call, because rule does not support
      * creating URLs.
-     * @see $createStatus
+     * @see createStatus
      * @since 2.0.12
      */
     const CREATE_STATUS_PARSING_ONLY = 1;
     /**
      * Represents the unsuccessful URL generation by last [[createUrl()]] call, because of mismatched route.
-     * @see $createStatus
+     * @see createStatus
      * @since 2.0.12
      */
     const CREATE_STATUS_ROUTE_MISMATCH = 2;
     /**
      * Represents the unsuccessful URL generation by last [[createUrl()]] call, because of mismatched
      * or missing parameters.
-     * @see $createStatus
+     * @see createStatus
      * @since 2.0.12
      */
     const CREATE_STATUS_PARAMS_MISMATCH = 4;
@@ -543,7 +543,7 @@ public function createUrl($manager, $route, $params)
      *
      * @return null|int Status of the URL creation after the last [[createUrl()]] call. `null` if rule does not provide
      * info about create status.
-     * @see $createStatus
+     * @see createStatus
      * @since 2.0.12
      */
     public function getCreateUrlStatus()
diff --git a/framework/web/User.php b/framework/web/User.php
index 1aa791b6f67..863b6d4b428 100644
--- a/framework/web/User.php
+++ b/framework/web/User.php
@@ -728,6 +728,10 @@ protected function renewAuthStatus()
                 $this->renewIdentityCookie();
             }
         }
+
+        if ($this->getIdentity(false) === null) {
+            $this->switchIdentity(null);
+        }
     }
 
     /**
diff --git a/framework/web/View.php b/framework/web/View.php
index 3d2f1e6dd3a..15a8f7b12df 100644
--- a/framework/web/View.php
+++ b/framework/web/View.php
@@ -133,6 +133,12 @@ class View extends \yii\base\View
 
     private $_assetManager;
 
+    /**
+     * Whether [[endPage()]] has been called and all files have been registered
+     * @var bool
+     */
+    private $_isPageEnded = false;
+
 
     /**
      * Marks the position of an HTML head section.
@@ -174,6 +180,8 @@ public function endPage($ajaxMode = false)
     {
         $this->trigger(self::EVENT_END_PAGE);
 
+        $this->_isPageEnded = true;
+
         $content = ob_get_clean();
 
         echo strtr($content, [
@@ -490,6 +498,10 @@ private function registerFile($type, $url, $options = [], $key = null)
         }
         $appendTimestamp = ArrayHelper::remove($options, 'appendTimestamp', $assetManagerAppendTimestamp);
 
+        if ($this->_isPageEnded) {
+            Yii::warning('You\'re trying to register a file after View::endPage() has been called');
+        }
+
         if (empty($depends)) {
             // register directly without AssetManager
             if ($appendTimestamp && Url::isRelative($url)) {
diff --git a/framework/web/XmlResponseFormatter.php b/framework/web/XmlResponseFormatter.php
index 40e9776bc72..e250cb4ab5e 100644
--- a/framework/web/XmlResponseFormatter.php
+++ b/framework/web/XmlResponseFormatter.php
@@ -10,7 +10,6 @@
 use DOMDocument;
 use DOMElement;
 use DOMException;
-use DOMText;
 use yii\base\Arrayable;
 use yii\base\Component;
 use yii\helpers\StringHelper;
@@ -38,7 +37,10 @@ class XmlResponseFormatter extends Component implements ResponseFormatterInterfa
      */
     public $encoding;
     /**
-     * @var string the name of the root element. If set to false, null or is empty then no root tag should be added.
+     * @var string|string[]|false the name of the root element. If set to false, null or is empty then no root tag
+     * should be added.
+     *
+     * Since 2.0.44 URI namespace could be specified by passing `[namespace, tag name]` array.
      */
     public $rootTag = 'response';
     /**
@@ -52,14 +54,26 @@ class XmlResponseFormatter extends Component implements ResponseFormatterInterfa
      */
     public $useTraversableAsArray = true;
     /**
-     * @var bool if object tags should be added
+     * @var bool if object class names should be used as tag names
      * @since 2.0.11
      */
     public $useObjectTags = true;
+    /**
+     * @var bool if true, converts object tags to lowercase, `$useObjectTags` must be enabled
+     * @since 2.0.43
+     */
+    public $objectTagToLowercase = false;
+
+    /**
+     * @var DOMDocument the XML document, serves as the root of the document tree
+     * @since 2.0.43
+     */
+    protected $dom;
 
 
     /**
      * Formats the specified response.
+     *
      * @param Response $response the response to be formatted.
      */
     public function format($response)
@@ -70,21 +84,27 @@ public function format($response)
         }
         $response->getHeaders()->set('Content-Type', $this->contentType);
         if ($response->data !== null) {
-            $dom = new DOMDocument($this->version, $charset);
+            $this->dom = new DOMDocument($this->version, $charset);
             if (!empty($this->rootTag)) {
-                $root = new DOMElement($this->rootTag);
-                $dom->appendChild($root);
+                if (is_array($this->rootTag)) {
+                    $root = $this->dom->createElementNS($this->rootTag[0], $this->rootTag[1]);
+                } else {
+                    $root = $this->dom->createElement($this->rootTag);
+                }
+                $this->dom->appendChild($root);
                 $this->buildXml($root, $response->data);
             } else {
-                $this->buildXml($dom, $response->data);
+                $this->buildXml($this->dom, $response->data);
             }
-            $response->content = $dom->saveXML();
+            $response->content = $this->dom->saveXML();
         }
     }
 
     /**
-     * @param DOMElement $element
-     * @param mixed $data
+     * Recursively adds data to XML document.
+     *
+     * @param DOMElement|DOMDocument $element current element
+     * @param mixed $data content of the current element
      */
     protected function buildXml($element, $data)
     {
@@ -95,18 +115,22 @@ protected function buildXml($element, $data)
                 if (is_int($name) && is_object($value)) {
                     $this->buildXml($element, $value);
                 } elseif (is_array($value) || is_object($value)) {
-                    $child = new DOMElement($this->getValidXmlElementName($name));
+                    $child = $this->dom->createElement($this->getValidXmlElementName($name));
                     $element->appendChild($child);
                     $this->buildXml($child, $value);
                 } else {
-                    $child = new DOMElement($this->getValidXmlElementName($name));
+                    $child = $this->dom->createElement($this->getValidXmlElementName($name));
+                    $child->appendChild($this->dom->createTextNode($this->formatScalarValue($value)));
                     $element->appendChild($child);
-                    $child->appendChild(new DOMText($this->formatScalarValue($value)));
                 }
             }
         } elseif (is_object($data)) {
             if ($this->useObjectTags) {
-                $child = new DOMElement(StringHelper::basename(get_class($data)));
+                $name = StringHelper::basename(get_class($data));
+                if ($this->objectTagToLowercase) {
+                    $name = strtolower($name);
+                }
+                $child = $this->dom->createElement($name);
                 $element->appendChild($child);
             } else {
                 $child = $element;
@@ -121,7 +145,7 @@ protected function buildXml($element, $data)
                 $this->buildXml($child, $array);
             }
         } else {
-            $element->appendChild(new DOMText($this->formatScalarValue($data)));
+            $element->appendChild($this->dom->createTextNode($this->formatScalarValue($data)));
         }
     }
 
@@ -152,7 +176,7 @@ protected function formatScalarValue($value)
      *
      * Falls back to [[itemTag]] otherwise.
      *
-     * @param mixed $name
+     * @param mixed $name the original name
      * @return string
      * @since 2.0.12
      */
@@ -168,7 +192,7 @@ protected function getValidXmlElementName($name)
     /**
      * Checks if name is valid to be used in XML.
      *
-     * @param mixed $name
+     * @param mixed $name the name to test
      * @return bool
      * @see http://stackoverflow.com/questions/2519845/how-to-check-if-string-is-a-valid-xml-element-name/2519943#2519943
      * @since 2.0.12
@@ -176,8 +200,7 @@ protected function getValidXmlElementName($name)
     protected function isValidXmlName($name)
     {
         try {
-            new DOMElement($name);
-            return true;
+            return $this->dom->createElement($name) !== false;
         } catch (DOMException $e) {
             return false;
         }
diff --git a/framework/widgets/ActiveField.php b/framework/widgets/ActiveField.php
index 484d2998be4..9d86aeebab0 100644
--- a/framework/widgets/ActiveField.php
+++ b/framework/widgets/ActiveField.php
@@ -20,6 +20,8 @@
  *
  * For more details and usage information on ActiveField, see the [guide article on forms](guide:input-forms).
  *
+ * @property-read string $inputId The attribute `id` of the input element
+ *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
@@ -306,7 +308,7 @@ public function label($label = null, $options = [])
      *   See also [[\yii\helpers\Html::tag()]].
      *
      * If you set a custom `id` for the error element, you may need to adjust the [[$selectors]] accordingly.
-     * @see $errorOptions
+     * @see errorOptions
      * @return $this the field object itself.
      */
     public function error($options = [])
@@ -925,11 +927,14 @@ protected function getInputId()
      */
     protected function addAriaAttributes(&$options)
     {
+        // Get proper attribute name when attribute name is tabular.
+        $attributeName = Html::getAttributeName($this->attribute);
+
         if ($this->addAriaAttributes) {
-            if (!isset($options['aria-required']) && $this->model->isAttributeRequired($this->attribute)) {
+            if (!isset($options['aria-required']) && $this->model->isAttributeRequired($attributeName)) {
                 $options['aria-required'] = 'true';
             }
-            if (!isset($options['aria-invalid']) && $this->model->hasErrors($this->attribute)) {
+            if (!isset($options['aria-invalid']) && $this->model->hasErrors($attributeName)) {
                 $options['aria-invalid'] = 'true';
             }
         }
diff --git a/framework/widgets/Menu.php b/framework/widgets/Menu.php
index d9775d602d4..7e60700ccfd 100644
--- a/framework/widgets/Menu.php
+++ b/framework/widgets/Menu.php
@@ -306,7 +306,7 @@ protected function isItemActive($item)
     {
         if (isset($item['url']) && is_array($item['url']) && isset($item['url'][0])) {
             $route = Yii::getAlias($item['url'][0]);
-            if (strpos($route, '/') !== 0 && Yii::$app->controller) {
+            if (strncmp($route, '/', 1) !== 0 && Yii::$app->controller) {
                 $route = Yii::$app->controller->module->getUniqueId() . '/' . $route;
             }
             if (ltrim($route, '/') !== $this->route) {
diff --git a/tests/data/ar/CroppedType.php b/tests/data/ar/CroppedType.php
new file mode 100644
index 00000000000..92922a7e1fe
--- /dev/null
+++ b/tests/data/ar/CroppedType.php
@@ -0,0 +1,33 @@
+<?php
+/**
+ * @link http://www.yiiframework.com/
+ * @copyright Copyright (c) 2008 Yii Software LLC
+ * @license http://www.yiiframework.com/license/
+ */
+
+namespace yiiunit\data\ar;
+
+/**
+ * Model representing 2 columns from "type" table.
+ *
+ * @property int $int_col
+ * @property int $int_col2 DEFAULT 1
+ */
+class CroppedType extends ActiveRecord
+{
+    /**
+     * @inheritDoc
+     */
+    public static function tableName()
+    {
+        return '{{%type}}';
+    }
+
+    /**
+     * @inheritDoc
+     */
+    public function attributes()
+    {
+        return ['int_col', 'int_col2'];
+    }
+}
diff --git a/tests/data/base/ArrayAccessObject.php b/tests/data/base/ArrayAccessObject.php
index 79a66dece6b..bf62ef2b0e9 100644
--- a/tests/data/base/ArrayAccessObject.php
+++ b/tests/data/base/ArrayAccessObject.php
@@ -19,7 +19,7 @@ class ArrayAccessObject extends TraversableObject implements \ArrayAccess
     /**
      * Whether a offset exists
      *
-     * @link https://secure.php.net/manual/en/arrayaccess.offsetexists.php
+     * @link https://www.php.net/manual/en/arrayaccess.offsetexists.php
      * @param mixed $offset <p>
      * An offset to check for.
      * </p>
@@ -37,7 +37,7 @@ public function offsetExists($offset)
     /**
      * Offset to retrieve
      *
-     * @link https://secure.php.net/manual/en/arrayaccess.offsetget.php
+     * @link https://www.php.net/manual/en/arrayaccess.offsetget.php
      * @param mixed $offset <p>
      * The offset to retrieve.
      * </p>
@@ -52,7 +52,7 @@ public function offsetGet($offset)
     /**
      * Offset to set
      *
-     * @link https://secure.php.net/manual/en/arrayaccess.offsetset.php
+     * @link https://www.php.net/manual/en/arrayaccess.offsetset.php
      * @param mixed $offset <p>
      * The offset to assign the value to.
      * </p>
@@ -70,7 +70,7 @@ public function offsetSet($offset, $value)
     /**
      * Offset to unset
      *
-     * @link https://secure.php.net/manual/en/arrayaccess.offsetunset.php
+     * @link https://www.php.net/manual/en/arrayaccess.offsetunset.php
      * @param mixed $offset <p>
      * The offset to unset.
      * </p>
diff --git a/tests/data/console/migrate_create/create_id_field_not_as_pk.php b/tests/data/console/migrate_create/create_id_field_not_as_pk.php
new file mode 100644
index 00000000000..0cefcb33679
--- /dev/null
+++ b/tests/data/console/migrate_create/create_id_field_not_as_pk.php
@@ -0,0 +1,37 @@
+<?php
+/**
+ * @link http://www.yiiframework.com/
+ * @copyright Copyright (c) 2008 Yii Software LLC
+ * @license http://www.yiiframework.com/license/
+ */
+
+return <<<CODE
+<?php
+
+{$namespace}use yii\db\Migration;
+
+/**
+ * Handles the creation of table `{{%{table}}}`.
+ */
+class {$class} extends Migration
+{
+    /**
+     * {@inheritdoc}
+     */
+    public function safeUp()
+    {
+        \$this->createTable('{{%{table}}}', [
+            'id' => \$this->integer(11)->notNull(),
+        ]);
+    }
+
+    /**
+     * {@inheritdoc}
+     */
+    public function safeDown()
+    {
+        \$this->dropTable('{{%{table}}}');
+    }
+}
+
+CODE;
diff --git a/tests/data/helpers/CustomDebugInfo.php b/tests/data/helpers/CustomDebugInfo.php
index 67ff276fe14..94a01db9c9a 100644
--- a/tests/data/helpers/CustomDebugInfo.php
+++ b/tests/data/helpers/CustomDebugInfo.php
@@ -18,7 +18,7 @@ class CustomDebugInfo
     public $unitPrice;
 
     /**
-     * @see https://secure.php.net/manual/en/language.oop5.magic.php#language.oop5.magic.debuginfo
+     * @see https://www.php.net/manual/en/language.oop5.magic.php#language.oop5.magic.debuginfo
      *
      * @return array
      */
diff --git a/tests/framework/base/ViewTest.php b/tests/framework/base/ViewTest.php
index fae03cdd723..58e16415dd3 100644
--- a/tests/framework/base/ViewTest.php
+++ b/tests/framework/base/ViewTest.php
@@ -97,4 +97,22 @@ public function testRelativePathInView()
 
         $this->assertSame($subViewContent, $view->render('@testviews/base'));
     }
+
+    public function testAfterRender()
+    {
+        $view = new View();
+        $filename = 'path/to/file';
+        $params = ['search' => 'simple', 'replace' => 'new'];
+        $output = 'This is a simple rendered output. (filename)';
+        $expectedOutput = 'This is a new rendered output. (path/to/file)';
+
+        $view->on(View::EVENT_AFTER_RENDER, function (ViewEvent $event) {
+            $event->output = str_replace($event->params['search'], $event->params['replace'], $event->output);
+            $event->output = str_replace('filename', $event->viewFile, $event->output);
+        });
+
+        $view->afterRender($filename, $params, $output);
+
+        $this->assertSame($expectedOutput, $output);
+    }
 }
diff --git a/tests/framework/console/controllers/BaseMessageControllerTest.php b/tests/framework/console/controllers/BaseMessageControllerTest.php
index 87a186fceb6..b3485967e45 100644
--- a/tests/framework/console/controllers/BaseMessageControllerTest.php
+++ b/tests/framework/console/controllers/BaseMessageControllerTest.php
@@ -170,7 +170,8 @@ public function testCreateTranslation()
     {
         $category = 'test.category1';
         $message = 'test message';
-        $sourceFileContent = "Yii::t('{$category}', '{$message}');";
+        $message2 = 'test message 2';
+        $sourceFileContent = "Yii::t('{$category}', '{$message}');\n\Yii::t('{$category}', '{$message2}');";
         $this->createSourceFile($sourceFileContent);
 
         $this->saveConfigFile($this->getConfig());
@@ -178,6 +179,7 @@ public function testCreateTranslation()
 
         $messages = $this->loadMessages($category);
         $this->assertArrayHasKey($message, $messages, "\"$message\" is missing in translation file. Command output:\n\n" . $out);
+        $this->assertArrayHasKey($message2, $messages, "\"$message2\" is missing in translation file. Command output:\n\n" . $out);
     }
 
     /**
diff --git a/tests/framework/console/controllers/MigrateControllerTest.php b/tests/framework/console/controllers/MigrateControllerTest.php
index e93e2a28061..31e235adaea 100644
--- a/tests/framework/console/controllers/MigrateControllerTest.php
+++ b/tests/framework/console/controllers/MigrateControllerTest.php
@@ -133,6 +133,9 @@ public function generateMigrationDataProvider()
                     price:money(11,2):notNull,
                     parenthesis_in_comment:string(255):notNull:comment(\'Name of set (RU)\')',
             ],
+            'create_id_field_not_as_pk' => [
+                'fields' => 'id:integer(11):notNull',
+            ],
             'create_fields_with_col_method_after_default_value' => [
                 'fields' => 'id:primaryKey,
                     title:string(10):notNull:unique:defaultValue("test"):after("id"),
@@ -229,6 +232,7 @@ public function generateMigrationDataProvider()
 
             ['create_fields', 'create_test_table', 'test', $params['create_fields']],
             ['create_fields', 'create_TEST_table', 'TEST', $params['create_fields']],
+            ['create_id_field_not_as_pk', 'create_test_table', 'test', $params['create_id_field_not_as_pk']],
             ['create_title_pk', 'create_test_table', 'test', $params['create_title_pk']],
             ['create_title_pk', 'create_TEST_table', 'TEST', $params['create_title_pk']],
             ['create_unsigned_pk', 'create_test_table', 'test', $params['create_unsigned_pk']],
diff --git a/tests/framework/data/SortTest.php b/tests/framework/data/SortTest.php
index ff50a98403b..89cd8a0d69e 100644
--- a/tests/framework/data/SortTest.php
+++ b/tests/framework/data/SortTest.php
@@ -163,8 +163,30 @@ public function testCreateSortParam()
             'route' => 'site/index',
         ]);
 
+        $sort->params = ['sort' => 'age,-name'];
+        $sort->getAttributeOrders(true);
         $this->assertEquals('-age,-name', $sort->createSortParam('age'));
+        $this->assertEquals('age', $sort->createSortParam('name'));
+
+        $sort->params = ['sort' => 'age'];
+        $sort->getAttributeOrders(true);
+        $this->assertEquals('-age', $sort->createSortParam('age'));
+
+        $sort->params = ['sort' => '-age'];
+        $sort->getAttributeOrders(true);
+        $this->assertEquals('', $sort->createSortParam('age'));
+
+        $sort->params = ['sort' => 'age'];
+        $sort->getAttributeOrders(true);
         $this->assertEquals('name,age', $sort->createSortParam('name'));
+
+        $sort->params = ['sort' => 'name,age'];
+        $sort->getAttributeOrders(true);
+        $this->assertEquals('-name,age', $sort->createSortParam('name'));
+
+        $sort->params = ['sort' => '-name,age'];
+        $sort->getAttributeOrders(true);
+        $this->assertEquals('age', $sort->createSortParam('name'));
     }
 
     public function testCreateUrl()
@@ -192,7 +214,7 @@ public function testCreateUrl()
         ]);
 
         $this->assertEquals('/index.php?r=site%2Findex&sort=-age%2C-name', $sort->createUrl('age'));
-        $this->assertEquals('/index.php?r=site%2Findex&sort=name%2Cage', $sort->createUrl('name'));
+        $this->assertEquals('/index.php?r=site%2Findex&sort=age', $sort->createUrl('name'));
     }
 
     /**
diff --git a/tests/framework/db/ActiveQueryTest.php b/tests/framework/db/ActiveQueryTest.php
index 2fd9fdea8a4..50b8a6eda3c 100644
--- a/tests/framework/db/ActiveQueryTest.php
+++ b/tests/framework/db/ActiveQueryTest.php
@@ -53,7 +53,7 @@ public function testTriggerInitEvent()
     }
 
     /**
-     * @todo: tests for internal logic of prepare()
+     * @todo tests for internal logic of prepare()
      */
     public function testPrepare()
     {
@@ -72,7 +72,7 @@ public function testPopulate_EmptyRows()
     }
 
     /**
-     * @todo: tests for internal logic of populate()
+     * @todo tests for internal logic of populate()
      */
     public function testPopulate_FilledRows()
     {
@@ -83,7 +83,7 @@ public function testPopulate_FilledRows()
     }
 
     /**
-     * @todo: tests for internal logic of one()
+     * @todo tests for internal logic of one()
      */
     public function testOne()
     {
@@ -93,7 +93,7 @@ public function testOne()
     }
 
     /**
-     * @todo: test internal logic of createCommand()
+     * @todo test internal logic of createCommand()
      */
     public function testCreateCommand()
     {
@@ -103,7 +103,7 @@ public function testCreateCommand()
     }
 
     /**
-     * @todo: tests for internal logic of queryScalar()
+     * @todo tests for internal logic of queryScalar()
      */
     public function testQueryScalar()
     {
@@ -113,7 +113,7 @@ public function testQueryScalar()
     }
 
     /**
-     * @todo: tests for internal logic of joinWith()
+     * @todo tests for internal logic of joinWith()
      */
     public function testJoinWith()
     {
@@ -125,7 +125,7 @@ public function testJoinWith()
     }
 
     /**
-     * @todo: tests for internal logic of innerJoinWith()
+     * @todo tests for internal logic of innerJoinWith()
      */
     public function testInnerJoinWith()
     {
@@ -157,7 +157,7 @@ public function testBuildJoinWithRemoveDuplicateJoinByTableName()
     }
 
     /**
-     * @todo: tests for the regex inside getQueryTableName
+     * @todo tests for the regex inside getQueryTableName
      */
     public function testGetQueryTableName_from_not_set()
     {
@@ -231,7 +231,7 @@ public function testOrOnCondition_on_set()
     }
 
     /**
-     * @todo: tests for internal logic of viaTable()
+     * @todo tests for internal logic of viaTable()
      */
     public function testViaTable()
     {
diff --git a/tests/framework/db/ActiveRecordTest.php b/tests/framework/db/ActiveRecordTest.php
index 1bf82bc3549..0088a9091a0 100644
--- a/tests/framework/db/ActiveRecordTest.php
+++ b/tests/framework/db/ActiveRecordTest.php
@@ -35,6 +35,7 @@
 use yiiunit\data\ar\Profile;
 use yiiunit\data\ar\ProfileWithConstructor;
 use yiiunit\data\ar\Type;
+use yiiunit\data\ar\CroppedType;
 use yiiunit\framework\ar\ActiveRecordTestTrait;
 use yiiunit\framework\db\cubrid\ActiveRecordTest as CubridActiveRecordTest;
 use yiiunit\TestCase;
@@ -1344,7 +1345,6 @@ public function testDefaultValues()
         $this->assertEquals(1.23, $model->float_col2);
         $this->assertEquals(33.22, $model->numeric_col);
         $this->assertEquals(true, $model->bool_col2);
-
         if ($this instanceof CubridActiveRecordTest) {
             // cubrid has non-standard timestamp representation
             $this->assertEquals('12:00:00 AM 01/01/2002', $model->time);
@@ -1354,15 +1354,18 @@ public function testDefaultValues()
 
         $model = new Type();
         $model->char_col2 = 'not something';
-
         $model->loadDefaultValues();
         $this->assertEquals('not something', $model->char_col2);
 
         $model = new Type();
         $model->char_col2 = 'not something';
-
         $model->loadDefaultValues(false);
         $this->assertEquals('something', $model->char_col2);
+        
+        // Cropped model with 2 attributes/columns
+        $model = new CroppedType();
+        $model->loadDefaultValues();
+        $this->assertEquals(['int_col2' => 1], $model->toArray());
     }
 
     public function testUnlinkAllViaTable()
diff --git a/tests/framework/filters/auth/BasicAuthTest.php b/tests/framework/filters/auth/BasicAuthTest.php
index 1bde8a853f8..f5d552493e5 100644
--- a/tests/framework/filters/auth/BasicAuthTest.php
+++ b/tests/framework/filters/auth/BasicAuthTest.php
@@ -90,8 +90,8 @@ public function testHttpBasicAuthCustom($token, $login)
 
     /**
      * This tests checks, that:
-     *  - HttpBasicAuth does not call `auth` closure, when user is already authenticated
-     *  - HttpBasicAuth does not switch identity, when the user identity to be set is the same as current user's one
+     *  - HttpBasicAuth does not call `auth` closure, when a user is already authenticated
+     *  - HttpBasicAuth does not switch identity, even when the user identity to be set is the same as current user's one
      *
      * @dataProvider tokenProvider
      * @param string|null $token
@@ -102,28 +102,22 @@ public function testHttpBasicAuthIssue15658($token, $login)
         $_SERVER['PHP_AUTH_USER'] = $login;
         $_SERVER['PHP_AUTH_PW'] = 'y0u7h1nk175r34l?';
 
-        // Login user and set fake identity ID to session
-        if ($login !== null) {
-            Yii::$app->user->login(UserIdentity::findIdentity($login));
-        }
-
+        $user = Yii::$app->user;
         $session = Yii::$app->session;
-        $idParam = Yii::$app->user->idParam;
-        $idValue = 'should not be changed';
-        $session->set($idParam, $idValue);
+        $user->login(UserIdentity::findIdentity('user1'));
+        $identity = $user->getIdentity();
+        $sessionId = $session->getId();
 
         $filter = [
             'class' => HttpBasicAuth::className(),
             'auth' => function ($username, $password) {
-                if ($username !== null) {
-                    $this->fail('Authentication closure should not be called when user is already authenticated');
-                }
-                return null;
+                $this->fail('Authentication closure should not be called when user is already authenticated');
             },
         ];
-        $this->ensureFilterApplies($token, $login, $filter);
+        $this->ensureFilterApplies('token1', 'user1', $filter);
 
-        $this->assertSame($idValue, $session->get($idParam));
+        $this->assertSame($identity, $user->getIdentity());
+        $this->assertSame($sessionId, $session->getId());
         $session->destroy();
     }
 
diff --git a/tests/framework/helpers/ArrayHelperTest.php b/tests/framework/helpers/ArrayHelperTest.php
index 538bb8af78c..614d074af78 100644
--- a/tests/framework/helpers/ArrayHelperTest.php
+++ b/tests/framework/helpers/ArrayHelperTest.php
@@ -114,6 +114,13 @@ public function testToArray()
                 },
             ],
         ]));
+
+        // DateTime test
+        $this->assertEquals([
+            'date' => '2021-09-13 15:16:17.000000',
+            'timezone_type' => 3,
+            'timezone' => 'UTC',
+        ], ArrayHelper::toArray(new \DateTime('2021-09-13 15:16:17', new \DateTimeZone('UTC'))));
     }
 
     public function testRemove()
diff --git a/tests/framework/helpers/InflectorTest.php b/tests/framework/helpers/InflectorTest.php
index eaadb1c8650..dd56d86e597 100644
--- a/tests/framework/helpers/InflectorTest.php
+++ b/tests/framework/helpers/InflectorTest.php
@@ -117,6 +117,10 @@ public function testCamel2words()
         $this->assertEquals('Generate Csrf', Inflector::camel2words('generateCSRF'));
         $this->assertEquals('Generate Csrf Token', Inflector::camel2words('generateCSRFToken'));
         $this->assertEquals('Csrf Token Generator', Inflector::camel2words('CSRFTokenGenerator'));
+        $this->assertEquals('Foo Bar', Inflector::camel2words('foo bar'));
+        $this->assertEquals('Foo Bar', Inflector::camel2words('foo BAR'));
+        $this->assertEquals('Foo Bar', Inflector::camel2words('Foo Bar'));
+        $this->assertEquals('Foo Bar', Inflector::camel2words('FOO BAR'));
     }
 
     public function testCamel2id()
diff --git a/tests/framework/helpers/JsonTest.php b/tests/framework/helpers/JsonTest.php
index 9695af91c0f..3db445f5af8 100644
--- a/tests/framework/helpers/JsonTest.php
+++ b/tests/framework/helpers/JsonTest.php
@@ -7,15 +7,15 @@
 
 namespace yiiunit\framework\helpers;
 
-use yii\base\DynamicModel;
-use yii\helpers\BaseJson;
 use yii\helpers\Json;
 use yii\web\JsExpression;
 use yiiunit\framework\web\Post;
+use yiiunit\framework\models\JsonModel;
 use yiiunit\TestCase;
 
 /**
  * @group helpers
+ * @coversDefaultClass \yii\helpers\Json
  */
 class JsonTest extends TestCase
 {
@@ -23,17 +23,17 @@ protected function setUp()
     {
         parent::setUp();
 
-        // destroy application, Helper must work without Yii::$app
+        // destroy application, helper must work without Yii::$app
         $this->destroyApplication();
     }
 
     public function testEncode()
     {
         // Arrayable data encoding
-        $dataArrayable = $this->getMockBuilder('yii\\base\\Arrayable')->getMock();
+        $dataArrayable = $this->getMockBuilder('\yii\base\Arrayable')->getMock();
         $dataArrayable->method('toArray')->willReturn([]);
         $actual = Json::encode($dataArrayable);
-        $this->assertSame('{}', $actual);
+        $this->assertSame('[]', $actual);
 
         // basic data encoding
         $data = '1';
@@ -46,11 +46,21 @@ public function testEncode()
         $this->assertSame('{"a":1,"b":2}', Json::encode($data));
 
         // simple object encoding
-        $data = new \stdClass();
-        $data->a = 1;
-        $data->b = 2;
+        $data = (object) ['a' => 1, 'b' => 2];
         $this->assertSame('{"a":1,"b":2}', Json::encode($data));
 
+        // simple object with zero indexed keys encoding
+        $data = (object) [
+            0 => 1,
+            1 => 2
+        ];
+        $default = Json::$keepObjectType;
+        Json::$keepObjectType = true;
+        $this->assertSame('{"0":1,"1":2}', Json::encode($data));
+        Json::$keepObjectType = false;
+        $this->assertSame('[1,2]', Json::encode($data));
+        Json::$keepObjectType = $default;
+
         // empty data encoding
         $data = [];
         $this->assertSame('[]', Json::encode($data));
@@ -66,9 +76,7 @@ public function testEncode()
         $expression1 = 'function (a) {}';
         $expression2 = 'function (b) {}';
         $data = [
-            'a' => [
-                1, new JsExpression($expression1),
-            ],
+            'a' => [1, new JsExpression($expression1)],
             'b' => new JsExpression($expression2),
         ];
         $this->assertSame("{\"a\":[1,$expression1],\"b\":$expression2}", Json::encode($data));
@@ -80,7 +88,7 @@ public function testEncode()
         // JsonSerializable
         $data = new JsonModel();
         $this->assertSame('{"json":"serializable"}', Json::encode($data));
-        // @see https://github.com/yiisoft/yii2/issues/12043
+        // https://github.com/yiisoft/yii2/issues/12043
         $data = new JsonModel();
         $data->data = [];
         $this->assertSame('[]', Json::encode($data));
@@ -106,10 +114,8 @@ public function testHtmlEncode()
         $this->assertSame('{"a":1,"b":2}', Json::htmlEncode($data));
 
         // simple object encoding
-        $data = new \stdClass();
-        $data->a = 1;
-        $data->b = 2;
-        $this->assertSame('{"a":1,"b":2}', Json::htmlEncode($data));
+        $data = (object) ['a' => 1, 'b' => 'c'];
+        $this->assertSame('{"a":1,"b":"c"}', Json::htmlEncode($data));
 
         // expression encoding
         $expression = 'function () {}';
@@ -120,9 +126,7 @@ public function testHtmlEncode()
         $expression1 = 'function (a) {}';
         $expression2 = 'function (b) {}';
         $data = [
-            'a' => [
-                1, new JsExpression($expression1),
-            ],
+            'a' => [1, new JsExpression($expression1)],
             'b' => new JsExpression($expression2),
         ];
         $this->assertSame("{\"a\":[1,$expression1],\"b\":$expression2}", Json::htmlEncode($data));
@@ -147,6 +151,18 @@ public function testHtmlEncode()
         $document = simplexml_load_string($xml);
         $this->assertSame('{"apiKey":"ieu2iqw4o","methodProperties":{"FindByString":"Kiev"}}', Json::encode($document));
 
+        // SimpleXMLElement with empty tag
+        $xml = '<?xml version="1.0" encoding="UTF-8"?>
+<parent>
+  <child1/>
+  <child2>
+    <subElement>sub</subElement>
+  </child2>
+</parent>';
+
+        $document = simplexml_load_string($xml);
+        $this->assertSame('{"child1":{},"child2":{"subElement":"sub"}}', Json::encode($document));
+
         $postsStack = new \SplStack();
         $postsStack->push(new Post(915, 'record1'));
         $postsStack->push(new Post(456, 'record2'));
@@ -171,40 +187,44 @@ public function testDecode()
 
         // exception
         $json = '{"a":1,"b":2';
-        $this->expectException('yii\base\InvalidParamException');
+        $this->expectException('\yii\base\InvalidArgumentException');
         Json::decode($json);
     }
 
     /**
-     * @expectedException \yii\base\InvalidParamException
+     * @expectedException \yii\base\InvalidArgumentException
      * @expectedExceptionMessage Invalid JSON data.
+     * @covers ::decode
      */
     public function testDecodeInvalidParamException()
     {
         Json::decode([]);
     }
 
+    /**
+     * @covers ::decode
+     */
     public function testHandleJsonError()
     {
-        // Basic syntax error
+        // basic syntax error
         try {
             $json = "{'a': '1'}";
             Json::decode($json);
-        } catch (\yii\base\InvalidParamException $e) {
-            $this->assertSame(BaseJson::$jsonErrorMessages['JSON_ERROR_SYNTAX'], $e->getMessage());
+        } catch (\yii\base\InvalidArgumentException $e) {
+            $this->assertSame(Json::$jsonErrorMessages['JSON_ERROR_SYNTAX'], $e->getMessage());
         }
 
-        // Unsupported type since PHP 5.5
+        // unsupported type since PHP 5.5
         try {
             $fp = fopen('php://stdin', 'r');
             $data = ['a' => $fp];
             Json::encode($data);
             fclose($fp);
-        } catch (\yii\base\InvalidParamException $e) {
+        } catch (\yii\base\InvalidArgumentException $e) {
             if (PHP_VERSION_ID >= 50500) {
-                $this->assertSame(BaseJson::$jsonErrorMessages['JSON_ERROR_UNSUPPORTED_TYPE'], $e->getMessage());
+                $this->assertSame(Json::$jsonErrorMessages['JSON_ERROR_UNSUPPORTED_TYPE'], $e->getMessage());
             } else {
-                $this->assertSame(BaseJson::$jsonErrorMessages['JSON_ERROR_SYNTAX'], $e->getMessage());
+                $this->assertSame(Json::$jsonErrorMessages['JSON_ERROR_SYNTAX'], $e->getMessage());
             }
         }
     }
@@ -222,7 +242,8 @@ public function testErrorSummary()
     }
 
     /**
-     * @link https://github.com/yiisoft/yii2/issues/17760
+     * @see https://github.com/yiisoft/yii2/issues/17760
+     * @covers ::encode
      */
     public function testEncodeDateTime()
     {
@@ -231,6 +252,9 @@ public function testEncodeDateTime()
         $this->assertEquals('{"date":"2014-10-12 00:00:00.000000","timezone_type":3,"timezone":"UTC"}', $output);
     }
 
+    /**
+     * @covers ::encode
+     */
     public function testPrettyPrint()
     {
         $defaultValue = Json::$prettyPrint;
@@ -262,26 +286,3 @@ public function testPrettyPrint()
         Json::$prettyPrint = $defaultValue;
     }
 }
-
-class JsonModel extends DynamicModel implements \JsonSerializable
-{
-    public $data = ['json' => 'serializable'];
-
-    public function jsonSerialize()
-    {
-        return $this->data;
-    }
-
-    public function rules()
-    {
-        return [
-            ['name', 'required'],
-            ['name', 'string', 'max' => 100]
-        ];
-    }
-
-    public function init()
-    {
-       $this->defineAttribute('name');
-    }
-}
diff --git a/tests/framework/helpers/StringHelperTest.php b/tests/framework/helpers/StringHelperTest.php
index faac9bf6f93..9ec2dc1f8d1 100644
--- a/tests/framework/helpers/StringHelperTest.php
+++ b/tests/framework/helpers/StringHelperTest.php
@@ -104,7 +104,7 @@ public function testBasename()
         $this->assertEquals('file', StringHelper::basename('/path/to/filete\st', 'te\st'));
         $this->assertEquals('st', StringHelper::basename('/path/to/filete\st', 'te/st'));
 
-        // https://secure.php.net/manual/en/function.basename.php#72254
+        // https://www.php.net/manual/en/function.basename.php#72254
         $this->assertEquals('foo', StringHelper::basename('/bar/foo/'));
         $this->assertEquals('foo', StringHelper::basename('\\bar\\foo\\'));
     }
@@ -438,6 +438,8 @@ public function dataProviderMb_ucwords()
             ['0', '0'],
             [null, ''],
             ['здесь我 multibyte我 строка', 'Здесь我 Multibyte我 Строка'],
+            ['p0 upload', 'P0 Upload'],
+            ['p5 upload', 'P5 Upload'],
         ];
     }
 
@@ -450,4 +452,26 @@ public function testMb_ucwords($string, $expectedResult)
     {
         $this->assertSame($expectedResult, StringHelper::mb_ucwords($string));
     }
+
+    /**
+     * @param string $string
+     * @param string $expectedResult
+     * @dataProvider dataProviderDirname
+     */
+    public function testDirname($string, $expectedResult)
+    {
+        $this->assertSame($expectedResult, StringHelper::dirname($string));
+    }
+
+    public function dataProviderDirname()
+    {
+        return [
+            ['\\foo\\bar\\test', '\foo\bar'],
+            ['\\foo/bar\\test', '\foo/bar'],
+            ['\\foo\\bar\\test\\', '\foo\bar'],
+            ['foo/bar/test', 'foo/bar'],
+            ['foo', ''],
+            ['', ''],
+        ];
+    }
 }
diff --git a/tests/framework/models/JsonModel.php b/tests/framework/models/JsonModel.php
new file mode 100644
index 00000000000..f30dfce67f8
--- /dev/null
+++ b/tests/framework/models/JsonModel.php
@@ -0,0 +1,50 @@
+<?php
+/**
+ * @link http://www.yiiframework.com/
+ * @copyright Copyright (c) 2008 Yii Software LLC
+ * @license http://www.yiiframework.com/license/
+ */
+
+namespace yiiunit\framework\models;
+
+use yii\base\DynamicModel;
+
+/**
+ * JSON serializable model for tests.
+ *
+ * {@inheritdoc}
+ */
+class JsonModel extends DynamicModel implements \JsonSerializable
+{
+    /**
+     * @var array
+     */
+    public $data = ['json' => 'serializable'];
+
+    /**
+     * @return array
+     */
+    public function jsonSerialize()
+    {
+        return $this->data;
+    }
+
+    /**
+     * @inheritdoc
+     */
+    public function init()
+    {
+       $this->defineAttribute('name');
+    }
+
+    /**
+     * @inheritdoc
+     */
+    public function rules()
+    {
+        return [
+            ['name', 'required'],
+            ['name', 'string', 'max' => 100]
+        ];
+    }
+}
diff --git a/tests/framework/web/HeaderCollectionTest.php b/tests/framework/web/HeaderCollectionTest.php
new file mode 100644
index 00000000000..7fe9c889f54
--- /dev/null
+++ b/tests/framework/web/HeaderCollectionTest.php
@@ -0,0 +1,27 @@
+<?php
+/**
+ * @link http://www.yiiframework.com/
+ * @copyright Copyright (c) 2008 Yii Software LLC
+ * @license http://www.yiiframework.com/license/
+ */
+
+namespace yiiunit\framework\web;
+
+use yii\web\HeaderCollection;
+use yiiunit\TestCase;
+
+/**
+ * @group web
+ */
+class HeaderCollectionTest extends TestCase
+{
+    public function testFromArray()
+    {
+        $headerCollection = new HeaderCollection();
+        $location = 'my-test-location';
+        $headerCollection->fromArray([
+            'Location' => [$location],
+        ]);
+        $this->assertEquals($location, $headerCollection->get('Location'));
+    }
+}
diff --git a/tests/framework/web/JsonResponseFormatterTest.php b/tests/framework/web/JsonResponseFormatterTest.php
index ad2943d19ef..9fa248a0b66 100644
--- a/tests/framework/web/JsonResponseFormatterTest.php
+++ b/tests/framework/web/JsonResponseFormatterTest.php
@@ -7,6 +7,7 @@
 
 namespace yiiunit\framework\web;
 
+use yii\helpers\Json;
 use yii\web\JsonResponseFormatter;
 use yiiunit\framework\web\stubs\ModelStub;
 
@@ -207,4 +208,46 @@ public function testFormatFilledContent()
         $this->formatter->format($this->response);
         $this->assertEquals($content, $this->response->content);
     }
+
+    /**
+     * Formatter configuration keepObjectType affects how zero-indexed objects are encoded
+     */
+    public function testFormatZeroIndexedObjectKeepObject()
+    {
+        $formatter = $this->getFormatterInstance([
+            'keepObjectType' => true,
+        ]);
+        $this->response->data = (object)['test'];
+        $formatter->format($this->response);
+        $this->assertEquals('{"0":"test"}', $this->response->content);
+    }
+
+    /**
+     * Formatter configuration keepObjectType affects how zero-indexed objects are encoded
+     */
+    public function testFormatZeroIndexedObjectAllowArray()
+    {
+        $formatter = $this->getFormatterInstance([
+            'keepObjectType' => false,
+        ]);
+        $this->response->data = (object)['test'];
+        $formatter->format($this->response);
+        $this->assertEquals('["test"]', $this->response->content);
+    }
+
+    /**
+     * Formatter configuration keepObjectType reverts Json::$keepObjectType to its previous value
+     */
+    public function testFormatCleanupKeepObjectType()
+    {
+        $default = Json::$keepObjectType;
+        Json::$keepObjectType = false;
+        $formatter = $this->getFormatterInstance([
+            'keepObjectType' => true,
+        ]);
+        $this->response->data = (object)['test'];
+        $formatter->format($this->response);
+        $this->assertFalse(Json::$keepObjectType);
+        Json::$keepObjectType = $default;
+    }
 }
diff --git a/tests/framework/web/Post.php b/tests/framework/web/Post.php
index a2b3a6b0110..61255097ba7 100644
--- a/tests/framework/web/Post.php
+++ b/tests/framework/web/Post.php
@@ -9,14 +9,30 @@
 
 use yii\base\BaseObject;
 
+/**
+ * @inheritdoc
+ */
 class Post extends BaseObject
 {
+    /**
+     * @var int
+     */
     public $id;
+    /**
+     * @var string
+     */
     public $title;
 
-    public function __construct($id, $title)
+    /**
+     * @param int $id
+     * @param string $title
+     * @param array $config
+     */
+    public function __construct($id, $title, $config = [])
     {
         $this->id = $id;
         $this->title = $title;
+
+        parent::__construct($config);
     }
 }
diff --git a/tests/framework/web/XmlResponseFormatterTest.php b/tests/framework/web/XmlResponseFormatterTest.php
index 947c50af004..20a63f81769 100644
--- a/tests/framework/web/XmlResponseFormatterTest.php
+++ b/tests/framework/web/XmlResponseFormatterTest.php
@@ -46,6 +46,7 @@ public function formatScalarDataProvider()
             [true, "<response>true</response>\n"],
             [false, "<response>false</response>\n"],
             ['<>', "<response>&lt;&gt;</response>\n"],
+            ['a&b', "<response>a&amp;b</response>\n"],
         ]);
     }
 
@@ -58,6 +59,10 @@ public function formatArrayDataProvider()
                 'a' => 1,
                 'b' => 'abc',
             ], "<response><a>1</a><b>abc</b></response>\n"],
+            [
+                ['image:loc' => 'url'],
+                "<response><image:loc>url</image:loc></response>\n"
+            ],
             [[
                 1,
                 'abc',
@@ -79,7 +84,7 @@ public function formatArrayDataProvider()
                 'b:c' => 'b:c',
                 'a b c' => 'a b c',
                 'äøñ' => 'äøñ',
-            ], "<response><item>1</item><item>2015-06-18</item><item>b:c</item><item>a b c</item><äøñ>äøñ</äøñ></response>\n"],
+            ], "<response><item>1</item><item>2015-06-18</item><b:c>b:c</b:c><item>a b c</item><äøñ>äøñ</äøñ></response>\n"],
         ]);
     }
 
@@ -162,4 +167,13 @@ public function testNoObjectTags()
         $formatter->format($this->response);
         $this->assertEquals($this->xmlHead . "<response><id>123</id><title>abc</title></response>\n", $this->response->content);
     }
+
+    public function testObjectTagToLowercase()
+    {
+        $formatter = $this->getFormatterInstance(['objectTagToLowercase' => true]);
+
+        $this->response->data = new Post(123, 'abc');
+        $formatter->format($this->response);
+        $this->assertEquals($this->xmlHead . "<response><post><id>123</id><title>abc</title></post></response>\n", $this->response->content);
+    }
 }
diff --git a/tests/framework/widgets/ActiveFieldTest.php b/tests/framework/widgets/ActiveFieldTest.php
index ecb4cdc6b2d..d4d94d12911 100644
--- a/tests/framework/widgets/ActiveFieldTest.php
+++ b/tests/framework/widgets/ActiveFieldTest.php
@@ -78,7 +78,7 @@ public function testRenderNoContent()
     }
 
     /**
-     * @todo    discuss|review  Expected HTML shouldn't be wrapped only by the $content?
+     * @todo discuss|review Expected HTML shouldn't be wrapped only by the $content?
      */
     public function testRenderWithCallableContent()
     {
@@ -530,6 +530,62 @@ public function testAriaInvalidAttribute()
         $this->assertEqualsWithoutLE($expectedValue, $actualValue);
     }
 
+    public function testTabularAriaAttributes()
+    {
+        $this->activeField->attribute = '[0]' . $this->attributeName;
+        $this->activeField->addAriaAttributes = true;
+
+        $expectedValue = <<<'EOD'
+<div class="form-group field-activefieldtestmodel-0-attributename">
+<label class="control-label" for="activefieldtestmodel-0-attributename">Attribute Name</label>
+<input type="text" id="activefieldtestmodel-0-attributename" class="form-control" name="ActiveFieldTestModel[0][attributeName]">
+<div class="hint-block">Hint for attributeName attribute</div>
+<div class="help-block"></div>
+</div>
+EOD;
+
+        $actualValue = $this->activeField->render();
+        $this->assertEqualsWithoutLE($expectedValue, $actualValue);
+    }
+
+    public function testTabularAriaRequiredAttribute()
+    {
+        $this->activeField->attribute = '[0]' . $this->attributeName;
+        $this->activeField->addAriaAttributes = true;
+        $this->helperModel->addRule([$this->attributeName], 'required');
+
+        $expectedValue = <<<'EOD'
+<div class="form-group field-activefieldtestmodel-0-attributename required">
+<label class="control-label" for="activefieldtestmodel-0-attributename">Attribute Name</label>
+<input type="text" id="activefieldtestmodel-0-attributename" class="form-control" name="ActiveFieldTestModel[0][attributeName]" aria-required="true">
+<div class="hint-block">Hint for attributeName attribute</div>
+<div class="help-block"></div>
+</div>
+EOD;
+
+        $actualValue = $this->activeField->render();
+        $this->assertEqualsWithoutLE($expectedValue, $actualValue);
+    }
+
+    public function testTabularAriaInvalidAttribute()
+    {
+        $this->activeField->attribute = '[0]' . $this->attributeName;
+        $this->activeField->addAriaAttributes = true;
+        $this->helperModel->addError($this->attributeName, 'Some error');
+
+        $expectedValue = <<<'EOD'
+<div class="form-group field-activefieldtestmodel-0-attributename has-error">
+<label class="control-label" for="activefieldtestmodel-0-attributename">Attribute Name</label>
+<input type="text" id="activefieldtestmodel-0-attributename" class="form-control" name="ActiveFieldTestModel[0][attributeName]" aria-invalid="true">
+<div class="hint-block">Hint for attributeName attribute</div>
+<div class="help-block">Some error</div>
+</div>
+EOD;
+
+        $actualValue = $this->activeField->render();
+        $this->assertEqualsWithoutLE($expectedValue, $actualValue);
+    }
+
     public function testEmptyTag()
     {
         $this->activeField->options = ['tag' => false];
diff --git a/tests/js/tests/yii.validation.test.js b/tests/js/tests/yii.validation.test.js
index e5196d309b4..3fa08f45278 100644
--- a/tests/js/tests/yii.validation.test.js
+++ b/tests/js/tests/yii.validation.test.js
@@ -1307,7 +1307,7 @@ describe('yii.validation', function () {
 
     describe('captcha validator', function () {
         // Converted using yii\captcha\CaptchaAction generateValidationHash() method
-        var hashes = {'Code': 379, 'code': 411};
+        var hashes = {'Code': 1497, 'code': 1529};
         var caseInSensitiveData = {
             'valid code in lowercase': ['code', true],
             'valid code in uppercase': ['CODE', true],
