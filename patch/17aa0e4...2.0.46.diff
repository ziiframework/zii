diff --git a/.eslintrc b/.eslintrc
index 9faa37508e5..5d860d64da6 100644
--- a/.eslintrc
+++ b/.eslintrc
@@ -9,7 +9,7 @@ env:
   jquery: true
   node: true
 
-# http://eslint.org/docs/rules/
+# https://eslint.org/docs/latest/rules/
 rules:
   # Possible Errors
   comma-dangle: [2, never]
diff --git a/.github/CONTRIBUTING.md b/.github/CONTRIBUTING.md
index 3813ff4fd60..bdf7df026de 100644
--- a/.github/CONTRIBUTING.md
+++ b/.github/CONTRIBUTING.md
@@ -3,5 +3,5 @@ Contributing to Yii 2
 
 - [Report an issue](../docs/internals/report-an-issue.md)
 - [Translate documentation or messages](../docs/internals/translation-workflow.md)
-- [Give us feedback or start a design discussion](http://www.yiiframework.com/forum/index.php/forum/42-general-discussions-for-yii-20/)
+- [Give us feedback or start a design discussion](https://www.yiiframework.com/forum/index.php/forum/42-general-discussions-for-yii-20/)
 - [Contribute to the core code or fix bugs](../docs/internals/git-workflow.md)
diff --git a/.github/workflows/build.yml b/.github/workflows/build.yml
index ed61ec1b512..f69cc79f804 100644
--- a/.github/workflows/build.yml
+++ b/.github/workflows/build.yml
@@ -33,13 +33,13 @@ jobs:
       fail-fast: false
       matrix:
         os: [ubuntu-latest]
-        php: ['5.4', '5.5', '5.6', '7.0', '7.1', '7.2', '7.3', '7.4', '8.0']
+        php: [5.4, 5.5, 5.6, 7.0, 7.1, 7.2, 7.3, 7.4, 8.0, 8.1]
 
     steps:
       - name: Generate french locale
         run: sudo locale-gen fr_FR.UTF-8
       - name: Checkout
-        uses: actions/checkout@v2
+        uses: actions/checkout@v3
       - name: Install PHP
         uses: shivammathur/setup-php@v2
         with:
@@ -53,30 +53,15 @@ jobs:
         id: composer-cache
         run: echo "::set-output name=dir::$(composer config cache-files-dir)"
       - name: Cache composer dependencies
-        uses: actions/cache@v1
+        uses: actions/cache@v3
         with:
           path: ${{ steps.composer-cache.outputs.dir }}
           key: ${{ runner.os }}-composer-${{ hashFiles('**/composer.lock') }}
           restore-keys: ${{ runner.os }}-composer-
       - name: Install dependencies
         run: composer update $DEFAULT_COMPOSER_FLAGS
-      - name: PHP Unit tests for PHP 7.1
-        run: vendor/bin/phpunit --verbose --coverage-clover=coverage.clover --exclude-group $PHPUNIT_EXCLUDE_GROUP --colors=always
-        if: matrix.php == '7.1'
-      - name: PHP Unit tests for PHP >= 7.2
+      - name: PHP Unit tests
         run: vendor/bin/phpunit --verbose --exclude-group $PHPUNIT_EXCLUDE_GROUP --colors=always
-        env:
-          PHPUNIT_EXCLUDE_GROUP: oci,wincache,xcache,zenddata,cubrid
-        if: matrix.php >= '7.2'
-      - name: PHP Unit tests for PHP <= 7.0
-        run: vendor/bin/phpunit --verbose --exclude-group $PHPUNIT_EXCLUDE_GROUP --colors=always
-        if: matrix.php <= '7.0'
-      - name: Code coverage
-        run: |
-          wget https://scrutinizer-ci.com/ocular.phar
-          php ocular.phar code-coverage:upload --format=php-clover coverage.clover
-        if: matrix.php == '7.1'
-        continue-on-error: true # if is fork
 
   npm:
     name: NPM 6 on ubuntu-latest
@@ -84,7 +69,7 @@ jobs:
 
     steps:
       - name: Checkout
-        uses: actions/checkout@v2
+        uses: actions/checkout@v3
       - name: Install PHP
         uses: shivammathur/setup-php@v2
         with:
@@ -94,7 +79,7 @@ jobs:
         id: composer-cache
         run: echo "::set-output name=dir::$(composer config cache-files-dir)"
       - name: Cache composer dependencies
-        uses: actions/cache@v1
+        uses: actions/cache@v3
         with:
           path: ${{ steps.composer-cache.outputs.dir }}
           key: ${{ runner.os }}-composer-${{ hashFiles('**/composer.lock') }}
diff --git a/.github/workflows/ci-mssql.yml b/.github/workflows/ci-mssql.yml
index 232eb290791..f8ad3eff475 100644
--- a/.github/workflows/ci-mssql.yml
+++ b/.github/workflows/ci-mssql.yml
@@ -16,30 +16,30 @@ jobs:
     strategy:
       matrix:
         include:
-          - php: '7.0'
+          - php: 7.0
             extensions: pdo, pdo_sqlsrv-5.8.1
-            mssql: 'server:2017-latest'
-          - php: '7.1'
+            mssql: server:2017-latest
+          - php: 7.1
             extensions: pdo, pdo_sqlsrv-5.8.1
-            mssql: 'server:2017-latest'
-          - php: '7.2'
+            mssql: server:2017-latest
+          - php: 7.2
             extensions: pdo, pdo_sqlsrv-5.8.1
-            mssql: 'server:2017-latest'
-          - php: '7.3'
+            mssql: server:2017-latest
+          - php: 7.3
             extensions: pdo, pdo_sqlsrv-5.8.1
-            mssql: 'server:2017-latest'
-          - php: '7.4'
+            mssql: server:2017-latest
+          - php: 7.4
             extensions: pdo, pdo_sqlsrv
-            mssql: 'server:2017-latest'
-          - php: '7.4'
+            mssql: server:2017-latest
+          - php: 7.4
             extensions: pdo, pdo_sqlsrv
-            mssql: 'server:2019-latest'
-          - php: '8.0'
+            mssql: server:2019-latest
+          - php: 8.0
             extensions: pdo, pdo_sqlsrv
-            mssql: 'server:2017-latest'
-          - php: '8.0'
+            mssql: server:2017-latest
+          - php: 8.0
             extensions: pdo, pdo_sqlsrv
-            mssql: 'server:2019-latest'
+            mssql: server:2019-latest
 
     services:
       mssql:
@@ -54,7 +54,7 @@ jobs:
 
     steps:
       - name: Checkout
-        uses: actions/checkout@v2.3.4
+        uses: actions/checkout@v3
 
       - name: Create MS SQL Database
         run: docker exec -i mssql /opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P 'YourStrong!Passw0rd' -Q 'CREATE DATABASE yiitest'
@@ -71,7 +71,7 @@ jobs:
         run: echo "COMPOSER_CACHE_DIR=$(composer config cache-dir)" >> $GITHUB_ENV
 
       - name: Cache dependencies installed with composer
-        uses: actions/cache@v2
+        uses: actions/cache@v3
         with:
           path: ${{ env.COMPOSER_CACHE_DIR }}
           key: php${{ matrix.php }}-composer-${{ hashFiles('**/composer.json') }}
diff --git a/.github/workflows/ci-mysql.yml b/.github/workflows/ci-mysql.yml
index de0a5e1a44f..639609b0e84 100644
--- a/.github/workflows/ci-mysql.yml
+++ b/.github/workflows/ci-mysql.yml
@@ -19,10 +19,10 @@ jobs:
           - ubuntu-latest
 
         php-version:
-          - "7.4"
+          - 7.4
 
         mysql-version:
-          - "latest"
+          - latest
 
     services:
       mysql:
@@ -36,7 +36,7 @@ jobs:
 
     steps:
       - name: Checkout
-        uses: actions/checkout@v2
+        uses: actions/checkout@v3
 
       - name: Setup cache environment
         id: cache-env
@@ -47,7 +47,7 @@ jobs:
           key: ${{ env.key }}
 
       - name: Cache extensions
-        uses: actions/cache@v1
+        uses: actions/cache@v3
         with:
           path: ${{ steps.cache-env.outputs.dir }}
           key: ${{ steps.cache-env.outputs.key }}
diff --git a/.github/workflows/ci-oracle.yml b/.github/workflows/ci-oracle.yml
index 0a3b1ba0657..d6c9db0f428 100644
--- a/.github/workflows/ci-oracle.yml
+++ b/.github/workflows/ci-oracle.yml
@@ -20,7 +20,7 @@ jobs:
           - ubuntu-latest
 
         php:
-          - "7.4"
+          - 7.4
 
     services:
       oci:
@@ -31,7 +31,7 @@ jobs:
 
     steps:
       - name: Checkout
-        uses: actions/checkout@v2
+        uses: actions/checkout@v3
 
       - name: Setup cache environment
         id: cache-env
@@ -61,7 +61,7 @@ jobs:
         run: echo "COMPOSER_CACHE_DIR=$(composer config cache-dir)" >> $GITHUB_ENV
 
       - name: Cache dependencies installed with composer
-        uses: actions/cache@v2
+        uses: actions/cache@v3
         with:
           path: ${{ env.COMPOSER_CACHE_DIR }}
           key: php${{ matrix.php }}-composer-${{ hashFiles('**/composer.json') }}
diff --git a/.github/workflows/ci-pgsql.yml b/.github/workflows/ci-pgsql.yml
index b934f6ab791..7bfa4d44659 100644
--- a/.github/workflows/ci-pgsql.yml
+++ b/.github/workflows/ci-pgsql.yml
@@ -19,13 +19,14 @@ jobs:
           - ubuntu-latest
 
         php-version:
-          - "7.4"
+          - 7.4
 
         pgsql-version:
-          - "10"
-          - "11"
-          - "12"
-          - "13"
+          - 10
+          - 11
+          - 12
+          - 13
+          - 14
 
     services:
       postgres:
@@ -40,7 +41,7 @@ jobs:
 
     steps:
       - name: Checkout
-        uses: actions/checkout@v2
+        uses: actions/checkout@v3
 
       - name: Setup cache environment
         id: cache-env
@@ -70,7 +71,7 @@ jobs:
         run: echo "COMPOSER_CACHE_DIR=$(composer config cache-dir)" >> $GITHUB_ENV
 
       - name: Cache dependencies installed with composer
-        uses: actions/cache@v1
+        uses: actions/cache@v3
         with:
           path: ${{ env.COMPOSER_CACHE_DIR }}
           key: php${{ matrix.php-version }}-composer-${{ matrix.dependencies }}-${{ hashFiles('**/composer.json') }}
diff --git a/.scrutinizer.yml b/.scrutinizer.yml
index 5279ff4ac59..a30e8f62d95 100644
--- a/.scrutinizer.yml
+++ b/.scrutinizer.yml
@@ -1,20 +1,91 @@
+checks:
+  php: true
+
+filter:
+  paths:
+    - framework/
+
+  excluded_paths:
+    - vendor/
+
+  dependency_paths:
+    - vendor/
+
 build:
+  image: default-bionic
+
+  environment:
+    php:
+      version: 7.4.28
+      ini:
+        xdebug.mode: coverage,develop
+        memory_limit: -1
+
   nodes:
     analysis:
       tests:
         override:
           - php-scrutinizer-run
 
-filter:
-  excluded_paths:
-    - "tests/"
-    - "build/"
-    - "docs/"
-    - "framework/messages/"
-  dependency_paths:
-    - "vendor/"
+    phpunit:
+      dependencies:
+        override:
+          - composer self-update
+          - composer update --prefer-dist --no-interaction --no-progress --optimize-autoloader --ansi
 
-tools:
-    external_code_coverage:
-        runs: 3
-        timeout: 2100 # Timeout in seconds.
+      services:
+        db-mysql:
+          image: mysql:5.7
+
+          # Define any additional environment variables that are needed by the service.
+          env:
+            MYSQL_ALLOW_EMPTY_PASSWORD: 1
+            MYSQL_ROOT_PASSWORD: root
+            MYSQL_DATABASE: yiitest
+
+          # We automatically forward these ports from your localhost to the service's port.
+          # Alternatively, you can also access the service on the "$SERVICE_SOME_NAME_IP"
+          # environment variable.
+          ports:
+            # Forward 127.0.0.1:12345 -> SERVICE_IP:12345
+            - 3306
+
+          # If your service writes data to disk like most databases do, you can significantly
+          # speed up tests by mounting a ramdisk at those paths.
+          ramdisks:
+            - /var/lib/data
+
+        db-pgsql:
+          image: postgres:14
+
+          # Define any additional environment variables that are needed by the service.
+          env:
+            POSTGRES_USER: postgres
+            POSTGRES_PASSWORD: postgres
+            POSTGRES_DB: yiitest
+
+          # We automatically forward these ports from your localhost to the service's port.
+          # Alternatively, you can also access the service on the "$SERVICE_SOME_NAME_IP"
+          # environment variable.
+          ports:
+            # Forward 127.0.0.1:12345 -> SERVICE_IP:12345
+            - 5432
+
+          # If your service writes data to disk like most databases do, you can significantly
+          # speed up tests by mounting a ramdisk at those paths.
+          ramdisks:
+            - /var/lib/data
+
+        memcached:
+          image: memcached
+
+      tests:
+        before:
+          - sudo locale-gen fr_FR.UTF-8
+
+        override:
+          - command: ./vendor/bin/phpunit --verbose --exclude-group cubrid,oci,mssql,wincache,xcache,zenddata --colors=always --coverage-clover ./coverage.xml
+            on_node: 1
+            coverage:
+              file: coverage.xml
+              format: php-clover
diff --git a/README.md b/README.md
index 8fceb76ede1..2bcf182fab8 100644
--- a/README.md
+++ b/README.md
@@ -19,7 +19,7 @@ Installation
 ------------
 
 - The minimum required PHP version of Yii is PHP 5.4.
-- It works best with PHP 7.
+- It works best with PHP 8.
 - [Follow the Definitive Guide](https://www.yiiframework.com/doc-2.0/guide-start-installation.html)
 in order to get step by step instructions.
 
diff --git a/build/build b/build/build
index 1d34560e505..9892daee039 100755
--- a/build/build
+++ b/build/build
@@ -3,9 +3,9 @@
 /**
  * build script file.
  *
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 define('YII_DEBUG', true);
diff --git a/build/build.bat b/build/build.bat
index e659199de2e..67fc5fdbf91 100644
--- a/build/build.bat
+++ b/build/build.bat
@@ -6,9 +6,9 @@ rem
 rem  This is the bootstrap script for running build on Windows.
 rem
 rem  @author Qiang Xue <qiang.xue@gmail.com>
-rem  @link http://www.yiiframework.com/
+rem  @link https://www.yiiframework.com/
 rem  @copyright 2008 Yii Software LLC
-rem  @license http://www.yiiframework.com/license/
+rem  @license https://www.yiiframework.com/license/
 rem  @version $Id$
 rem -------------------------------------------------------------
 
@@ -20,4 +20,4 @@ if "%PHP_COMMAND%" == "" set PHP_COMMAND=php.exe
 
 %PHP_COMMAND% "%BUILD_PATH%build" %*
 
-@endlocal
\ No newline at end of file
+@endlocal
diff --git a/build/build.xml b/build/build.xml
index 846e4cf969c..253d5632dcd 100644
--- a/build/build.xml
+++ b/build/build.xml
@@ -4,9 +4,9 @@
  * Phing build file for Yii 2.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 -->
 <project name="yii" basedir="." default="help">
@@ -241,7 +241,7 @@ Please update yiisite/common/data/versions.php file with the following code:
                 package="${phing.project.name}"
                 summary="Yii PHP Framework"
                 pkgdescription="Yii PHP Framework: Best for Web 2.0 Development"
-                notes="http://www.yiiframework.com/files/CHANGELOG-${yii.release}.txt"
+                notes="https://www.yiiframework.com/files/CHANGELOG-${yii.release}.txt"
                 license="BSD"
                 />
     <exec command="pear package" dir="${build.pear.src.dir}" passthru="true" />
diff --git a/build/controllers/ClassmapController.php b/build/controllers/ClassmapController.php
index 7a4e3b243b7..978504a86f5 100644
--- a/build/controllers/ClassmapController.php
+++ b/build/controllers/ClassmapController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\build\controllers;
@@ -73,9 +73,9 @@ public function actionCreate($root = null, $mapFile = null)
  * This file is automatically generated by the "build classmap" command under the "build" folder.
  * Do not modify it directly.
  *
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return [
diff --git a/build/controllers/DevController.php b/build/controllers/DevController.php
index fdd8022cc58..499b43766ab 100644
--- a/build/controllers/DevController.php
+++ b/build/controllers/DevController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\build\controllers;
@@ -68,6 +68,7 @@ class DevController extends Controller
         'smarty' => 'git@github.com:yiisoft/yii2-smarty.git',
         'sphinx' => 'git@github.com:yiisoft/yii2-sphinx.git',
         'swiftmailer' => 'git@github.com:yiisoft/yii2-swiftmailer.git',
+        'symfonymailer' => 'git@github.com:yiisoft/yii2-symfonymailer.git',
         'twig' => 'git@github.com:yiisoft/yii2-twig.git',
     ];
 
diff --git a/build/controllers/MimeTypeController.php b/build/controllers/MimeTypeController.php
index 5b034912a8d..67c0758ee63 100644
--- a/build/controllers/MimeTypeController.php
+++ b/build/controllers/MimeTypeController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\build\controllers;
@@ -16,7 +16,7 @@
  * MimeTypeController generates a map of file extensions to MIME types.
  *
  * It uses `mime.types` file from apache http located under
- * http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/conf/mime.types?view=markup
+ * https://svn.apache.org/viewvc/httpd/httpd/trunk/docs/conf/mime.types?view=markup
  *
  * This file has been placed in the public domain for unlimited redistribution,
  * so we can use it and ship it with Yii.
@@ -30,6 +30,7 @@ class MimeTypeController extends Controller
      * @var array MIME type aliases
      */
     private $aliases = [
+        'text/rtf' => 'application/rtf',
         'text/xml' => 'application/xml',
         'image/svg' => 'image/svg+xml',
         'image/x-bmp' => 'image/bmp',
@@ -66,7 +67,7 @@ public function actionIndex($outFile = null, $aliasesOutFile = null)
         }
 
         $this->stdout('Downloading mime-type file from apache httpd repository...');
-        if ($apacheMimeTypesFileContent = file_get_contents('http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/conf/mime.types?view=co')) {
+        if ($apacheMimeTypesFileContent = file_get_contents('https://svn.apache.org/viewvc/httpd/httpd/trunk/docs/conf/mime.types?view=co')) {
             $this->stdout("Done.\n", Console::FG_GREEN);
             $this->generateMimeTypesFile($outFile, $apacheMimeTypesFileContent);
             $this->generateMimeAliasesFile($aliasesOutFile);
@@ -99,6 +100,11 @@ private function generateMimeTypesFile($outFile, $content)
         $mimeMap = array_merge($mimeMap, $this->additionalMimeTypes);
         ksort($mimeMap);
         $array = VarDumper::export($mimeMap);
+
+        if (PHP_VERSION_ID >= 80100) {
+            $array = array_replace($array, array('xz' => 'application/octet-stream'));
+        }
+
         $content = <<<EOD
 <?php
 /**
@@ -107,7 +113,7 @@ private function generateMimeTypesFile($outFile, $content)
  * This file contains most commonly used MIME types
  * according to file extension names.
  * Its content is generated from the apache http mime.types file.
- * http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/conf/mime.types?view=markup
+ * https://svn.apache.org/viewvc/httpd/httpd/trunk/docs/conf/mime.types?view=markup
  * This file has been placed in the public domain for unlimited redistribution.
  */
 return $array;
diff --git a/build/controllers/PhpDocController.php b/build/controllers/PhpDocController.php
index 5aebe855191..2e38e1c89d9 100644
--- a/build/controllers/PhpDocController.php
+++ b/build/controllers/PhpDocController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\build\controllers;
@@ -293,9 +293,9 @@ protected function fixFileDoc(&$lines)
             $lines = array_merge([
                 '<?php',
                 '/**',
-                ' * @link http://www.yiiframework.com/',
+                ' * @link https://www.yiiframework.com/',
                 ' * @copyright Copyright (c) 2008 Yii Software LLC',
-                ' * @license http://www.yiiframework.com/license/',
+                ' * @license https://www.yiiframework.com/license/',
                 ' */',
                 '',
                 $namespaceLine,
diff --git a/build/controllers/ReleaseController.php b/build/controllers/ReleaseController.php
index 1d73fa5f6d8..2b372cd8421 100644
--- a/build/controllers/ReleaseController.php
+++ b/build/controllers/ReleaseController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\build\controllers;
diff --git a/build/controllers/TranslationController.php b/build/controllers/TranslationController.php
index dd89ad24ea9..3ca61667620 100644
--- a/build/controllers/TranslationController.php
+++ b/build/controllers/TranslationController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\build\controllers;
diff --git a/build/controllers/Utf8Controller.php b/build/controllers/Utf8Controller.php
index 673d9bfdeeb..e332461b126 100644
--- a/build/controllers/Utf8Controller.php
+++ b/build/controllers/Utf8Controller.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\build\controllers;
@@ -59,7 +59,7 @@ public function actionCheckGuide($directory = null)
                     continue;
                 }
 
-                // http://unicode-table.com/en/blocks/general-punctuation/
+                // https://unicode-table.com/en/blocks/general-punctuation/
                 if (0x2000 <= $ord && $ord <= 0x200F
                  || 0x2028 <= $ord && $ord <= 0x202E
                  || 0x205f <= $ord && $ord <= 0x206F
@@ -92,13 +92,13 @@ private function found($what, $char, $line, $pos, $file)
         $hexcode = dechex($this->unicodeOrd($char));
         $hexcode = str_repeat('0', max(4 - \strlen($hexcode), 0)) . $hexcode;
 
-        $this->stdout("  at $line:$pos FOUND $what: 0x$hexcode '$char' http://unicode-table.com/en/$hexcode/\n");
+        $this->stdout("  at $line:$pos FOUND $what: 0x$hexcode '$char' https://unicode-table.com/en/$hexcode/\n");
     }
 
     /**
      * Equivalent for ord() just for unicode.
      *
-     * http://stackoverflow.com/a/10333324/1106908
+     * https://stackoverflow.com/questions/10333098/utf-8-safe-equivalent-of-ord-or-charcodeat-in-php/10333324#10333324
      *
      * @param $c
      * @return bool|int
diff --git a/composer.json b/composer.json
index 84af41acf00..78ffddbb17c 100644
--- a/composer.json
+++ b/composer.json
@@ -99,12 +99,22 @@
     },
     "autoload": {
         "psr-4": {
-            "yii\\": "framework/",
-            "yii\\cs\\": "cs/src/"
+            "yii\\": "framework/"
+        }
+    },
+    "autoload-dev": {
+        "psr-4": {
+            "yii\\cs\\": "cs/src/",
+            "yii\\build\\": "build/",
+            "yiiunit\\": "tests/"
         }
     },
     "config": {
-        "platform": {"php": "5.4"}
+        "platform": {"php": "5.4"},
+        "allow-plugins": {
+            "cweagans/composer-patches": true,
+            "yiisoft/yii2-composer": true
+        }
     },
     "bin": [
         "framework/yii"
@@ -118,9 +128,13 @@
             "phpunit/phpunit-mock-objects": {
                 "Fix PHP 7 and 8 compatibility": "https://yiisoft.github.io/phpunit-patches/phpunit_mock_objects.patch"
             },
+            "phpunit/php-file-iterator": {
+                "Fix PHP 8.1 compatibility": "https://yiisoft.github.io/phpunit-patches/phpunit_path_file_iterator.patch"
+            },
             "phpunit/phpunit": {
                 "Fix PHP 7 compatibility": "https://yiisoft.github.io/phpunit-patches/phpunit_php7.patch",
-                "Fix PHP 8 compatibility": "https://yiisoft.github.io/phpunit-patches/phpunit_php8.patch"
+                "Fix PHP 8 compatibility": "https://yiisoft.github.io/phpunit-patches/phpunit_php8.patch",
+                "Fix PHP 8.1 compatibility": "https://yiisoft.github.io/phpunit-patches/phpunit_php81.patch"
             }
         }
     }
diff --git a/composer.lock b/composer.lock
index 35d4dd11f03..9837fbe353e 100644
--- a/composer.lock
+++ b/composer.lock
@@ -4,7 +4,7 @@
         "Read more about it at https://getcomposer.org/doc/01-basic-usage.md#installing-dependencies",
         "This file is @generated automatically"
     ],
-    "content-hash": "8f9a4d7e645592f806605d32d676f54e",
+    "content-hash": "a9d10c9948017f8926d64be83e5e2397",
     "packages": [
         {
             "name": "bower-asset/inputmask",
@@ -29,16 +29,16 @@
         },
         {
             "name": "bower-asset/jquery",
-            "version": "3.5.1",
+            "version": "3.6.0",
             "source": {
                 "type": "git",
                 "url": "https://github.com/jquery/jquery-dist.git",
-                "reference": "4c0e4becb8263bb5b3e6dadc448d8e7305ef8215"
+                "reference": "e786e3d9707ffd9b0dd330ca135b66344dcef85a"
             },
             "dist": {
                 "type": "zip",
-                "url": "https://api.github.com/repos/jquery/jquery-dist/zipball/4c0e4becb8263bb5b3e6dadc448d8e7305ef8215",
-                "reference": "4c0e4becb8263bb5b3e6dadc448d8e7305ef8215"
+                "url": "https://api.github.com/repos/jquery/jquery-dist/zipball/e786e3d9707ffd9b0dd330ca135b66344dcef85a",
+                "reference": "e786e3d9707ffd9b0dd330ca135b66344dcef85a"
             },
             "type": "bower-asset",
             "license": [
@@ -50,12 +50,12 @@
             "version": "v1.3.2",
             "source": {
                 "type": "git",
-                "url": "https://github.com/bestiejs/punycode.js.git",
+                "url": "https://github.com/mathiasbynens/punycode.js.git",
                 "reference": "38c8d3131a82567bfef18da09f7f4db68c84f8a3"
             },
             "dist": {
                 "type": "zip",
-                "url": "https://api.github.com/repos/bestiejs/punycode.js/zipball/38c8d3131a82567bfef18da09f7f4db68c84f8a3",
+                "url": "https://api.github.com/repos/mathiasbynens/punycode.js/zipball/38c8d3131a82567bfef18da09f7f4db68c84f8a3",
                 "reference": "38c8d3131a82567bfef18da09f7f4db68c84f8a3"
             },
             "type": "bower-asset"
@@ -147,32 +147,29 @@
         },
         {
             "name": "ezyang/htmlpurifier",
-            "version": "v4.13.0",
+            "version": "v4.14.0",
             "source": {
                 "type": "git",
                 "url": "https://github.com/ezyang/htmlpurifier.git",
-                "reference": "08e27c97e4c6ed02f37c5b2b20488046c8d90d75"
+                "reference": "12ab42bd6e742c70c0a52f7b82477fcd44e64b75"
             },
             "dist": {
                 "type": "zip",
-                "url": "https://api.github.com/repos/ezyang/htmlpurifier/zipball/08e27c97e4c6ed02f37c5b2b20488046c8d90d75",
-                "reference": "08e27c97e4c6ed02f37c5b2b20488046c8d90d75",
+                "url": "https://api.github.com/repos/ezyang/htmlpurifier/zipball/12ab42bd6e742c70c0a52f7b82477fcd44e64b75",
+                "reference": "12ab42bd6e742c70c0a52f7b82477fcd44e64b75",
                 "shasum": ""
             },
             "require": {
                 "php": ">=5.2"
             },
-            "require-dev": {
-                "simpletest/simpletest": "dev-master#72de02a7b80c6bb8864ef9bf66d41d2f58f826bd"
-            },
             "type": "library",
             "autoload": {
-                "psr-0": {
-                    "HTMLPurifier": "library/"
-                },
                 "files": [
                     "library/HTMLPurifier.composer.php"
                 ],
+                "psr-0": {
+                    "HTMLPurifier": "library/"
+                },
                 "exclude-from-classmap": [
                     "/library/HTMLPurifier/Language/"
                 ]
@@ -195,29 +192,29 @@
             ],
             "support": {
                 "issues": "https://github.com/ezyang/htmlpurifier/issues",
-                "source": "https://github.com/ezyang/htmlpurifier/tree/master"
+                "source": "https://github.com/ezyang/htmlpurifier/tree/v4.14.0"
             },
-            "time": "2020-06-29T00:56:53+00:00"
+            "time": "2021-12-25T01:21:49+00:00"
         },
         {
             "name": "paragonie/random_compat",
-            "version": "v2.0.20",
+            "version": "v2.0.21",
             "source": {
                 "type": "git",
                 "url": "https://github.com/paragonie/random_compat.git",
-                "reference": "0f1f60250fccffeaf5dda91eea1c018aed1adc2a"
+                "reference": "96c132c7f2f7bc3230723b66e89f8f150b29d5ae"
             },
             "dist": {
                 "type": "zip",
-                "url": "https://api.github.com/repos/paragonie/random_compat/zipball/0f1f60250fccffeaf5dda91eea1c018aed1adc2a",
-                "reference": "0f1f60250fccffeaf5dda91eea1c018aed1adc2a",
+                "url": "https://api.github.com/repos/paragonie/random_compat/zipball/96c132c7f2f7bc3230723b66e89f8f150b29d5ae",
+                "reference": "96c132c7f2f7bc3230723b66e89f8f150b29d5ae",
                 "shasum": ""
             },
             "require": {
                 "php": ">=5.2.0"
             },
             "require-dev": {
-                "phpunit/phpunit": "4.*|5.*"
+                "phpunit/phpunit": "*"
             },
             "suggest": {
                 "ext-libsodium": "Provides a modern crypto API that can be used to generate random bytes."
@@ -251,7 +248,7 @@
                 "issues": "https://github.com/paragonie/random_compat/issues",
                 "source": "https://github.com/paragonie/random_compat"
             },
-            "time": "2021-04-17T09:33:01+00:00"
+            "time": "2022-02-16T17:07:03+00:00"
         },
         {
             "name": "yiisoft/yii2-composer",
@@ -514,16 +511,16 @@
         },
         {
             "name": "cweagans/composer-patches",
-            "version": "1.7.0",
+            "version": "1.7.2",
             "source": {
                 "type": "git",
                 "url": "https://github.com/cweagans/composer-patches.git",
-                "reference": "ae02121445ad75f4eaff800cc532b5e6233e2ddf"
+                "reference": "e9969cfc0796e6dea9b4e52f77f18e1065212871"
             },
             "dist": {
                 "type": "zip",
-                "url": "https://api.github.com/repos/cweagans/composer-patches/zipball/ae02121445ad75f4eaff800cc532b5e6233e2ddf",
-                "reference": "ae02121445ad75f4eaff800cc532b5e6233e2ddf",
+                "url": "https://api.github.com/repos/cweagans/composer-patches/zipball/e9969cfc0796e6dea9b4e52f77f18e1065212871",
+                "reference": "e9969cfc0796e6dea9b4e52f77f18e1065212871",
                 "shasum": ""
             },
             "require": {
@@ -556,9 +553,9 @@
             "description": "Provides a way to patch Composer packages.",
             "support": {
                 "issues": "https://github.com/cweagans/composer-patches/issues",
-                "source": "https://github.com/cweagans/composer-patches/tree/1.7.0"
+                "source": "https://github.com/cweagans/composer-patches/tree/1.7.2"
             },
-            "time": "2020-09-30T17:56:20+00:00"
+            "time": "2022-01-25T19:21:20+00:00"
         },
         {
             "name": "doctrine/annotations",
@@ -1476,16 +1473,16 @@
         },
         {
             "name": "psr/log",
-            "version": "1.1.3",
+            "version": "1.1.4",
             "source": {
                 "type": "git",
                 "url": "https://github.com/php-fig/log.git",
-                "reference": "0f73288fd15629204f9d42b7055f72dacbe811fc"
+                "reference": "d49695b909c3b7628b6289db5479a1c204601f11"
             },
             "dist": {
                 "type": "zip",
-                "url": "https://api.github.com/repos/php-fig/log/zipball/0f73288fd15629204f9d42b7055f72dacbe811fc",
-                "reference": "0f73288fd15629204f9d42b7055f72dacbe811fc",
+                "url": "https://api.github.com/repos/php-fig/log/zipball/d49695b909c3b7628b6289db5479a1c204601f11",
+                "reference": "d49695b909c3b7628b6289db5479a1c204601f11",
                 "shasum": ""
             },
             "require": {
@@ -1509,7 +1506,7 @@
             "authors": [
                 {
                     "name": "PHP-FIG",
-                    "homepage": "http://www.php-fig.org/"
+                    "homepage": "https://www.php-fig.org/"
                 }
             ],
             "description": "Common interface for logging libraries",
@@ -1520,9 +1517,9 @@
                 "psr-3"
             ],
             "support": {
-                "source": "https://github.com/php-fig/log/tree/1.1.3"
+                "source": "https://github.com/php-fig/log/tree/1.1.4"
             },
-            "time": "2020-03-23T09:12:05+00:00"
+            "time": "2021-05-03T11:20:27+00:00"
         },
         {
             "name": "sebastian/comparator",
@@ -2304,12 +2301,12 @@
                 }
             },
             "autoload": {
-                "psr-4": {
-                    "Symfony\\Polyfill\\Ctype\\": ""
-                },
                 "files": [
                     "bootstrap.php"
-                ]
+                ],
+                "psr-4": {
+                    "Symfony\\Polyfill\\Ctype\\": ""
+                }
             },
             "notification-url": "https://packagist.org/downloads/",
             "license": [
@@ -2383,12 +2380,12 @@
                 }
             },
             "autoload": {
-                "psr-4": {
-                    "Symfony\\Polyfill\\Mbstring\\": ""
-                },
                 "files": [
                     "bootstrap.php"
-                ]
+                ],
+                "psr-4": {
+                    "Symfony\\Polyfill\\Mbstring\\": ""
+                }
             },
             "notification-url": "https://packagist.org/downloads/",
             "license": [
@@ -2460,12 +2457,12 @@
                 }
             },
             "autoload": {
-                "psr-4": {
-                    "Symfony\\Polyfill\\Php54\\": ""
-                },
                 "files": [
                     "bootstrap.php"
                 ],
+                "psr-4": {
+                    "Symfony\\Polyfill\\Php54\\": ""
+                },
                 "classmap": [
                     "Resources/stubs"
                 ]
@@ -2540,12 +2537,12 @@
                 }
             },
             "autoload": {
-                "psr-4": {
-                    "Symfony\\Polyfill\\Php55\\": ""
-                },
                 "files": [
                     "bootstrap.php"
-                ]
+                ],
+                "psr-4": {
+                    "Symfony\\Polyfill\\Php55\\": ""
+                }
             },
             "notification-url": "https://packagist.org/downloads/",
             "license": [
@@ -2617,12 +2614,12 @@
                 }
             },
             "autoload": {
-                "psr-4": {
-                    "Symfony\\Polyfill\\Php70\\": ""
-                },
                 "files": [
                     "bootstrap.php"
                 ],
+                "psr-4": {
+                    "Symfony\\Polyfill\\Php70\\": ""
+                },
                 "classmap": [
                     "Resources/stubs"
                 ]
@@ -2696,12 +2693,12 @@
                 }
             },
             "autoload": {
-                "psr-4": {
-                    "Symfony\\Polyfill\\Php72\\": ""
-                },
                 "files": [
                     "bootstrap.php"
-                ]
+                ],
+                "psr-4": {
+                    "Symfony\\Polyfill\\Php72\\": ""
+                }
             },
             "notification-url": "https://packagist.org/downloads/",
             "license": [
@@ -2919,5 +2916,5 @@
     "platform-overrides": {
         "php": "5.4"
     },
-    "plugin-api-version": "2.1.0"
+    "plugin-api-version": "2.2.0"
 }
diff --git a/contrib/completion/bash/yii b/contrib/completion/bash/yii
index c5e78849e45..12e50f759f0 100644
--- a/contrib/completion/bash/yii
+++ b/contrib/completion/bash/yii
@@ -3,7 +3,7 @@
 # See also:
 # - https://debian-administration.org/article/317/An_introduction_to_bash_completion_part_2 on how this works.
 # - https://www.gnu.org/software/bash/manual/html_node/Programmable-Completion.html
-# - http://www.yiiframework.com/doc-2.0/guide-tutorial-console.html#bash-completion
+# - https://www.yiiframework.com/doc-2.0/guide-tutorial-console.html#bash-completion
 #
 # Usage:
 # Temporarily you can source this file in you bash by typing: source yii
diff --git a/cs/src/YiiConfig.php b/cs/src/YiiConfig.php
index 95442861a4e..582ab283bf0 100644
--- a/cs/src/YiiConfig.php
+++ b/cs/src/YiiConfig.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\cs;
diff --git a/cs/src/YiisoftConfig.php b/cs/src/YiisoftConfig.php
index c5b4ea16a52..16dc6d6f871 100644
--- a/cs/src/YiisoftConfig.php
+++ b/cs/src/YiisoftConfig.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\cs;
@@ -23,9 +23,9 @@ public function __construct()
         parent::__construct('yiisoft-cs-config');
 
         $header = <<<'HEADER'
-@link http://www.yiiframework.com/
+@link https://www.yiiframework.com/
 @copyright Copyright (c) 2008 Yii Software LLC
-@license http://www.yiiframework.com/license/
+@license https://www.yiiframework.com/license/
 HEADER;
 
         $this->mergeRules([
diff --git a/docs/guide-ar/intro-yii.md b/docs/guide-ar/intro-yii.md
index 041c2ea12ac..bff073a5c4f 100644
--- a/docs/guide-ar/intro-yii.md
+++ b/docs/guide-ar/intro-yii.md
@@ -17,6 +17,7 @@ Yii هو إطار عام لبرمجة الويب ، مما يعني أنه يم
 
 <p dir="rtl">
     إذا كنت بالفعل على دراية بإطار العمل الأخرى ، فيمكنك معرفة كيف تتم مقارنة ال Yii:
+</p>
 
 <ul  dir="rtl">
     <li> مثل معظم أطر عمل ال PHP ، يطبق Yii النمط المعماري MVC (Model-View-Controller).</li>
@@ -25,7 +26,6 @@ Yii هو إطار عام لبرمجة الويب ، مما يعني أنه يم
 <li> من مميزات ال Yii إمكانية التعديل (استبدال جزء معين أو تخيصيص وإضافة) جزء معين على أغلب ال Yii core code، وبالإضافة الى هذا، يمكنك بناء ملحقات برمجية اعتمادا على ال core code، ومن ثم نشر هذه الشيفرة وتوزيعها واستخدامها دون وجود أي مشاكل أو صعوبة تذكر.</li>
 <li> الأداء العالي هو الهدف الأساسي من ال Yii.</li>
     </ul>
-</p>
 
 <p dir="rtl">
 ال Yii إطار عمل صمم من قبل فريق برمجي متكامل، فهو ليس مجرد عمل فردي ،  بل يتكون من <a href="https://www.yiiframework.com/team">فريق تطوير أساسي وقوي</a> ، بالإضافة إلى منتدى كبير
@@ -44,13 +44,11 @@ Yii هو إطار عام لبرمجة الويب ، مما يعني أنه يم
 
 # <div dir="rtl">المتطلبات الأساسية للعمل على إطار ال Yii</div>
 
-<p dir="rtl">
-    <ul dir="rtl">
-        <li>الإصدار PHP 5.4.0 أو أكثر</li>
-        <li>المعرفة الأساسية بمفاهيم البرمجة كائنية التوجه OOP</li>
-        <li>المعرفة بآخر وأحدث التقنيات الموجودة بال php مثل ال namespaces, traits، الفهم لهذه المفاهيم سيسهل عليك العمل كثيرا</li>
-    </ul>
-</p>
+<ul dir="rtl">
+    <li>الإصدار PHP 5.4.0 أو أكثر</li>
+    <li>المعرفة الأساسية بمفاهيم البرمجة كائنية التوجه OOP</li>
+    <li>المعرفة بآخر وأحدث التقنيات الموجودة بال php مثل ال namespaces, traits، الفهم لهذه المفاهيم سيسهل عليك العمل كثيرا</li>
+</ul>
 
 <p dir="rtl">
     ملاحظة: يمكن التحقق من توافق المتطلبات الخاصة بك مع ال yii من خلال الدخول الى الصفحة requirement الموجودة بال yii
diff --git a/docs/guide-ar/start-databases.md b/docs/guide-ar/start-databases.md
index b41c5c62550..d3e53b29008 100644
--- a/docs/guide-ar/start-databases.md
+++ b/docs/guide-ar/start-databases.md
@@ -112,7 +112,7 @@ return [
 <li> <a href="https://github.com/sam-it/yii2-mariadb">MariaDB</a></li>
 </ul>
 
-## <div dir="rtl">إنشاء ال Active Record<span id="creating-active-record"></span>
+## <div dir="rtl">إنشاء ال Active Record</div> <span id="creating-active-record"></span>
 
 <p dir="rtl">
     لجلب البيانات وعرضها من جدول ال <code>country</code>، سنقوم بإضافة ال <a href="../guide/db-active-record.md">Active Record</a> الى ال class المسمى ب <code>country</code>، والموجود في المسار <code>models/Country.php</code>.
@@ -163,7 +163,7 @@ $country->save();
     ستجد معلومات أكثر تفصيلاً في الجزء الخاص بال <a href="../guide/db-active-record.md">Active Record</a>. بالإضافة الى ذلك، يمكنك التفاعل مباشرة مع قاعدة البيانات باستخدام lower-level data accessing والتي تسمى ب <a href="../guide/db-dao.md">Database Access Objects</a>.
 </p></blockquote>
 
-## <div dir="rtl">إنشاء ال Action</a> <span id="creating-action"></span>
+## <div dir="rtl">إنشاء ال Action</div> <span id="creating-action"></span>
 
 <p dir="rtl">
 لعرض بيانات ال country للمستخدمين، يلزمك إنشاء action جديد، وبدلاً من وضع ال action الجديد في ال <code>site</code> controller كما فعلنا في المرات السابقة، سنقوم بإنشاء controller جديد، ومن ثم سنقوم بوضع ال action بداخله، والسبب المنطقي لهذا العمل أنك ستقوم بتجميع الشيفرة البرمجية المسؤولة عن أداء وظائف معينة في مكان واحد، وبهذا فإن جميع الإجرائات التي تخص ال country من المنطقي أن تكون موجودة داخل ال <code>CountryController</code>، والآن لنقم بإنشاء هذا ال controller الجديد، وال action الجديد وسيكون باسم <code>index</code>، كما هو موضح أدناه: 
@@ -254,7 +254,7 @@ use yii\widgets\LinkPager;
 </p>
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 ![Country List](../guide/images/start-country-list.png)
@@ -266,7 +266,7 @@ http://hostname/index.php?r=country%2Findex
 </p>
 
 ```
-http://hostname/index.php?r=country%2Findex&page=2
+https://hostname/index.php?r=country%2Findex&page=2
 ```
 
 <p dir="rtl">
diff --git a/docs/guide-ar/start-forms.md b/docs/guide-ar/start-forms.md
index 2383fe52089..db97d4bf61c 100644
--- a/docs/guide-ar/start-forms.md
+++ b/docs/guide-ar/start-forms.md
@@ -135,7 +135,7 @@ class SiteController extends Controller
 </p>
 
 <blockquote class="note"><p dir="rtl">
-ملاحظة: في هذا المثال البسيط، نعرض صفحة التأكيد فقط عند إرسال البيانات بشكل صحيح. عند الممارسة العملية، يجب عليك استخدام [[yii\web\Controller::refresh()|refresh()]] أو [[yii\web\Controller::redirect()|redirect()]] لتجنب أي مشكلة تحصل عن طريق ال resubmission والتي تندرج تحت العنوان <a href="http://en.wikipedia.org/wiki/Post/Redirect/Get">form resubmission problems</a>.
+ملاحظة: في هذا المثال البسيط، نعرض صفحة التأكيد فقط عند إرسال البيانات بشكل صحيح. عند الممارسة العملية، يجب عليك استخدام [[yii\web\Controller::refresh()|refresh()]] أو [[yii\web\Controller::redirect()|redirect()]] لتجنب أي مشكلة تحصل عن طريق ال resubmission والتي تندرج تحت العنوان <a href="https://en.wikipedia.org/wiki/Post/Redirect/Get">form resubmission problems</a>.
 </p></blockquote>
 
 ## <div dir="rtl">إنشاء ال views</div> <span id="creating-views"></span>
@@ -191,7 +191,7 @@ use yii\widgets\ActiveForm;
 </p>
 
 ```
-http://hostname/index.php?r=site%2Fentry
+https://hostname/index.php?r=site%2Fentry
 ```
 
 <p dir="rtl">
diff --git a/docs/guide-ar/start-gii.md b/docs/guide-ar/start-gii.md
index 2d8c59eb8d2..074cbbe3a03 100644
--- a/docs/guide-ar/start-gii.md
+++ b/docs/guide-ar/start-gii.md
@@ -12,10 +12,10 @@
     <li>تفعيل ال Gii داخل التطبيق الخاص بك</li>
     <li>إستخدام ال Gii لإنشاء ال Active Record class</li>
     <li>إستخدام ال Gii لإنشاء الشيفرة البرمجية الخاصة بال CRUD إعتمادا على الجداول الموجودة في قاعدة البيانات</li>
-    <li>تخصيص (custmize) الشيفرة البرمجية التي سيتم إنتاجها من خلال ال Gii.</li>
+    <li>تخصيص (customize) الشيفرة البرمجية التي سيتم إنتاجها من خلال ال Gii.</li>
 </ul>
 
-## <div dir="rtl">البدء باستخدام ال Gii</a> <span id="starting-gii"></span>
+## <div dir="rtl">البدء باستخدام ال Gii</div> <span id="starting-gii"></span>
 
 <p dir="rtl">
     يتم تقديم ال <a href="https://www.yiiframework.com/extension/yiisoft/yii2-gii/doc/guide">Gii</a> داخل على ال Yii على أنه <a href="../guide/structure-modules.md">module</a>، ويمكنك تفعيله من خلال الإعدادات الخاصة به والتي تجدها داخل ال application، وبالتحديد داخل ال property التالية [[yii\base\Application::modules|modules]]، واعتمادا على كيفية إنشائك للمشروع، فيمكنك إيجاد الشيفرة البرمجية التالية موجودة بشكل مسبق داخل ال <code>config/web.php</code>:  
@@ -50,7 +50,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 </p>
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 <blockquote class="note"><p dir="rtl">
@@ -127,7 +127,7 @@ http://hostname/index.php?r=gii
 </p>
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 <p dir="rtl">
diff --git a/docs/guide-ar/start-hello.md b/docs/guide-ar/start-hello.md
index cb855db9ea2..28faccb0d5c 100644
--- a/docs/guide-ar/start-hello.md
+++ b/docs/guide-ar/start-hello.md
@@ -25,9 +25,9 @@
     لإنشاء صفحة "Hello"، ستقوم بإنشاء <code>say</code> <a href="../guide/structure-controllers.md#creating-actions">action</a> والذي بدوره سيقوم  بقراءة ال <code>message</code> parameter من ال request، ومن ثم عرض ال <code>message</code> مرة أخرى إلى المستخدم. إذا كان ال request لا يحمل معه ال message parameter فإن ال action سيقوم بطباعة message إفتراضية وهي "Hello".
 </p>
 
-<blockqoute class="info"><p dir="rtl">
+<blockquote class="info"><p dir="rtl">
     معلومة: ال <a href="../guide/structure-controllers.md#creating-actions">Actions</a> هي الكائنات(objects) التي يمكن للمستخدمين من الوصول اليها وتنفيذ ما في بداخلها بشكل مباشر.  يتم تجميع هذه ال Actions بواسطة ال <a href="../guide/structure-controllers.md">controllers</a>. ونتيجة لذلك فإن ال response الراجعة للمستخدم ستكون هي نتيجة التنفيذ الخاصة بال action. 
-</p></blockqoute>
+</p></blockquote>
 
 <p dir="rtl">
     يجب تعريف ال actions داخل ال <a href="../guide/structure-controllers.md">controller</a>، ولتبسيط الفكرة، سنقوم بتعريف ال <code>say</code> action داخل أحد ال controller الموجود مسبقا وهو ال <code>siteController</code>. هذا ال controller ستجده داخل المسار <code>controllers/siteController.php</code>. ومن هنا سنبدأ بإضافة ال action الجديد: 
@@ -89,7 +89,7 @@ use yii\helpers\Html;
 </p>
 
 <p dir="rtl">
-    ملاحظة:  في الشيفرة البرمجية أعلاه، تكون ال <code>message</code> مضمنة داخل ال  [[yii\helpers\Html::encode()]] قبل أن يتم طباعتها، هذا الأمر ضروري لأن ال parameter التي تأتي من المستخدم النهائي لا يجب الوثوق بها،  فهي يمكن أن تحتوي على شيفرات برمجية تستغل الضعف الحاص بك بموضوع الأمان مثل <a href="http://en.wikipedia.org/wiki/Cross-site_scripting">vulnerable to XSS attack</a> عن طريق دمج JS code مع ال parameter. 
+    ملاحظة:  في الشيفرة البرمجية أعلاه، تكون ال <code>message</code> مضمنة داخل ال  [[yii\helpers\Html::encode()]] قبل أن يتم طباعتها، هذا الأمر ضروري لأن ال parameter التي تأتي من المستخدم النهائي لا يجب الوثوق بها،  فهي يمكن أن تحتوي على شيفرات برمجية تستغل الضعف الحاص بك بموضوع الأمان مثل <a href="https://en.wikipedia.org/wiki/Cross-site_scripting">vulnerable to XSS attack</a> عن طريق دمج JS code مع ال parameter. 
 </p>
 
 <p dir="rtl">
@@ -107,7 +107,7 @@ use yii\helpers\Html;
 </p>
 
 ```
-http://hostname/index.php?r=site%2Fsay&message=Hello+World
+https://hostname/index.php?r=site%2Fsay&message=Hello+World
 ```
 
 ![Hello World](../guide/images/start-hello-world.png)
diff --git a/docs/guide-ar/start-installation.md b/docs/guide-ar/start-installation.md
index 9e51c7e79c2..600c0d8e94c 100644
--- a/docs/guide-ar/start-installation.md
+++ b/docs/guide-ar/start-installation.md
@@ -121,7 +121,7 @@ composer create-project --prefer-dist yiisoft/yii2-app-basic basic
 --------------------------
 
 <p dir="rtl">
-    تعتمد ال Yii على حزم <a href="http://bower.io/">Bower</a> و/أو <a href="https://www.npmjs.com/">NPM</a> لتثبيت مكتبات ال (CSS و JavaScript). ويستخدم ال composer للحصول على هذه المكتبات ، مما يسمح بالحصول على إصدارات ال PHP و CSS/JavaScript في نفس الوقت. ويمكن تحقيق ذلك إما عن طريق استخدام <a href="https://asset-packagist.org/">asset-packagist.org</a> أو من خلال ال <a href="https://github.com/fxpio/composer-asset-plugin">composer asset plugin</a>، يرجى الرجوع إلى <a href="../guide/structure-assets.md">Assets documentation</a> لمزيد من التفاصيل.
+    تعتمد ال Yii على حزم <a href="https://bower.io/">Bower</a> و/أو <a href="https://www.npmjs.com/">NPM</a> لتثبيت مكتبات ال (CSS و JavaScript). ويستخدم ال composer للحصول على هذه المكتبات ، مما يسمح بالحصول على إصدارات ال PHP و CSS/JavaScript في نفس الوقت. ويمكن تحقيق ذلك إما عن طريق استخدام <a href="https://asset-packagist.org/">asset-packagist.org</a> أو من خلال ال <a href="https://github.com/fxpio/composer-asset-plugin">composer asset plugin</a>، يرجى الرجوع إلى <a href="../guide/structure-assets.md">Assets documentation</a> لمزيد من التفاصيل.
 <br /><br />
 قد ترغب في إدارة ال assets عبر  ال native Bower/NPM أو استخدام ال CDN أو تجنب تثبيت ال assets بالكامل من حلال ال Composer ، ويمكن ذلك من خلال إضافة الأسطر التالية إلى "composer.json":
 </p>
@@ -191,12 +191,12 @@ http://localhost:8080/
 </p></blockquote>
 
 <p dir="rtl">
-    يجب أن يعمل التطبيق الذي تم تثبيته وفقًا للتعليمات المذكورة أعلاه مع أي من الخوادم ال <a href="http://httpd.apache.org/">Apache HTTP</a> أو ال <a href="http://nginx.org/">Nginx HTTP</a> في كل من أنظمة التشغيل Windows, Mac OS X أو Linux ممن لديها إصدار أعلى أو يساوي PHP 5.4، كما أن ال Yii 2.0 متوافق مع ال Facebook <a href="http://hhvm.com/">HHVM</a>، لكن، يجب أن تأخذ بعين الإعتبار أن ال HHVM يسلك في بعض الأحيان بطريقة مختلفة عن ال Native PHP، لذلك يجب أن تأخذ عناية إضافية عندما تعمل على ال HHVM.
+    يجب أن يعمل التطبيق الذي تم تثبيته وفقًا للتعليمات المذكورة أعلاه مع أي من الخوادم ال <a href="https://httpd.apache.org/">Apache HTTP</a> أو ال <a href="https://nginx.org/">Nginx HTTP</a> في كل من أنظمة التشغيل Windows, Mac OS X أو Linux ممن لديها إصدار أعلى أو يساوي PHP 5.4، كما أن ال Yii 2.0 متوافق مع ال Facebook <a href="https://hhvm.com/">HHVM</a>، لكن، يجب أن تأخذ بعين الإعتبار أن ال HHVM يسلك في بعض الأحيان بطريقة مختلفة عن ال Native PHP، لذلك يجب أن تأخذ عناية إضافية عندما تعمل على ال HHVM.
 </p>
 
 <p dir="rtl">
     على ال production server، قد ترغب في إعداد خادم الويب الخاص بك بحيث يمكن الوصول إلى التطبيق
-الخاص بك عبر ال URL التالي <code>http://www.example.com/index.php</code> بدلاً من <code>http://www.example.com/basic/web/index.php</code>. هذا الكلام يتطلب إنشاء إعداد يقوم بتوجيه ال document root الموجود على ال web server الى مجلد ال basic/web، كما قد ترغب أيضا بإخفاء ال <code>index.php</code> من ال URL كما هو موضح في ال <a href="../guide/runtime-routing.md">Routing and URL Creation</a>. في هذا الموضوع ستتعلم كيف يمكنك إعداد ال Apache أو ال Nginx server لتحقيق هذه الأهداف. 
+الخاص بك عبر ال URL التالي <code>https://www.example.com/index.php</code> بدلاً من <code>https://www.example.com/basic/web/index.php</code>. هذا الكلام يتطلب إنشاء إعداد يقوم بتوجيه ال document root الموجود على ال web server الى مجلد ال basic/web، كما قد ترغب أيضا بإخفاء ال <code>index.php</code> من ال URL كما هو موضح في ال <a href="../guide/runtime-routing.md">Routing and URL Creation</a>. في هذا الموضوع ستتعلم كيف يمكنك إعداد ال Apache أو ال Nginx server لتحقيق هذه الأهداف. 
 </p>
 
 <blockquote class="info"><p dir="rtl">
@@ -244,7 +244,7 @@ DocumentRoot "path/to/basic/web"
 -----------------------
 
 <p dir="rtl">
-    لاستخدام <a href="http://wiki.nginx.org/">Nginx</a>، يجب تثبيت PHP على أنه <a href="https://www.php.net/install.fpm">FPM SAPI</a>، ويمكنك استخدام إعدادات ال Nginx التالية، مع الإنتباه على استبدال المسار من  <code>path/to/basic/web</code> الى المسار الفعلي  وصولا إلى <code>basic/web</code> بالإضافة الى إستبدال <code>mysite.test</code> إلى ال hostname الخاص بالتطبيق.
+    لاستخدام <a href="https://wiki.nginx.org/">Nginx</a>، يجب تثبيت PHP على أنه <a href="https://www.php.net/install.fpm">FPM SAPI</a>، ويمكنك استخدام إعدادات ال Nginx التالية، مع الإنتباه على استبدال المسار من  <code>path/to/basic/web</code> الى المسار الفعلي  وصولا إلى <code>basic/web</code> بالإضافة الى إستبدال <code>mysite.test</code> إلى ال hostname الخاص بالتطبيق.
 </p>
 
 
diff --git a/docs/guide-ar/start-looking-ahead.md b/docs/guide-ar/start-looking-ahead.md
index f6b25c5d9e0..4b760f8dca6 100644
--- a/docs/guide-ar/start-looking-ahead.md
+++ b/docs/guide-ar/start-looking-ahead.md
@@ -30,7 +30,7 @@
             <li>Facebook: <a href="https://www.facebook.com/groups/yiitalk/">https://www.facebook.com/groups/yiitalk/</a></li>
             <li>Twitter: <a href="https://twitter.com/yiiframework">https://twitter.com/yiiframework</a></li>
             <li>LinkedIn: <a href="https://www.linkedin.com/groups/yii-framework-1483367">https://www.linkedin.com/groups/yii-framework-1483367</a></li>
-            <li>Stackoverflow: <a href="http://stackoverflow.com/questions/tagged/yii2">http://stackoverflow.com/questions/tagged/yii2</a></li>
+            <li>Stackoverflow: <a href="https://stackoverflow.com/questions/tagged/yii2">https://stackoverflow.com/questions/tagged/yii2</a></li>
         </ul>
     </li>
 </ul>
diff --git a/docs/guide-ar/start-workflow.md b/docs/guide-ar/start-workflow.md
index 35ca010a9c5..edc6977d876 100644
--- a/docs/guide-ar/start-workflow.md
+++ b/docs/guide-ar/start-workflow.md
@@ -2,12 +2,12 @@
 
 <p dir="rtl">
 بعد تثبيت ال Yii، سيكون لديك تطبيق Yii جاهز للعمل عليه ويمكن الوصول إليه عبر
-الرابط التالي:  <code>http://hostname/basic/web/index.php</code>  أو <code>http://hostname/index.php</code> إعتمادا على الإعدادات
+الرابط التالي:  <code>https://hostname/basic/web/index.php</code>  أو <code>https://hostname/index.php</code> إعتمادا على الإعدادات
 الخاصة بك (إعدادت ال web server). في هذا الجزء سنستعرض الوظائف ال built-in الموجودة في التطبيق الإفتراضي لإطار العمل Yii، وكيف يقوم بتنظيم الشيفرة البرمجية، وكيف يعالج (handling) هذا التطبيق الطلبات (requests) بشكل عام.
 </p>
 
 <blockquote class="info"><p dir="rtl">
-    معلومة: من أجل تبسيط الطرح، ومن خلال هذا البرنامج التعليمي " Getting Started - البداية من هنا"، من المفترض أنك قمت بتعيين <code>basic/web</code> ك <code>document root</code> لل Web server، وقد قمت أيضا بإعداد ال Url الذي يسمح لك بالوصول الى التطبيق المثبت من خلاله ليكون على الشكل التالي: <code>http://hostname/index.php</code> أو ما شابه ذلك.
+    معلومة: من أجل تبسيط الطرح، ومن خلال هذا البرنامج التعليمي " Getting Started - البداية من هنا"، من المفترض أنك قمت بتعيين <code>basic/web</code> ك <code>document root</code> لل Web server، وقد قمت أيضا بإعداد ال Url الذي يسمح لك بالوصول الى التطبيق المثبت من خلاله ليكون على الشكل التالي: <code>https://hostname/index.php</code> أو ما شابه ذلك.
 اذا لم تقم بذلك، ولتلبية إحتياجاتك في هذا البرنامج التعليمي، يرجى ضبط ال Url كما هو موضح في هذه الصفحة.
 يمكنك معرفة الضبط الخاص بال Web server من هنا:  <a href="start-installation.md">تثبيت ال Yii </a>
 </p></blockquote>
@@ -24,7 +24,7 @@
 </p>
 
 <ul dir="rtl">
-    <li>الصفحة الرئيسية(Homepage): يتم عرض هذه الصفحة من خلال الرابط التالي <code>http://hostname/index.php</code> </li>
+    <li>الصفحة الرئيسية(Homepage): يتم عرض هذه الصفحة من خلال الرابط التالي <code>https://hostname/index.php</code> </li>
     <li>صفحة من نحن(About)</li>
     <li>صفحة اتصل بنا (Contact): في هذه الصفحة يتم عرض form يسمح للأعشاء بالإتصال بك من خلال البريد الإلكتروني.</li>
     <li>صفحة تسجيل الدخول (Login): في هذه الصفحة يتم عرض form يسمح للأعضاء بالحصول على الإذن لإستخدام الخصائص التي لا يجوز لغيرهم من الوصول اليها، قم بتجربة تسجيل الدخول من خلال استخدام <code>admin/admin</code> ولاحظ أن كلمة "Login" ستختفي من القائمة الرئيسية وستظهر محلها الكلمة "Logout"</li>
@@ -45,13 +45,13 @@
 
 
 
-## <div dir="rtl">هيكلية التطبيق - Application Structure</a> <span id="application-structure"></span>
+## <div dir="rtl">هيكلية التطبيق - Application Structure</div> <span id="application-structure"></span>
 
 <p dir="rtl">
     أكثر المسارات والملفات أهمية الموجودة داخل التطبيق (بافتراض أن ال application's root directory هو <code>basic</code>) هي:  
 </p>
 
-```js
+```
 basic/                  application base path
     composer.json       used by Composer, describes package information
     config/             contains application and other configurations
@@ -70,12 +70,12 @@ basic/                  application base path
 ```
 
 <p dir="rtl">
-بشكل عام، يمكن تقسيم الملفات داخل التطبيق إلى نوعين: الاول تجده تحت المسار التالي: <code>basic/web</code والثاني تجده بالمسارات الأخرى.<br />
+بشكل عام، يمكن تقسيم الملفات داخل التطبيق إلى نوعين: الاول تجده تحت المسار التالي: <code>basic/web</code> والثاني تجده بالمسارات الأخرى.<br />
 وبنائا على ذلك، فإنه من الممكن الوصول إلى النوع الأول مباشرة عبر ال HTTP (أي من خلال المتصفح) ، بينما لا يمكن أن يكون ذلك للنوع الثاني.
 </p>
 
 <p dir="rtl">
-    يعتمد ال Yii على إستخدام ال MVC، وال MVC هو أحد ال Architectural Pattern، وهي اختصار ل <a href="http://wikipedia.org/wiki/Model-view-controller">model-view-controller</a>،
+    يعتمد ال Yii على إستخدام ال MVC، وال MVC هو أحد ال Architectural Pattern، وهي اختصار ل <a href="https://wikipedia.org/wiki/Model-view-controller">model-view-controller</a>،
 هذا الأسلوب ينعكس في تنظيم المسارات الخاصة بالملفات كما في الشكل أعلاه. يحتوي المسار <code>models</code> على جميع الكلاس <a href="../guide/structure-models.md">(model classes)</a> ، ويحتوي مسار ال <code>views</code> على جميع الصفحات التي ستستخدم في العرض <a href="../guide/structure-controllers.md">(view scripts)</a>، ويحتوي مسار ال<code>controllers</code> على
     جميع <a href="../guide/structure-views.md">(controller classes)</a> 
 </p>
@@ -88,11 +88,10 @@ basic/                  application base path
 
 <p dir="rtl">
     يحتوي كل تطبيق على نص برمجي يستخدم للدخول الى التطبيق (كبوابة بعدها يظهر التطبيق للناظر)، ويسمى هذا الجزء بال entry script، وهو يمثل الصفحة <code>web/index.php</code>، ويعد هذا المدخل النص البرمجي الوحيد الذي يمكن الوصول إليه من خلال ال PHP في التطبيق، ويعمل هذا ال entry script على أخذ ال request ومن ثم إنشاء instance خاص بالتطبيق ليستطيع التعامل معه (التعامل مع التطبيق ومكوناته).
-    يقوم <a href="../guide/structure-applications.md">التطبيق</a> على معالجة ال request بمساعدة من ال <a href="../guide/concept-components.md">components</a>، ومن ثم بقوم التطبيق بإرسال ال request الى عناصر ال MVC، كما يتم استخدام ال <a href="../guide/structure-widgets.md">Widgets</a> في ال <a href="../guide/structure-views.md">views</a> للمساعدة في إنشاء العناصر المعقدة والمتغيرة (Complex & Dynamic user interface) لواجهة المستخدم.
+    يقوم <a href="../guide/structure-applications.md">application</a> على معالجة ال request بمساعدة من ال <a href="../guide/concept-components.md">components</a>، ومن ثم بقوم التطبيق بإرسال ال request الى عناصر ال MVC، كما يتم استخدام ال <a href="../guide/structure-widgets.md">Widgets</a> في ال <a href="../guide/structure-views.md">views</a> للمساعدة في إنشاء العناصر المعقدة والمتغيرة (Complex &amp; Dynamic user interface) لواجهة المستخدم.
 </p>
 
-
-## <div dir="rtl">دورة الحياة الخاصة بال request</a> <span id="request-lifecycle"></span>
+## <div dir="rtl">دورة الحياة الخاصة بال request</div> <span id="request-lifecycle"></span>
 
 <p dir="rtl">
 يوضح المخطط التالي كيفية معالجة التطبيق ل request معين.
diff --git a/docs/guide-es/caching-data.md b/docs/guide-es/caching-data.md
index ed36374771d..1349865d064 100644
--- a/docs/guide-es/caching-data.md
+++ b/docs/guide-es/caching-data.md
@@ -28,7 +28,7 @@ representan diferentes tipos de almacenamiento en caché, como por ejemplo en me
 
 Los Componentes de Caché están normalmente registrados como [componentes de la aplicación](structure-application-components.md) para que de esta forma puedan
 ser configurados y accesibles globalmente. El siguiente código muestra cómo configurar el componente de aplicación
-`cache` para usar [memcached](http://memcached.org/) con dos servidores caché:
+`cache` para usar [memcached](https://memcached.org/) con dos servidores caché:
 
 ```php
 'components' => [
@@ -73,14 +73,14 @@ Yii proporciona varios componentes de caché que pueden almacenar datos en difer
 se muestra un listado con los componentes de caché disponibles:
 
 * [[yii\caching\ApcCache]]: utiliza la extensión de PHP [APC](https://www.php.net/manual/es/book.apc.php). Esta opción puede ser considerada como la más rápida de entre todas las disponibles para una aplicación centralizada. (ej. un servidor, no dedicado al balance de carga, etc).
-* [[yii\caching\DbCache]]: utiliza una tabla de base de datos para almacenar los datos. Por defecto, se creará y usará como base de datos [SQLite3](http://sqlite.org/) en el directorio runtime. Se puede especificar explícitamente que base de datos va a ser utilizada configurando la propiedad `db`.
+* [[yii\caching\DbCache]]: utiliza una tabla de base de datos para almacenar los datos. Por defecto, se creará y usará como base de datos [SQLite3](https://sqlite.org/) en el directorio runtime. Se puede especificar explícitamente que base de datos va a ser utilizada configurando la propiedad `db`.
 * [[yii\caching\DummyCache]]: dummy cache (caché tonta) que no almacena en caché nada. El propósito de este componente es simplificar el código necesario para chequear la disponibilidad de caché. Por ejemplo, durante el desarrollo o si el servidor no tiene soporte de caché actualmente, puede utilizarse este componente de caché. Cuando este disponible un soporte en caché, puede cambiarse el componente correspondiente. En ambos casos, puede utilizarse el mismo código `Yii::$app->cache->get($key)` para recuperar un dato sin la preocupación de que `Yii::$app->cache` pueda ser `null`.
 * [[yii\caching\FileCache]]: utiliza un fichero estándar para almacenar los datos. Esto es adecuado para almacenar grandes bloques de datos (como páginas).
 * [[yii\caching\MemCache]]: utiliza las extensiones de PHP [memcache](https://www.php.net/manual/es/book.memcache.php) y [memcached](https://www.php.net/manual/es/book.memcached.php). Esta opción puede ser considerada como la más rápida cuando la caché es manejada en una aplicación distribuida (ej. con varios servidores, con balance de carga, etc..)
-* [[yii\redis\Cache]]: implementa un componente de caché basado en [Redis](http://redis.io/) que almacenan pares clave-valor (requiere la versión 2.6.12 de redis).
-* [[yii\caching\WinCache]]: utiliza la extensión de PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension) ([ver también](https://www.php.net/manual/es/book.wincache.php)).
-* [[yii\caching\XCache]] _(deprecated)_: utiliza la extensión de PHP [XCache](http://xcache.lighttpd.net/).
-* [[yii\caching\ZendDataCache]] _(deprecated)_: utiliza [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm) como el medio fundamental de caché.
+* [[yii\redis\Cache]]: implementa un componente de caché basado en [Redis](https://redis.io/) que almacenan pares clave-valor (requiere la versión 2.6.12 de redis).
+* [[yii\caching\WinCache]]: utiliza la extensión de PHP [WinCache](https://iis.net/downloads/microsoft/wincache-extension) ([ver también](https://www.php.net/manual/es/book.wincache.php)).
+* [[yii\caching\XCache]] _(deprecated)_: utiliza la extensión de PHP [XCache](https://en.wikipedia.org/wiki/List_of_PHP_accelerators#XCache).
+* [[yii\caching\ZendDataCache]] _(deprecated)_: utiliza [Zend Data Cache](https://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm) como el medio fundamental de caché.
 
 > Tip: Puedes utilizar diferentes tipos de almacenamiento de caché en la misma aplicación. Una estrategia común es la de usar almacenamiento de caché en memoria para almacenar datos que son pequeños pero que son utilizados constantemente (ej. datos estadísticos), y utilizar el almacenamiento de caché en archivos o en base de datos para guardar datos que son grandes y utilizados con menor frecuencia (ej. contenido de página).
 
@@ -221,7 +221,7 @@ $result = Customer::getDb()->cache(function ($db) {
 });
 ```
 
-> Note: Algunos DBMS (ej. [MySQL](http://dev.mysql.com/doc/refman/5.1/en/query-cache.html)) también soporta el almacenamiento en caché desde el mismo servidor de la BD. Puedes optar por utilizar cualquiera de los mecanismos de memoria caché. El almacenamiento en caché de consultas previamente descrito tiene la ventaja que de que se puede especificar dependencias de caché de una forma flexible y son potencialmente mucho más eficientes.
+> Note: Algunos DBMS (ej. [MySQL](https://dev.mysql.com/doc/refman/5.6/en/query-cache.html)) también soporta el almacenamiento en caché desde el mismo servidor de la BD. Puedes optar por utilizar cualquiera de los mecanismos de memoria caché. El almacenamiento en caché de consultas previamente descrito tiene la ventaja que de que se puede especificar dependencias de caché de una forma flexible y son potencialmente mucho más eficientes.
 
 
 ### Configuraciones <span id="query-caching-configs"></span>
diff --git a/docs/guide-es/caching-http.md b/docs/guide-es/caching-http.md
index f8c033fc140..e364ff8d0ca 100644
--- a/docs/guide-es/caching-http.md
+++ b/docs/guide-es/caching-http.md
@@ -110,7 +110,7 @@ La generación de un ETag que requiera muchos recursos puede echar por tierra el
 introducir una sobrecarga innecesaria, ya que debe ser re-evaluada en cada solicitud (request). Trata de encontrar una
 expresión sencilla para invalidar la caché si la página ha sido modificada.
 
-> Note: En cumplimiento con [RFC 7232](http://tools.ietf.org/html/rfc7232#section-2.4),
+> Note: En cumplimiento con [RFC 7232](https://datatracker.ietf.org/doc/html/rfc7232#section-2.4),
   `HttpCache` enviará ambas cabeceras `ETag` y `Last-Modified` si ambas están configuradas. Y si el clientes envía tanto la cabecera `If-None-Match` como la cabecera `If-Modified-Since`, solo la primera será respetada.
 
 ## La Cabecera `Cache-Control` <span id="cache-control"></span>
diff --git a/docs/guide-es/concept-aliases.md b/docs/guide-es/concept-aliases.md
index bf95bb9a52c..7a8a6cfae60 100644
--- a/docs/guide-es/concept-aliases.md
+++ b/docs/guide-es/concept-aliases.md
@@ -18,7 +18,7 @@ Para definir un alias puedes llamar a [[Yii::setAlias()]] para una determinada r
 Yii::setAlias('@foo', '/path/to/foo');
 
 // una alias de un URL
-Yii::setAlias('@bar', 'http://www.example.com');
+Yii::setAlias('@bar', 'https://www.example.com');
 ```
 
 > Note: Una ruta de archivo o URL en alias NO debe necesariamente referirse a un archivo o recurso existente.
@@ -44,7 +44,7 @@ return [
     // ...
     'aliases' => [
         '@foo' => '/path/to/foo',
-        '@bar' => 'http://www.example.com',
+        '@bar' => 'https://www.example.com',
     ],
 ];
 ```
@@ -58,7 +58,7 @@ además resolver un alias derivado en su correspondiente ruta de archivo o URL.
 
 ```php
 echo Yii::getAlias('@foo');               // muestra: /path/to/foo
-echo Yii::getAlias('@bar');               // muestra: http://www.example.com
+echo Yii::getAlias('@bar');               // muestra: https://www.example.com
 echo Yii::getAlias('@foo/bar/file.php');  // muestra: /path/to/foo/bar/file.php
 ```
 
@@ -113,7 +113,7 @@ utilizadas regularmente. La siguiente es la lista de alias predefinidos por Yii:
 - `@webroot`: el directorio raíz Web de la aplicación Web se está ejecutando actualmente.
 - `@web`: la URL base de la aplicación web se ejecuta actualmente. Tiene el mismo valor que [[yii\web\Request::baseUrl]].
 - `@vendor`: el [[yii\base\Application::vendorPath|directorio vendor de Composer]]. Por defecto `@app/vendor`.
-- `@bower`, el directorio raíz que contiene [paquetes bower](http://bower.io/). Por defecto `@vendor/bower`.
+- `@bower`, el directorio raíz que contiene [paquetes bower](https://bower.io/). Por defecto `@vendor/bower`.
 - `@npm`, el directorio raíz que contiene [paquetes npm](https://www.npmjs.com/). Por defecto `@vendor/npm`.
 
 El alias `@yii` se define cuando incluyes el archivo `Yii.php` en tu [script de entrada](structure-entry-scripts.md),
diff --git a/docs/guide-es/concept-behaviors.md b/docs/guide-es/concept-behaviors.md
index 32aaee1b3a5..f9347fcff8e 100644
--- a/docs/guide-es/concept-behaviors.md
+++ b/docs/guide-es/concept-behaviors.md
@@ -2,7 +2,7 @@ Comportamientos
 ===============
 
 Comportamientos son instancias de [[yii\base\Behavior]] o sus clases "hija". Comportamientos, también conocido como
-[mixins](http://en.wikipedia.org/wiki/Mixin), te permiten mejorar la funcionalidad de un [[yii\base\Component|componente]]
+[mixins](https://en.wikipedia.org/wiki/Mixin), te permiten mejorar la funcionalidad de un [[yii\base\Component|componente]]
 existente sin necesidad de modificar su herencia de clases.
 Cuando un comportamiento se une a un componente, "inyectará" sus métodos y propiedades dentro del componente, y podrás
 acceder a esos métodos y propiedades como si hubieran estado definidos por la clase de componente. Además, un
diff --git a/docs/guide-es/concept-di-container.md b/docs/guide-es/concept-di-container.md
index d53c38147d4..9c46419f077 100644
--- a/docs/guide-es/concept-di-container.md
+++ b/docs/guide-es/concept-di-container.md
@@ -2,7 +2,7 @@ Contenedor de Inyección de Dependencias
 =======================================
 
 Un contenedor de Inyección de Dependencias (ID), es un objeto que sabe como instancias y configurar objetos y sus 
-objetos dependientes. El [articulo de Martin](http://martinfowler.com/articles/injection.html) contiene una buena 
+objetos dependientes. El [articulo de Martin](https://martinfowler.com/articles/injection.html) contiene una buena 
 explicación de porque son útiles los contenedores de ID. A continuación explicaremos como usar el contenedor de ID que 
 proporciona Yii.
 
@@ -316,7 +316,7 @@ Resumen <span id="summary"></span>
 
 Tanto la inyección de dependencias como el [localizador de servicios](concept-service-locator.md) son patrones de 
 diseño populares que permiten construir software con acoplamiento flexible y más fácil de testear. Se recomienda 
-encarecida la lectura del articulo de [Martin](http://martinfowler.com/articles/injection.html) para obtener una mejor 
+encarecida la lectura del articulo de [Martin](https://martinfowler.com/articles/injection.html) para obtener una mejor 
 comprensión de la inyección de dependencias y de la localización de servicios.
 
 Yii implementa su propio [localizador de servicios](concept-service-locator.md) por encima del contenedor de ID. 
diff --git a/docs/guide-es/db-dao.md b/docs/guide-es/db-dao.md
index 8e831a1b501..38cebcec7f9 100644
--- a/docs/guide-es/db-dao.md
+++ b/docs/guide-es/db-dao.md
@@ -11,11 +11,11 @@ Yii DAO también significa que tienes que tienes que tomar un esfuerzo adicional
 
 Yii DAO soporta las siguientes bases de datos:
 
-- [MySQL](http://www.mysql.com/)
+- [MySQL](https://www.mysql.com/)
 - [MariaDB](https://mariadb.com/)
-- [SQLite](http://sqlite.org/)
-- [PostgreSQL](http://www.postgresql.org/): versión 8.4 o superior.
-- [CUBRID](http://www.cubrid.org/): versión 9.3 o superior.
+- [SQLite](https://sqlite.org/)
+- [PostgreSQL](https://www.postgresql.org/): versión 8.4 o superior.
+- [CUBRID](https://www.cubrid.org/): versión 9.3 o superior.
 - [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): versión 2008 o superior.
 
@@ -396,7 +396,7 @@ En el momento de escribir esto, solo MSSQL y SQLite serán afectadas.
   puede especificar el nivel de aislamiento directamente cuando empieza la transacción. Se tiene que llamar a
   [[yii\db\Transaction::setIsolationLevel()]] después de que la transacción haya empezado.
 
-[isolation levels]: http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+[isolation levels]: https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
 
 
 ### Transacciones Anidadas <span id="nesting-transactions"></span>
@@ -437,7 +437,7 @@ try {
 
 ## Replicación y División Lectura-Escritura <span id="read-write-splitting"></span>
 
-Muchos DBMS soportan [replicación de bases de datos](http://en.wikipedia.org/wiki/Replication_(computing)#Database_replication) para tener
+Muchos DBMS soportan [replicación de bases de datos](https://en.wikipedia.org/wiki/Replication_(computing)#Database_replication) para tener
 una mejor disponibilidad de la base de datos y un mejor tiempo de respuesta del servidor. Con la replicación de bases
 de datos, los datos están replicados en los llamados *servidores maestros* (master servers) y *servidores esclavos*
 (slave servers). Todas las escrituras y actualizaciones deben hacerse en el servidor maestro, mientras que las lecturas
diff --git a/docs/guide-es/db-migrations.md b/docs/guide-es/db-migrations.md
index 2c4470929e7..bb797bcccfb 100644
--- a/docs/guide-es/db-migrations.md
+++ b/docs/guide-es/db-migrations.md
@@ -648,7 +648,7 @@ en `safeDown()`. En el ejemplo anterior primero creamos la tabla y luego inserta
 que en `safeDown()` primero eliminamos el registro y posteriormente eliminamos la tabla.
 
 > Note: No todos los DBMS soportan transacciones. Y algunas consultas a la BD no pueden ser puestas en transacciones. Para algunos ejemplos,
-  por favor lee acerca de [commits implícitos](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). En estos casos,
+  por favor lee acerca de [commits implícitos](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). En estos casos,
   deberías igualmente implementar `up()` y `down()`.
 
 
diff --git a/docs/guide-es/db-query-builder.md b/docs/guide-es/db-query-builder.md
index d09c5e3516a..0ca6212a7ae 100644
--- a/docs/guide-es/db-query-builder.md
+++ b/docs/guide-es/db-query-builder.md
@@ -241,7 +241,7 @@ El operando puede ser uno de los siguientes (ver también [[yii\db\QueryInterfac
   automáticamente entre un par de caracteres de porcentaje.
 
 > Note: Cuando se usa PostgreSQL también se puede usar
-[`ilike`](http://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE) en lugar de `like` para
+[`ilike`](https://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE) en lugar de `like` para
 filtrar resultados insensibles a mayúsculas (case-insensitive).
 
 - `or like`: similar al operando `like` exceptuando que se usa `OR` para concatenar los predicados `LIKE` cuando haya
diff --git a/docs/guide-es/helper-html.md b/docs/guide-es/helper-html.md
index d5675f32505..99b556e697c 100644
--- a/docs/guide-es/helper-html.md
+++ b/docs/guide-es/helper-html.md
@@ -45,7 +45,7 @@ gestión adicional que se debe conocer:
 
 - Si un valor es `null`, el correspondiente atributo no se renderizará.
 - Los atributos cuyos valores son de tipo booleano serán tratados como
-  [atributos booleanos](http://www.w3.org/TR/html5/infrastructure.html#boolean-attributes).
+  [atributos booleanos](https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes).
 - Los valores de los atributos se codificarán en HTML usando [[yii\helpers\Html::encode()|Html::encode()]].
 - El atributo "data" puede recibir un array. En este caso, se "expandirá" y se renderizará una lista de atributos
   `data` ej. `'data' => ['id' => 1, 'name' => 'yii']` se convierte en `data-id="1" data-name="yii"`.
@@ -301,7 +301,7 @@ Si se quiere enlazar un estilo externo desde un archivo CSS:
 genera
 
 <!--[if IE 5]>
-    <link href="http://example.com/css/ie5.css" />
+    <link href="https://example.com/css/ie5.css" />
 <![endif]-->
 ```
 
@@ -353,7 +353,7 @@ Para generar una etiqueta de tipo imagen se puede usar el siguiente ejemplo:
 
 genera
 
-<img src="http://example.com/images/logo.png" alt="My logo" />
+<img src="https://example.com/images/logo.png" alt="My logo" />
 ```
 
 Aparte de los [alias](concept-aliases.md) el primer argumento puede aceptar rutas, parámetros y URLs. Del mismo modo
diff --git a/docs/guide-es/helper-url.md b/docs/guide-es/helper-url.md
index ad5f923a619..27884fffb6f 100644
--- a/docs/guide-es/helper-url.md
+++ b/docs/guide-es/helper-url.md
@@ -78,7 +78,7 @@ echo Url::toRoute(['site/index', 'src' => 'ref1', '#' => 'name']);
 // /index.php?r=post%2Fedit&id=100     asume que el alias "@postEdit" se definió como "post/edit"
 echo Url::toRoute(['@postEdit', 'id' => 100]);
 
-// http://www.example.com/index.php?r=site%2Findex
+// https://www.example.com/index.php?r=site%2Findex
 echo Url::toRoute('site/index', true);
 
 // https://www.example.com/index.php?r=site%2Findex
@@ -123,7 +123,7 @@ echo Url::to('@web/images/logo.gif');
 // images/logo.gif
 echo Url::to('images/logo.gif');
 
-// http://www.example.com/images/logo.gif
+// https://www.example.com/images/logo.gif
 echo Url::to('@web/images/logo.gif', true);
 
 // https://www.example.com/images/logo.gif
diff --git a/docs/guide-es/input-validation.md b/docs/guide-es/input-validation.md
index 2f56fda3e73..dd461e355f7 100644
--- a/docs/guide-es/input-validation.md
+++ b/docs/guide-es/input-validation.md
@@ -584,7 +584,7 @@ JS;
 
 ### Validación Diferida <span id="deferred-validation"></span>
 
-Si necesitas realizar validación del lado del cliente asincrónica, puedes crear [Objetos Diferidos](http://api.jquery.com/category/deferred-object/).
+Si necesitas realizar validación del lado del cliente asincrónica, puedes crear [Objetos Diferidos](https://api.jquery.com/category/deferred-object/).
 Por ejemplo, para realizar validación AJAX personalizada, puedes utilizar el siguiente código:
 
 ```php
diff --git a/docs/guide-es/intro-yii.md b/docs/guide-es/intro-yii.md
index 791b94eb473..5c57a80a2c6 100644
--- a/docs/guide-es/intro-yii.md
+++ b/docs/guide-es/intro-yii.md
@@ -51,7 +51,7 @@ Esta guía está basada principalmente en la versión 2.0. del framework.
 Requisitos y Prerequisitos
 --------------------------
 
-Yii 2.0 requiere PHP 5.4.0 o una versión posterior y corre de mejor manera en la última versión de PHP 7. Se pueden encontrar requisitos más detallados de características individuales
+Yii 2.0 requiere PHP 5.4.0 o una versión posterior y corre de mejor manera en la última versión de PHP. Se pueden encontrar requisitos más detallados de características individuales
 ejecutando el script de comprobación incluido en cada lanzamiento de Yii.
 
 Para utilizar Yii se requieren conocimientos básicos de programación orientada a objetos (POO), porque el framework Yii se basa íntegramente en esta tecnología.
diff --git a/docs/guide-es/output-client-scripts.md b/docs/guide-es/output-client-scripts.md
index f74ddcae224..a21963fddc6 100644
--- a/docs/guide-es/output-client-scripts.md
+++ b/docs/guide-es/output-client-scripts.md
@@ -30,7 +30,7 @@ en vez de agregar uno nuevo. En caso de no proveerlo, el código JS en sí será
 Un script externo puede ser agregado de esta manera:
 
 ```php
-$this->registerJsFile('http://example.com/js/main.js', ['depends' => [\yii\web\JqueryAsset::class]]);
+$this->registerJsFile('https://example.com/js/main.js', ['depends' => [\yii\web\JqueryAsset::class]]);
 ```
 
 Los argumentos para [[yii\web\View::registerJsFile()|registerJsFile()]] son similares a los de
@@ -76,7 +76,7 @@ Si quieres especificar propiedades adicionales a la etiqueta style, pasa un arra
 Si necesitas asegurarte que haya sólo una etiqueta style utiliza el cuarto argumento como fue mencionado en las descripciones de meta etiquetas.
 
 ```php
-$this->registerCssFile("http://example.com/css/themes/black-and-white.css", [
+$this->registerCssFile("https://example.com/css/themes/black-and-white.css", [
     'depends' => [BootstrapAsset::class],
     'media' => 'print',
 ], 'css-print-theme');
diff --git a/docs/guide-es/rest-authentication.md b/docs/guide-es/rest-authentication.md
index 7df5f6fbd27..3e23aedfecc 100644
--- a/docs/guide-es/rest-authentication.md
+++ b/docs/guide-es/rest-authentication.md
@@ -17,9 +17,9 @@ Hay muchas maneras de enviar una token (pieza) de acceso:
   `https://example.com/users?access-token=xxxxxxxx`. Debido que muchos servidores dejan los parámetros de consulta en los logs del servidor,
   esta aproximación suele ser usada principalmente para servir peticiones `JSONP`
   que no usen las cabeceras HTTP para enviar piezas de acceso.
-* [OAuth 2](http://oauth.net/2/): la pieza de acceso es obtenida por el consumidor por medio de una autorización del servidor
+* [OAuth 2](https://oauth.net/2/): la pieza de acceso es obtenida por el consumidor por medio de una autorización del servidor
   y enviada al API del servidor según el protocolo
-  OAuth 2 [tokens HTTP del portador](http://tools.ietf.org/html/rfc6750).
+  OAuth 2 [tokens HTTP del portador](https://datatracker.ietf.org/doc/html/rfc6750).
 
 Yii soporta todos los métodos anteriores de autenticación. Puedes crear nuevos métodos de autenticación de una forma fácil.
 
diff --git a/docs/guide-es/rest-quick-start.md b/docs/guide-es/rest-quick-start.md
index 05b9844693d..06ae63d2a32 100644
--- a/docs/guide-es/rest-quick-start.md
+++ b/docs/guide-es/rest-quick-start.md
@@ -9,7 +9,7 @@ En particular, Yii soporta las siguientes características sobre APIs RESTful;
 * Formato de respuesta de negocio (soporta JSON y XML por defecto);
 * Personalización de objetos serializados con soporte para campos de salida seleccionables;
 * Formateo apropiado de colecciones de datos y validación de errores;
-* Soporte para [HATEOAS](http://en.wikipedia.org/wiki/HATEOAS);
+* Soporte para [HATEOAS](https://en.wikipedia.org/wiki/HATEOAS);
 * Eficiente enrutamiento con una adecuada comprobación del verbo(verb) HTTP;
 * Incorporado soporte para las `OPTIONS` y `HEAD` verbos;
 * Autenticación y autorización;
diff --git a/docs/guide-es/rest-resources.md b/docs/guide-es/rest-resources.md
index b2353103505..18b4066910e 100644
--- a/docs/guide-es/rest-resources.md
+++ b/docs/guide-es/rest-resources.md
@@ -116,7 +116,7 @@ la petición `http://localhost/users?fields=id,email&expand=profile` puede devol
 
 ## Enlaces (Links) <span id="links"></span>
 
-[HATEOAS](http://en.wikipedia.org/wiki/HATEOAS), es una abreviación de Hipermedia es el Motor del Estado de la Aplicación (Hypermedia as the Engine of Application State), promueve que las APIs RESTfull devuelvan información que permita a los clientes descubrir las acciones que soportan los recursos devueltos. El sentido de HATEOAS es devolver un conjunto de hiperenlaces con relación a la información, cuando los datos de los recursos son servidos por las APIs.
+[HATEOAS](https://en.wikipedia.org/wiki/HATEOAS), es una abreviación de Hipermedia es el Motor del Estado de la Aplicación (Hypermedia as the Engine of Application State), promueve que las APIs RESTfull devuelvan información que permita a los clientes descubrir las acciones que soportan los recursos devueltos. El sentido de HATEOAS es devolver un conjunto de hiperenlaces con relación a la información, cuando los datos de los recursos son servidos por las APIs.
 
 Las clases con recursos pueden soportar HATEOAS implementando el interfaz [[yii\web\Linkable]] . El interfaz contiene sólo un método [[yii\web\Linkable::getLinks()|getLinks()]] el cual debe de de devolver una lista de  [[yii\web\Link|links]].
 Típicamente, debes devolver al menos un enlace `self` representando la URL al mismo recurso objeto. Por ejemplo,
diff --git a/docs/guide-es/rest-response-formatting.md b/docs/guide-es/rest-response-formatting.md
index 7f967a5d6a5..c1727d923fb 100644
--- a/docs/guide-es/rest-response-formatting.md
+++ b/docs/guide-es/rest-response-formatting.md
@@ -5,7 +5,7 @@ Cuando se maneja una petición al API RESTful, una aplicación realiza usualment
 con el formato de la respuesta:
 
 1. Determinar varios factores que pueden afectar al formato de la respuesta, como son el tipo de medio, lenguaje, versión, etc.
-   Este proceso es también conocido como [negociación de contenido (content negotiation)](http://en.wikipedia.org/wiki/Content_negotiation).
+   Este proceso es también conocido como [negociación de contenido (content negotiation)](https://en.wikipedia.org/wiki/Content_negotiation).
 2. La conversión de objetos recurso en arrays, como está descrito en la sección [Recursos (Resources)](rest-resources.md).
    Esto es realizado por la clase [[yii\rest\Serializer]].
 3. La conversión de arrays en cadenas con el formato determinado por el paso de negociación de contenido. Esto es
diff --git a/docs/guide-es/rest-versioning.md b/docs/guide-es/rest-versioning.md
index 49ea108678d..b7dcedbca2b 100644
--- a/docs/guide-es/rest-versioning.md
+++ b/docs/guide-es/rest-versioning.md
@@ -5,11 +5,11 @@ Una buena API ha de ser *versionada*: los cambios y las nuevas características
 las APIs están destinadas a ser usadas por los clientes fuera de tu control. Por esta razón, compatibilidad hacia atrás (BC Backward compatibility)
 de las APIs ha de ser mantenida siempre que sea posible. Si es necesario un cambio que puede romper la BC, debes de introducirla en la nueva versión del API, e incrementar el número de versión. Los clientes que la usan pueden continuar usando la antigua versión de trabajo del API; los nuevos y actualizados clientes pueden obtener la nueva funcionalidad de la nueva versión del API.
 
-> Tip: referirse a [Semántica del versionado](http://semver.org/)
+> Tip: referirse a [Semántica del versionado](https://semver.org/)
 para más información en el diseño del número de versión del API.
 
 Una manera común de implementar el versionado de la API es embeber el número de versión en las URLs de la  API.
-Por ejemplo, `http://example.com/v1/users` se refiere al punto final `/users` de la versión 1 de la API. 
+Por ejemplo, `https://example.com/v1/users` se refiere al punto final `/users` de la versión 1 de la API. 
 
 Otro método de versionado de la API,
 la cual está ganando predominancia recientemente, es poner el número de versión en las cabeceras de la petición HTTP. Esto se suele hacer típicamente a través la cabecera `Accept`:
@@ -90,8 +90,8 @@ return [
 ];
 ```
 
-Como consecuencia del código anterior, `http://example.com/v1/users` devolverá la lista de usuarios en la versión 1, mientras
-`http://example.com/v2/users` devolverá la versión 2 de los usuarios.
+Como consecuencia del código anterior, `https://example.com/v1/users` devolverá la lista de usuarios en la versión 1, mientras
+`https://example.com/v2/users` devolverá la versión 2 de los usuarios.
 
 Gracias a los módulos, el código de las diferentes principales versiones puede ser aislado. Pero los módulos hacen posible
 reutilizar el código a través de los módulos vía clases base comunes y otros recursos compartidos.
diff --git a/docs/guide-es/runtime-requests.md b/docs/guide-es/runtime-requests.md
index 53366c36f47..52bb6d2c3f3 100644
--- a/docs/guide-es/runtime-requests.md
+++ b/docs/guide-es/runtime-requests.md
@@ -76,14 +76,14 @@ if ($request->isPut)  { // el método de la request es PUT }
 
 El componente `request` proporciona muchas maneras de inspeccionar la URL solicitada actualmente.
 
-Asumiendo que la URL que se está solicitando es `http://example.com/admin/index.php/product?id=100`, se pueden obtener 
+Asumiendo que la URL que se está solicitando es `https://example.com/admin/index.php/product?id=100`, se pueden obtener 
 varias partes de la URL explicadas en los siguientes puntos:
 
 * [[yii\web\Request::url|url]]: devuelve `/admin/index.php/product?id=100`, que es la URL sin la parte de información 
   del host.
-* [[yii\web\Request::absoluteUrl|absoluteUrl]]: devuelve `http://example.com/admin/index.php/product?id=100`, que es 
+* [[yii\web\Request::absoluteUrl|absoluteUrl]]: devuelve `https://example.com/admin/index.php/product?id=100`, que es 
   la URL entera, incluyendo la parte de información del host.
-* [[yii\web\Request::hostInfo|hostInfo]]: devuelve `http://example.com`, que es la parte de información del host 
+* [[yii\web\Request::hostInfo|hostInfo]]: devuelve `https://example.com`, que es la parte de información del host 
   dentro de la URL.
 * [[yii\web\Request::pathInfo|pathInfo]]: devuelve `/product`, que es la parte posterior al script de entrada y 
   anterior al interrogante (query string)
diff --git a/docs/guide-es/runtime-responses.md b/docs/guide-es/runtime-responses.md
index 8c8ec0d24a5..d24f7b7b90e 100644
--- a/docs/guide-es/runtime-responses.md
+++ b/docs/guide-es/runtime-responses.md
@@ -173,7 +173,7 @@ ejemplo:
 ```php
 public function actionOld()
 {
-    return $this->redirect('http://example.com/new', 301);
+    return $this->redirect('https://example.com/new', 301);
 }
 ```
 
@@ -185,7 +185,7 @@ seguido por una llamada al método [[yii\web\Response::send()]] para asegurar qu
 respuesta.
 
 ```php
-\Yii::$app->response->redirect('http://example.com/new', 301)->send();
+\Yii::$app->response->redirect('https://example.com/new', 301)->send();
 ```
 
 > Info: De forma predeterminada, el método [[yii\web\Response::redirect()]] asigna el estado de respuesta al 
@@ -236,11 +236,11 @@ puede terminar antes mientras el servidor Web envía el fichero. Para usar esta
 [[yii\web\Response::xSendFile()]]. La siguiente lista resume como habilitar la característica `X-Sendfile` para 
 algunos servidores Web populares.
 
-- Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
-- Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Apache: [X-Sendfile](https://tn123.org/mod_xsendfile)
+- Lighttpd v1.4: [X-LIGHTTPD-send-file](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Lighttpd v1.5: [X-Sendfile](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
-- Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
+- Cherokee: [X-Sendfile and X-Accel-Redirect](https://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 ## Enviar la Respuesta <span id="sending-response"></span>
 
diff --git a/docs/guide-es/runtime-routing.md b/docs/guide-es/runtime-routing.md
index 213312a820d..1a538183ab2 100644
--- a/docs/guide-es/runtime-routing.md
+++ b/docs/guide-es/runtime-routing.md
@@ -143,7 +143,7 @@ echo Url::to(['post/view', 'id' => 100]);
 // crea una URL interna: /index.php?r=post/view&id=100#contentecho 
 Url::to(['post/view', 'id' => 100, '#' => 'content']);
 
-// crea una URL absoluta: http://www.example.com/index.php?r=post/index
+// crea una URL absoluta: https://www.example.com/index.php?r=post/index
 echo Url::to(['post/index'], true);
 
 // crea una URL absoluta usando el esquema https: https://www.example.com/index.php?r=post/index
@@ -195,10 +195,10 @@ use yii\helpers\Url;
 // la URL solicitada actualmente: /index.php?r=admin/post/index
 echo Url::to();
 
-// una URL con alias: http://example.comYii::setAlias('@example', 'http://example.com/');
+// una URL con alias: https://example.comYii::setAlias('@example', 'https://example.com/');
 echo Url::to('@example');
 
-// una URL absoluta: http://example.com/images/logo.gif
+// una URL absoluta: https://example.com/images/logo.gif
 echo Url::to('/images/logo.gif', true);```
 ```
 
@@ -427,18 +427,18 @@ Sin usar ningún parámetro opcional, se tendrían que crear 4 reglas para logra
 
 Es posible incluir nombres de servidores Web en los parámetros de las URLs. Esto es practico principalmente cuando una 
 aplicación debe tener distintos comportamientos paro diferentes nombres de servidores Web. Por ejemplo, las siguientes 
-reglas convertirán la URL `http://admin.example.com/login` en la ruta `admin/user/login` y 
-`http://www.example.com/login` en `site/login`.
+reglas convertirán la URL `https://admin.example.com/login` en la ruta `admin/user/login` y 
+`https://www.example.com/login` en `site/login`.
 
 ```php
 [
-    'http://admin.example.com/login' => 'admin/user/login',
-    'http://www.example.com/login' => 'site/login',
+    'https://admin.example.com/login' => 'admin/user/login',
+    'https://www.example.com/login' => 'site/login',
 ]
 ```
 
 También se pueden incrustar parámetros en los nombres de servidor para extraer información dinámica de ellas. Por 
-ejemplo, la siguiente regla convertirá la URL `http://en.example.com/posts` en la ruta `post/index` y el parámetro 
+ejemplo, la siguiente regla convertirá la URL `https://en.example.com/posts` en la ruta `post/index` y el parámetro 
 `language=en`.
 
 ```php
@@ -448,8 +448,8 @@ ejemplo, la siguiente regla convertirá la URL `http://en.example.com/posts` en
 ```
 
 > Note: Las reglas con nombres de servidor NO deben incluir el subdirectorio del script de entrada (entry script) en 
-  sus patrones. Por ejemplo, is la aplicación se encuentra en `http://www.example.com/sandbox/blog`, entonces se debe 
-  usar el patrón `http://www.example.com/posts` en lugar de `http://www.example.com/sandbox/blog/posts`. Esto 
+  sus patrones. Por ejemplo, is la aplicación se encuentra en `https://www.example.com/sandbox/blog`, entonces se debe 
+  usar el patrón `https://www.example.com/posts` en lugar de `https://www.example.com/sandbox/blog/posts`. Esto 
   permitirá que la aplicación se pueda desarrollar en cualquier directorio sin la necesidad de cambiar el código de la 
   aplicación.
 
diff --git a/docs/guide-es/runtime-sessions-cookies.md b/docs/guide-es/runtime-sessions-cookies.md
index 883c6f4a143..c409fa05328 100644
--- a/docs/guide-es/runtime-sessions-cookies.md
+++ b/docs/guide-es/runtime-sessions-cookies.md
@@ -120,7 +120,7 @@ Por defecto la clase [[yii\web\Session]] almacena los datos de sesión como fich
 
 * [[yii\web\DbSession]]: almacena los datos de sesión en una tabla en la base de datos.
 * [[yii\web\CacheSession]]: almacena los datos de sesión en una caché con la ayuda de la configuración del [componente caché](caching-data.md#cache-components).
-* [[yii\redis\Session]]: almacena los datos de sesión usando [redis](http://redis.io/) como medio de almacenamiento.
+* [[yii\redis\Session]]: almacena los datos de sesión usando [redis](https://redis.io/) como medio de almacenamiento.
 * [[yii\mongodb\Session]]: almacena los datos de sesión en [MongoDB](https://www.mongodb.com/).
 
 Todas estas clases de sesión soportan los mismos métodos de la API. Como consecuencia, puedes cambiar el uso de diferentes almacenamientos de sesión sin la necesidad de modificar el código de tu aplicación que usa sesiones.
diff --git a/docs/guide-es/security-authorization.md b/docs/guide-es/security-authorization.md
index 213630c9ec8..2e7590f326b 100644
--- a/docs/guide-es/security-authorization.md
+++ b/docs/guide-es/security-authorization.md
@@ -153,7 +153,7 @@ class SiteController extends Controller
 ## Control de Acceso Basado en Roles (RBAC) <span id="rbac"></span>
 
 El Control de Acceso Basado en Roles (RBAC) provee una simple pero poderosa manera centralizada de control de acceso. Por favos consulta
-la [Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control) para más detalles sobre comparar RBAC
+la [Wikipedia](https://en.wikipedia.org/wiki/Role-based_access_control) para más detalles sobre comparar RBAC
 con otros mecanismos de control de acceso más tradicionales.
 
 Yii implementa una Jerarquía General RBAC, siguiendo el [modelo NIST RBAC](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf).
diff --git a/docs/guide-es/start-databases.md b/docs/guide-es/start-databases.md
index 6080cd31a5e..d12cf82db05 100644
--- a/docs/guide-es/start-databases.md
+++ b/docs/guide-es/start-databases.md
@@ -225,7 +225,7 @@ Probándolo <span id="trying-it-out"></span>
 Para ver cómo funciona, utiliza a la siguiente URL en tu navegador:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 ![Lista de Países](images/start-country-list.png)
@@ -235,7 +235,7 @@ Si haces click en el botón "2", verás que la página muestra otros cinco país
 Observa más cuidadosamente y verás que la URL en el navegador cambia a
 
 ```
-http://hostname/index.php?r=country%2Findex&page=2
+https://hostname/index.php?r=country%2Findex&page=2
 ```
 
 Entre bastidores, [[yii\data\Pagination|Pagination]] está realizando su magia.
diff --git a/docs/guide-es/start-forms.md b/docs/guide-es/start-forms.md
index 64e58771b49..fceddd5836d 100644
--- a/docs/guide-es/start-forms.md
+++ b/docs/guide-es/start-forms.md
@@ -166,7 +166,7 @@ Probándolo <span id="trying-it-out"></span>
 Para ver cómo funciona, utiliza tu navegador para ir al siguiente URL:
 
 ```
-http://hostname/index.php?r=site/entry
+https://hostname/index.php?r=site/entry
 ```
 
 Verás una página que muestra un formulario con dos campos de input. Adelante de cada campo de input, será mostrada también 
diff --git a/docs/guide-es/start-gii.md b/docs/guide-es/start-gii.md
index 281ffaac178..9c059c8058f 100644
--- a/docs/guide-es/start-gii.md
+++ b/docs/guide-es/start-gii.md
@@ -43,7 +43,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 De esta manera, tu aplicación habrá habilitado Gii, y puedes acceder al módulo a través de la siguiente URL:
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 ![Gii](images/start-gii.png)
@@ -98,7 +98,7 @@ Probándolo <span id="trying-it-out"></span>
 Para ver cómo funciona, accede desde tu navegador a la siguiente URL:
 
 ```
-http://hostname/index.php?r=country/index
+https://hostname/index.php?r=country/index
 ```
 
 Verás una grilla de datos mostrando los países de la base de datos. Puedes ordenar la grilla
diff --git a/docs/guide-es/start-hello.md b/docs/guide-es/start-hello.md
index a75f4005393..40eee8b8609 100644
--- a/docs/guide-es/start-hello.md
+++ b/docs/guide-es/start-hello.md
@@ -88,7 +88,7 @@ es llamado en una acción, buscará un archivo PHP llamado `views/ControllerID/N
 
 Nota que en el código de arriba, el parámetro `message` es procesado por [[yii\helpers\Html::encode()|HTML-encoded]]
 antes de ser impreso. Esto es necesario ya que el parámetro viene de un usuario final, haciéndolo vulnerable a 
-[ataques cross-site scripting (XSS)](http://es.wikipedia.org/wiki/Cross-site_scripting) pudiendo inyectar código de Javascript malicioso dentro del parámetro.
+[ataques cross-site scripting (XSS)](https://es.wikipedia.org/wiki/Cross-site_scripting) pudiendo inyectar código de Javascript malicioso dentro del parámetro.
 
 Naturalmente, puedes colocar mas contenido en la vista `say`. El contenido puede consistir de etiquetas HTML, texto plano, e inclusive código PHP.
 De hecho, la vista `say` es sólo un script PHP que es ejecutado por el método [[yii\web\Controller::render()|render()]].
@@ -101,7 +101,7 @@ Probándolo <span id="trying-it-out"></span>
 Después de crear la acción y la vista, puedes acceder a la nueva página abriendo el siguiente URL:
 
 ```
-http://hostname/index.php?r=site%2Fsay&message=Hello+World
+https://hostname/index.php?r=site%2Fsay&message=Hello+World
 ```
 
 ![Hello World](images/start-hello-world.png)
diff --git a/docs/guide-es/start-installation.md b/docs/guide-es/start-installation.md
index a685b964bdb..1013342e9d8 100644
--- a/docs/guide-es/start-installation.md
+++ b/docs/guide-es/start-installation.md
@@ -142,13 +142,13 @@ Configurar Servidores Web <span id="configuring-web-servers"></span>
   de poner la aplicación en un servidor de producción.
 
 La aplicación instalada siguiendo las instrucciones mencionadas debería estar lista para usar tanto
-con un [servidor HTTP Apache](http://httpd.apache.org/) como con un [servidor HTTP Nginx](http://nginx.org/),
-en Windows, Mac OS X, o Linux utilizando PHP 5.4 o mayor. Yii 2.0 también es compatible con [HHVM](http://hhvm.com/)
+con un [servidor HTTP Apache](https://httpd.apache.org/) como con un [servidor HTTP Nginx](https://nginx.org/),
+en Windows, Mac OS X, o Linux utilizando PHP 5.4 o mayor. Yii 2.0 también es compatible con [HHVM](https://hhvm.com/)
 de Facebook. De todos modos, hay algunos casos donde HHVM se comporta diferente del
 PHP oficial, por lo que tendrás que tener cuidados extra al utilizarlo.
 
 En un servidor de producción, podrías querer configurar el servidor Web para que la aplicación sea accedida
-a través de la URL `http://www.example.com/index.php` en vez de `http://www.example.com/basic/web/index.php`. Tal configuración
+a través de la URL `https://www.example.com/index.php` en vez de `https://www.example.com/basic/web/index.php`. Tal configuración
 require apuntar el document root de tu servidor Web a la carpeta `basic/web`. También podrías
 querer ocultar `index.php` de la URL, como se describe en la sección [Parseo y Generación de URLs](runtime-url-handling.md).
 En esta sub-sección, aprenderás a configurar tu servidor Apache o Nginx para alcanzar estos objetivos.
@@ -187,7 +187,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Configuración Recomendada de Nginx <span id="recommended-nginx-configuration"></span>
 
-Para utilizar [Nginx](http://wiki.nginx.org/), debes instalar PHP como un [FPM SAPI](https://www.php.net/install.fpm).
+Para utilizar [Nginx](https://wiki.nginx.org/), debes instalar PHP como un [FPM SAPI](https://www.php.net/install.fpm).
 Utiliza la siguiente configuración de Nginx, reemplazando `path/to/basic/web` con la ruta real a
 `basic/web` y `mysite.test` con el hostname real a servir.
 
diff --git a/docs/guide-es/start-looking-ahead.md b/docs/guide-es/start-looking-ahead.md
index 11d7656da1b..a881087c011 100644
--- a/docs/guide-es/start-looking-ahead.md
+++ b/docs/guide-es/start-looking-ahead.md
@@ -32,4 +32,4 @@ Esta sección resumirá los recursos disponibles de Yii que te ayudarán a ser m
     - Facebook: <https://www.facebook.com/groups/yiitalk/>
     - Twitter: <https://twitter.com/yiiframework>
     - LinkedIn: <https://www.linkedin.com/groups/yii-framework-1483367>
-    - Stackoverflow: <http://stackoverflow.com/questions/tagged/yii2>
+    - Stackoverflow: <https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide-es/start-workflow.md b/docs/guide-es/start-workflow.md
index 4ab14c68d63..e564b8f6978 100644
--- a/docs/guide-es/start-workflow.md
+++ b/docs/guide-es/start-workflow.md
@@ -2,12 +2,12 @@ Corriendo Aplicaciones
 ======================
 
 Después de haber instalado Yii, tienes una aplicación totalmente funcional a la que se puede acceder a través de
-la URL `http://hostname/basic/web/index.php` o `http://hostname/index.php`, dependiendo de tu configuración.
+la URL `https://hostname/basic/web/index.php` o `https://hostname/index.php`, dependiendo de tu configuración.
 Esta sección será una introducción a la funcionalidad incluida de la aplicación, cómo se organiza el código,
 y cómo la aplicación maneja los requests en general.
 
 > Info: Por simplicidad, en el transcurso de este tutorial "Para Empezar", se asume que has definido `basic/web`
-  como el document root de tu servidor Web, y configurado la URL de acceso a tu aplicación para que sea `http://hostname/index.php`
+  como el document root de tu servidor Web, y configurado la URL de acceso a tu aplicación para que sea `https://hostname/index.php`
   o similar.
   Dependiendo de tus necesidades, por favor ajusta dichas URLs.
   
@@ -20,7 +20,7 @@ Funcionalidad <span id="functionality"></span>
 
 La aplicación básica contiene 4 páginas:
 
-* página principal, mostrada cuando se accede a la URL `http://hostname/index.php`,
+* página principal, mostrada cuando se accede a la URL `https://hostname/index.php`,
 * página "Acerca de (About)",
 * la página "Contacto (Contact)", que muestra un formulario de contacto que permite a los usuarios finales contactarse vía email,
 * y la página "Login", que muestra un formulario para loguearse que puede usarse para autenticar usuarios. 
@@ -42,7 +42,7 @@ Estructura de la aplicación <span id="application-structure"></span>
 
 Los archivos y directorios más importantes en tu aplicación son (asumiendo que la raíz de la aplicación es `basic`):
 
-```js
+```
 basic/                  base path de la aplicación
     composer.json       archivo utilizado por Composer, describe información de sus paquetes y librerías
     config/             contiene la configuración de las aplicaciones (y otras)
@@ -63,7 +63,7 @@ basic/                  base path de la aplicación
 En general, los archivos de la aplicación pueden ser divididos en dos: aquellos bajo `basic/web` y aquellos bajo otros directorios.
 Los primeros pueden accederse directo por HTTP (ej., en un navegador), mientras que los últimos no pueden ni deben ser accedidos así.
 
-Yii implementa el patrón de diseño [modelo-vista-controlador (MVC)](http://wikipedia.org/wiki/Model-view-controller),
+Yii implementa el patrón de diseño [modelo-vista-controlador (MVC)](https://wikipedia.org/wiki/Model-view-controller),
 que es reflejado en la estructura de directorios utilizada. El directorio `models` contiene todas las [clases del modelo](structure-models.md),
 el directorio `views` contiene todas las [vistas (templates)](structure-views.md), y el directorio `controllers` contiene
 todas las [clases de controladores](structure-controllers.md).
diff --git a/docs/guide-es/structure-applications.md b/docs/guide-es/structure-applications.md
index 5c07fbd98c3..d01e1a6ec2c 100644
--- a/docs/guide-es/structure-applications.md
+++ b/docs/guide-es/structure-applications.md
@@ -255,7 +255,7 @@ incluido la traducción de mensajes, formato de fecha y números, etc. Por ejemp
 utilizará el valor de esta propiedad para determinar en qué idioma el calendario debe ser mostrado y cómo dar formato
 a la fecha.
 
-Se recomienda que especifiques el idioma en términos de una [Código de idioma IETF](http://es.wikipedia.org/wiki/Código_de_idioma_IETF).
+Se recomienda que especifiques el idioma en términos de una [Código de idioma IETF](https://es.wikipedia.org/wiki/Código_de_idioma_IETF).
 Por ejemplo, `en` se refiere a English, mientras que `en-US` se refiere a English (United States).
 
 Se pueden encontrar más detalles de este aspecto en la sección [Internacionalización](tutorial-i18n.md).
@@ -326,7 +326,7 @@ sin necesidad de tocar el código que lo utiliza.
 Esta propiedad especifica el idioma en el cual la aplicación está escrita. El valor por defecto es `'en-US'`,
 referido a English (United States). Deberías configurar esta propiedad si el contenido de texto en tu código no está en inglés.
 
-Como la propiedad [language](#language), deberías configurar esta propiedad siguiendo el [Código de idioma IETF](http://es.wikipedia.org/wiki/Código_de_idioma_IETF).
+Como la propiedad [language](#language), deberías configurar esta propiedad siguiendo el [Código de idioma IETF](https://es.wikipedia.org/wiki/Código_de_idioma_IETF).
 Por ejemplo, `en` se refiere a English, mientras que `en-US` se refiere a English (United States).
 
 Puedes encontrar más detalles de esta propiedad en la sección [Internacionalización](tutorial-i18n.md).
diff --git a/docs/guide-es/structure-assets.md b/docs/guide-es/structure-assets.md
index 91b61ee1ad4..7edbf5d1b1b 100644
--- a/docs/guide-es/structure-assets.md
+++ b/docs/guide-es/structure-assets.md
@@ -74,7 +74,7 @@ A continuación se explicarán más detalladamente las propiedades del [[yii\web
       se puede determinar anteponiendo [[yii\web\AssetManager::basePath]] a la ruta relativa, y la URL actual de un
       archivo puede ser determinada anteponiendo [[yii\web\AssetManager::baseUrl]] a la ruta relativa.
     - una URL absoluta que represente un archivo JavaScript externo. Por ejemplo,
-    `http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` o
+    `https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` o
     `//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js`.
 * [[yii\web\AssetBundle::css|css]]: un array que lista los archivos CSS que contiene este bundle. El formato de este
   array es el mismo que el de [[yii\web\AssetBundle::js|js]].
@@ -207,7 +207,7 @@ la opción de publicación `beforeCopy`, solo los subdirectorios `fonts` y `css`
 
 ### Bower y NPM Assets <span id="bower-npm-assets"></span>
 
-La mayoría de paquetes JavaScript/CSS se gestionan con [Bower](http://bower.io/) y/o [NPM](https://www.npmjs.com/).
+La mayoría de paquetes JavaScript/CSS se gestionan con [Bower](https://bower.io/) y/o [NPM](https://www.npmjs.com/).
 Si tu aplicación o extensión usa estos paquetes, se recomienda seguir los siguientes pasos para gestionar los assets en
  la librería:
 
@@ -393,8 +393,8 @@ personalizar como se describe en la subsección [Personalización de Asset Bundl
 
 En lugar de escribir código CSS y/o JavaScript directamente, los desarrolladores a menudo escriben código usando una
 sintaxis extendida y usan herramientas especiales para convertirlos en CSS/JavaScript. Por ejemplo, para código CSS se
-puede usar [LESS](http://lesscss.org) o [SCSS](http://sass-lang.com/); y para JavaScript se puede usar
-[TypeScript](http://www.typescriptlang.org/).
+puede usar [LESS](https://lesscss.org) o [SCSS](https://sass-lang.com/); y para JavaScript se puede usar
+[TypeScript](https://www.typescriptlang.org/).
 
 Se pueden listar los archivos asset con sintaxis extendida (extended syntax) en [[yii\web\AssetBundle::css|css]] y
 [[yii\web\AssetBundle::js|js]] en un asset bundle. Por ejemplo:
@@ -460,7 +460,7 @@ Los tokens `{from}` y `{to}` en los comandos se reemplazarán por las rutas de o
 de destino de los archivos asset.
 
 > Info: Hay otras maneras de trabajar con las assets de sintaxis extendidas, además de la descrita
-  anteriormente. Por ejemplo, se pueden usar herramientas generadoras tales como [grunt](http://gruntjs.com/) para
+  anteriormente. Por ejemplo, se pueden usar herramientas generadoras tales como [grunt](https://gruntjs.com/) para
   monitorear y convertir automáticamente los assets de sintaxis extendidas. En este caso, se deben listar los archivos
   CSS/JavaScript resultantes en lugar de los archivos de originales.
 
@@ -641,5 +641,5 @@ El archivo de configuración generado se puede incluir en la configuración de l
 anterior subsección.
 
 > Info: Usar el comando `asset` no es la única opción de automatizar el proceso de combinación y compresión.
-  Se puede usar la excelente herramienta de ejecución de tareas [grunt](http://gruntjs.com/) para lograr el mismo
+  Se puede usar la excelente herramienta de ejecución de tareas [grunt](https://gruntjs.com/) para lograr el mismo
   objetivo.
diff --git a/docs/guide-es/structure-controllers.md b/docs/guide-es/structure-controllers.md
index c9fb8b0b674..1c6ec53e455 100644
--- a/docs/guide-es/structure-controllers.md
+++ b/docs/guide-es/structure-controllers.md
@@ -1,7 +1,7 @@
 Controladores
 =============
 
-Los controladores son parte del patrón o arquitectura [MVC](http://es.wikipedia.org/wiki/Modelo%E2%80%93vista%E2%80%93controlador).
+Los controladores son parte del patrón o arquitectura [MVC](https://es.wikipedia.org/wiki/Modelo%E2%80%93vista%E2%80%93controlador).
 Son objetos que extienden de [[yii\base\Controller]] y se encargan de procesar los `requests` (consultas)
 generando `responses` (respuestas). Particularmente, después de tomar el control desde las [aplicaciones](structure-applications.md),
 los controladores analizarán los datos que entran en el `request`, los pasan a los [modelos](structure-models.md), inyectan los
@@ -83,7 +83,7 @@ o el siguiente formato si el controlador pertenece a un módulo:
 ModuleID/ControllerID/ActionID
 ```
 
-Entonces si un usuario solicita la URL `http://hostname/index.php?r=site/index`, la acción `index` del controlador `site`
+Entonces si un usuario solicita la URL `https://hostname/index.php?r=site/index`, la acción `index` del controlador `site`
 será ejecutado. Para más detalles acerca de cómo las son resueltas en acciones, por favor consulta
 la sección [Routing](runtime-routing.md).
 
@@ -178,7 +178,7 @@ Puedes configurar [[yii\base\Application::controllerMap|controller map]] en la
 Cada aplicación tiene un controlador por defecto especificado a través de la propiedad [[yii\base\Application::defaultRoute]].
 Cuando un `request` no especifica una [ruta](#ids-routes), se utilizará la ruta especificada en esta propiedad.
 Para [[yii\web\Application|aplicaciones Web]], el valor es `'site'`, mientras que para [[yii\console\Application|aplicaciones de consola]]
-es `help`. Por lo tanto, si la URL es `http://hostname/index.php`, significa que el `request` será manejado por el controlador `site`.
+es `help`. Por lo tanto, si la URL es `https://hostname/index.php`, significa que el `request` será manejado por el controlador `site`.
 
 Puedes cambiar el controlador por defecto con la siguiente [configuración de la aplicación](structure-applications.md#application-configurations):
 
@@ -323,8 +323,8 @@ un objeto `response`):
 ```php
 public function actionForward()
 {
-    // redirige el navegador del usuario a http://example.com
-    return $this->redirect('http://example.com');
+    // redirige el navegador del usuario a https://example.com
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -354,13 +354,13 @@ class PostController extends Controller
 
 Los parámetros de acción serán poblados como se muestra a continuación para distintos `requests`:
 
-* `http://hostname/index.php?r=post/view&id=123`: el parámetro `$id` tomará el valor
+* `https://hostname/index.php?r=post/view&id=123`: el parámetro `$id` tomará el valor
   `'123'`,  mientras que `$version` queda como `null` debido a que no hay un parámetro `version` en la URL.
-* `http://hostname/index.php?r=post/view&id=123&version=2`: los parámetros `$id` y `$version` serán llenados con
+* `https://hostname/index.php?r=post/view&id=123&version=2`: los parámetros `$id` y `$version` serán llenados con
   `'123'` y `'2'`, respectivamente.
-* `http://hostname/index.php?r=post/view`: se lanzará una excepción [[yii\web\BadRequestHttpException]]
+* `https://hostname/index.php?r=post/view`: se lanzará una excepción [[yii\web\BadRequestHttpException]]
   dado que el parámetro `$id` es requerido pero no es provisto en el `request`.
-* `http://hostname/index.php?r=post/view&id[]=123`: una excepción [[yii\web\BadRequestHttpException]] será lanzada
+* `https://hostname/index.php?r=post/view&id[]=123`: una excepción [[yii\web\BadRequestHttpException]] será lanzada
   porque el parámetro `$id` está recibiendo un valor inesperado, el array `['123']`.
 
 Si quieres que un parámetro de acción acepte un array como valor, deberías utilizar el `type-hinting` (especificación de tipo) `array`,
@@ -373,8 +373,8 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-Ahora si el `request` es `http://hostname/index.php?r=post/view&id[]=123`, el parámetro `$id` tomará el valor
-de `['123']`. Si el `request` es `http://hostname/index.php?r=post/view&id=123`, el parámetro `$id` recibirá aún
+Ahora si el `request` es `https://hostname/index.php?r=post/view&id[]=123`, el parámetro `$id` tomará el valor
+de `['123']`. Si el `request` es `https://hostname/index.php?r=post/view&id=123`, el parámetro `$id` recibirá aún
 el mismo array como valor ya que el valor escalar `'123'` será convertido automáticamente en array.
 
 Los ejemplos de arriba muestran principalmente como funcionan los parámetros de acción de una aplicación Web. Para aplicaciones de consola,
diff --git a/docs/guide-es/structure-extensions.md b/docs/guide-es/structure-extensions.md
index 4d399bf7cd1..e480af3edc5 100644
--- a/docs/guide-es/structure-extensions.md
+++ b/docs/guide-es/structure-extensions.md
@@ -81,7 +81,7 @@ En algunas ocasiones excepcionales es posible que tengamos que instalar alguna o
 3. descargar e instalar todas las extensiones dependientes como siguiendo estas mismas instrucciones.
 
 Si una extensión no proporciona clase de autocarga pero sigue el estándar
-[PSR-4](http://www.php-fig.org/psr/psr-4/),  se puede usar la clase de autocarga proporcionada por Yii para cargar
+[PSR-4](https://www.php-fig.org/psr/psr-4/),  se puede usar la clase de autocarga proporcionada por Yii para cargar
 automáticamente las clases de las extensiones. Todo lo que se tiene que hacer es declarar un
 [alias de raíz (root)](concept-aliases.md#defining-aliases)  para las extensiones del directorio raíz. Por ejemplo,
 asumiendo que tenemos instalada una extensión en el directorio `vendor/mycompany/myext`, y las clases de extensión se
@@ -193,7 +193,7 @@ La extensión depende de Yii (por supuesto). Por ello se debe añadir (`yiisoft/
 apropiadas (ej. `1.*`, `@stable`) para cada paquete dependiente. Se deben usar dependencias estables en versiones
 estables de nuestras extensiones.
 
-La mayoría de paquetes JavaScript/CSS se gestionan usando [Bower](http://bower.io/) y/o [NPM](https://www.npmjs.com/),
+La mayoría de paquetes JavaScript/CSS se gestionan usando [Bower](https://bower.io/) y/o [NPM](https://www.npmjs.com/),
 en lugar de Composer. Yii utiliza el [Composer asset plugin](https://github.com/fxpio/composer-asset-plugin)
  para habilitar la gestión de estos tipos de paquetes a través de Composer. Si la extensión depende de un paquete
  Bower, se puede, simplemente, añadir la dependencia de el archivo `composer.json` como se muestra a continuación:
@@ -248,8 +248,8 @@ extensiones de alta calidad.
 #### Namespaces <span id="namespaces"></span>
 
 Para evitar colisiones de nombres y permitir que las clases usen la autocarga en extensiones propias, se deben usar
-namespaces y nombres de clase siguiendo el [estándar PSR-4](http://www.php-fig.org/psr/psr-4/) o el
-[estándar PSR-0](http://www.php-fig.org/psr/psr-0/).
+namespaces y nombres de clase siguiendo el [estándar PSR-4](https://www.php-fig.org/psr/psr-4/) o el
+[estándar PSR-0](https://www.php-fig.org/psr/psr-0/).
 
 Los namespaces de clases propias deben empezar por `NombreProveedor\NombreExtension` donde `NombreExtension` es
 similar al nombre del paquete pero este no debe contener el prefijo `yii2-`. Por ejemplo, para la extensión
@@ -359,7 +359,7 @@ pruebas unitarias (unit tests), pruebas de aceptación (acceptance tests) y prue
 #### Versiones <span id="versioning"></span>
 
 Se debe asignar un número de versión cada vez que se lance una nueva distribución. (ej. `1.0.1`). Recomendamos
-seguir la práctica [Versionamiento Semántico](http://semver.org/lang/es/) para determinar que números se deben usar.
+seguir la práctica [Versionamiento Semántico](https://semver.org/lang/es/) para determinar que números se deben usar.
 
 #### Lanzamientos <span id="releasing"></span>
 
@@ -375,7 +375,7 @@ En los lanzamientos de una extensión, además de archivos de código, también
 mencionados a continuación para facilitar a otra gente el uso de nuestra extensión:
 
 * Un archivo léame (readme) en el directorio raíz: describe que hace la extensión y como instalarla y utilizarla.
-  Recomendamos que se escriba en formato [Markdown](http://daringfireball.net/projects/markdown/) y llamarlo
+  Recomendamos que se escriba en formato [Markdown](https://daringfireball.net/projects/markdown/) y llamarlo
   `readme.md`.
 * Un archivo de registro de cambios (changelog) en el directorio raíz: enumera que cambios se realizan en cada
   lanzamiento. El archivo puede escribirse en formato Markdown y llamarlo `changelog.md`.
@@ -406,7 +406,7 @@ se describe en la subsección [Uso de Extensiones](#using-extensions)
 - [yiisoft/yii2-authclient](https://github.com/yiisoft/yii2-authclient):proporciona un conjunto de clientes de
   autorización tales como el cliente OAuth2 de Facebook, el cliente GitHub OAuth2.
 - [yiisoft/yii2-bootstrap](https://github.com/yiisoft/yii2-bootstrap): proporciona un conjunto de widgets que
-  encapsulan los componentes y plugins de [Bootstrap](http://getbootstrap.com/).
+  encapsulan los componentes y plugins de [Bootstrap](https://getbootstrap.com/).
 - [yiisoft/yii2-debug](https://github.com/yiisoft/yii2-debug): proporciona soporte de depuración para aplicaciones
   Yii. Cuando se usa esta extensión, aparece una barra de herramientas de depuración en la parte inferior de cada
   página. La extensión también proporciona un conjunto de páginas para mostrar información detallada de depuración.
@@ -421,20 +421,20 @@ se describe en la subsección [Uso de Extensiones](#using-extensions)
 - [yiisoft/yii2-httpclient](https://github.com/yiisoft/yii2-httpclient):
   provides an HTTP client.
 - [yiisoft/yii2-imagine](https://github.com/yiisoft/yii2-imagine): proporciona funciones comunes de manipulación de
-  imágenes basadas en [Imagine](http://imagine.readthedocs.org/).
+  imágenes basadas en [Imagine](https://imagine.readthedocs.org/).
 - [yiisoft/yii2-jui](https://github.com/yiisoft/yii2-jui): proporciona un conjunto de widgets que encapsulan las
-  iteraciones y widgets de [JQuery UI](http://jqueryui.com/).
+  iteraciones y widgets de [JQuery UI](https://jqueryui.com/).
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb): proporciona soporte para utilizar
   [MongoDB](https://www.mongodb.com/). incluye características como consultas básicas, Active Record, migraciones,
   caching, generación de código, etc.
 - [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis): proporciona soporte para utilizar
-  [redis](http://redis.io/). incluye características como consultas básicas, Active Record, caching, etc.
+  [redis](https://redis.io/). incluye características como consultas básicas, Active Record, caching, etc.
 - [yiisoft/yii2-smarty](https://github.com/yiisoft/yii2-smarty): proporciona un motor de plantillas basado en
-  [Smarty](http://www.smarty.net/).
+  [Smarty](https://www.smarty.net/).
 - [yiisoft/yii2-sphinx](https://github.com/yiisoft/yii2-sphinx): proporciona soporte para utilizar
-  [Sphinx](http://sphinxsearch.com). incluye características como consultas básicas, Active Record, code generation,
+  [Sphinx](https://sphinxsearch.com). incluye características como consultas básicas, Active Record, code generation,
   etc.
 - [yiisoft/yii2-swiftmailer](https://github.com/yiisoft/yii2-swiftmailer): proporciona características de envío de
-  correos electrónicos basadas en [swiftmailer](http://swiftmailer.org/).
+  correos electrónicos basadas en [swiftmailer](https://swiftmailer.symfony.com/).
 - [yiisoft/yii2-twig](https://github.com/yiisoft/yii2-twig): proporciona un motor de plantillas basado en
   [Twig](https://twig.symfony.com/).
diff --git a/docs/guide-es/structure-filters.md b/docs/guide-es/structure-filters.md
index a6be6c2c130..4aeaf00936f 100644
--- a/docs/guide-es/structure-filters.md
+++ b/docs/guide-es/structure-filters.md
@@ -145,8 +145,8 @@ Para conocer más detalles acerca del control de acceso en general, refiérase a
 ### Filtros del Método de Autenticación <span id="auth-method-filters"></span>
 
 Los filtros del método de autenticación se usan para autenticar a un usuario utilizando varios métodos, tales como la 
-[Autenticación de acceso básico HTTP](http://es.wikipedia.org/wiki/Autenticaci%C3%B3n_de_acceso_b%C3%A1sica), 
-[Oauth 2](http://oauth.net/2/). Estas clases de filtros se encuentran en el espacio de nombres `yii\filters\auth`.
+[Autenticación de acceso básico HTTP](https://es.wikipedia.org/wiki/Autenticaci%C3%B3n_de_acceso_b%C3%A1sica), 
+[Oauth 2](https://oauth.net/2/). Estas clases de filtros se encuentran en el espacio de nombres `yii\filters\auth`.
 
 El siguiente ejemplo muestra como usar [[yii\filters\auth\HttpBasicAuth]] para autenticar un usuario usando un token 
 de acceso basado en el método de Autenticación de acceso básico HTTP. Tenga en cuenta que para que esto funcione, la 
@@ -290,7 +290,7 @@ Por favor refiérase a [Caché de Páginas](caching-page.md) para obtener más d
 ### [[yii\filters\RateLimiter|RateLimiter]] <span id="rate-limiter"></span>
 
 RateLimiter implementa un algoritmo de para limitar la tasa de descarga basándose en 
-[leaky bucket algorithm](http://en.wikipedia.org/wiki/Leaky_bucket). Este se utiliza sobre todo en la implementación 
+[leaky bucket algorithm](https://en.wikipedia.org/wiki/Leaky_bucket). Este se utiliza sobre todo en la implementación 
 de APIs RESTful. Por favor, refiérase a la sección [limite de tasa](rest-rate-limiting.md) para obtener más detalles 
 acerca de el uso de este filtro.
 
@@ -348,7 +348,7 @@ public function behaviors()
 El filtrado CORS puede ser ajustado utilizando la propiedad 'cors'.
 
 * `cors['Origin']`: array utilizado para definir los orígenes permitidos. Puede ser `['*']` (everyone) o 
-  `['http://www.myserver.net', 'http://www.myotherserver.com']`. Por defecto `['*']`.
+  `['https://www.myserver.net', 'https://www.myotherserver.com']`. Por defecto `['*']`.
 * `cors['Access-Control-Request-Method']`: array de los verbos permitidos como `['GET', 'OPTIONS', 'HEAD']`.  Por 
   defecto `['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']`.
 * `cors['Access-Control-Request-Headers']`: array de las cabeceras permitidas. Puede ser `['*']` todas las cabeceras o 
@@ -356,7 +356,7 @@ El filtrado CORS puede ser ajustado utilizando la propiedad 'cors'.
 * `cors['Access-Control-Allow-Credentials']`: define si la petición actual puede hacer uso de credenciales. Puede ser 
   `true`, `false` o `null` (not set). Por defecto `null`.
 * `cors['Access-Control-Max-Age']`: define el tiempo de vida del la petición pref-flight. Por defecto `86400`. Por 
-  ejemplo, habilitar CORS para el origen: `http://www.myserver.net` con métodos `GET`, `HEAD` y `OPTIONS`:
+  ejemplo, habilitar CORS para el origen: `https://www.myserver.net` con métodos `GET`, `HEAD` y `OPTIONS`:
 
 ```php
 use yii\filters\Cors;
@@ -368,7 +368,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
         ],
@@ -389,7 +389,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
             'actions' => [
diff --git a/docs/guide-es/structure-models.md b/docs/guide-es/structure-models.md
index fdd264def18..d6dd7d80611 100644
--- a/docs/guide-es/structure-models.md
+++ b/docs/guide-es/structure-models.md
@@ -2,7 +2,7 @@ Modelos
 =======
 
 Los modelos forman parte de la arquitectura 
-[MVC](http://es.wikipedia.org/wiki/Modelo%E2%80%93vista%E2%80%93controlador). Son objetos que representan datos de 
+[MVC](https://es.wikipedia.org/wiki/Modelo%E2%80%93vista%E2%80%93controlador). Son objetos que representan datos de 
 negocio, reglas y lógica.
 
 Se pueden crear clases modelo extendiendo a [[yii\base\Model]] o a sus clases hijas. La clase base [[yii\base\Model]] 
diff --git a/docs/guide-es/structure-modules.md b/docs/guide-es/structure-modules.md
index 19964295a73..5e7c282220e 100644
--- a/docs/guide-es/structure-modules.md
+++ b/docs/guide-es/structure-modules.md
@@ -14,7 +14,7 @@ módulo. Dentro de este directorio, hay subdirectorios tales como 'controllers',
 controladores, modelos, vistas y otro código, exactamente como una aplicación. El siguiente ejemplo muestra el 
 contenido dentro de un módulo:
 
-```js
+```
 forum/
     Module.php                   archivo clase módulo
     controllers/                 contiene archivos de la clase controlador
diff --git a/docs/guide-es/structure-overview.md b/docs/guide-es/structure-overview.md
index e03c84298fa..a8c1b76f945 100644
--- a/docs/guide-es/structure-overview.md
+++ b/docs/guide-es/structure-overview.md
@@ -1,7 +1,7 @@
 Información general
 ===================
 
-Las aplicaciones realizadas con Yii están organizadas de acuerdo al patrón de diseño [modelo-vista-controlador (MVC)](http://es.wikipedia.org/wiki/Modelo%E2%80%93vista%E2%80%93controlador). Los
+Las aplicaciones realizadas con Yii están organizadas de acuerdo al patrón de diseño [modelo-vista-controlador (MVC)](https://es.wikipedia.org/wiki/Modelo%E2%80%93vista%E2%80%93controlador). Los
 [modelos](structure-models.md) representan datos, la lógica de negocios y sus reglas; las [vistas](structure-views.md) 
 son la representación de salida de los modelos; y finalmente, los [controladores](structure-controllers.md) que toman datos de entrada y los convierten en instrucciones para los [modelos](structure-models.md) y [vistas](structure-views.md). 
 
diff --git a/docs/guide-es/structure-views.md b/docs/guide-es/structure-views.md
index 7bc206693dc..e5a7068a33c 100644
--- a/docs/guide-es/structure-views.md
+++ b/docs/guide-es/structure-views.md
@@ -1,7 +1,7 @@
 Vistas
 ======
 
-Las Vistas (views) son una parte de la arquitectura [MVC](http://es.wikipedia.org/wiki/Modelo%E2%80%93vista%E2%80%93controlador).
+Las Vistas (views) son una parte de la arquitectura [MVC](https://es.wikipedia.org/wiki/Modelo%E2%80%93vista%E2%80%93controlador).
 Estas son el código responsable de presentar los datos al usuario final. En una aplicación Web, las vistas son usualmente creadas
 en términos de *templates* que son archivos PHP que contienen principalmente HTML y PHP.
 Estas son manejadas por el [componente de la aplicación](structure-application-components.md) [[yii\web\View|view]], el cual provee los métodos comúnmente utilizados
@@ -52,7 +52,7 @@ o algún otro objeto que dispara la [renderización de la vista](#rendering-view
 
 Al crear vistas que generan páginas HTML, es importante que codifiques (encode) y/o filtres los datos
 provenientes de los usuarios antes de mostrarlos. De otro modo, tu aplicación puede estar expuesta
-a ataques tipo [cross-site scripting](http://es.wikipedia.org/wiki/Cross-site_scripting).
+a ataques tipo [cross-site scripting](https://es.wikipedia.org/wiki/Cross-site_scripting).
 
 Para mostrar un texto plano, codifícalos previamente utilizando [[yii\helpers\Html::encode()]]. Por ejemplo, el siguiente código aplica
 una codificación del nombre de usuario antes de mostrarlo:
diff --git a/docs/guide-es/test-acceptance.md b/docs/guide-es/test-acceptance.md
index 8df65e44dbc..f9e16082b8e 100644
--- a/docs/guide-es/test-acceptance.md
+++ b/docs/guide-es/test-acceptance.md
@@ -9,8 +9,8 @@ servida por un servidor web.
 Los tests de aceptación se implementan con ayuda del _framework_ Codeception, que tiene
 una buena documentación:
 
-- [Codeception para el _framework_ Yii](http://codeception.com/for/yii)
-- [Tests funcionales de Codeception](http://codeception.com/docs/04-FunctionalTests)
+- [Codeception para el _framework_ Yii](https://codeception.com/for/yii)
+- [Tests funcionales de Codeception](https://codeception.com/docs/04-FunctionalTests)
 
 ## Ejecución de tests en las plantillas básica y avanzada
 
diff --git a/docs/guide-es/test-environment-setup.md b/docs/guide-es/test-environment-setup.md
index e016112b858..4cbe8ae5d28 100644
--- a/docs/guide-es/test-environment-setup.md
+++ b/docs/guide-es/test-environment-setup.md
@@ -4,7 +4,7 @@ Preparación del entorno de pruebas
 Yii 2 ha mantenido oficialmente integración con el _framework_ de testeo [`Codeception`](https://github.com/Codeception/Codeception),
 que le permite crear los siguientes tipos de tests:
 
-- [Unitari](test-unit.md) - verifica que una unidad simple de código funciona como se espera;
+- [Unitarias](test-unit.md) - verifica que una unidad simple de código funciona como se espera;
 - [Funcional](test-functional.md) - verifica escenarios desde la perspectiva de un usuario a través de la emulación de un navegador;
 - [De aceptación](test-acceptance.md) - verifica escenarios desde la perspectiva de un usuario en un navegador.
 
diff --git a/docs/guide-es/test-fixtures.md b/docs/guide-es/test-fixtures.md
index 24dc4dace93..c17a0fc579b 100644
--- a/docs/guide-es/test-fixtures.md
+++ b/docs/guide-es/test-fixtures.md
@@ -108,7 +108,7 @@ Arriba te mostramos cómo definir un fixture de BD. Para definir un fixture no r
 Utilizar Fixtures
 -----------------
 
-Si estás utilizando [Codeception](http://codeception.com/) para hacer tests de tu código, deberías considerar el utilizar
+Si estás utilizando [Codeception](https://codeception.com/) para hacer tests de tu código, deberías considerar el utilizar
 la extensión `yii2-codeception`, que tiene soporte incorporado para la carga y acceso a fixtures.
 En caso de que utilices otros frameworks de testing, puedes usar [[yii\test\FixtureTrait]] en tus casos de tests
 para alcanzar el mismo objetivo.
diff --git a/docs/guide-es/test-functional.md b/docs/guide-es/test-functional.md
index b48238cb2cd..cf1eea4ab1f 100644
--- a/docs/guide-es/test-functional.md
+++ b/docs/guide-es/test-functional.md
@@ -14,8 +14,8 @@ web especial o una interfaz de usuario compleja en Javascript.
 Las pruebas funcionales se implementan con ayuda del _framework_ Codeception, que tiene
 una buena documentación:
 
-- [Codeception para el _framework_ Yii](http://codeception.com/for/yii)
-- [Tests funcionales de Codeception](http://codeception.com/docs/04-FunctionalTests)
+- [Codeception para el _framework_ Yii](https://codeception.com/for/yii)
+- [Tests funcionales de Codeception](https://codeception.com/docs/04-FunctionalTests)
 
 ## Ejecución de tests en las plantillas básica y avanzada
 
diff --git a/docs/guide-es/test-unit.md b/docs/guide-es/test-unit.md
index c6b47adfc61..d5054edc69a 100644
--- a/docs/guide-es/test-unit.md
+++ b/docs/guide-es/test-unit.md
@@ -8,9 +8,9 @@ Normalmente los tests unitarios son desarrollados por la persona que escribe las
 
 Los tests unitarios en Yii están construidos en base a PHPUnit y, opcionalmente, Codeception, por lo que se recomienda consultar su respectiva documentación:
 
-- [Codeception para el _framework_ Yii](http://codeception.com/for/yii)
-- [Tests unitarios con Codeception](http://codeception.com/docs/05-UnitTests)
-- [Documentación de PHPUnit, empezando por el capítulo 2](http://phpunit.de/manual/current/en/writing-tests-for-phpunit.html)
+- [Codeception para el _framework_ Yii](https://codeception.com/for/yii)
+- [Tests unitarios con Codeception](https://codeception.com/docs/05-UnitTests)
+- [Documentación de PHPUnit, empezando por el capítulo 2](https://phpunit.de/manual/current/en/writing-tests-for-phpunit.html)
 
 ## Ejecución de tests en las plantillas básica y avanzada
 
diff --git a/docs/guide-es/tutorial-core-validators.md b/docs/guide-es/tutorial-core-validators.md
index 95cc530d8e8..86030ff8f78 100644
--- a/docs/guide-es/tutorial-core-validators.md
+++ b/docs/guide-es/tutorial-core-validators.md
@@ -95,7 +95,7 @@ Este validador comprueba si el valor de entrada es una fecha, tiempo or fecha/ti
 Opcionalmente, puede convertir el valor de entrada en una fecha/tiempo UNIX y almacenarla en un atributo especificado vía [[yii\validators\DateValidator::timestampAttribute|timestampAttribute]].
 
 - `format`: el formato fecha/tiempo en el que debe estar el valor a ser validado. 
-   Esto tiene que ser un patrón fecha/tiempo descrito en [manual ICU](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
+   Esto tiene que ser un patrón fecha/tiempo descrito en [manual ICU](https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax).
    Alternativamente tiene que ser una cadena con el prefijo `php:` representando un formato que ha de ser reconocido por la clase `Datetime` de PHP. Por favor, refiérase a <https://www.php.net/manual/en/datetime.createfromformat.php> sobre los formatos soportados.
    Si no tiene ningún valor, ha de coger el valor de `Yii::$app->formatter->dateFormat`.
 - `timestampAttribute`: el nombre del atributo al cual este validador puede asignar el fecha/hora UNIX convertida desde la entrada fecha/hora.
diff --git a/docs/guide-es/tutorial-start-from-scratch.md b/docs/guide-es/tutorial-start-from-scratch.md
index ca5e7851794..9633b9964da 100644
--- a/docs/guide-es/tutorial-start-from-scratch.md
+++ b/docs/guide-es/tutorial-start-from-scratch.md
@@ -39,7 +39,7 @@ Luego, pasa a modificar la estructura y contenido de la aplicación como te gust
 Hacer un Paquete
 ----------------
 
-Con el template definido, crea un repositorio Git a partir de él, y sube tus archivos ahí. Si tu template va a ser de código abierto, [Github](http://github.com) es el mejor lugar para alojarlo. Si tu intención es que el template no sea colaborativo, cualquier sitio de repositorios Git servirá.
+Con el template definido, crea un repositorio Git a partir de él, y sube tus archivos ahí. Si tu template va a ser de código abierto, [Github](https://github.com) es el mejor lugar para alojarlo. Si tu intención es que el template no sea colaborativo, cualquier sitio de repositorios Git servirá.
 
 Ahora, necesitas registrar tu paquete para Composer. Para templates públicos, el paquete debe ser registrado en [Packagist](https://packagist.org/).
 Para templates privados, es un poco más complicado registrarlo. Puedes ver instrucciones para hacerlo en la [documentación de Composer](https://getcomposer.org/doc/05-repositories.md#hosting-your-own).
diff --git a/docs/guide-es/tutorial-yii-integration.md b/docs/guide-es/tutorial-yii-integration.md
index d8f63857631..11407090c26 100644
--- a/docs/guide-es/tutorial-yii-integration.md
+++ b/docs/guide-es/tutorial-yii-integration.md
@@ -41,7 +41,7 @@ Si la librería lleva su propio cargador automático (autoloader), puedes instal
 Es recomendable que la instalación se  termine antes de incluir el fichero `Yii.php` de forma que el cargador automático tenga precedencia al cargar
 de forma automática las clases.
 
-Si la librería no provee un cargador automático de clases, pero la denominación de sus clases sigue el [PSR-4](http://www.php-fig.org/psr/psr-4/),
+Si la librería no provee un cargador automático de clases, pero la denominación de sus clases sigue el [PSR-4](https://www.php-fig.org/psr/psr-4/),
 puedes usar el cargador automático de Yii para cargar de forma automática las clases. Todo lo que necesitas
 es declarar un [alias raíz](concept-aliases.md#defining-aliases) para cada espacio de nombres (namespace) raiz usado en sus clases. Por ejemplo,
 asume que has instalado una librería en el directorio `vendor/foo/bar`, y que las clases de la librería están bajo el espacio de nombres raiz `xyz`.
diff --git a/docs/guide-fr/caching-data.md b/docs/guide-fr/caching-data.md
index db554b0b93a..09a5c3d50c9 100644
--- a/docs/guide-fr/caching-data.md
+++ b/docs/guide-fr/caching-data.md
@@ -49,7 +49,7 @@ $data = $cache->getOrSet($key, function () use ($user_id) {
 
 La mise en cache s'appuie sur ce qu'on appelle les *composants de mise en cache* qui représentent des supports de mise en cache tels que les mémoires, les fichiers et les bases de données.
 
-Les composants de mise en cache sont généralement enregistrés en tant que [composants d'application](structure-application-components.md) de façon à ce qu'ils puissent être configurables et accessibles globalement. Le code qui suit montre comment configurer le composant d'application `cache` pour qu'il utilise [memcached](http://memcached.org/) avec deux serveurs de cache :
+Les composants de mise en cache sont généralement enregistrés en tant que [composants d'application](structure-application-components.md) de façon à ce qu'ils puissent être configurables et accessibles globalement. Le code qui suit montre comment configurer le composant d'application `cache` pour qu'il utilise [memcached](https://memcached.org/) avec deux serveurs de cache :
 
 ```php
 'components' => [
@@ -91,18 +91,18 @@ Comme tous les composants de mise en cache prennent en charge le même jeux d'AP
 
 Yii prend en charge un large panel de supports de stockage pour cache. Ce qui suit est un résumé :
 
-* [[yii\caching\ApcCache]]: utilise l'extension PHP [APC](https://www.php.net/manual/en/book.apc.php). Cette option peut être considérée comme la plus rapide lorsqu'on utilise un cache pour une grosse application centralisée (p. ex. un serveur, pas d'équilibrage de charge dédié, etc.).
+* [[yii\caching\ApcCache]]: utilise l'extension PHP [APC](https://www.php.net/manual/en/book.apcu.php). Cette option peut être considérée comme la plus rapide lorsqu'on utilise un cache pour une grosse application centralisée (p. ex. un serveur, pas d'équilibrage de charge dédié, etc.).
 * [[yii\caching\DbCache]]: utilise une table de base de données pour stocker les données en cache. Pour utiliser ce cache, vous devez créer une table comme spécifié dans [[yii\caching\DbCache::cacheTable]].
 * [[yii\caching\DummyCache]]: tient lieu de cache à remplacer qui n'assure pas de mise en cache réelle. Le but de ce composant est de simplifier le code qui a besoin de vérifier la disponibilité du cache. Par exemple, lors du développement ou si le serveur ne dispose pas de la prise en charge d'un cache, vous pouvez configurer un composant de mise en cache pour qu'il utilise ce cache. Lorsque la prise en charge réelle de la mise en cache est activée, vous pouvez basculer sur le composant de mise en cache correspondant. Dans les deux cas, vous pouvez utiliser le même code `Yii::$app->cache->get($key)` pour essayer de retrouver les données du cache sans vous préoccuper du fait que `Yii::$app->cache` puisse être `null`.
 * [[yii\caching\FileCache]]: utilise des fichiers standards pour stocker les données en cache. Cela est particulièrement adapté à la mise en cache de gros blocs de données, comme le contenu d'une page.
 * [[yii\caching\MemCache]]: utilise le [memcache](https://www.php.net/manual/en/book.memcache.php) PHP et l'extension [memcached](https://www.php.net/manual/en/book.memcached.php). Cette option peut être considérée comme la plus rapide lorsqu'on utilise un cache dans des applications distribuées (p. ex. avec plusieurs serveurs, l'équilibrage de charge, etc.).
-* [[yii\redis\Cache]]: met en œuvre un composant de mise en cache basé sur un stockage clé-valeur [Redis](http://redis.io/) 
+* [[yii\redis\Cache]]: met en œuvre un composant de mise en cache basé sur un stockage clé-valeur [Redis](https://redis.io/) 
   (une version de redis égale ou supérieure à 2.6.12 est nécessaire).
-* [[yii\caching\WinCache]]: utilise le [WinCache](http://iis.net/downloads/microsoft/wincache-extension) PHP
+* [[yii\caching\WinCache]]: utilise le [WinCache](https://iis.net/downloads/microsoft/wincache-extension) PHP
   ([voir aussi l'extension](https://www.php.net/manual/en/book.wincache.php)).
-* [[yii\caching\XCache]] _(deprecated)_: utilise l'extension PHP [XCache](http://xcache.lighttpd.net/).
+* [[yii\caching\XCache]] _(deprecated)_: utilise l'extension PHP [XCache](https://en.wikipedia.org/wiki/List_of_PHP_accelerators#XCache).
 * [[yii\caching\ZendDataCache]] _(deprecated)_: utilise le 
-  [cache de données Zend](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
+  [cache de données Zend](https://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
   en tant que médium de cache sous-jacent.
 
 
@@ -248,11 +248,11 @@ $result = Customer::getDb()->cache(function ($db) {
 });
 ```
 
-> Info : quelques systèmes de gestion de bases de données (DBMS) (p. ex. [MySQL](http://dev.mysql.com/doc/refman/5.1/en/query-cache.html))
+> Info : quelques systèmes de gestion de bases de données (DBMS) (p. ex. [MySQL](https://dev.mysql.com/doc/refman/5.6/en/query-cache.html))
   prennent également en charge la mise en cache de requêtes du côté serveur de base de données. Vous pouvez choisir d'utiliser l'un ou l'autre des ces mécanismes de mise en cache de requêtes. Les mises en cache de requêtes décrites ci-dessus offrent l'avantage de pouvoir spécifier des dépendances de mise en cache flexibles et sont potentiellement plus efficaces.
 
 
-### Vidage du cache <span id="cache-flushing">
+### Vidage du cache <span id="cache-flushing"></span>
 
 Lorsque vous avez besoin d'invalider toutes les données stockées dans le cache, vous pouvez appeler [[yii\caching\Cache::flush()]].
 
diff --git a/docs/guide-fr/caching-http.md b/docs/guide-fr/caching-http.md
index 212f567f9da..6fa116742f5 100644
--- a/docs/guide-fr/caching-http.md
+++ b/docs/guide-fr/caching-http.md
@@ -86,7 +86,7 @@ ETags vous autorise des stratégies de mises en cache plus complexes et/ou plus
 
 Des génération coûteuses d'ETag peuvent contrecarrer l'objectif poursuivi en utilisant `HttpCache` et introduire une surcharge inutile, car il faut les réévaluer à chacune des requêtes. Essayez de trouver une expression simple qui invalide le cache si le contenu de la page a été modifié. 
 
-> Note : en conformité avec la norme [RFC 7232](http://tools.ietf.org/html/rfc7232#section-2.4),
+> Note : en conformité avec la norme [RFC 7232](https://datatracker.ietf.org/doc/html/rfc7232#section-2.4),
   `HttpCache` envoie les entêtes `ETag` et `Last-Modified` à la fois si ils sont tous deux configurés. Et si le client envoie les entêtes `If-None-Match` et `If-Modified-Since` à la fois, seul le premier est respecté. 
 
 
diff --git a/docs/guide-fr/concept-aliases.md b/docs/guide-fr/concept-aliases.md
index c03103df0bc..780651319e7 100644
--- a/docs/guide-fr/concept-aliases.md
+++ b/docs/guide-fr/concept-aliases.md
@@ -15,7 +15,7 @@ Vous pouvez définir un alias pour un chemin de fichier ou pour une URL en appel
 Yii::setAlias('@foo', '/path/to/foo');
 
 // un alias pour une URL
-Yii::setAlias('@bar', 'http://www.example.com');
+Yii::setAlias('@bar', 'https://www.example.com');
 
 
 // un alias de fichier concrêt qui contient une classe  \foo\Bar
@@ -39,7 +39,7 @@ return [
     // ...
     'aliases' => [
         '@foo' => '/path/to/foo',
-        '@bar' => 'http://www.example.com',
+        '@bar' => 'https://www.example.com',
     ],
 ];
 ```
@@ -52,7 +52,7 @@ Vous pouvez appeler [[Yii::getAlias()]] pour résoudre un alias racine en le che
 
 ```php
 echo Yii::getAlias('@foo');               // affiche : /path/to/foo
-echo Yii::getAlias('@bar');               // affiche : http://www.example.com
+echo Yii::getAlias('@bar');               // affiche : https://www.example.com
 echo Yii::getAlias('@foo/bar/file.php');  // affiche : /path/to/foo/bar/file.php
 ```
 
@@ -100,7 +100,7 @@ Yii prédéfinit un jeu d'alias pour faire référence à des chemins de fichier
 - `@webroot`, le dossier Web racine de l'application en cours d'exécution. Il est déterminé en se basant sur le dossier qui contient le [script d'entrée](structure-entry-scripts.md).
 - `@web`, l'URL de base de l'application en cours d'exécution. Cet alias a la même valeur que  [[yii\web\Request::baseUrl]].
 - `@vendor`, le [[yii\base\Application::vendorPath|dossier vendor de Composer]]. Valeur par défaut `@app/vendor`.
-- `@bower`, le dossier racine des [paquets bower](http://bower.io/). Valeur par défaut `@vendor/bower`.
+- `@bower`, le dossier racine des [paquets bower](https://bower.io/). Valeur par défaut `@vendor/bower`.
 - `@npm`, le dossier racine des [paquets npm](https://www.npmjs.com/). Valeur par défaut `@vendor/npm`.
 
 L'alias `@yii` est défini lorsque vous incluez le fichier `Yii.php` dans votre [script d'entrée](structure-entry-scripts.md). Les alias restants sont définis dans le constructeur de l'application au moment où la [configuration](concept-configurations.md) de l'application est appliquée.
diff --git a/docs/guide-fr/concept-behaviors.md b/docs/guide-fr/concept-behaviors.md
index 23043bedd86..4dc354ca30e 100644
--- a/docs/guide-fr/concept-behaviors.md
+++ b/docs/guide-fr/concept-behaviors.md
@@ -1,7 +1,7 @@
 Comportements
 =============
 
-Les comportements (*behaviors* sont des instances de la classe [[yii\base\Behavior]], ou de ses classes filles. Les comportements, aussi connus sous le nom de [mixins](http://en.wikipedia.org/wiki/Mixin), vous permettent d'améliorer les fonctionnalités d'une classe de [[yii\base\Component|composant]] existante sans avoir à modifier les héritages de cette classe. Le fait d'attacher un comportement à un composant injecte les méthodes et les propriétés de ce comportement dans le composant, rendant ces méthodes et ces propriétés accessibles comme si elles avaient été définies dans la classe du composant lui-même. En outre, un comportement peut répondre aux [événements](concept-events.md) déclenchés par le composant, ce qui permet aux comportements de personnaliser l'exécution normale du code du composant.
+Les comportements (*behaviors* sont des instances de la classe [[yii\base\Behavior]], ou de ses classes filles. Les comportements, aussi connus sous le nom de [mixins](https://en.wikipedia.org/wiki/Mixin), vous permettent d'améliorer les fonctionnalités d'une classe de [[yii\base\Component|composant]] existante sans avoir à modifier les héritages de cette classe. Le fait d'attacher un comportement à un composant injecte les méthodes et les propriétés de ce comportement dans le composant, rendant ces méthodes et ces propriétés accessibles comme si elles avaient été définies dans la classe du composant lui-même. En outre, un comportement peut répondre aux [événements](concept-events.md) déclenchés par le composant, ce qui permet aux comportements de personnaliser l'exécution normale du code du composant.
 
 
 Définition des comportements <span id="defining-behaviors"></span>
diff --git a/docs/guide-fr/concept-di-container.md b/docs/guide-fr/concept-di-container.md
index 6cba3d2d19a..c547378245b 100644
--- a/docs/guide-fr/concept-di-container.md
+++ b/docs/guide-fr/concept-di-container.md
@@ -1,7 +1,7 @@
 Conteneur d'injection de dépendances
 ====================================
 
-Un conteneur d'injection de dépendances (DI container) est un objet qui sait comment instancier et configurer des objets et tous leurs objets dépendants. [Cet article de Martin Fowler](http://martinfowler.com/articles/injection.html) explique très bien en quoi un conteneur d'injection de dépendances est utile. Ici nous expliquons essentiellement l'utilisation qui est faite du conteneur d'injection de dépendances que fournit Yii.
+Un conteneur d'injection de dépendances (DI container) est un objet qui sait comment instancier et configurer des objets et tous leurs objets dépendants. [Cet article de Martin Fowler](https://martinfowler.com/articles/injection.html) explique très bien en quoi un conteneur d'injection de dépendances est utile. Ici nous expliquons essentiellement l'utilisation qui est faite du conteneur d'injection de dépendances que fournit Yii.
 
 
 Injection de dépendances <span id="dependency-injection"></span>
@@ -461,7 +461,7 @@ Comme les dépendances sont nécessaires lorsque de nouveaux objets sont créés
 Résumé <span id="summary"></span>
 -------
 
-L'injection de dépendances et le [localisateur de services](concept-service-locator.md) sont tous deux des modèles de conception populaires qui permettent des construire des logiciels d'une manière faiblement couplée et plus testable. Nous vous recommandons fortement de lire [l'article de Martin](http://martinfowler.com/articles/injection.html) pour acquérir une compréhension plus profonde de l'injection de dépendances et du localisateur de services. 
+L'injection de dépendances et le [localisateur de services](concept-service-locator.md) sont tous deux des modèles de conception populaires qui permettent des construire des logiciels d'une manière faiblement couplée et plus testable. Nous vous recommandons fortement de lire [l'article de Martin](https://martinfowler.com/articles/injection.html) pour acquérir une compréhension plus profonde de l'injection de dépendances et du localisateur de services. 
 
 Yii implémente son [localisateur de services](concept-service-locator.md) par dessus le conteneur d'injection de dépendances. Lorsqu'un localisateur de services essaye de créer une nouvelle instance d'un objet, il appelle le conteneur d'injection de dépendances. Ce dernier résout les dépendances automatiquement comme c'est expliqué plus haut.
 
diff --git a/docs/guide-fr/db-active-record.md b/docs/guide-fr/db-active-record.md
index 1c1016e0c73..c858040833f 100644
--- a/docs/guide-fr/db-active-record.md
+++ b/docs/guide-fr/db-active-record.md
@@ -1,7 +1,7 @@
 Enregistrement actif (*Active Record*)
 ===================================== 
 
-L'[enregistrement actif](http://en.wikipedia.org/wiki/Active_record_pattern) fournit une interface orientée objet pour accéder aux données stockées dans une base de données et les manipuler. 
+L'[enregistrement actif](https://en.wikipedia.org/wiki/Active_record_pattern) fournit une interface orientée objet pour accéder aux données stockées dans une base de données et les manipuler. 
 Une classe d'enregistrement actif (ActiveRecord) est associée à une table de base de données, une instance de cette classe représente une ligne de cette table, et un *attribut* d'une instance d'enregistrement actif représente la valeur d'une colonne particulière dans cette ligne. 
 Au lieu d'écrire des instructions SQL brutes, 
 vous pouvez accéder aux attributs de l'objet enregistrement actif et appeler ses méthodes pour accéder aux données stockées dans les tables de la base de données et les manipuler. 
@@ -35,7 +35,7 @@ Yii assure la prise en charge de l'enregistrement actif (*Active Record*) pour l
 * Microsoft SQL Server 2008 ou versions postérieures : via [[yii\db\ActiveRecord]]
 * Oracle : via [[yii\db\ActiveRecord]]
 * CUBRID 9.3 ou versions postérieures : via [[yii\db\ActiveRecord]] 
-  (Notez que, à cause d'un [bogue](http://jira.cubrid.org/browse/APIS-658) dans l'extension CUBRID 9.3, l'entourage des valeurs par des marques de citation ne fonctionne pas, c'est pourquoi vous avez besoin de CUBRID 9.3 à la fois comme client et comme serveur)
+  (Notez que, à cause d'un [bogue](https://jira.cubrid.org/browse/APIS-658) dans l'extension CUBRID 9.3, l'entourage des valeurs par des marques de citation ne fonctionne pas, c'est pourquoi vous avez besoin de CUBRID 9.3 à la fois comme client et comme serveur)
 * Sphinx : via [[yii\sphinx\ActiveRecord]], requiert l'extension `yii2-sphinx`
 * ElasticSearch : via [[yii\elasticsearch\ActiveRecord]], requiert l'extension `yii2-elasticsearch`
 
diff --git a/docs/guide-fr/db-dao.md b/docs/guide-fr/db-dao.md
index 1759419cab9..34570160dc0 100644
--- a/docs/guide-fr/db-dao.md
+++ b/docs/guide-fr/db-dao.md
@@ -3,24 +3,24 @@ Objets d'accès aux bases de données
 
 Construits au-dessus des [objets de bases de données PHP (PDO – PHP Data Objects)](https://www.php.net/manual/en/book.pdo.php), les objets d'accès aux bases de données de Yii (DAO – Database Access Objects) fournissent une API orientée objets pour accéder à des bases de données relationnelles. C'est la fondation pour d'autres méthodes d'accès aux bases de données plus avancées qui incluent le [constructeur de requêtes (*query builder*)](db-query-builder.md) et l'[enregistrement actif (*active record*)](db-active-record.md).
 
-Lorsque vous utilisez les objets d'accès aux bases de données de Yii, vous manipulez des requêtes SQL et des tableaux PHP. En conséquence, cela reste le moyen le plus efficace pour accéder aux bases de données. Néanmoins, étant donné que la syntaxe du langage SQL varie selon le type de base de données, l'utilisation des objets d'accès aux bases de données de Yii signifie également que vous avez à faire un travail supplémentaire pour créer une application indifférente au type de base de données. 
+Lorsque vous utilisez les objets d'accès aux bases de données de Yii, vous manipulez des requêtes SQL et des tableaux PHP. En conséquence, cela reste le moyen le plus efficace pour accéder aux bases de données. Néanmoins, étant donné que la syntaxe du langage SQL varie selon le type de base de données, l'utilisation des objets d'accès aux bases de données de Yii signifie également que vous avez à faire un travail supplémentaire pour créer une application indifférente au type de base de données.
 
 Dans Yii 2.0, les objets d'accès aux bases de données prennent en charge les bases de données suivantes sans configuration supplémentaire :
 
-- [MySQL](http://www.mysql.com/)
+- [MySQL](https://www.mysql.com/)
 - [MariaDB](https://mariadb.com/)
-- [SQLite](http://sqlite.org/)
-- [PostgreSQL](http://www.postgresql.org/): version 8.4 ou plus récente.
-- [CUBRID](http://www.cubrid.org/): version 9.3 ou plus récente.
+- [SQLite](https://sqlite.org/)
+- [PostgreSQL](https://www.postgresql.org/): version 8.4 ou plus récente.
+- [CUBRID](https://www.cubrid.org/): version 9.3 ou plus récente.
 - [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): version 2008 ou plus récente.
 
 > Info: depuis Yii 2.1, la prise en charge des objets d'accès aux bases de données pour CUBRID, Oracle et MSSQL n'est plus fournie en tant que composants du noyau. Cette prise en charge nécessite l'installation d'[extensions](structure-extensions.md) séparées.
 Parmi les [extensions officielles](https://www.yiiframework.com/extensions/official), on trouve [yiisoft/yii2-oracle](https://www.yiiframework.com/extension/yiisoft/yii2-oracle) et
-  [yiisoft/yii2-mssql](https://www.yiiframework.com/extension/yiisoft/yii2-mssql).
+[yiisoft/yii2-mssql](https://www.yiiframework.com/extension/yiisoft/yii2-mssql).
 
 > Note: la nouvelle version de pdo_oci pour PHP 7 n'existe pour le moment que sous forme de code source. Suivez les [instructions de la communauté](https://github.com/yiisoft/yii2/issues/10975#issuecomment-248479268)
-  pour la compiler ou utilisez [la couche d'émulation de PDO](https://github.com/taq/pdooci).
+pour la compiler ou utilisez [la couche d'émulation de PDO](https://github.com/taq/pdooci).
 
 
 ## Création de connexions à une base de données <span id="creating-db-connections"></span>
@@ -57,10 +57,10 @@ return [
 
 Vous pouvez ensuite accéder à la base de données via l'expression `Yii::$app->db`.
 
-> Tip: vous pouvez configurer plusieurs composants d'application « base de données » si votre application a besoin d'accéder à plusieurs bases de données. 
+> Tip: vous pouvez configurer plusieurs composants d'application « base de données » si votre application a besoin d'accéder à plusieurs bases de données.
 
 Lorsque vous configurez une connexion à une base de données, vous devez toujours spécifier le nom de sa source de données (DSN – Data Source Name) via la propriété [[yii\db\Connection::dsn|dsn]]. Les formats des noms de source de données varient selon le type de base de données. Reportez-vous au [manuel de PHP](https://www.php.net/manual/en/pdo.construct.php) pour plus de détails. Ci-dessous, nous donnons quelques exemples :
- 
+
 * MySQL, MariaDB: `mysql:host=localhost;dbname=mydatabase`
 * SQLite: `sqlite:/path/to/database/file`
 * PostgreSQL: `pgsql:host=localhost;port=5432;dbname=mydatabase`
@@ -87,7 +87,7 @@ En plus de la propriété [[yii\db\Connection::dsn|dsn]], vous devez souvent con
 > Info: lorsque vous créez une instance de connexion à une base de données, la connexion réelle à la base de données n'est pas établie tant que vous n'avez pas exécuté la première requête SQL ou appelé la méthode [[yii\db\Connection::open()|open()]] explicitement.
 
 > Tip: parfois, vous désirez effectuer quelques requêtes juste après l'établissement de la connexion à la base de données pour initialiser quelques variables d'environnement (p. ex. pour définir le fuseau horaire ou le jeu de caractères). Vous pouvez le faire en enregistrant un gestionnaire d'événement pour l'événement [[yii\db\Connection::EVENT_AFTER_OPEN|afterOpen]] de la connexion à la base de données. Vous pouvez enregistrer le gestionnaire directement dans la configuration de l'application comme ceci :
-> 
+>
 > ```php
 > 'db' => [
 >     // ...
@@ -108,7 +108,7 @@ Une fois que vous avez une instance de connexion à la base de données, vous po
 3. Appeler l'une des méthodes d'exécution SQL dans la [[yii\db\Command|commande]].
 
 L'exemple qui suit montre différentes façons d'aller chercher des données dans une base de données :
- 
+
 ```php
 // retourne un jeu de lignes. Chaque ligne est un tableau associatif (couples clé-valeur) dont les clés sont des noms de colonnes 
 // retourne un tableau vide si la requête ne retourne aucun résultat
@@ -131,12 +131,12 @@ $count = Yii::$app->db->createCommand('SELECT COUNT(*) FROM post')
              ->queryScalar();
 ```
 
-> Note: pour préserver la précision, les données extraites des bases de données sont toutes représentées sous forme de chaînes de caractères, même si les colonnes sont de type numérique. 
+> Note: pour préserver la précision, les données extraites des bases de données sont toutes représentées sous forme de chaînes de caractères, même si les colonnes sont de type numérique.
 
 
 ### Liaison des paramètres <span id="binding-parameters"></span>
 
-Lorsque vous créez une commande de base de données à partir d'une requête SQL avec des paramètres, vous devriez presque toujours utiliser l'approche de liaison des paramètres pour éviter les attaques par injection SQL. Par exemple : 
+Lorsque vous créez une commande de base de données à partir d'une requête SQL avec des paramètres, vous devriez presque toujours utiliser l'approche de liaison des paramètres pour éviter les attaques par injection SQL. Par exemple :
 
 ```php
 $post = Yii::$app->db->createCommand('SELECT * FROM post WHERE id=:id AND status=:status')
@@ -188,11 +188,11 @@ $post2 = $command->queryOne();
 // ...
 ```
 
-Notez que vous devez lier la valeur à remplacer à la variable `$id` avant l'exécution, et ensuite changer la valeur de cette variable avant chacune des exécutions subséquentes (cela est souvent réalisé dans une boucle). L'exécution de requêtes de cette façon peut être largement plus efficace que d'exécuter une nouvelle requête pour chacune des valeurs du paramètre). 
+Notez que vous devez lier la valeur à remplacer à la variable `$id` avant l'exécution, et ensuite changer la valeur de cette variable avant chacune des exécutions subséquentes (cela est souvent réalisé dans une boucle). L'exécution de requêtes de cette façon peut être largement plus efficace que d'exécuter une nouvelle requête pour chacune des valeurs du paramètre).
 
-> Info: la liaison de paramètres n'est utilisée qu'en des endroits où les valeurs doivent être insérées dans des chaînes de caractères qui contiennent du langage SQL. 
-> Dans de nombreux endroits dans des couches plus abstraites comme le [query builder](db-query-builder.md) (constructeur de requêtes) et [active record](db-active-record.md) (enregistrement actif) 
-> vous spécifiez souvent un tableau de valeurs qui est transformé en SQL. À ces endroits, la liaison de paramètres est assurée par Yii en interne. Il n'est donc pas nécessaire de spécifier ces paramètres manuellement. 
+> Info: la liaison de paramètres n'est utilisée qu'en des endroits où les valeurs doivent être insérées dans des chaînes de caractères qui contiennent du langage SQL.
+> Dans de nombreux endroits dans des couches plus abstraites comme le [query builder](db-query-builder.md) (constructeur de requêtes) et [active record](db-active-record.md) (enregistrement actif)
+> vous spécifiez souvent un tableau de valeurs qui est transformé en SQL. À ces endroits, la liaison de paramètres est assurée par Yii en interne. Il n'est donc pas nécessaire de spécifier ces paramètres manuellement.
 
 
 ### Exécution de requête sans sélection <span id="non-select-queries"></span>
@@ -204,7 +204,7 @@ Yii::$app->db->createCommand('UPDATE post SET status=1 WHERE id=1')
    ->execute();
 ```
 
-La méthode [[yii\db\Command::execute()]] exécute retourne le nombre de lignes affectées par l'exécution de la requête SQL. 
+La méthode [[yii\db\Command::execute()]] exécute retourne le nombre de lignes affectées par l'exécution de la requête SQL.
 
 Pour les requeêtes INSERT, UPDATE et DELETE, au lieu d'écrire des instructions SQL simples, vous pouvez appeler les méthodes [[yii\db\Command::insert()|insert()]], [[yii\db\Command::update()|update()]] ou [[yii\db\Command::delete()|delete()]], respectivement, pour construire les instructions SQL correspondantes. Ces méthodes entourent correctement les noms de tables et de colonnes par des marques de citation et lient les paramètres. Par exemple :
 
@@ -237,7 +237,7 @@ Une autre méthode utile est [[yii\db\Command::upsert()|upsert()]]. Upsert est u
 ```php
 Yii::$app->db->createCommand()->upsert('pages', [
     'name' => 'Front page',
-    'url' => 'http://example.com/', // url is unique
+    'url' => 'https://example.com/', // url is unique
     'visits' => 0,
 ], [
     'visits' => new \yii\db\Expression('visits + 1'),
@@ -246,14 +246,14 @@ Yii::$app->db->createCommand()->upsert('pages', [
 
 Le code ci-dessus, soit insère un enregistrement pour une nouvelle page, soit incrémente sont compteur de visite automatiquement.
 
-Notez que les méthodes mentionnées ci-dessus ne font que créer les requêtes, vous devez toujours appeler [[yii\db\Command::execute()|execute()]] pour les exécuter réellement. 
+Notez que les méthodes mentionnées ci-dessus ne font que créer les requêtes, vous devez toujours appeler [[yii\db\Command::execute()|execute()]] pour les exécuter réellement.
 
 
 ## Entourage de noms de table et de colonne par des marque de citation <span id="quoting-table-and-column-names"></span>
 
 Lorsque l'on écrit du code indifférent au type de base de données, entourer correctement les noms table et de colonne avec des marques de citation (p. ex. guillemets ou simple apostrophe) et souvent un casse-tête parce que les différentes base de données utilisent des règles de marquage de citation différentes. Pour vous affranchir de cette difficulté, vous pouvez utiliser la syntaxe de citation introduite par Yii :
 
-* `[[column name]]`: entourez un nom de colonne qui doit recevoir les marques de citation par des doubles crochets ; 
+* `[[column name]]`: entourez un nom de colonne qui doit recevoir les marques de citation par des doubles crochets ;
 * `{{table name}}`: entourez un nom de table qui doit recevoir les marques de citation par des doubles accolades ;
 
 Les objets d'accès aux base de données de Yii convertissent automatiquement de telles constructions en les noms de colonne ou de table correspondants en utilisant la syntaxe spécifique au système de gestion de la base de données. Par exemple :
@@ -295,8 +295,8 @@ $count = Yii::$app->db->createCommand("SELECT COUNT([[id]]) FROM {{%employee}}")
 
 ## Réalisation de transactions <span id="performing-transactions"></span>
 
-Lorsque vous exécutez plusieurs requêtes liées en séquence, il arrive que vous ayez besoin de les envelopper dans une transactions pour garantir l'intégrité et la cohérence de votre base de données. Si une des requêtes échoue, la base de données est ramenée en arrière dans l'état dans lequel elle se trouvait avant qu'aucune de ces requêtes n'ait été exécutée. 
- 
+Lorsque vous exécutez plusieurs requêtes liées en séquence, il arrive que vous ayez besoin de les envelopper dans une transactions pour garantir l'intégrité et la cohérence de votre base de données. Si une des requêtes échoue, la base de données est ramenée en arrière dans l'état dans lequel elle se trouvait avant qu'aucune de ces requêtes n'ait été exécutée.
+
 Le code suivant montre une façon typique d'utiliser les transactions :
 
 ```php
@@ -329,7 +329,7 @@ try {
 
 En appelant la méthode [[yii\db\Connection::beginTransaction()|beginTransaction()]], une nouvelle transaction est démarrée. La transaction est représentée sous forme d'objet [[yii\db\Transaction]] stocké dans la variable `$transaction`. Ensuite, les requêtes à exécuter sont placées dans un bloc `try...catch...`. Si toutes les requêtes réussissent, la méthode [[yii\db\Transaction::commit()|commit()]] est appelée pour entériner la transaction. Autrement, si une exception a été levée et capturée, la méthode [[yii\db\Transaction::rollBack()|rollBack()]] est appelée pour défaire les changements faits par les requêtes de la transaction antérieures à celle qui a échoué. `throw $e` est alors à nouveau exécutée comme si l'exception n'avait jamais été capturée, ce qui permet au processus normal de gestion des erreurs de s'en occuper.
 
-> Note: dans le code précédent nous avons deux blocs « catch » pour compatibilité 
+> Note: dans le code précédent nous avons deux blocs « catch » pour compatibilité
 > avec PHP 5.x et PHP 7.x. `\Exception` met en œuvre l'[interface `\Throwable`](https://www.php.net/manual/en/class.throwable.php)
 > depuis PHP 7.0, ainsi vous pouvez sauter la partie avec `\Exception` si votre application utilise seulement PHP 7.0 et plus récent.
 
@@ -351,22 +351,22 @@ $transaction = Yii::$app->db->beginTransaction($isolationLevel);
 
 Yii fournit quatre constantes pour les niveaux d'isolation les plus courants :
 
-- [[\yii\db\Transaction::READ_UNCOMMITTED]] – le niveau le plus faible, des lectures sales (*dirty reads*) , des lectures non répétables) (*non-repeatable reads*) et des lectures fantômes (*phantoms*) peuvent se produire. 
+- [[\yii\db\Transaction::READ_UNCOMMITTED]] – le niveau le plus faible, des lectures sales (*dirty reads*) , des lectures non répétables) (*non-repeatable reads*) et des lectures fantômes (*phantoms*) peuvent se produire.
 - [[\yii\db\Transaction::READ_COMMITTED]] – évite les lectures sales.
-- [[\yii\db\Transaction::REPEATABLE_READ]] – évite les lectures sales et les lectures non répétables. 
+- [[\yii\db\Transaction::REPEATABLE_READ]] – évite les lectures sales et les lectures non répétables.
 - [[\yii\db\Transaction::SERIALIZABLE]] – le niveau le plus élevé, évite tous les problèmes évoqués ci-dessus.
 
 
 
-En plus de l'utilisation des constantes présentées ci-dessus pour spécifier un niveau d'isolation, vous pouvez également utiliser des chaînes de caractères avec une syntaxe valide prise en charges par le système de gestion de base de données que vous utilisez. Par exemple, dans PostgreSQL, vous pouvez utiliser `"SERIALIZABLE READ ONLY DEFERRABLE"`. 
+En plus de l'utilisation des constantes présentées ci-dessus pour spécifier un niveau d'isolation, vous pouvez également utiliser des chaînes de caractères avec une syntaxe valide prise en charges par le système de gestion de base de données que vous utilisez. Par exemple, dans PostgreSQL, vous pouvez utiliser `"SERIALIZABLE READ ONLY DEFERRABLE"`.
 
-Notez que quelques systèmes de gestion de base de données autorisent la définition des niveaux d'isolation uniquement au niveau de la connexion tout entière. Toutes les transactions subséquentes auront donc le même niveau d'isolation même si vous n'en spécifiez aucun. En utilisant cette fonctionnalité, vous avez peut-être besoin de spécifier le niveau d'isolation de manière explicite pour éviter les conflits de définition. Au moment d'écrire ces lignes, seules MSSQL et SQLite sont affectées par cette limitation. 
+Notez que quelques systèmes de gestion de base de données autorisent la définition des niveaux d'isolation uniquement au niveau de la connexion tout entière. Toutes les transactions subséquentes auront donc le même niveau d'isolation même si vous n'en spécifiez aucun. En utilisant cette fonctionnalité, vous avez peut-être besoin de spécifier le niveau d'isolation de manière explicite pour éviter les conflits de définition. Au moment d'écrire ces lignes, seules MSSQL et SQLite sont affectées par cette limitation.
 
-> Note: SQLite ne prend en charge que deux niveaux d'isolation, c'est pourquoi vous ne pouvez utiliser que `READ UNCOMMITTED` et `SERIALIZABLE`. L'utilisation d'autres niveaux provoque la levée d'une exception. 
+> Note: SQLite ne prend en charge que deux niveaux d'isolation, c'est pourquoi vous ne pouvez utiliser que `READ UNCOMMITTED` et `SERIALIZABLE`. L'utilisation d'autres niveaux provoque la levée d'une exception.
 
-> Note: PostgreSQL n'autorise pas la définition du niveau d'isolation tant que la transaction n'a pas démarré, aussi ne pouvez-vous pas spécifier le niveau d'isolation directement en démarrant la transaction. Dans ce cas, vous devez appeler [[yii\db\Transaction::setIsolationLevel()]] après que la transaction a démarré. 
+> Note: PostgreSQL n'autorise pas la définition du niveau d'isolation tant que la transaction n'a pas démarré, aussi ne pouvez-vous pas spécifier le niveau d'isolation directement en démarrant la transaction. Dans ce cas, vous devez appeler [[yii\db\Transaction::setIsolationLevel()]] après que la transaction a démarré.
 
-[isolation levels]: http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+[isolation levels]: https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
 
 
 ### Imbrication des transactions <span id="nesting-transactions"></span>
@@ -415,7 +415,7 @@ try {
 
 ## Réplication et éclatement lecture-écriture <span id="read-write-splitting"></span>
 
-Beaucoup de systèmes de gestion de bases de données prennent en charge la [réplication de la base de données](http://en.wikipedia.org/wiki/Replication_(computing)#Database_replication) pour obtenir une meilleure disponibilité et des temps de réponse de serveur plus courts. Avec la réplication de la base de données, les données sont répliquées depuis les serveurs dits *serveurs maîtres* vers les serveurs dit *serveurs esclaves*. Toutes les écritures et les mises à jour ont lieu sur les serveurs maîtres, tandis que les lectures ont lieu sur les serveurs esclaves.
+Beaucoup de systèmes de gestion de bases de données prennent en charge la [réplication de la base de données](https://en.wikipedia.org/wiki/Replication_(computing)#Database_replication) pour obtenir une meilleure disponibilité et des temps de réponse de serveur plus courts. Avec la réplication de la base de données, les données sont répliquées depuis les serveurs dits *serveurs maîtres* vers les serveurs dit *serveurs esclaves*. Toutes les écritures et les mises à jour ont lieu sur les serveurs maîtres, tandis que les lectures ont lieu sur les serveurs esclaves.
 
 Pour tirer parti de la réplication des bases de données et réaliser l'éclatement lecture-écriture, vous pouvez configurer un composant [[yii\db\Connection]] comme le suivant :
 
@@ -465,10 +465,10 @@ Yii::$app->db->createCommand("UPDATE user SET username='demo' WHERE id=1")->exec
 
 Le composant `Connection` prend en charge l'équilibrage de charge et de basculement entre esclaves. Lorsque vous effectuez une requête en lecture par la première fois, le composant `Connection` sélectionne un esclave de façon aléatoire et essaye de s'y connecter. Si l'esclave set trouvé « mort », il en essaye un autre. Si aucun des esclaves n'est disponible, il se connecte au maître. En configurant un [[yii\db\Connection::serverStatusCache|cache d'état du serveur]], le composant mémorise le serveur « mort » et ainsi, pendant un [[yii\db\Connection::serverRetryInterval|certain intervalle de temps]], n'essaye plus de s'y connecter.
 
-> Info: dans la configuration précédente, un temps d'attente de connexion de 10 secondes est spécifié pour chacun des esclaves. Cela signifie que, si un esclave ne peut être atteint pendant ces 10 secondes, il est considéré comme « mort ». Vous pouvez ajuster ce paramètre en fonction de votre environnement réel. 
+> Info: dans la configuration précédente, un temps d'attente de connexion de 10 secondes est spécifié pour chacun des esclaves. Cela signifie que, si un esclave ne peut être atteint pendant ces 10 secondes, il est considéré comme « mort ». Vous pouvez ajuster ce paramètre en fonction de votre environnement réel.
 
 
-Vous pouvez aussi configurer plusieurs maîtres avec plusieurs esclaves. Par exemple : 
+Vous pouvez aussi configurer plusieurs maîtres avec plusieurs esclaves. Par exemple :
 
 
 ```php
diff --git a/docs/guide-fr/db-migrations.md b/docs/guide-fr/db-migrations.md
index 51cf22d0af2..82c82e38196 100644
--- a/docs/guide-fr/db-migrations.md
+++ b/docs/guide-fr/db-migrations.md
@@ -616,7 +616,7 @@ class m150101_185401_create_news_table extends Migration
 
 Notez que, généralement, si vous effectuez de multiples opérations de base de données dans `safeUp()`, vous devriez les défaire dans `safeDown()`. Dans l'exemple ci-dessus, dans `safeUp()`, nous créons d'abord la table puis nous insérons une ligne, tandis que, dans `safeDown`, nous commençons par supprimer la ligne, puis nous supprimons la table. 
 
-> Note: tous les systèmes de gestion de bases de données NE prennent PAS en charge les transactions. De plus, quelques requêtes de base de données ne peuvent être placées dans une transaction. Pour quelques exemples, reportez-vous à [entérinement implicite](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). Si c'est le cas, vous devez simplement mettre en œuvre `up()` et`down()`, à la place.
+> Note: tous les systèmes de gestion de bases de données NE prennent PAS en charge les transactions. De plus, quelques requêtes de base de données ne peuvent être placées dans une transaction. Pour quelques exemples, reportez-vous à [entérinement implicite](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). Si c'est le cas, vous devez simplement mettre en œuvre `up()` et`down()`, à la place.
 
 
 ### Méthodes d'accès aux bases de données <span id="db-accessing-methods"></span>
diff --git a/docs/guide-fr/db-query-builder.md b/docs/guide-fr/db-query-builder.md
index 29450e52299..ecfdc9c8dd2 100644
--- a/docs/guide-fr/db-query-builder.md
+++ b/docs/guide-fr/db-query-builder.md
@@ -296,7 +296,7 @@ L'opérande 2 peut être soit un tableau, soit un objet `Query`.
   Vous pouvez utiliser `false` ou un tableau vide pour indiquer que les valeurs sont déjà échappées et qu'aucun échappement ne doit être appliqué. 
   Notez que lorsqu'un tableau de mise en correspondance pour l'échappement est utilisé (ou quand le troisième opérande n'est pas fourni), les valeurs sont automatiquement entourées par une paire de caractères `%`. 
 
-  > Note: lors de l'utilisation de PostgreSQL vous pouvez aussi utiliser [`ilike`](http://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE)   
+  > Note: lors de l'utilisation de PostgreSQL vous pouvez aussi utiliser [`ilike`](https://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE)   
   >à la place de `like` pour une mise en correspondance insensible à la casse.
 
 - `or like`: similaire à l'opérateur `like` sauf que `OR`est utilisé pour concaténer les prédicats `LIKE` 
diff --git a/docs/guide-fr/helper-html.md b/docs/guide-fr/helper-html.md
index 101a5822a0d..77e36699629 100644
--- a/docs/guide-fr/helper-html.md
+++ b/docs/guide-fr/helper-html.md
@@ -36,7 +36,7 @@ Des options sont utilisées dans de nombreuses méthodes de la classe assistante
 
 - Si une valeur est `null`, l'attribut correspondant n'est pas rendu.
 - Les attributs du type booléen sont traités comme des 
-  [attributs booléens ](http://www.w3.org/TR/html5/infrastructure.html#boolean-attributes).
+  [attributs booléens ](https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes).
 - Les valeurs des attributs sont encodés HTML à l'aide de la méthode [[yii\helpers\Html::encode()|Html::encode()]].
 - Si la valeur d'un attribut est un tableau, il est géré comme suit :
  
@@ -326,7 +326,7 @@ Si vous désirez utiliser utiliser un style externe d'un fichier CSS :
 génère
 
 <!--[if IE 5]>
-    <link href="http://example.com/css/ie5.css" />
+    <link href="https://example.com/css/ie5.css" />
 <![endif]-->
 ```
 
@@ -373,7 +373,7 @@ Pour générer une balise image, utilisez le code suivant :
 
 qui génère
 
-<img src="http://example.com/images/logo.png" alt="My logo" />
+<img src="https://example.com/images/logo.png" alt="My logo" />
 ```
 
 En plus des [alias](concept-aliases.md), le premier argument accepte les routes, les paramètres et les URL, tout comme [Url::to()](helper-url.md).
diff --git a/docs/guide-fr/helper-url.md b/docs/guide-fr/helper-url.md
index 17d2180e2ed..917877b1a91 100644
--- a/docs/guide-fr/helper-url.md
+++ b/docs/guide-fr/helper-url.md
@@ -68,7 +68,7 @@ echo Url::toRoute(['site/index', 'src' => 'ref1', '#' => 'name']);
 // /index.php?r=post%2Fedit&id=100     assume the alias "@postEdit" is defined as "post/edit"
 echo Url::toRoute(['@postEdit', 'id' => 100]);
 
-// http://www.example.com/index.php?r=site%2Findex
+// https://www.example.com/index.php?r=site%2Findex
 echo Url::toRoute('site/index', true);
 
 // https://www.example.com/index.php?r=site%2Findex
@@ -108,7 +108,7 @@ echo Url::to('@web/images/logo.gif');
 // images/logo.gif
 echo Url::to('images/logo.gif');
 
-// http://www.example.com/images/logo.gif
+// https://www.example.com/images/logo.gif
 echo Url::to('@web/images/logo.gif', true);
 
 // https://www.example.com/images/logo.gif
diff --git a/docs/guide-fr/input-validation.md b/docs/guide-fr/input-validation.md
index f8fee375ef8..2ac0c1d4d2d 100644
--- a/docs/guide-fr/input-validation.md
+++ b/docs/guide-fr/input-validation.md
@@ -494,7 +494,7 @@ JS;
 
 ### Validation différée <span id="deferred-validation"></span>
 
-Si vous devez effectuer une validation asynchrone côté client, vous pouvez créer des [objets différés](http://api.jquery.com/category/deferred-object/). Par exemple, pour effectuer une validation AJAX personnalisée, vous pouvez utiliser le code suivant :
+Si vous devez effectuer une validation asynchrone côté client, vous pouvez créer des [objets différés](https://api.jquery.com/category/deferred-object/). Par exemple, pour effectuer une validation AJAX personnalisée, vous pouvez utiliser le code suivant :
 
 ```php
 public function clientValidateAttribute($model, $attribute, $view)
diff --git a/docs/guide-fr/output-client-scripts.md b/docs/guide-fr/output-client-scripts.md
index c45f4ce9474..0466ecf8d44 100644
--- a/docs/guide-fr/output-client-scripts.md
+++ b/docs/guide-fr/output-client-scripts.md
@@ -28,7 +28,7 @@ Le dernier argument est un identifiant unique du script utilisé pour identifier
 Un script externe peut être ajouté comme expliqué ci-dessous : 
 
 ```php
-$this->registerJsFile('http://example.com/js/main.js', ['depends' => [\yii\web\JqueryAsset::class]]);
+$this->registerJsFile('https://example.com/js/main.js', ['depends' => [\yii\web\JqueryAsset::class]]);
 ```
 
 Les arguments pour  [[yii\web\View::registerJsFile()|registerJsFile()]] sont semblables à ceux utilisés pour [[yii\web\View::registerCssFile()|registerCssFile()]]. Dans l'exemple précédent, nous enregistrons le fichier `main.js` avec une dépendance sur `JqueryAsset`. Cela siginifie que le fichier `main.js` sera ajouté APRÈS `jquery.js`. Sans la spécification de cette dépendance, l'ordre relatif entre `main.js` et `jquery.js` resterait indéfini.
@@ -64,7 +64,7 @@ body { background: #f00; }
 Si vous désirez spécifier des propriétés additionnelles du style balise, passez un tableau des paires nom-valeur en tant que troisième argument. Si vous avez besoin de vous assurer qu'il y a seulement une balise style unique, utilisez un quatrième argument comme cela a été mentionné dans la description des balises méta. 
 
 ```php
-$this->registerCssFile("http://example.com/css/themes/black-and-white.css", [
+$this->registerCssFile("https://example.com/css/themes/black-and-white.css", [
     'depends' => [BootstrapAsset::class],
     'media' => 'print',
 ], 'css-print-theme');
diff --git a/docs/guide-fr/output-data-widgets.md b/docs/guide-fr/output-data-widgets.md
index fe70d291c2b..c50b5c69a4b 100644
--- a/docs/guide-fr/output-data-widgets.md
+++ b/docs/guide-fr/output-data-widgets.md
@@ -664,4 +664,4 @@ Qui génère un composant graphique [[yii\widgets\Pjax|Pjax]] enveloppant les co
 Lectures complémentaires
 ------------------------
 
-- [Rendering Data in Yii 2 with GridView and ListView](http://www.sitepoint.com/rendering-data-in-yii-2-with-gridview-and-listview/) d'Arno Slatius.
+- [Rendering Data in Yii 2 with GridView and ListView](https://www.sitepoint.com/rendering-data-in-yii-2-with-gridview-and-listview/) d'Arno Slatius.
diff --git a/docs/guide-fr/output-formatting.md b/docs/guide-fr/output-formatting.md
index eb2f7e084ec..fc09ff156d8 100644
--- a/docs/guide-fr/output-formatting.md
+++ b/docs/guide-fr/output-formatting.md
@@ -64,14 +64,14 @@ Le formateur prend en charge les formats de sortie suivants en relation avec les
 - [[yii\i18n\Formatter::asDate()|date]]: la valeur est formatée sous la forme d'une date, p. ex. `January 01, 2014`.
 - [[yii\i18n\Formatter::asTime()|time]]: la valeur est formatée sous la forme d'un temps, p. ex. `14:23`.
 - [[yii\i18n\Formatter::asDatetime()|datetime]]: la valeur est formatée sous la forme d'une date et d'un temps, p. ex. `January 01, 2014 14:23`.
-- [[yii\i18n\Formatter::asTimestamp()|timestamp]]: la valeur est formatée sous la forme d'un [horodatage unix ](http://en.wikipedia.org/wiki/Unix_time), p. ex. `1412609982`.
+- [[yii\i18n\Formatter::asTimestamp()|timestamp]]: la valeur est formatée sous la forme d'un [horodatage unix ](https://en.wikipedia.org/wiki/Unix_time), p. ex. `1412609982`.
 - [[yii\i18n\Formatter::asRelativeTime()|relativeTime]]: la valeur est formatée sous la forme d'un intervalle de temps entre un temps et le temps actuel dans une forme lisible par l'homme, p.ex. `1 hour ago`.
 - [[yii\i18n\Formatter::asDuration()|duration]]: la valeur est formatée comme une durée dans un format lisible par l'homme, p. ex. `1 day, 2 minutes`.
 
 Les formats par défaut pour les dates et les temps utilisés pour les méthodes [[yii\i18n\Formatter::asDate()|date]], [[yii\i18n\Formatter::asTime()|time]],
 et [[yii\i18n\Formatter::asDatetime()|datetime]] peuvent être configurés globalement en configurant [[yii\i18n\Formatter::dateFormat|dateFormat]], [[yii\i18n\Formatter::timeFormat|timeFormat]], et [[yii\i18n\Formatter::datetimeFormat|datetimeFormat]].
 
-Vous pouvez spécifier les formats de date et de temps en utilisant la [syntaxe ICU](http://userguide.icu-project.org/formatparse/datetime). Vous pouvez aussi utiliser la [syntaxe date() de PHP](https://www.php.net/manual/en/function.date.php) avec le préfixe `php:` pour la différentier de la syntaxe ICU. Par exemple :
+Vous pouvez spécifier les formats de date et de temps en utilisant la [syntaxe ICU](https://unicode-org.github.io/icu/userguide/format_parse/datetime/). Vous pouvez aussi utiliser la [syntaxe date() de PHP](https://www.php.net/manual/en/function.date.php) avec le préfixe `php:` pour la différentier de la syntaxe ICU. Par exemple :
 
 ```php
 // format ICU
@@ -107,7 +107,7 @@ echo Yii::$app->formatter->asTime('2014-10-06 12:41:00'); // 14:41:00
 echo Yii::$app->formatter->asTime('2014-10-06 14:41:00 CEST'); // 14:41:00
 ```
 
-> Note: comme les fuseaux horaires sont assujettis à des règles fixées par les gouvernements du monde entier, et que ces règles peuvent varier fréquemment, il est vraisemblable que vous n'ayez pas la dernière information dans la base de données des fuseaux horaires installée sur votre système. Vous pouvez vous reporter au [manuel d'ICU](http://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data) pour des informations sur la manière de mettre cette base de données à jour. Reportez-vous aussi au tutoriel [Configurer votre environnement PHP pour l'internationalisation](tutorial-i18n.md#setup-environment).
+> Note: comme les fuseaux horaires sont assujettis à des règles fixées par les gouvernements du monde entier, et que ces règles peuvent varier fréquemment, il est vraisemblable que vous n'ayez pas la dernière information dans la base de données des fuseaux horaires installée sur votre système. Vous pouvez vous reporter au [manuel d'ICU](https://unicode-org.github.io/icu/userguide/datetime/timezone/#updating-the-time-zone-data) pour des informations sur la manière de mettre cette base de données à jour. Reportez-vous aussi au tutoriel [Configurer votre environnement PHP pour l'internationalisation](tutorial-i18n.md#setup-environment).
 
 
 ## Formatage des nombres <span id="numbers"></span>
diff --git a/docs/guide-fr/runtime-requests.md b/docs/guide-fr/runtime-requests.md
index e2bcdc726a9..ec0607f852f 100644
--- a/docs/guide-fr/runtime-requests.md
+++ b/docs/guide-fr/runtime-requests.md
@@ -76,12 +76,12 @@ if ($request->isPut)  { /* la méthode de requête est requête PUT */ }
 
 Le composant `request` fournit plusieurs manières d'inspecter l'URL couramment requise.
 
-En supposant que l'URL requise soit `http://example.com/admin/index.php/product?id=100`, vous pouvez obtenir différentes parties de cette URL comme c'est résumé ci-dessous :
+En supposant que l'URL requise soit `https://example.com/admin/index.php/product?id=100`, vous pouvez obtenir différentes parties de cette URL comme c'est résumé ci-dessous :
 
 
 * [[yii\web\Request::url|url]]: retourne`/admin/index.php/product?id=100`, qui est l'URL sans la partie hôte. 
-* [[yii\web\Request::absoluteUrl|absoluteUrl]]: retourne `http://example.com/admin/index.php/product?id=100`, qui est l'URL complète y compris la partie hôte.
-* [[yii\web\Request::hostInfo|hostInfo]]: retourne `http://example.com`, qui est la partie hôte de l'URL.
+* [[yii\web\Request::absoluteUrl|absoluteUrl]]: retourne `https://example.com/admin/index.php/product?id=100`, qui est l'URL complète y compris la partie hôte.
+* [[yii\web\Request::hostInfo|hostInfo]]: retourne `https://example.com`, qui est la partie hôte de l'URL.
 * [[yii\web\Request::pathInfo|pathInfo]]: retourne `/product`, qui est la partie après le script d'entrée 
 et avant le point d'interrogation (chaîne de requête).
 * [[yii\web\Request::queryString|queryString]]: retourne `id=100`, qui est la partie après le point d'interrogation.
diff --git a/docs/guide-fr/runtime-responses.md b/docs/guide-fr/runtime-responses.md
index 26a7452fb3d..d00297348d0 100644
--- a/docs/guide-fr/runtime-responses.md
+++ b/docs/guide-fr/runtime-responses.md
@@ -143,7 +143,7 @@ Vous pouvez rediriger le navigateur sur une URL en appelant la méthode [[yii\we
 ```php
 public function actionOld()
 {
-    return $this->redirect('http://example.com/new', 301);
+    return $this->redirect('https://example.com/new', 301);
 }
 ```
 
@@ -152,7 +152,7 @@ Dans le code précédent, la méthode d'action retourne le résultat de la méth
 Dans des endroits autres que les méthodes d'action, vous devez appeler la méthode [[yii\web\Response::redirect()]] directement, suivi d'un appel chaîné à la méthode [[yii\web\Response::send()]] pour garantir qu'aucun contenu supplémentaire ne sera ajouté à la réponse. 
 
 ```php
-\Yii::$app->response->redirect('http://example.com/new', 301)->send();
+\Yii::$app->response->redirect('https://example.com/new', 301)->send();
 ```
 
 > Info: par défaut la méthode [[yii\web\Response::redirect()]] définit le code d'état à 302 pour indiquer au navigateur que la ressource requise est *temporairement* située sous un URI différent. Vous pouvez passer un code 301 pour dire au navigateur que la ressource a été déplacée *de manière permanente*.
@@ -187,11 +187,11 @@ Si vous appelez la méthode d'envoi de fichiers dans des endroits autres qu'une
 
 Quelques serveurs Web assurent une prise en charge spéciale de l'envoi de fichiers appelée *X-Sendfile*. L'idée est de rediriger la requête d'un fichier sur le serveur Web qui sert directement le fichier. En conséquence, l'application Web peut terminer plus rapidement tandis que le serveur Web est en train d'envoyer le fichier. Pour utiliser cette fonctionnalité, vous pouvez appeler la méthode [[yii\web\Response::xSendFile()]]. La liste suivante résume, comment activer la fonctionnalité `X-Sendfile` pour quelques serveurs Web populaires :
 
-- Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
-- Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Apache: [X-Sendfile](https://tn123.org/mod_xsendfile)
+- Lighttpd v1.4: [X-LIGHTTPD-send-file](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Lighttpd v1.5: [X-Sendfile](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
-- Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
+- Cherokee: [X-Sendfile and X-Accel-Redirect](https://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
 ## Envoi de la réponse <span id="sending-response"></span>
diff --git a/docs/guide-fr/runtime-routing.md b/docs/guide-fr/runtime-routing.md
index 310e4695d8c..e4d5ec59d90 100644
--- a/docs/guide-fr/runtime-routing.md
+++ b/docs/guide-fr/runtime-routing.md
@@ -156,7 +156,7 @@ echo Url::to(['post/view', 'id' => 100]);
 // crée une  URL avec ancre : /index.php?r=post%2Fview&id=100#content
 echo Url::to(['post/view', 'id' => 100, '#' => 'content']);
 
-// crée une URL absolue : http://www.example.com/index.php?r=post%2Findex
+// crée une URL absolue : https://www.example.com/index.php?r=post%2Findex
 echo Url::to(['post/index'], true);
 
 // crée une URL absolue en utilisant le schéma https : https://www.example.com/index.php?r=post%2Findex
@@ -214,11 +214,11 @@ use yii\helpers\Url;
 // URL couramment requise : /index.php?r=admin%2Fpost%2Findex
 echo Url::to();
 
-// un alias d'URL: http://example.com
-Yii::setAlias('@example', 'http://example.com/');
+// un alias d'URL: https://example.com
+Yii::setAlias('@example', 'https://example.com/');
 echo Url::to('@example');
 
-// une URL absolue : http://example.com/images/logo.gif
+// une URL absolue : https://example.com/images/logo.gif
 echo Url::to('/images/logo.gif', true);
 ```
 
@@ -442,18 +442,18 @@ le premier paramètre peut être omis seulement si tous les autres paramètres l
 ### Règles avec des noms de serveur <span id="rules-with-server-names"></span>
 
 Il est possible d'inclure des noms de serveur Web dans le motif d'une règle d'URL. Cela est principalement utilisé lorsque votre application doit se comporter différemment selon le nom du serveur Web. 
-Par exemple, les règles suivantes analysent et résolvent l'URL `http://admin.example.com/login` en la route `admin/user/login` 
-et `http://www.example.com/login` en la route `site/login`.
+Par exemple, les règles suivantes analysent et résolvent l'URL `https://admin.example.com/login` en la route `admin/user/login` 
+et `https://www.example.com/login` en la route `site/login`.
 
 ```php
 [
-    'http://admin.example.com/login' => 'admin/user/login',
-    'http://www.example.com/login' => 'site/login',
+    'https://admin.example.com/login' => 'admin/user/login',
+    'https://www.example.com/login' => 'site/login',
 ]
 ```
 
 Vous pouvez aussi inclure des paramètres  dans les noms de serveurs pour en extraire de l'information dynamique. 
-Par exemple, la règle suivante analyse et résout l'URL `http://en.example.com/posts` en la route `post/index` et le paramètre  `language=en`.
+Par exemple, la règle suivante analyse et résout l'URL `https://en.example.com/posts` en la route `post/index` et le paramètre  `language=en`.
 
 ```php
 [
@@ -465,7 +465,7 @@ Depuis la version 2.0.11, vous pouvez également utiliser des motifs relatifs au
 La syntaxe est la même que ci-dessus mais en sautant la partie `http`, p. ex. `'//www.example.com/login' => 'site/login'`.
 
 > Note: les règles avec des noms de serveur ne doivent **pas** comprendre le sous-dossier du script d'entrée dans leur motif. 
-Par exemple, si l'application est sous  `http://www.example.com/sandbox/blog`, alors vous devez utiliser le motif `http://www.example.com/posts` au lieu de  `http://www.example.com/sandbox/blog/posts`. 
+Par exemple, si l'application est sous  `https://www.example.com/sandbox/blog`, alors vous devez utiliser le motif `https://www.example.com/posts` au lieu de  `https://www.example.com/sandbox/blog/posts`. 
 Cela permet à votre application d'être déployée sous n'importe quel dossier sans avoir à changer son code. 
 Yii détecte automatiquement l'URL de base de l'application.
 
@@ -633,8 +633,8 @@ Et utilisez la nouvelle classe de règle dans la configuration de [[yii\web\UrlM
 Depuis la version 2.0.10, le [[yii\web\UrlManager|gestionnaire d'URL]] peut être configuré pour utiliser le [[yii\web\UrlNormalizer|normalisateur d'URL]] pour prendre en compte les variations de la même URL, p. ex. avec et sans la barre oblique de division de fin.
 
 
-Parce que, techniquement,  `http://example.com/path`
-et `http://example.com/path/` sont des URL différentes, servir le même  contenu pour chacune d'elles peut dégrader le classement SEO.
+Parce que, techniquement,  `https://example.com/path`
+et `https://example.com/path/` sont des URL différentes, servir le même  contenu pour chacune d'elles peut dégrader le classement SEO.
 Par défaut, le normalisateur fusionne les barres obliques de division consécutives, ajoute ou retire des barres de division de fin selon que le suffixe comporte une barre de division de fin ou pas, et redirige vers la version normalisée de l'URL en utilisant la [redirection permanente](https://en.wikipedia.org/wiki/HTTP_301).
 Le normalisateur peut être configuré globalement pour le gestionnaire d'URL ou individuellement pour chacune des règles — par défaut, chacune des règles utilise le normalisateur du gestionnaire d'URL. 
 Vous pouvez définir [[yii\web\UrlRule::$normalizer|UrlRule::$normalizer]] à `false` pour désactiver la normalisation pour une règle d'URL particulière.
diff --git a/docs/guide-fr/runtime-sessions-cookies.md b/docs/guide-fr/runtime-sessions-cookies.md
index 092df61f634..b525205a850 100644
--- a/docs/guide-fr/runtime-sessions-cookies.md
+++ b/docs/guide-fr/runtime-sessions-cookies.md
@@ -120,7 +120,7 @@ La classe par défaut [[yii\web\Session]] stocke les données de session sous fo
 
 * [[yii\web\DbSession]]: stocke les données de session dans une base de données. 
 * [[yii\web\CacheSession]]: stocke les données de session dans un cache avec l'aide d'un [composant cache](caching-data.md#cache-components) configuré.
-* [[yii\redis\Session]]: stocke les données de session en utilisant le médium de stockage [redis](http://redis.io/) as the storage medium.
+* [[yii\redis\Session]]: stocke les données de session en utilisant le médium de stockage [redis](https://redis.io/) as the storage medium.
 * [[yii\mongodb\Session]]: stocke les données de session dans une base de données de documents [MongoDB](https://www.mongodb.com/).
 
 Toutes ces classes de session prennent en charge le même jeu de méthodes d'API. En conséquence, vous pouvez changer de support de stockage sans avoir à modifier le code de votre application qui utilise ces sessions. 
diff --git a/docs/guide-fr/security-authorization.md b/docs/guide-fr/security-authorization.md
index 6dfca7304c4..9c124881217 100644
--- a/docs/guide-fr/security-authorization.md
+++ b/docs/guide-fr/security-authorization.md
@@ -125,7 +125,7 @@ class SiteController extends Controller
 
 ## Contrôle d'accès basé sur les rôles <span id="rbac"></span>
 
-Le contrôle d'accès basé sur les rôles (Role-Based Access Control – RBAC) fournit un contrôle d'accès centralisé simple mais puissant. Reportez-vous à [Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control) pour des détails comparatifs entre le contrôle d'accès basé sur les rôles et d'autres schéma de contrôle d'accès plus traditionnels.
+Le contrôle d'accès basé sur les rôles (Role-Based Access Control – RBAC) fournit un contrôle d'accès centralisé simple mais puissant. Reportez-vous à [Wikipedia](https://en.wikipedia.org/wiki/Role-based_access_control) pour des détails comparatifs entre le contrôle d'accès basé sur les rôles et d'autres schéma de contrôle d'accès plus traditionnels.
 
 Yii met en œuvre un contrôle d'accès basé sur les rôles général hiérarchisé, qui suit le  [modèle NIST RBAC](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf). Il fournit la fonctionnalité de contrôle d'accès basé sur les rôles via le [composant d'application](structure-application-components.md)[[yii\RBAC\ManagerInterface|authManager]].
 
diff --git a/docs/guide-fr/security-best-practices.md b/docs/guide-fr/security-best-practices.md
index bf0cce4c6e1..b078741c0eb 100644
--- a/docs/guide-fr/security-best-practices.md
+++ b/docs/guide-fr/security-best-practices.md
@@ -119,9 +119,9 @@ Notez que le processus  de HtmlPurifier est très lourd, c'est pourquoi vous dev
 
 La CSRF est une abréviation de cross-site request forgery (falsification de requête inter sites). L'idée est que beaucoup d'applications partent du principe que les requêtes provenant d'un navigateur sont fabriquées par l'utilisateur lui-même. Cela peut être faux. 
 
-Par exemple,  un site web `an.example.com` a une URL  `/logout`, qui, lorsqu'elle est accédée en utilisant une simple requête GET, déconnecte l'utilisateur. Tant qu'il s'agit d'une requête de l'utilisateur lui-même, tout va bien. Mais, un jour, des gens mal intentionnés, postent `<img src="http://an.example.com/logout">` sur un forum que l'utilisateur visite fréquemment. Le navigateur ne fait pas de différence entre la requête d'une image et celle d'une page. C'est pourquoi, lorsque l'utilisateur ouvre une page avec une telle balise `img`, le navigateur envoie la requête GET vers cette URL, et l'utilisateur est déconnecté du site  `an.example.com`. 
+Par exemple,  un site web `an.example.com` a une URL  `/logout`, qui, lorsqu'elle est accédée en utilisant une simple requête GET, déconnecte l'utilisateur. Tant qu'il s'agit d'une requête de l'utilisateur lui-même, tout va bien. Mais, un jour, des gens mal intentionnés, postent `<img src="https://an.example.com/logout">` sur un forum que l'utilisateur visite fréquemment. Le navigateur ne fait pas de différence entre la requête d'une image et celle d'une page. C'est pourquoi, lorsque l'utilisateur ouvre une page avec une telle balise `img`, le navigateur envoie la requête GET vers cette URL, et l'utilisateur est déconnecté du site  `an.example.com`. 
 
-C'est l'idée de base. D'aucuns diront que déconnecter un utilisateur n'a rien de très sérieux, mais les gens mal intentionnés peuvent faire bien plus, à partir de cette idée.  Imaginez qu'un site web possède une URL  `http://an.example.com/purse/transfer?to=anotherUser&amount=2000`. Accéder à cette URL en utilisant une requête GET, provoque le transfert de 2000 € d'un compte autorisé à l'utilisateur vers un autre compte `anotherUser`. Nous savons que le navigateur envoie toujours une requête GET pour charger une image. Nous pouvons donc modifier le code pour que seules des requêtes POST soient acceptées sur cette URL. Malheureusement, cela ne nous est pas d'un grand secours parce qu'un attaquant peut placer un peu le JavaScript à la place de la balise `<img>`, ce qui permet d'envoyer des requêtes POST sur cette URL:
+C'est l'idée de base. D'aucuns diront que déconnecter un utilisateur n'a rien de très sérieux, mais les gens mal intentionnés peuvent faire bien plus, à partir de cette idée.  Imaginez qu'un site web possède une URL  `https://an.example.com/purse/transfer?to=anotherUser&amount=2000`. Accéder à cette URL en utilisant une requête GET, provoque le transfert de 2000 € d'un compte autorisé à l'utilisateur vers un autre compte `anotherUser`. Nous savons que le navigateur envoie toujours une requête GET pour charger une image. Nous pouvons donc modifier le code pour que seules des requêtes POST soient acceptées sur cette URL. Malheureusement, cela ne nous est pas d'un grand secours parce qu'un attaquant peut placer un peu le JavaScript à la place de la balise `<img>`, ce qui permet d'envoyer des requêtes POST sur cette URL:
 
 Afin d'éviter la falsification des requêtes inter-sites vous devez toujours :
 
diff --git a/docs/guide-fr/start-databases.md b/docs/guide-fr/start-databases.md
index 7746d4060da..67298866504 100644
--- a/docs/guide-fr/start-databases.md
+++ b/docs/guide-fr/start-databases.md
@@ -222,7 +222,7 @@ Essayer <span id="trying-it-out"></span>
 Pour voir comment tout le code ci-dessus fonctionne, pointez votre navigateur sur l'URL suivante :
 
 ```
-http://hostname/index.php?r=country/index
+https://hostname/index.php?r=country/index
 ```
 
 ![Liste de Pays](images/start-country-list.png)
@@ -233,7 +233,7 @@ page d'enregistrements.
 Observez plus attentivement et vous noterez que l'URL dans le navigateur devient
 
 ```
-http://hostname/index.php?r=country/index&page=2
+https://hostname/index.php?r=country/index&page=2
 ```
 
 En coulisse, [[yii\data\Pagination|Pagination]] fournit toutes les fonctionnalités permettant de paginer un ensemble de données :
diff --git a/docs/guide-fr/start-forms.md b/docs/guide-fr/start-forms.md
index 63482d17b88..8bced19e09f 100644
--- a/docs/guide-fr/start-forms.md
+++ b/docs/guide-fr/start-forms.md
@@ -135,7 +135,7 @@ sera générée, dans laquelle le formulaire HTML sera affiché, ainsi que tout
 > Note: Dans cet exemple très simple, nous effectuons le rendu de la page de confirmation après soumission de données
 valides. En pratique, vous devriez envisager d'utiliser [[yii\web\Controller::refresh()|refresh()]] ou 
 [[yii\web\Controller::redirect()|redirect()]] pour éviter les 
-[problèmes de multiple soumission de formulaire](http://fr.wikipedia.org/wiki/Post-Redirect-Get).
+[problèmes de multiple soumission de formulaire](https://fr.wikipedia.org/wiki/Post-Redirect-Get).
 
 
 Créer des Vues <span id="creating-views"></span>
@@ -193,7 +193,7 @@ Essayer <span id="trying-it-out"></span>
 Pour voir comment ça fonctionne, utilisez votre navigateur pour accéder à l'URL suivante :
 
 ```
-http://hostname/index.php?r=site/entry
+https://hostname/index.php?r=site/entry
 ```
 
 Vous verrez une page affichant un formulaire comportant deux champs de saisie. Devant chaque champ de saisie, une
diff --git a/docs/guide-fr/start-gii.md b/docs/guide-fr/start-gii.md
index 5c99e6ffd0f..f624060616e 100644
--- a/docs/guide-fr/start-gii.md
+++ b/docs/guide-fr/start-gii.md
@@ -39,7 +39,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 Grâce à cette ligne, votre application est en mode développement, et active Gii, suivant la configuration  vue ci-dessus. Vous pouvez maintenant accéder à Gii via l’URL suivante :
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 > Note : si vous accédez à Gii depuis une machine autre que localhost, l’accès sera refusé par défaut pour des raisons 
@@ -103,7 +103,7 @@ Essayer <span id="trying-it-out"></span>
 Pour voir comment ça fonctionne, utilisez votre navigateur pour accéder à l’URL suivant :
 
 ```
-http://hostname/index.php?r=country/index
+https://hostname/index.php?r=country/index
 ```
 
 Vous verrez une grille de données montrant les pays de la table de la base de données. Vous pouvez trier la table, ou lui appliquer des filtres en entrant des conditions de filtrage dans les entêtes de colonnes.
diff --git a/docs/guide-fr/start-hello.md b/docs/guide-fr/start-hello.md
index 10321f949fb..fdb9110b23b 100644
--- a/docs/guide-fr/start-hello.md
+++ b/docs/guide-fr/start-hello.md
@@ -71,7 +71,7 @@ La vue `dire` doit être enregistrée dans le fichier `views/site/dire.php`. Qua
 est appelée dans une action, elle cherchera un fichier PHP nommé `views/ControllerID/NomDeLaVue.php`.
 
 Notez que dans le code ci-dessus, le paramètre `message` est [[yii\helpers\Html::encode()|Encodé-HTML]]
-avant d'être affiché. Cela est nécessaire car le paramètre vient de l'utilisateur, le rendant vulnérable aux [attaques cross-site scripting (XSS)](http://fr.wikipedia.org/wiki/Cross-site_scripting) en intégrant du code Javascript malicieux dans le paramètre.
+avant d'être affiché. Cela est nécessaire car le paramètre vient de l'utilisateur, le rendant vulnérable aux [attaques cross-site scripting (XSS)](https://fr.wikipedia.org/wiki/Cross-site_scripting) en intégrant du code Javascript malicieux dans le paramètre.
 
 Bien entendu, vous pouvez insérer plus de contenu dans la vue `dire`. Le contenu peut être des tags HTMML, du texte brut, ou même des expressions PHP.
 En réalité, la vue `dire` est simplement un script PHP exécuté par la méthode [[yii\web\Controller::render()|render()]].
@@ -84,7 +84,7 @@ Essayer <span id="trying-it-out"></span>
 Après avoir créé l'action et la vue, vous pouvez accéder à la nouvelle page en accédant à l'URL suivant :
 
 ```
-http://hostname/index.php?r=site/dire&message=Hello+World
+https://hostname/index.php?r=site/dire&message=Hello+World
 ```
 
 ![Hello World](images/start-hello-world.png)
diff --git a/docs/guide-fr/start-installation.md b/docs/guide-fr/start-installation.md
index 1058b9bc3a4..c388ea1def8 100644
--- a/docs/guide-fr/start-installation.md
+++ b/docs/guide-fr/start-installation.md
@@ -91,7 +91,7 @@ Mais il y a d'autres options d'installation disponibles :
 Installer les Assets (ici bibliothèques CSS et JavaScript) <span id="installing-assets"></span>
 -----------------
 
-Yii s'appuie sur les paquets [Bower](http://bower.io/) et/ou [NPM](https://www.npmjs.com/) pour l'installation des bibliothèques CSS et JavaScript.
+Yii s'appuie sur les paquets [Bower](https://bower.io/) et/ou [NPM](https://www.npmjs.com/) pour l'installation des bibliothèques CSS et JavaScript.
 
 Il utilise Composer pour les obtenir, permettant ainsi aux versions de paquet de PHP et à celles de CSS/JavaScript, d'être résolues en même temps.
 Cela peut être obtenue soit en utilisant [asset-packagist.org](https://asset-packagist.org) ou [composer asset plugin](https://github.com/fxpio/composer-asset-plugin).
@@ -153,10 +153,10 @@ Configuration du serveur Web <span id="configuring-web-servers"></span>
 
 > Note: si vous voulez juste tester Yii sans intention de l'utiliser sur un serveur de production, vous pouvez ignorer ce paragraphe.
 
-L'application installée selon les instructions ci-dessus devrait fonctionner *out of the box* (sans configuration supplémentaire) avec le [serveur HTTP Apache](http://httpd.apache.org/) ou le [serveur HTTP Nginx](http://nginx.org/), sous Windows, Mac OX X, ou Linux avec PHP 5.4 ou plus récent. Yii 2.0 est aussi compatible avec 
-[HHVM](http://hhvm.com/) de Facebook. Cependant, il existe des cas marginaux pour lesquels HHVM se comporte différemment du PHP natif; c'est pourquoi vous devez faire plus attention en utilisant HHVM.. 
+L'application installée selon les instructions ci-dessus devrait fonctionner *out of the box* (sans configuration supplémentaire) avec le [serveur HTTP Apache](https://httpd.apache.org/) ou le [serveur HTTP Nginx](https://nginx.org/), sous Windows, Mac OX X, ou Linux avec PHP 5.4 ou plus récent. Yii 2.0 est aussi compatible avec 
+[HHVM](https://hhvm.com/) de Facebook. Cependant, il existe des cas marginaux pour lesquels HHVM se comporte différemment du PHP natif; c'est pourquoi vous devez faire plus attention en utilisant HHVM.. 
 
-Sur un serveur de production, vous pouvez configurer votre serveur Web afin que l'application soit accessible via l'URL `http://www.example.com/index.php` au lieu de `http://www.example.com/basic/web/index.php`. Cela implique que le dossier racine de votre serveur Web pointe vers le dossier `basic/web`.
+Sur un serveur de production, vous pouvez configurer votre serveur Web afin que l'application soit accessible via l'URL `https://www.example.com/index.php` au lieu de `https://www.example.com/basic/web/index.php`. Cela implique que le dossier racine de votre serveur Web pointe vers le dossier `basic/web`.
 Vous pouvez également cacher `index.php` dans l'URL, comme décrit dans la partie [Génération et traitement des URL](runtime-url-handling.md), vous y apprendrez comment configurer votre serveur Apache ou Nginx pour atteindre ces objectifs.
 
 > Note: en utilisant `basic/web` comme dossier racine, vous empêchez également aux utilisateurs finaux d'accéder à votre code d'application privé et fichiers de données sensibles qui sont stockés dans le dossier `basic`. Refuser l'accès à ces ressources est une amélioration de la sécurité.
diff --git a/docs/guide-fr/start-looking-ahead.md b/docs/guide-fr/start-looking-ahead.md
index 1e512a15fc9..a4bdd9dfdba 100644
--- a/docs/guide-fr/start-looking-ahead.md
+++ b/docs/guide-fr/start-looking-ahead.md
@@ -35,4 +35,4 @@ Cette section va résumer les ressources Yii disponibles pour vous aider à êtr
     - Facebook: <https://www.facebook.com/groups/yiitalk/>
     - Twitter: <https://twitter.com/yiiframework>
     - LinkedIn: <https://www.linkedin.com/groups/yii-framework-1483367>
-    - Stackoverflow: <http://stackoverflow.com/questions/tagged/yii2>
+    - Stackoverflow: <https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide-fr/start-workflow.md b/docs/guide-fr/start-workflow.md
index c68778c62a7..8eccb4d4613 100644
--- a/docs/guide-fr/start-workflow.md
+++ b/docs/guide-fr/start-workflow.md
@@ -1,13 +1,13 @@
 Fonctionnement des applications
 ===============================
 
-Après avoir installé Yii, vous obtenez une application Yii fonctionnelle accessible via l'URL `http://hostname/basic/web/index.php` ou `http://hostname/index.php`, en fonction
+Après avoir installé Yii, vous obtenez une application Yii fonctionnelle accessible via l'URL `https://hostname/basic/web/index.php` ou `https://hostname/index.php`, en fonction
 de votre configuration. Cette section vous initiera aux fonctionnalités intégrées à l'application,
 à la manière dont le code est organisé et à la gestion des requêtes par l'application.
 
 > Info: pour simplifier, au long de ce tutoriel de démarrage, nous supposerons que `basic/web` est la racine de votre 
  serveur Web, et que vous avez configuré l'URL pour accéder à votre application comme suit ou de façon similaire : 
-  `http://hostname/index.php`.
+  `https://hostname/index.php`.
   Pour vos besoins, merci d'ajuster les URLs dans notre description comme il convient.
 
 Notez que contrairement au framework lui-même, après avoir installé un modèle de projet, vous êtes entièrement libre d'en disposer. Vous êtes libre d'ajouter ou de supprimer du code selon vos besoins. 
@@ -17,7 +17,7 @@ Fonctionnalité <span id="Functionality"></span>
 
 L'application basique installée contient quatre pages :
 
-* La page d'accueil, affichée quand vous accédez à l'URL `http://hostname/index.php`,
+* La page d'accueil, affichée quand vous accédez à l'URL `https://hostname/index.php`,
 * la page "About" (À Propos),
 * la page "Contact", qui présente un formulaire de contact permettant aux utilisateurs finaux de vous contacter par courriel,
 * et la page "Login" (Connexion), qui présente un formulaire de connexion qui peut être utilisé pour authentifier des utilisateurs finaux. Essayez de vous connecter
@@ -37,7 +37,7 @@ Structure de l'application <span id="application-structure"></span>
 
 Les répertoires et fichiers les plus importants de votre application sont (en supposant que le répertoire racine de l'application est `basic`) :
 
-```js
+```
 basic/                  chemin de base de l'application
     composer.json       utilisé par Composer, décrit les information de paquets
     config/             contient les configurations de l'application et autres
@@ -57,7 +57,7 @@ basic/                  chemin de base de l'application
 
 Dans l'ensemble, les fichiers de l'application peuvent être séparés en deux types : ceux situés dans `basic/web` et ceux situés dans d'autres répertoires. Les premiers peuvent être atteints directement en HTTP (c'est à dire dans un navigateur), tandis que les seconds ne peuvent et ne doivent pas l'être.
 
-Yii est mis en œuvre selon le modèle de conception [modèle-vue-contrôleur (MVC)](http://wikipedia.org/wiki/Model-view-controller),
+Yii est mis en œuvre selon le modèle de conception [modèle-vue-contrôleur (MVC)](https://wikipedia.org/wiki/Model-view-controller),
 ce qui se reflète dans l'organisation des répertoires ci-dessus. Le répertoire `models` contient toutes les [classes modèles](structure-models.md),
 le répertoire `views` contient tous les [scripts de vue](structure-views.md), et le répertoire `controllers` contient toutes les [classes contrôleurs](structure-controllers.md).
 
diff --git a/docs/guide-fr/structure-applications.md b/docs/guide-fr/structure-applications.md
index 3814445ca77..f511f745e3b 100644
--- a/docs/guide-fr/structure-applications.md
+++ b/docs/guide-fr/structure-applications.md
@@ -234,7 +234,7 @@ La valeur par défaut de cette propriété est  `en`, pour anglais. Vous devez c
 
 La valeur de cette propriété détermine des aspects variés de l'[internationalisation](tutorial-i18n.md) tels que la traduction des messages, le formatage des dates et des nombres, etc. Par exemple, l'objet graphique [[yii\jui\DatePicker]] utilise la valeur de cette propriété pour déterminer dans quelle langue le calendrier doit être affiché et comment les dates doivent être formatées. 
 
-La spécification de la langue par une  [étiquette IETF d'identification de langue ](http://en.wikipedia.org/wiki/IETF_language_tag) est recommandée. Par exemple, `en` signifie anglais, tandis que `en-US` signifie anglais (États-Unis)..
+La spécification de la langue par une  [étiquette IETF d'identification de langue ](https://en.wikipedia.org/wiki/IETF_language_tag) est recommandée. Par exemple, `en` signifie anglais, tandis que `en-US` signifie anglais (États-Unis)..
 
 Pour plus d'informations sur cette propriété, reportez-vous à la section [Internationalisation](tutorial-i18n.md).
 
@@ -296,7 +296,7 @@ Plus tard, si vous changez d'avis à propos de la taille de ces vignettes, il vo
 Cette propriété spécifie la langue dans laquelle l'application est écrite. La valeur par défaut est  `'en-US'`,
 pour (anglais — États-Unis). Vous devriez configurer cette propriété si les textes dans votre code ne sont pas en anglais US. 
 
-Comme pour la propriété [language (langue)](#language), vous devez configurer cette propriété à l'aide d'une [étiquette IETF d'identification de langue](http://en.wikipedia.org/wiki/IETF_language_tag). Par exemple, `en` signifie `anglais`,
+Comme pour la propriété [language (langue)](#language), vous devez configurer cette propriété à l'aide d'une [étiquette IETF d'identification de langue](https://en.wikipedia.org/wiki/IETF_language_tag). Par exemple, `en` signifie `anglais`,
 tandis que `en-US` signifie for `anglais-États-Unis`).
 
 Pour plus d'informations sur cette propriété, reportez-vous à la section [Internationalisation](tutorial-i18n.md).
diff --git a/docs/guide-fr/structure-assets.md b/docs/guide-fr/structure-assets.md
index c0c67302cb0..b057c0c1258 100644
--- a/docs/guide-fr/structure-assets.md
+++ b/docs/guide-fr/structure-assets.md
@@ -79,7 +79,7 @@ Chaque fichier JavaScript peut être spécifié dans l'un des formats suivants 
 Le chemin réel du fichier peut être déterminé en préfixant le chemin relatif avec le [[yii\web\AssetManager::basePath| chemin de base]], 
 et l'URL réelle du fichier peut être déterminée en préfixant le chemin relatif avec l'[[yii\web\AssetManager::baseUrl|URL de base]].
   - Une URL absolue représentant un fichier JavaScript externe. 
-Par exemple , `http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` ou
+Par exemple , `https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` ou
     `//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js`.
 * [[yii\web\AssetBundle::depends|depends (dépendances)]]: 
 un tableau listant les paquets de ressources dont ce paquet dépend (brièvement expliqué).
@@ -206,7 +206,7 @@ L'exemple ci-dessus définit un paquet de ressources pour le [paquet "fontawesom
 
 ### Installation des ressources Bower et NPM  <span id="bower-npm-assets"></span>
 
-La plupart des paquets JavaScript/CSS sont gérés par le gestionnaire de paquets [Bower](http://bower.io/) et/ou le gestionnaire de paquets [NPM](https://www.npmjs.com/). Dans le monde PHP, nous disposons de Composer, qui gère les dépendances, mais il est possible de charger des paquets Bower et NPM comme des paquets PHP en utilisant `composer.json`.
+La plupart des paquets JavaScript/CSS sont gérés par le gestionnaire de paquets [Bower](https://bower.io/) et/ou le gestionnaire de paquets [NPM](https://www.npmjs.com/). Dans le monde PHP, nous disposons de Composer, qui gère les dépendances, mais il est possible de charger des paquets Bower et NPM comme des paquets PHP en utilisant `composer.json`.
 
 Pour cela, nous devons configurer quelque peu notre composer. Il y a deux options possibles :
 
@@ -468,7 +468,7 @@ Si votre code dépend de jQuery, jQuery UI ou Bootstrap, vous devriez utiliser l
 
 ## Conversion de ressources <span id="asset-conversion"></span>
 
-Au lieu d'écrire directement leur code CSS et/ou JavaScript, les développeurs l'écrivent souvent dans une syntaxe étendue et utilisent des outils spéciaux pour le convertir en CSS/JavaScript. Par exemple, pour le code CSS vous pouvez utiliser [LESS](http://lesscss.org/) ou [SCSS](http://sass-lang.com/); et pour JavaScript, vous pouvez utiliser [TypeScript](http://www.typescriptlang.org/).
+Au lieu d'écrire directement leur code CSS et/ou JavaScript, les développeurs l'écrivent souvent dans une syntaxe étendue et utilisent des outils spéciaux pour le convertir en CSS/JavaScript. Par exemple, pour le code CSS vous pouvez utiliser [LESS](https://lesscss.org/) ou [SCSS](https://sass-lang.com/); et pour JavaScript, vous pouvez utiliser [TypeScript](https://www.typescriptlang.org/).
 
 Vous pouvez lister les fichiers de ressources écrits dans une syntaxe  étendue dans les propriétés [[yii\web\AssetBundle::css|css]] et [[yii\web\AssetBundle::js|js]] d'un paquet de ressources. 
 
@@ -522,7 +522,7 @@ return [
 
 Dans la syntaxe précédente, nous spécifions les syntaxes étendues prises en charge via la propriété [[yii\web\AssetConverter::commands]]. Les clés du tableau sont les extensions de nom de fichier (sans le point de tête), et les valeurs sont les extensions des fichiers de ressources résultants ainsi que les commandes pour effectuer les conversions. Les valeurs à remplacer `{from}` et `{to}` dans les commandes doivent être remplacées par les chemins de fichiers de ressources sources et les chemins de fichiers de ressources cibles.
 
-> Info: il y a d'autres manières de travailler avec les ressources en syntaxe étendue, en plus de celle décrite ci-dessus. Par exemple, vous pouvez utiliser des outils de compilation comme [grunt](http://gruntjs.com/) pour surveiller et convertir automatiquement des ressources écrites en syntaxe étendue. Dans ce cas, vous devez lister les fichiers CSS/JavaScript résultants dans des paquets de ressources plutôt que les fichiers originaux. 
+> Info: il y a d'autres manières de travailler avec les ressources en syntaxe étendue, en plus de celle décrite ci-dessus. Par exemple, vous pouvez utiliser des outils de compilation comme [grunt](https://gruntjs.com/) pour surveiller et convertir automatiquement des ressources écrites en syntaxe étendue. Dans ce cas, vous devez lister les fichiers CSS/JavaScript résultants dans des paquets de ressources plutôt que les fichiers originaux. 
 
 
 ## Combinaison et compression de ressources <span id="combining-compressing-assets"></span>
@@ -664,7 +664,7 @@ yii asset assets.php config/assets-prod.php
 Le fichier de configuration peut être inclus dans la configuration de l'application comme décrit dans la dernière sous-section . 
 
 
-> Info: l'utilisation de la commande `asset` n'est pas la seule option pour automatiser la combinaison et la compression des ressources. Vous pouvez utiliser l'excellent outil d'exécution de tâches [grunt](http://gruntjs.com/) pour arriver au même résultat. 
+> Info: l'utilisation de la commande `asset` n'est pas la seule option pour automatiser la combinaison et la compression des ressources. Vous pouvez utiliser l'excellent outil d'exécution de tâches [grunt](https://gruntjs.com/) pour arriver au même résultat. 
 
 
 ### Regroupement des paquets de ressources  <span id="grouping-asset-bundles"></span>
diff --git a/docs/guide-fr/structure-controllers.md b/docs/guide-fr/structure-controllers.md
index 2970824a219..26efd8c7a76 100644
--- a/docs/guide-fr/structure-controllers.md
+++ b/docs/guide-fr/structure-controllers.md
@@ -1,7 +1,7 @@
 Contrôleurs
 ===========
 
-Les contrôleurs font partie du modèle d'architecture [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (Modèle Vue Contrôleur). Ce sont des objets dont la classe étend [[yii\base\Controller]]. Ils sont chargés de traiter les requêtes et de générer les réponses. En particulier, après que l'objet [application](structure-applications.md) leur a passé le contrôle, ils analysent les données de la requête entrante, les transmettent aux [modèles](structure-models.md), injectent le résultat des modèles dans les [vues](structure-views.md) et, pour finir, génèrent les réponses sortantes. 
+Les contrôleurs font partie du modèle d'architecture [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (Modèle Vue Contrôleur). Ce sont des objets dont la classe étend [[yii\base\Controller]]. Ils sont chargés de traiter les requêtes et de générer les réponses. En particulier, après que l'objet [application](structure-applications.md) leur a passé le contrôle, ils analysent les données de la requête entrante, les transmettent aux [modèles](structure-models.md), injectent le résultat des modèles dans les [vues](structure-views.md) et, pour finir, génèrent les réponses sortantes. 
 
 
 ## Actions <span id="actions"></span>
@@ -72,7 +72,7 @@ ou dans le format suivant si le contrôleur appartient à un module :
 identifiant_de_module/identifiant_de_contrôleur/identifiant_d_action
 ```
 
-Ainsi si un utilisateur requiert l'URL `http://hostname/index.php?r=site/index`, l'action `index` dans le contrôleur `site` sera exécutée. Pour plus de détails sur la façon dont les routes sont résolues, reportez-vous à la section [Routage et génération d'URL](runtime-routing.md).
+Ainsi si un utilisateur requiert l'URL `https://hostname/index.php?r=site/index`, l'action `index` dans le contrôleur `site` sera exécutée. Pour plus de détails sur la façon dont les routes sont résolues, reportez-vous à la section [Routage et génération d'URL](runtime-routing.md).
 
 
 ## Création des contrôleurs <span id="creating-controllers"></span>
@@ -143,7 +143,7 @@ Vous pouvez configurer [[yii\base\Application::controllerMap|controller map]] da
 
 ### Contrôleur par défaut <span id="default-controller"></span>
 
-Chaque application possède un contrôleur par défaut spécifié via la propriété [[yii\base\Application::defaultRoute]]. Lorsqu'une requête ne précise aucune [route](#routes), c'est la route spécifiée par cette propriété qui est utilisée. Pour les [[yii\web\Application|applications Web]], sa valeur est `'site'`, tandis que pour les [[yii\console\Application|applications de console]], c'est `help`. Par conséquent, si une URL est de la forme `http://hostname/index.php`, c'est le contrôleur `site` qui prend la requête en charge.
+Chaque application possède un contrôleur par défaut spécifié via la propriété [[yii\base\Application::defaultRoute]]. Lorsqu'une requête ne précise aucune [route](#routes), c'est la route spécifiée par cette propriété qui est utilisée. Pour les [[yii\web\Application|applications Web]], sa valeur est `'site'`, tandis que pour les [[yii\console\Application|applications de console]], c'est `help`. Par conséquent, si une URL est de la forme `https://hostname/index.php`, c'est le contrôleur `site` qui prend la requête en charge.
 
 Vous pouvez changer de contrôleur par défaut en utilisant la  [configuration d'application](structure-applications.md#application-configurations) suivante :
 
@@ -263,8 +263,8 @@ Dans les exemples ci-dessus, les valeurs de retour des actions sont toutes des c
 ```php
 public function actionForward()
 {
-    // redirect the user browser to http://example.com
-    return $this->redirect('http://example.com');
+    // redirect the user browser to https://example.com
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -289,10 +289,10 @@ class PostController extends Controller
 
 En fonction de la requête, les paramètres de l'action seront établis comme suit :
 
-* `http://hostname/index.php?r=post/view&id=123`: le paramètre `$id` reçoit la valeur `'123'`,  tandis que le paramètre `$version` reste `null` (sa valeur par défaut) car la requête ne contient aucun paramètre `version`.
-* `http://hostname/index.php?r=post/view&id=123&version=2`: les paramètres `$id` et `$version` reçoivent les valeurs `'123'` et `'2'`, respectivement.
-* `http://hostname/index.php?r=post/view`: une exception [[yii\web\BadRequestHttpException]] est levée car le paramètre obligatoire `$id` n'est pas fourni par la requête.
-* `http://hostname/index.php?r=post/view&id[]=123`: une exception [[yii\web\BadRequestHttpException]] est levée car le paramètre `$id` reçoit, de manière inattendue,  un tableau (`['123']`).
+* `https://hostname/index.php?r=post/view&id=123`: le paramètre `$id` reçoit la valeur `'123'`,  tandis que le paramètre `$version` reste `null` (sa valeur par défaut) car la requête ne contient aucun paramètre `version`.
+* `https://hostname/index.php?r=post/view&id=123&version=2`: les paramètres `$id` et `$version` reçoivent les valeurs `'123'` et `'2'`, respectivement.
+* `https://hostname/index.php?r=post/view`: une exception [[yii\web\BadRequestHttpException]] est levée car le paramètre obligatoire `$id` n'est pas fourni par la requête.
+* `https://hostname/index.php?r=post/view&id[]=123`: une exception [[yii\web\BadRequestHttpException]] est levée car le paramètre `$id` reçoit, de manière inattendue,  un tableau (`['123']`).
 
 Si vous voulez que votre paramètre d'action accepte un tableau, il faut, dans la définition de la méthode, faire allusion à son type, avec `array`, comme ceci :
 
@@ -303,7 +303,7 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-Désormais, si la requête est `http://hostname/index.php?r=post/view&id[]=123`, le paramètre `$id` accepte la valeur `['123']`. Si la requête est  `http://hostname/index.php?r=post/view&id=123`, le paramètre `$id` accepte également la valeur transmise par la requête parce que les valeurs scalaires sont automatiquement convertie en tableau (*array*).
+Désormais, si la requête est `https://hostname/index.php?r=post/view&id[]=123`, le paramètre `$id` accepte la valeur `['123']`. Si la requête est  `https://hostname/index.php?r=post/view&id=123`, le paramètre `$id` accepte également la valeur transmise par la requête parce que les valeurs scalaires sont automatiquement convertie en tableau (*array*).
 
 Les exemples qui précèdent montrent essentiellement comment les paramètres d'action fonctionnent dans les applications Web. Pour les applications de console, reportez-vous à la section  [Commandes de console](tutorial-console.md) pour plus de détails.
 
diff --git a/docs/guide-fr/structure-extensions.md b/docs/guide-fr/structure-extensions.md
index 6eb2b359199..82e419072db 100644
--- a/docs/guide-fr/structure-extensions.md
+++ b/docs/guide-fr/structure-extensions.md
@@ -59,7 +59,7 @@ Dans quelques cas rares, vous désirez installer quelques, ou toutes les, extens
 2. Installer la classe *autoloader* procurée par les extensions, si elles en possèdent.
 3. Télécharger et installer toutes les extensions dont vos extensions dépendent selon les instructions.
  
-Si une extension ne possède pas de classe *autoloader* mais obéit à la [norme PSR-4](http://www.php-fig.org/psr/psr-4/), vous pouvez utiliser la classe *autoloader* procurée par Yii pour charger automatiquement les classes d'extension. Tout ce que vous avez à faire, c'est de déclarer un [alias racine](concept-aliases.md#defining-aliases) pour le dossier racine de l'extension. Par exemple, en supposant que vous avez installé une extension dans le dossier `vendor/mycompany/myext`, et que les classes d'extension sont sous l'espace de noms `myext`, alors vous pouvez inclure le code suivant dans la configuration de votre application :
+Si une extension ne possède pas de classe *autoloader* mais obéit à la [norme PSR-4](https://www.php-fig.org/psr/psr-4/), vous pouvez utiliser la classe *autoloader* procurée par Yii pour charger automatiquement les classes d'extension. Tout ce que vous avez à faire, c'est de déclarer un [alias racine](concept-aliases.md#defining-aliases) pour le dossier racine de l'extension. Par exemple, en supposant que vous avez installé une extension dans le dossier `vendor/mycompany/myext`, et que les classes d'extension sont sous l'espace de noms `myext`, alors vous pouvez inclure le code suivant dans la configuration de votre application :
 
 ```php
 [
@@ -148,7 +148,7 @@ Losqu'un utilisateur exécute `composer install` pour installer une extension, l
 
 Bien sûr, votre extension dépend de Yii. C'est pourquoi, vous devez lister  (`yiisoft/yii2`) dans l'entrée `require` dans `composer.json`. Si votre extension dépend aussi d'autres extensions ou bibliothèques de tierces parties, vous devez les lister également. Assurez-vous que vous de lister également les contraintes de versions appropriées (p. ex. `1.*`, `@stable`) pour chacun des paquets dont votre extension dépend. Utilisez des dépendances stables lorsque votre extension est publiée dans une version stable. 
 
-La plupart des paquets JavaScript/CSS sont gérés par [Bower](http://bower.io/) et/ou [NPM](https://www.npmjs.com/),
+La plupart des paquets JavaScript/CSS sont gérés par [Bower](https://bower.io/) et/ou [NPM](https://www.npmjs.com/),
 plutôt que par Composer. Yii utilise le [greffon *assets* de Composer(https://github.com/fxpio/composer-asset-plugin) pour activer la gestion de ce genre de paquets par Composer. Si votre extension dépend d'un paquet Bower, vous pouvez simplement lister la dépendance dans  `composer.json` comme ceci : 
 
 ```json
@@ -193,7 +193,7 @@ Parce que les extensions sont prévues pour être utilisées par d'autres person
 
 #### Espaces de noms <span id="namespaces"></span>
 
-Pour éviter les collisions de noms et rendre le chargement des classes de votre extension automatique, vous devez utiliser des espaces de noms et nommer les classes de votre extension en respectant la [norme PSR-4](http://www.php-fig.org/psr/psr-4/) ou la [norme PSR-0](http://www.php-fig.org/psr/psr-0/).
+Pour éviter les collisions de noms et rendre le chargement des classes de votre extension automatique, vous devez utiliser des espaces de noms et nommer les classes de votre extension en respectant la [norme PSR-4](https://www.php-fig.org/psr/psr-4/) ou la [norme PSR-0](https://www.php-fig.org/psr/psr-0/).
 
 Vos noms de classe doivent commencer par  `vendorName\extensionName`, où `extensionName` est similaire au nom du projet dans le nom du paquet sauf qu'il doit contenir le préfixe `yii2-`. Par exemple, pour l'extension `yiisoft/yii2-imagine`, nous utilisons l'espace de noms `yii\imagine` pour ses classes. 
 
@@ -278,7 +278,7 @@ Il est recommandé que créiez des cas de test variés pour tester votre extensi
 
 #### Numérotation des versions <span id="versioning"></span>
 
-Vous devriez donner à chacune des versions publiées de votre extension un numéro (p. ex. `1.0.1`). Nous recommandons de suivre la pratique de la [numérotation sémantique des versions](http://semver.org) lors de la détermination d'un numéro de version. 
+Vous devriez donner à chacune des versions publiées de votre extension un numéro (p. ex. `1.0.1`). Nous recommandons de suivre la pratique de la [numérotation sémantique des versions](https://semver.org) lors de la détermination d'un numéro de version. 
 
 
 #### Publication <span id="releasing"></span>
@@ -286,7 +286,7 @@ Vous devriez donner à chacune des versions publiées de votre extension un num
 Pour permettre aux autres personnes de connaître votre extension, vous devez la publier. Si c'est la première fois que vous publiez l'extension, vous devez l'enregistrer sur un dépôt Composer tel que [Packagist](https://packagist.org/). Ensuite, tout ce que vous avez à faire, c'est de créer une balise de version (p. ex. `v1.0.1`) sur le dépôt VCS de votre extension et de notifier au dépôt Composer la nouvelle version. Les gens seront capables de trouver votre nouvelle version et, soit de l'installer, soit de la mettre à jour via le dépôt Composer. 
 
 Dans les versions de votre extension, en plus des fichiers de code, vous devez envisager d'inclure ce qui suit par aider les gens à connaître votre extension et à l'utiliser :
-* Un ficher *readme* (lisez-moi) dans le dossier racine du paquet : il doit décrire ce que fait votre extension, comment l'installer et l'utiliser. Nous vous recommandons de l'écrire dans le format [Markdown](http://daringfireball.net/projects/markdown/) et de nommer ce fichier `readme.md`.
+* Un ficher *readme* (lisez-moi) dans le dossier racine du paquet : il doit décrire ce que fait votre extension, comment l'installer et l'utiliser. Nous vous recommandons de l'écrire dans le format [Markdown](https://daringfireball.net/projects/markdown/) et de nommer ce fichier `readme.md`.
 * Un fichier *changelog* (journal des modifications) dans le dossier racine du paquet : il liste les changements apportés dans chacune des versions. Ce fichier peut être écrit dans le format Markdown et nommé `changelog.md`.
 * Un fichier *upgrade* (mise à jour) dans le dossier racine du paquet : il donne les instructions sur la manière de mettre l'extension à jour en partant d'une version précédente.   Ce fichier peut être écrit dans le format Markdown et nommé `upgrade.md`.
 * Tutorials, demos, screenshots, etc.: ces derniers sont nécessaires si votre extension fournit de nombreuses fonctionnalités qui ne peuvent être couvertes dans le fichier readme. 
@@ -303,21 +303,21 @@ Yii fournit les extensions du noyau suivantes (ou ["les extensions officielles"]
 
 - [yiisoft/yii2-apidoc](https://www.yiiframework.com/extension/yiisoft/yii2-apidoc) : fournit un générateur  d'API extensible et de haute performance. Elle est aussi utilisée pour générer l'API du noyau du framework.  
 - [yiisoft/yii2-authclient](https://www.yiiframework.com/extension/yiisoft/yii2-authclient) : fournit un jeu de clients d'authentification courants tels que  Facebook OAuth2 client, GitHub OAuth2 client.
-- [yiisoft/yii2-bootstrap](https://www.yiiframework.com/extension/yiisoft/yii2-bootstrap) : fournit un jeu d'objets graphiques qui encapsulent les composants et les greffons de [Bootstrap](http://getbootstrap.com/).
+- [yiisoft/yii2-bootstrap](https://www.yiiframework.com/extension/yiisoft/yii2-bootstrap) : fournit un jeu d'objets graphiques qui encapsulent les composants et les greffons de [Bootstrap](https://getbootstrap.com/).
 - [yiisoft/yii2-debug](https://www.yiiframework.com/extension/yiisoft/yii2-debug) : fournit la prise en charge du débogage des applications Yii. Lorsque cette extension est utilisée, une barre de débogage apparaît au pied de chacune des pages. Cette extension fournit aussi un jeu de pages autonomes pour afficher des informations de débogage plus détaillées. 
 - [yiisoft/yii2-elasticsearch](https://www.yiiframework.com/extension/yiisoft/yii2-elasticsearch) : fournit la prise en charge d'[Elasticsearch](https://www.elastic.co/). Elle inclut un moteur de requêtes/recherches de base et met en œuvre le motif [Active Record](db-active-record.md) qui permet de stocker des enregistrement actifs dans Elasticsearch.
 - [yiisoft/yii2-faker](https://www.yiiframework.com/extension/yiisoft/yii2-faker) : fournit la prise en charge de [Faker](https://www.yiiframework.com/extension/fzaninotto/Faker) pour générer des données factices pour vous.
 - [yiisoft/yii2-gii](https://www.yiiframework.com/extension/yiisoft/yii2-gii) : fournit un générateur de code basé sur le Web qui est hautement extensible et peut être utilisé pour générer rapidement des modèles, des formulaires, des modules, des requêtes CRUD, etc. 
 - [yiisoft/yii2-httpclient](https://www.yiiframework.com/extension/yiisoft/yii2-httpclient) : provides an HTTP client.
 - [yiisoft/yii2-imagine](https://github.com/yiisoft/yii2-imagine) : fournit des fonctionnalités couramment utilisées de manipulation d'images basées sur [Imagine](https://www.yiiframework.com/extension/yiisoft/yii2-imagine).
-- [yiisoft/yii2-jui](https://www.yiiframework.com/extension/yiisoft/yii2-jui) : fournit un jeu d'objets graphiques qui encapsulent les interactions et les objets graphiques de [JQuery UI](http://jqueryui.com/).
+- [yiisoft/yii2-jui](https://www.yiiframework.com/extension/yiisoft/yii2-jui) : fournit un jeu d'objets graphiques qui encapsulent les interactions et les objets graphiques de [JQuery UI](https://jqueryui.com/).
 - [yiisoft/yii2-mongodb](https://www.yiiframework.com/extension/yiisoft/yii2-mongodb) : fournit la prise en charge de [MongoDB](https://www.mongodb.com/). Elle inclut des fonctionnalités telles que les requêtes de base, les enregistrements actifs, les migrations, la mise en cache, la génération de code, etc.
 - [yiisoft/yii2-queue](https://www.yiiframework.com/extension/yiisoft/yii2-queue): fournit la prise en charge pour exécuter des tâches en asynchrone via des queues. Il prend en charge les queues en se basant sur, DB, Redis, RabbitMQ, AMQP, Beanstalk et Gearman.
-- [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis) : fournit la prise en charge de [redis](http://redis.io/). Elle inclut des fonctionnalités telles que les requêtes de base, les enregistrements actifs, la mise en cache, etc.
-- [yiisoft/yii2-shell](https://www.yiiframework.com/extension/yiisoft/yii2-shell): fournit un interprète de commandes (shell) basé sur [psysh](http://psysh.org/).
-- [yiisoft/yii2-smarty](https://www.yiiframework.com/extension/yiisoft/yii2-smarty) : fournit un moteur de modèles basé sur  [Smarty](http://www.smarty.net/).
+- [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis) : fournit la prise en charge de [redis](https://redis.io/). Elle inclut des fonctionnalités telles que les requêtes de base, les enregistrements actifs, la mise en cache, etc.
+- [yiisoft/yii2-shell](https://www.yiiframework.com/extension/yiisoft/yii2-shell): fournit un interprète de commandes (shell) basé sur [psysh](https://psysh.org/).
+- [yiisoft/yii2-smarty](https://www.yiiframework.com/extension/yiisoft/yii2-smarty) : fournit un moteur de modèles basé sur  [Smarty](https://www.smarty.net/).
 - [yiisoft/yii2-sphinx](https://github.com/yiisoft/yii2-sphinx) : fournit la prise en charge de [Sphinx](https://www.yiiframework.com/extension/yiisoft/yii2-sphinx). Elle inclut des fonctionnalités telles que les requêtes de base, les enregistrements actifs, la génération de code, etc.
-- [yiisoft/yii2-swiftmailer](https://www.yiiframework.com/extension/yiisoft/yii2-swiftmailer) : fournit les fonctionnalités d'envoi de courriels basées sur [swiftmailer](http://swiftmailer.org/).
+- [yiisoft/yii2-swiftmailer](https://www.yiiframework.com/extension/yiisoft/yii2-swiftmailer) : fournit les fonctionnalités d'envoi de courriels basées sur [swiftmailer](https://swiftmailer.symfony.com/).
 - [yiisoft/yii2-twig](https://www.yiiframework.com/extension/yiisoft/yii2-twig) : fournit un moteur de modèles basé sur [Twig](https://twig.symfony.com/).
 
 Les extensions officielles suivantes sont valables pour les versions Yii 2.1 et plus récentes. Vous n'avez pas besoin de les installer car elles sont incluse dans le cœur du framework.
@@ -327,7 +327,7 @@ Les extensions officielles suivantes sont valables pour les versions Yii 2.1 et
 - [yiisoft/yii2-jquery](https://www.yiiframework.com/extension/yiisoft/yii2-jquery):
   fournit une prise en charge de [jQuery](https://jquery.com/).
 - [yiisoft/yii2-maskedinput](https://www.yiiframework.com/extension/yiisoft/yii2-maskedinput):
-  fournit un composant graphique de saisie masqué basé sur [jQuery Input Mask plugin](http://robinherbots.github.io/Inputmask/).
+  fournit un composant graphique de saisie masqué basé sur [jQuery Input Mask plugin](https://robinherbots.github.io/Inputmask/).
 - [yiisoft/yii2-mssql](https://www.yiiframework.com/extension/yiisoft/yii2-mssql):
   fournit la prise en charge de [MSSQL](https://www.microsoft.com/sql-server/).
 - [yiisoft/yii2-oracle](https://www.yiiframework.com/extension/yiisoft/yii2-oracle):
diff --git a/docs/guide-fr/structure-filters.md b/docs/guide-fr/structure-filters.md
index 1db31505c62..e5e3c0d7668 100644
--- a/docs/guide-fr/structure-filters.md
+++ b/docs/guide-fr/structure-filters.md
@@ -117,7 +117,7 @@ Pour plus de détails sur le contrôle d'accès en général, reportez-vous à l
 ### Filtres de méthodes d'authentification <span id="auth-method-filters"></span>
 
 Les filtres de méthodes d'authentification sont utilisés pour authentifier un utilisateur qui utilise des méthodes d'authentification variées comme
-[HTTP Basic Auth](http://en.wikipedia.org/wiki/Basic_access_authentication) ou [OAuth 2](http://oauth.net/2/). Les classes de filtre sont dans l'espace de noms `yii\filters\auth`.
+[HTTP Basic Auth](https://en.wikipedia.org/wiki/Basic_access_authentication) ou [OAuth 2](https://oauth.net/2/). Les classes de filtre sont dans l'espace de noms `yii\filters\auth`.
 
 L'exemple qui suit montre comment vous pouvez utiliser [[yii\filters\auth\HttpBasicAuth]] pour authentifier un utilisateur qui utilise un jeton d'accès basé sur la méthode  *HTTP Basic Auth*. Notez qu'afin que cela fonctionne, votre [[yii\web\User::identityClass|classe *identity* de l'utilisateur]] doit implémenter l'interface [[yii\web\IdentityInterface::findIdentityByAccessToken()|findIdentityByAccessToken()]].
 
@@ -250,7 +250,7 @@ Reportez-vous à la section [Page Caching](caching-page.md) pour plus de détail
 
 ### [[yii\filters\RateLimiter|RateLimiter]] <span id="rate-limiter"></span>
 
-*RateLimiter* met en œuvre un algorithme de limitation de débit basé sur  l'[algorithme leaky bucket](http://en.wikipedia.org/wiki/Leaky_bucket). On l'utilise en premier lieu dans la mise en œuvre des API pleinement REST. Reportez-vous à la section [limitation de débit](rest-rate-limiting.md) pour plus de détails sur l'utilisation de ce filtre.
+*RateLimiter* met en œuvre un algorithme de limitation de débit basé sur  l'[algorithme leaky bucket](https://en.wikipedia.org/wiki/Leaky_bucket). On l'utilise en premier lieu dans la mise en œuvre des API pleinement REST. Reportez-vous à la section [limitation de débit](rest-rate-limiting.md) pour plus de détails sur l'utilisation de ce filtre.
 
 
 ### [[yii\filters\VerbFilter|VerbFilter]] <span id="verb-filter"></span>
@@ -302,13 +302,13 @@ Consultez également la section sur les [contrôleurs REST](rest-controllers.md#
 
 Les filtrages Cors peuvent être peaufinés via la propriété [[yii\filters\Cors::$cors|$cors]].
 
-* `cors['Origin']`: un tableau utilisé pour définir les origines autorisées. Peut être `['*']` (tout le monde) ou `['http://www.myserver.net', 'http://www.myotherserver.com']`. Valeur par défaut  `['*']`.
+* `cors['Origin']`: un tableau utilisé pour définir les origines autorisées. Peut être `['*']` (tout le monde) ou `['https://www.myserver.net', 'https://www.myotherserver.com']`. Valeur par défaut  `['*']`.
 * `cors['Access-Control-Request-Method']`: un tableau des verbes autorisés tel que `['GET', 'OPTIONS', 'HEAD']`.  Valeur par défaut `['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']`.
 * `cors['Access-Control-Request-Headers']`: un tableau des entêtes autorisés. Peut être`['*']` tous les entêtes ou certains spécifiquement `['X-Request-With']`. Valeur par défaut `['*']`.
 * `cors['Access-Control-Allow-Credentials']`: définit si la requête courante peut être faite en utilisant des identifiants de connexion.  Peut être `true` (vrai), `false` (faux) ou  `null` (non défini). Valeur par défaut `null`.
 * `cors['Access-Control-Max-Age']`: définit la durée de vie des requêtes de pré-vérification (*preflight requests*). Valeur par défaut `86400`.
 
-Par exemple, autoriser  CORS pour l'origine  `http://www.myserver.net` avec les méthodes `GET`, `HEAD` et `OPTIONS` :
+Par exemple, autoriser  CORS pour l'origine  `https://www.myserver.net` avec les méthodes `GET`, `HEAD` et `OPTIONS` :
 
 ```php
 use yii\filters\Cors;
@@ -320,7 +320,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
         ],
@@ -340,7 +340,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
             'actions' => [
diff --git a/docs/guide-fr/structure-models.md b/docs/guide-fr/structure-models.md
index 74bdab054f5..bf4f385a5d2 100644
--- a/docs/guide-fr/structure-models.md
+++ b/docs/guide-fr/structure-models.md
@@ -1,7 +1,7 @@
 Modèles
 =======
 
-Les modèles font partie du modèle d'architecture [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (Modèle Vue Contrôleur).
+Les modèles font partie du modèle d'architecture [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (Modèle Vue Contrôleur).
 Ces objets représentent les données à traiter, les règles et la logique de traitement. 
 
 Vous pouvez créer des classes de modèle en étendant la classe [[yii\base\Model]] ou ses classe filles. La classe de base [[yii\base\Model]] prend en charge des fonctionnalités nombreuses et utiles :
diff --git a/docs/guide-fr/structure-modules.md b/docs/guide-fr/structure-modules.md
index 2e3f04e7cfc..d04e02b4706 100644
--- a/docs/guide-fr/structure-modules.md
+++ b/docs/guide-fr/structure-modules.md
@@ -8,7 +8,7 @@ Les modules sont des unités logicielles auto-suffisantes constituées de [modè
 
 Un module est organisé comme un dossier qui est appelé le [[yii\base\Module::basePath|dossier de base (*basePath*)]] du module. Dans ce dossier, se trouvent des sous-dossiers, tels que `controllers`, `models` et `views`, qui contiennent les contrôleurs, les modèles , les vues et d'autres parties de code, juste comme une application. L'exemple suivant présente le contenu d'un module : 
 
-```js
+```
 forum/
     Module.php                   le fichier de classe du module 
     controllers/                 contient les fichiers de classe des contrôleurs
diff --git a/docs/guide-fr/structure-overview.md b/docs/guide-fr/structure-overview.md
index 0df348cbd1a..dd6e4ee94f2 100644
--- a/docs/guide-fr/structure-overview.md
+++ b/docs/guide-fr/structure-overview.md
@@ -2,7 +2,7 @@ Vue d'ensemble
 ========
 
 Les applications Yii sont organisées suivant le modèle de conception 
-[model-view-controller (MVC)](http://wikipedia.org/wiki/Model-view-controller). Les [Modèles](structure-models.md) 
+[model-view-controller (MVC)](https://wikipedia.org/wiki/Model-view-controller). Les [Modèles](structure-models.md) 
 représentent les données, la logique métier et les règles; les [vues](structure-views.md) sont les représentations
 visuelles des modèles, et les [contrôleurs](structure-controllers.md) prennent une entrée et la convertissent en 
 commandes pour les [modèles](structure-models.md) et les [vues](structure-views.md).
diff --git a/docs/guide-fr/structure-views.md b/docs/guide-fr/structure-views.md
index e23aa64f148..8f90ccc2000 100644
--- a/docs/guide-fr/structure-views.md
+++ b/docs/guide-fr/structure-views.md
@@ -1,7 +1,7 @@
 Vues
 =====
 
-Les vues font partie du modèle d'architecture [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (Modèle Vue Contrôleur).
+Les vues font partie du modèle d'architecture [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (Modèle Vue Contrôleur).
 Elles sont chargées de présenter les données à l'utilisateur final. Dans une application Web, les vues sont ordinairement créées en termes de *modèles de vue* qui sont des script PHP contenant principalement du code HTML et du code PHP relatif à la présentation. 
 
 Elles sont gérées par le [[yii\web\View|view]] [composant application](structure-application-components.md) qui fournit des méthodes d'usage courant pour faciliter la composition des vues et leur rendu. Par souci de simplicité, nous appellerons *vues* les modèles de vue et les fichiers de modèle de vue.
@@ -42,7 +42,7 @@ En plus de `$this`, il peut aussi y avoir d'autres variables prédéfinies dans
 
 ### Sécurité <span id="security"></span>
 
-Lors de la création de vues qui génèrent des pages HTML, il est important que vous encodiez et/ou filtriez les données en provenance de l'utilisateur final avant des les présenter. Autrement, votre application serait sujette aux [attaques par injection de scripts (*cross-site scripting*)](http://en.wikipedia.org/wiki/Cross-site_scripting).
+Lors de la création de vues qui génèrent des pages HTML, il est important que vous encodiez et/ou filtriez les données en provenance de l'utilisateur final avant des les présenter. Autrement, votre application serait sujette aux [attaques par injection de scripts (*cross-site scripting*)](https://en.wikipedia.org/wiki/Cross-site_scripting).
 
 Pour afficher du texte simple, commencez par l'encoder en appelant la méthode [[yii\helpers\Html::encode()]]. Par exemple, le code suivant encode le nom d'utilisateur (*username*) avant de l'afficher :
 
diff --git a/docs/guide-fr/tutorial-i18n.md b/docs/guide-fr/tutorial-i18n.md
index df2eb0bbcdc..55109edaf98 100644
--- a/docs/guide-fr/tutorial-i18n.md
+++ b/docs/guide-fr/tutorial-i18n.md
@@ -10,8 +10,8 @@ Une *locale* est un jeu de paramètres qui définissent la langue de l'utilisate
 
 Elle est généralement identifiée par un identifiant (ID), lui-même constitué par un identifiant de langue et un identifiant de région. Par exemple, l'identifiant `en-US` représente la locale *anglais* pour la langue et   *États-Unis* pour la région. 
 
-Pour assurer la cohérence, tous les identifiants utilisés par les application Yii doivent être présentés sous leur forme canonique `ll-CC`, où `ll` est un code à 2 ou 3 lettres pour la langue conforme à la norme [ISO-639](http://www.loc.gov/standards/iso639-2/) et `CC` est un code à deux lettres pour le pays conforme à la norme [ISO-3166](http://www.iso.org/iso/en/prods-services/iso3166ma/02iso-3166-code-lists/list-en1.html).
-Pour plus de détails sur les locales, reportez-vous à la [documentation du projet ICU](http://userguide.icu-project.org/locale#TOC-The-Locale-Concept).
+Pour assurer la cohérence, tous les identifiants utilisés par les application Yii doivent être présentés sous leur forme canonique `ll-CC`, où `ll` est un code à 2 ou 3 lettres pour la langue conforme à la norme [ISO-639](https://www.loc.gov/standards/iso639-2/) et `CC` est un code à deux lettres pour le pays conforme à la norme [ISO-3166](https://www.iso.org/iso/en/prods-services/iso3166ma/02iso-3166-code-lists/list-en1.html).
+Pour plus de détails sur les locales, reportez-vous à la [documentation du projet ICU](https://unicode-org.github.io/icu/userguide/locale/#the-locale-concept).
 
 Dans Yii, nous utilisons souvent le mot « langue » pour faire référence à la locale. 
 
@@ -163,7 +163,7 @@ forme complète : {name,type,style}
 echo Yii::t('app', "Example of string with ''-escaped characters'': '{' '}' '{test}' {count,plural,other{''count'' value is # '#{}'}}", ['count' => 3]);
 ```
 
-Le format complet est décrit dans la [documentation ICU](http://icu-project.org/apiref/icu4c/classMessageFormat.html).
+Le format complet est décrit dans la [documentation ICU](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classMessageFormat.html).
 
 Dans ce qui suit, nous allons présenter quelques usages courants.
 
@@ -192,7 +192,7 @@ $sum = 42;
 echo \Yii::t('app', 'Balance: {0,number,,000,000000}', $sum);
 ```
 
-Les caractères à utiliser dans les formats personnalisés sont présentés dans le document [ICU API reference](http://icu-project.org/apiref/icu4c/classicu_1_1DecimalFormat.html) à la section "Special Pattern Characters" (Caractères pour motifs spéciaux).
+Les caractères à utiliser dans les formats personnalisés sont présentés dans le document [ICU API reference](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classDecimalFormat.html) à la section "Special Pattern Characters" (Caractères pour motifs spéciaux).
  
  
 La valeur de remplacement est toujours formatée en fonction de la locale cible c'est à dire que vous ne pouvez pas modifier les séparateurs de milliers et de décimales, les symboles monétaires, etc. sans modifier la locale de traduction. Si vous devez personnaliser ces éléments vous pouvez utiliser [[yii\i18n\Formatter::asDecimal()]] et [[yii\i18n\Formatter::asCurrency()]].
@@ -217,7 +217,7 @@ Vous pouvez aussi spécifier un motif personnalisé pour formater la date :
 echo \Yii::t('app', 'Today is {0,date,yyyy-MM-dd}', time());
 ```
 
-Voir [Formatting reference](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details).
+Voir [Formatting reference](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details).
 
 
 #### Heure <span id="time"></span>
@@ -240,7 +240,7 @@ Vous pouvez aussi spécifier un motif personnalisé pour formater l'heure :
 echo \Yii::t('app', 'It is {0,date,HH:mm}', time());
 ```
 
-Voir [Formatting reference](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details).
+Voir [Formatting reference](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details).
 
 
 #### Prononciation <span id="spellout"></span>
@@ -262,7 +262,7 @@ echo \Yii::t('app', 'I am {n,spellout,%spellout-ordinal} agent', ['n' => 47]);
 Notez qu'il ne doit pas y avoir d'espace après `spellout,` et avant `%`.
 
 Pour trouver une liste des options disponibles pour votre locale, reportez-vous à 
-"Numbering schemas, Spellout" à [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/).
+"Numbering schemas, Spellout" à [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/).
 
 #### Nombre ordinal <span id="ordinal"></span>
 
@@ -283,7 +283,7 @@ echo \Yii::t('app', '{n,ordinal,%digits-ordinal-feminine}', ['n' => 471]);
 Notez qu'il ne doit pas y avoir d'espace après `ordinal,` et avant `%`.
 
 Pour trouver une liste des options disponibles pour votre locale, reportez-vous à 
-"Numbering schemas, Ordinal" à  [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/).
+"Numbering schemas, Ordinal" à  [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/).
 
 #### Durée <span id="duration"></span>
 
@@ -304,7 +304,7 @@ echo \Yii::t('app', '{n,duration,%in-numerals}', ['n' => 471227]);
 Notez qu'il ne doit pas y avoir d'espace après `duration,` et avant `%`.
 
 Pour trouver une liste des options disponibles pour votre locale, reportez-vous à 
-"Numbering schemas, Duration" à [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/).
+"Numbering schemas, Duration" à [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/).
 
 #### Pluriel <span id="plural"></span>
 
@@ -326,8 +326,8 @@ tandis que  `one` correspond à  `21` ou `101`:
 Здесь {n,plural,=0{котов нет} =1{есть один кот} one{# кот} few{# кота} many{# котов} other{# кота}}!
 ```
 
-Ces noms d'arguments spéciaux tels que  `other`, `few`, `many` et autres varient en fonction de la langue. Pour savoir lesquels utiliser pour une locale particulière, reportez-vous aux "Plural Rules, Cardinal" à [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/). 
-En alternative, vous pouvez vous reporter aux  [rules reference at unicode.org](http://cldr.unicode.org/index/cldr-spec/plural-rules).
+Ces noms d'arguments spéciaux tels que  `other`, `few`, `many` et autres varient en fonction de la langue. Pour savoir lesquels utiliser pour une locale particulière, reportez-vous aux "Plural Rules, Cardinal" à [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/). 
+En alternative, vous pouvez vous reporter aux  [rules reference at unicode.org](https://cldr.unicode.org/index/cldr-spec/plural-rules).
 
 > Note: le message en russe ci-dessus est principalement utilisé comme message traduit, pas comme message source, sauf si vous définissez la [[yii\base\Application::$sourceLanguage|langue source]] de votre application comme étant `ru-RU` et traduisez à partir du russe.
 >
@@ -350,7 +350,7 @@ echo Yii::t('app', 'You {likeCount,plural,
 // You and one other person liked this
 ```
 
-#### Sélection ordinale <span id="ordinal-selection">
+#### Sélection ordinale <span id="ordinal-selection"></span>
 
 L'argument `selectordinal` pour une valeur à remplacer  numérique a pour but de choisir une chaîne de caractères basée sur les règles linguistiques de la locale cible pour les ordinaux. Ainsi, 
 
@@ -374,8 +374,8 @@ echo Yii::t('app', 'You are the {n,selectordinal,one{#st} two{#nd} few{#rd} othe
 //Vous êtes le 3e visiteur
 ```
 
-Le format est assez proche de celui utilisé pour le pluriel. Pour connaître quels arguments utiliser pour une locale particulière, reportez-vous aux "Plural Rules, Ordinal" à [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/). 
-En alternative, vous pouvez vous reporter aux  [rules reference at unicode.org](http://unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html).
+Le format est assez proche de celui utilisé pour le pluriel. Pour connaître quels arguments utiliser pour une locale particulière, reportez-vous aux "Plural Rules, Ordinal" à [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/). 
+En alternative, vous pouvez vous reporter aux  [rules reference at unicode.org](https://unicode-org.github.io/cldr-staging/charts/37/supplemental/language_plural_rules.html).
 
 #### Sélection <span id="selection"></span>
 
@@ -639,7 +639,7 @@ Reportez-vous à la section [Formatage des données](output-formatting.md) pour
 
 Yii utilise l'[extension intl de PHP](https://www.php.net/manual/en/book.intl.php) pour fournir la plupart de ses fonctionnalités d'internationalisation, telles que le formatage des dates et des nombres de la classe [[yii\i18n\Formatter]] et le formatage des messages de la classe [[yii\i18n\MessageFormatter]].
 Les deux classes fournissent un mécanisme de remplacement lorsque l'extension `intl` n'est pas installée. Néanmoins, l'implémentation du mécanisme de remplacement ne fonctionne bien que quand la langue cible est l'anglais. C'est pourquoi, il est fortement recommandé d'installer `intl` quand c'est nécessaire.
-L'[extension intl de PHP](https://www.php.net/manual/en/book.intl.php) est basée sur la [bibliothèque ICU](http://site.icu-project.org/) qui fournit la base de connaissances et les règles de formatage pour les différentes locales. Des versions différentes d'ICU peuvent conduire à des formatages différents des dates et des nombres. Pour être sûr que votre site Web donne les même résultats dans tous les environnements, il  est recommandé d'installer la même version de l'extension `intl` (et par conséquent la même version d'ICU) dans tous les environnements. 
+L'[extension intl de PHP](https://www.php.net/manual/en/book.intl.php) est basée sur la [bibliothèque ICU](https://icu.unicode.org/) qui fournit la base de connaissances et les règles de formatage pour les différentes locales. Des versions différentes d'ICU peuvent conduire à des formatages différents des dates et des nombres. Pour être sûr que votre site Web donne les même résultats dans tous les environnements, il  est recommandé d'installer la même version de l'extension `intl` (et par conséquent la même version d'ICU) dans tous les environnements. 
 
 Pour savoir quelle version d'ICU est utilisée par PHP, vous pouvez exécuter le script suivant, qui vous restitue la version de PHP et d'ICU en cours d'utilisation. 
 
@@ -650,6 +650,6 @@ echo "ICU: " . INTL_ICU_VERSION . "\n";
 echo "ICU Data: " . INTL_ICU_DATA_VERSION . "\n";
 ```
 
-Il est également recommandé d'utiliser une version d'ICU supérieure ou égale à 48. Cela garantit que toutes les fonctionnalités décrites dans ce document sont utilisables. Par exemple, une version d'ICU inférieure à 49 ne prend pas en charge la valeur à remplacer `#` dans les règles de pluralisation. Reportez-vous à  <http://site.icu-project.org/download> pour obtenir une liste complète des versions d'ICU disponibles. Notez que le numérotage des versions a changé après la version 4.8  (p. ex., ICU 4.8, ICU 49, ICU 50, etc.)
+Il est également recommandé d'utiliser une version d'ICU supérieure ou égale à 48. Cela garantit que toutes les fonctionnalités décrites dans ce document sont utilisables. Par exemple, une version d'ICU inférieure à 49 ne prend pas en charge la valeur à remplacer `#` dans les règles de pluralisation. Reportez-vous à  <https://icu.unicode.org/download> pour obtenir une liste complète des versions d'ICU disponibles. Notez que le numérotage des versions a changé après la version 4.8  (p. ex., ICU 4.8, ICU 49, ICU 50, etc.)
 
-En outre, les informations dans la base de donnée des fuseaux horaires fournie par la bibliothèque ICU peuvent être surannées. Reportez-vous au [manuel d'ICU](http://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data) pour les détails sur la manière de mettre la base de données des fuseaux horaires à jour. Bien que la base de données des fuseaux horaires d'ICU soit utilisée pour le formatage, celle de PHP peut aussi être d'actualité. Vous pouvez la mettre à jour en installant la dernière version du [paquet `timezonedb` de pecl](https://pecl.php.net/package/timezonedb).
+En outre, les informations dans la base de donnée des fuseaux horaires fournie par la bibliothèque ICU peuvent être surannées. Reportez-vous au [manuel d'ICU](https://unicode-org.github.io/icu/userguide/datetime/timezone/#updating-the-time-zone-data) pour les détails sur la manière de mettre la base de données des fuseaux horaires à jour. Bien que la base de données des fuseaux horaires d'ICU soit utilisée pour le formatage, celle de PHP peut aussi être d'actualité. Vous pouvez la mettre à jour en installant la dernière version du [paquet `timezonedb` de pecl](https://pecl.php.net/package/timezonedb).
diff --git a/docs/guide-id/intro-upgrade-from-v1.md b/docs/guide-id/intro-upgrade-from-v1.md
index 748e0913275..ea6c9a50106 100644
--- a/docs/guide-id/intro-upgrade-from-v1.md
+++ b/docs/guide-id/intro-upgrade-from-v1.md
@@ -1,5 +1,4 @@
-Upgrade dari Versi 1.1
-==========================
+# Upgrade dari Versi 1.1
 
 Ada banyak perbedaan antara versi 1.1 dan 2.0 karena Yii Framework benar-benar ditulis ulang di versi 2.0.
 Akibatnya, upgrade dari versi 1.1 tidak mudah seperti upgrade untuk versi minor. Dalam panduan ini Anda akan
@@ -8,65 +7,53 @@ menemukan perbedaan utama antara dua versi.
 Jika Anda belum pernah menggunakan Yii 1.1 sebelumnya, Anda dapat dengan aman melewati bagian ini dan menuju ke "[Persiapan](start-installation.md)".
 
 Harap dicatat bahwa Yii 2.0 memperkenalkan lebih banyak fitur baru dari yang tercakup dalam ringkasan ini. Sangat dianjurkan
-Anda membaca keseluruhan panduan definitif untuk mempelajari hal tersebut. Kemungkinannya adalah bahwa
-beberapa fitur yang sebelumnya harus anda kembangkan sendiri kini menjadi bagian dari kode inti.
+Anda membaca keseluruhan panduan definitif untuk mempelajari hal tersebut. Ada kemungkinan bahwa
+beberapa fitur yang sebelumnya harus anda kembangkan sendiri, kini telah menjadi bagian dari kode inti.
 
+## Instalasi
 
-Instalasi
-------------
+Yii 2.0 sepenuhnya menggunakan [composer](https://getcomposer.org/), yaitu dependency manager yang sudah diakui oleh PHP.
 
-Yii 2.0 sepenuhnya menggunakan [composer](https://getcomposer.org/), yaitu dependency manager yang sudah diakui oleh PHP. Instalasi
-dari kerangka inti serta ekstensi, ditangani melalui Composer. Silakan merujuk ke
-bagian [Instalasi Yii](start-installation.md) untuk belajar cara menginstal Yii 2.0. Jika Anda menghendaki
-membuat ekstensi baru, atau mengubah ekstensi 1.1 yang sudah ke ekstensi 2.0 yang kompatibel, silakan
-merujuk panduan [Membuat Ekstensi](structure-extensions.md#menciptakan-ekstensi).
+-   Instalasi dari kerangka inti serta ekstensi, ditangani melalui Composer.
+-   Silakan merujuk ke bagian [Instalasi Yii](start-installation.md) untuk belajar cara menginstal Yii 2.0.
+-   Jika ingin membuat ekstensi baru, atau mengubah/memperbarui ekstensi 1.1 yang telah Anda buat ke ekstensi 2.0 (agar kompatibel), silakan merujuk pada panduan [Membuat Ekstensi](structure-extensions.md#menciptakan-ekstensi).
 
+## Persyaratan PHP
 
-Persyaratan PHP
-----------------
+Yii 2.0 membutuhkan PHP 5.4 atau versi yang lebih tinggi, ini karena ada perubahan besar atas PHP versi 5.2 yang sebelumnya dibutuhkan oleh Yii 1.1. Akibatnya, ada banyak perbedaan pada tingkat bahasa yang harus Anda perhatikan.
+Dibawah ini ringkasan perubahan utama mengenai PHP tersebut:
 
-Yii 2.0 membutuhkan PHP 5.4 atau versi lebih tinggi, yang merupakan perbaikan besar atas PHP versi 5.2 yang dibutuhkan oleh Yii 1.1.
-Akibatnya, ada banyak perbedaan pada tingkat bahasa yang harus Anda perhatikan.
-Di bawah ini adalah ringkasan perubahan utama mengenai PHP:
+-   [Namespaces](https://www.php.net/manual/en/language.namespaces.php).
+-   [Anonymous fungsi](https://www.php.net/manual/en/functions.anonymous.php).
+-   Sintaks array pendek `[... elemen ...]` digunakan sebagai pengganti `array (... elemen ...)`.
+-   Tags echo pendek `<=` digunakan dalam tampilan file. Ini aman digunakan mulai dari PHP 5.4.
+-   [Class SPL dan interface](https://www.php.net/manual/en/book.spl.php).
+-   [Late Static Bindings](https://www.php.net/manual/en/language.oop5.late-static-bindings.php).
+-   [Tanggal dan Waktu](https://www.php.net/manual/en/book.datetime.php).
+-   [Traits](https://www.php.net/manual/en/language.oop5.traits.php).
+-   [Intl](https://www.php.net/manual/en/book.intl.php). Yii 2.0 menggunakan `ekstensi PHP intl`
+      untuk mendukung fitur internasionalisasi.
 
-- [Namespaces](https://www.php.net/manual/en/language.namespaces.php).
-- [Anonymous fungsi](https://www.php.net/manual/en/functions.anonymous.php).
-- Sintaks array pendek `[... elemen ...]` digunakan sebagai pengganti `array (... elemen ...)`.
-- Tags echo pendek `<=` digunakan dalam tampilan file. Ini aman digunakan mulai dari PHP 5.4.
-- [Class SPL dan interface](https://www.php.net/manual/en/book.spl.php).
-- [Late Static Bindings](https://www.php.net/manual/en/language.oop5.late-static-bindings.php).
-- [Tanggal dan Waktu](https://www.php.net/manual/en/book.datetime.php).
-- [Traits](https://www.php.net/manual/en/language.oop5.traits.php).
-- [Intl](https://www.php.net/manual/en/book.intl.php). Yii 2.0 menggunakan `ekstensi PHP intl`
-  untuk mendukung fitur internasionalisasi.
+## Namespace
 
-
-Namespace
----------
-
-Perubahan yang paling jelas dalam Yii 2.0 adalah penggunaan namespace. Hampir setiap kelas inti
-menggunakan namespace, misalnya, `yii\web\Request`. Awalan "C" tidak lagi digunakan dalam nama kelas.
-Skema penamaan sekarang mengikuti struktur direktori. Misalnya, `yii\web\Request`
-menunjukkan bahwa file kelas yang sesuai adalah `web/Request.php` bawah folder framework Yii.
+Perubahan yang paling terlihat jelas dalam Yii 2.0 adalah penggunaan namespace. Hampir setiap kelas inti
+menggunakan namespace, misalnya, `yii\web\Request`. Awalan yang sebelumnya menggunakan huruf "C" tidak lagi
+digunakan dalam nama kelas. Skema penamaan sekarang mengikuti struktur direktori. Misalnya, `yii\web\Request`
+mengindikasikan bahwa file kelasnya adalah `web/Request.php` sesuai dengan lokasi folder framework Yii yang ada.
 
 (Anda dapat menggunakan setiap kelas inti tanpa menyertakannya secara eksplisit berkat Yiiclass loader.)
 
-
-Komponen dan Object
---------------------
+## Komponen dan Object
 
 Yii 2.0 membagi kelas `CComponent` di 1.1 menjadi dua kelas: [[yii\base\BaseObject]] dan [[yii\base\Component]].
 Class [[yii\base\BaseObject|BaseObject]] adalah class dasar ringan yang memungkinkan mendefinisikan [objek properti](concept-properties.md)
-melalui getter dan setter. Class [[yii\base\Component|Component]] adalah perluasan dari [[yii\base\BaseObject|BaseObject]] dengan dukungan
-[Event](concept-events.md) dan [behavior](concept-behaviors.md).
+melalui getter dan setter. Class [[yii\base\Component|Component]] adalah perluasan(extends) dari [[yii\base\BaseObject|BaseObject]] dengan dukungan [Event](concept-events.md) dan [Behavior](concept-behaviors.md).
 
-Jika class Anda tidak perlu fitur event atau behavior, Anda harus mempertimbangkan menggunakan
+Jika class Anda tidak memerlukan fitur event atau behavior, Anda harus mempertimbangkan menggunakan
 [[yii\base\BaseObject|BaseObject]] sebagai class dasar. Hal ini biasanya terjadi untuk class yang mewakili
 struktur data dasar.
 
-
-Konfigurasi objek
---------------------
+## Konfigurasi objek
 
 Class [[yii\base\BaseObject|BaseObject]] memperkenalkan cara seragam untuk mengkonfigurasi objek. Setiap class turunan
 dari [[yii\base\BaseObject|BaseObject]] harus menyatakan konstruktor (jika diperlukan) dengan cara berikut agar
@@ -91,12 +78,12 @@ class MyClass extends \yii\base\BaseObject
 }
 ```
 
-Dalam contoh di atas, parameter terakhir dari konstruktor harus mengambil array konfigurasi
-yang berisi pasangan nama-nilai untuk menginisialisasi properti pada akhir konstruktor.
-Anda dapat menimpa method [[yii\base\BaseObject::init()|init()]] untuk melakukan pekerjaan inisialisasi yang harus dilakukan setelah
-konfigurasi telah diterapkan.
+Dalam contoh diatas, parameter terakhir dari konstruktor harus mengambil array konfigurasi (`$config`)
+yang berisi pasangan nama-nilai `[key => value]` untuk meng-inisialisasi properti pada akhir konstruktor.
+Anda dapat mengganti method [[yii\base\BaseObject::init()|init()]] untuk melakukan inisialisasi yang harus dilakukan setelah
+konfigurasi diterapkan.
 
-Dengan mengikuti konvensi ini, Anda akan dapat membuat dan mengkonfigurasi objek baru menggunakan array konfigurasi:
+Dengan mengikuti ketentuan ini, Anda akan dapat membuat dan mengkonfigurasi objek baru menggunakan array konfigurasi:
 
 ```php
 $object = Yii::createObject([
@@ -106,33 +93,29 @@ $object = Yii::createObject([
 ], [$param1, $param2]);
 ```
 
-Rincian lebih lanjut tentang konfigurasi dapat ditemukan di bagian [Konfigurasi](concept-configurations.md).
-
+Rincian lebih lanjut mengenai konfigurasi dapat ditemukan pada bagian [Konfigurasi](concept-configurations.md).
 
-Event
-------
+## Event
 
 Di Yii 1, event dibuat dengan mendefinisikan method `on` (misalnya,`onBeforeSave`). Di Yii 2, Anda sekarang dapat menggunakan semua nama sebagai event.
-Anda memicu suatu event dengan memanggil method [[yii\base\Component::trigger()|trigger()]]:
+Untuk memicu suatu event, Anda dapat melakukannya dengan memanggil method [[yii\base\Component::trigger()|trigger()]]:
 
 ```php
 $event = new \yii\base\Event;
 $component->trigger($eventName, $event);
 ```
 
-Untuk melampirkan penanganan event, mengunakan method [[yii\base\Component::on()|on()]]:
+Untuk melekatkan/memasang handler pada suatu event, dapat dilakukan dengan mengunakan method [[yii\base\Component::on()|on()]]:
 
 ```php
 $component->on($eventName, $handler);
-// To detach the handler, use:
+// Untuk mematikannya dapat dilakukan dengan cara:
 // $component->off($eventName, $handler);
 ```
 
-Ada banyak pengembangan dari fitur event. Untuk lebih jelasnya, silakan lihat bagian [Event](concept-events.md).
-
+Ada banyak pengembangan dari fitur event. Untuk lebih jelasnya, silakan lihat pada bagian [Event](concept-events.md).
 
-Path Alias
-------------
+## Path Alias
 
 Yii 2.0 memperluas penggunaan alias path baik untuk file/direktori maupun URL. Yii 2.0 juga sekarang mensyaratkan
 nama alias dimulai dengan karakter `@`.
@@ -146,34 +129,29 @@ Misalnya, karena `@yii` mengacu pada direktori instalasi Yii, class seperti `yii
 Jika Anda menggunakan librari pihak ketiga seperti Zend Framework. Anda dapat menentukan alias path `@Zend` yang mengacu pada
 direktori instalasi framework direktori. Setelah Anda selesai melakukannya, Yii akan dapat menload setiap class dalam librari Zend Framework.
 
-Lebih jauh tentang alias path dapat ditemukan di bagian [Alias](concept-aliases.md).
+Lebih jauh tentang alias path dapat pelajari pada bagian [Alias](concept-aliases.md).
 
-
-View
------
+## View
 
 Perubahan yang paling signifikan tentang view di Yii 2 adalah bahwa variabel khusus `$this` dalam sebuah view tidak lagi mengacu
-controller saat ini atau widget. Sebaliknya, `$this` sekarang mengacu pada objek *view*, konsep baru
-yang diperkenalkan di 2.0. Objek *view* adalah [[yii\web\View]], yang merupakan bagian view
+controller saat ini atau widget. Sebaliknya, `$this` sekarang mengacu pada objek _view_, konsep baru
+yang diperkenalkan di 2.0. Objek _view_ adalah [[yii\web\View]], yang merupakan bagian view
 dari pola MVC. Jika Anda ingin mengakses controller atau widget di tampilan, Anda dapat menggunakan `$this->context`.
 
 Untuk membuat tampilan parsial dalam view lain, Anda menggunakan `$this->render()`, tidak lagi `$this->renderPartial()`.
-Panggilan untuk `render` juga sekarang harus secara eksplisit *di-echo)*, mengingat method `render()` sekarang mengembalikan nilai
-yang dirender, bukan langsung menampilkannya. Sebagai contoh:
+Panggilan untuk `render` juga sekarang harus secara eksplisit _di-echo)-kan_, mengingat method `render()` sekarang mengembalikan nilai yang dirender, bukan langsung menampilkannya. Sebagai contoh:
 
 ```php
 echo $this->render('_item', ['item' => $item]);
 ```
 
-Selain menggunakan PHP sebagai bahasa template utama, Yii 2.0 juga dilengkapi dengan  dukungan resmi
-dua mesin template populer: Smarty dan Twig. Mesin template Prado tidak lagi didukung.
+Selain menggunakan PHP sebagai bahasa template utama, Yii 2.0 juga dilengkapi dengan dukungan resmi
+dua _template engine_ populer: Smarty dan Twig. _Template engine_ Prado tidak lagi didukung.
 Untuk menggunakan mesin template ini, Anda perlu mengkonfigurasi komponen aplikasi `view` dengan menetapkan
 properti [[yii\base\View::$renderers|View::$renderers]]. Silakan merujuk ke bagian [Template Engine](tutorial-template-engines.md)
 untuk lebih jelasnya.
 
-
-Model
-------
+## Model
 
 Yii 2.0 menggunakan [[yii\base\Model]] sebagai model dasar, mirip dengan `CModel` di 1.1.
 class `CFormModel` telah dibuang seluruhnya. Sebaliknya, di Yii 2 Anda harus memperluas [[yii\base\Model]] untuk membuat class model formulir.
@@ -205,9 +183,7 @@ atribut `unsafe`.
 
 Untuk mempelajari lebih lanjut tentang model, silakan merujuk ke bagian [Model](structure-models.md).
 
-
-Controller
------------
+## Controller
 
 Yii 2.0 menggunakan [[yii\web\Controller]] sebagai kelas dasar controller, yang mirip dengan `CController` di Yii 1.1.
 [[Yii\base\Action]] adalah kelas dasar untuk kelas action.
@@ -229,13 +205,11 @@ public function actionView($id)
 
 Silakan merujuk ke bagian [Controller](structure-controllers.md) untuk rincian lebih lanjut tentang controller.
 
-
-widget
--------
+## widget
 
 Yii 2.0 menggunakan [[yii\base\Widget]] sebagai kelas dasar widget, mirip dengan `CWidget` di Yii 1.1.
 
-Untuk mendapatkan dukungan yang lebih baik untuk kerangka di IDE, Yii 2.0 memperkenalkan sintaks baru untuk menggunakan widget. 
+Untuk mendapatkan dukungan yang lebih baik untuk kerangka di IDE, Yii 2.0 memperkenalkan sintaks baru untuk menggunakan widget.
 Metode statis [[yii\base\Widget::begin()|begin()]], [[yii\base\Widget::end()|end()]], dan [[yii\base\Widget::widget()|widget()]]
 mulai diperkenalkan, yang akan digunakan seperti:
 
@@ -243,7 +217,7 @@ mulai diperkenalkan, yang akan digunakan seperti:
 use yii\widgets\Menu;
 use yii\widgets\ActiveForm;
 
-// Note that you have to "echo" the result to display it
+// Perlu diingat bahwa "echo" tetap diperlukan untuk menampilkan hasilnya
 echo Menu::widget(['items' => $items]);
 
 // Passing an array to initialize the object properties
@@ -257,24 +231,20 @@ ActiveForm::end();
 
 Silakan merujuk ke bagian [Widget](structure-widgets.md) untuk lebih jelasnya.
 
+## Tema
 
-Tema
-------
-
-Tema bekerja benar-benar berbeda di 2.0. Mereka sekarang berdasarkan mekanisme pemetaan path yang memetakan 
+Tema benar-benar bekerja secara berbeda di 2.0. Kini tema telah berdasarkan mekanisme pemetaan path yang memetakan
 file sumber ke file tema. Misalnya, jika peta path untuk tema adalah
 `['/web/views' => '/web/themes/basic']`, maka versi tema dari file view
 `/web/views/site/index.php` akan menjadi `/web/themes/basic/site/index.php`. Untuk alasan ini, tema sekarang bisa
-diterapkan untuk setiap file view, bahkan view diberikan di luar controller atau widget.
+diterapkan untuk setiap file view, bahkan view diberikan di luar controller ataupun widget.
 
 Juga, tidak ada lagi komponen `CThemeManager`. Sebaliknya, `theme` adalah properti dikonfigurasi dari komponen `view`
-aplikasi.
+pada aplikasi.
 
 Silakan merujuk ke bagian [Theming](output-theming.md) untuk lebih jelasnya.
 
-
-Aplikasi konsol
---------------------
+## Aplikasi konsol (CLI)
 
 Aplikasi konsol sekarang diatur sebagai controller seperti pada aplikasi Web. kontroler konsol
 harus diperluas dari [[yii\console\Controller]], mirip dengan `CConsoleCommand` di 1.1.
@@ -288,9 +258,7 @@ Yii 2.0 mendukung pembuatan informasi bantuan command secara otomatis berdasarka
 
 Silakan lihat bagian [Console Commands](tutorial-console.md) untuk lebih jelasnya.
 
-
-I18N
-----
+## I18N
 
 Yii 2,0 menghilangkan formater tanggal dan angka terpasang bagian dari [PECL modul intl PHP](https://pecl.php.net/package/intl).
 
@@ -300,9 +268,7 @@ sumber berdasarkan kategori pesan.
 
 Silakan merujuk ke bagian [Internasionalisasi](tutorial-i18n.md) untuk rincian lebih lanjut.
 
-
-Action Filter
---------------
+## Action Filter
 
 Action Filter sekarang diimplementasikan melalui behavior. Untuk membuat baru, filter diperluas dari [[yii\base\ActionFilter]].
 Untuk menggunakan filter, pasang Kelas filter untuk controller sebagai behavior. Misalnya, untuk menggunakan filter [[yii\filters\AccessControl]],
@@ -324,11 +290,9 @@ public function behaviors()
 
 Silakan merujuk ke bagian [Filtering](structure-filters.md) untuk lebih jelasnya.
 
+## Aset
 
-Aset
-------
-
-Yii 2.0 memperkenalkan konsep baru yang disebut *bundel aset* yang menggantikan konsep paket script di Yii 1.1.
+Yii 2.0 memperkenalkan konsep baru yang disebut _bundel aset_ yang menggantikan konsep paket script di Yii 1.1.
 
 Bundel aset adalah kumpulan file asset (misalnya file JavaScript, file CSS, file gambar, dll)
 dalam direktori. Setiap bundel aset direpresentasikan sebagai kelas turunan dari [[yii\web\AssetBundle]].
@@ -338,24 +302,21 @@ berisi referensi ke JavaScript dan file CSS yang ditentukan dalam bundel itu.
 
 Silakan merujuk ke bagian [Managing Aset](structure-assets.md) untuk lebih jelasnya.
 
-
-Helper
--------
+## Helper
 
 Yii 2.0 memperkenalkan banyak helper umum untuk digunakan, termasuk.
 
-* [[yii\helpers\Html]]
-* [[yii\helpers\ArrayHelper]]
-* [[yii\helpers\StringHelper]]
-* [[yii\helpers\FileHelper]]
-* [[yii\helpers\Json]]
+-   [[yii\helpers\Html]]
+-   [[yii\helpers\ArrayHelper]]
+-   [[yii\helpers\StringHelper]]
+-   [[yii\helpers\FileHelper]]
+-   [[yii\helpers\Json]]
 
 Silakan lihat bagian [Tinjauan Helper](helper-overview.md) untuk lebih jelasnya.
 
-Formulir
---------
+## Formulir
 
-Yii 2.0 memperkenalkan konsep *field* untuk membangun formulir menggunakan [[yii\widgets\ActiveForm]]. Field
+Yii 2.0 memperkenalkan konsep _field_ untuk membangun formulir menggunakan [[yii\widgets\ActiveForm]]. Field
 adalah wadah yang terdiri dari label, masukan, pesan kesalahan, dan atau teks petunjuk.
 Field diwakili sebagai objek [[yii\widgets\ActiveField|ActiveField]].
 Menggunakan field, Anda dapat membangun formulir yang lebih bersih dari sebelumnya:
@@ -372,9 +333,7 @@ Menggunakan field, Anda dapat membangun formulir yang lebih bersih dari sebelumn
 
 Silakan merujuk ke bagian [Membuat Formulir](input-forms.md) untuk lebih jelasnya.
 
-
-Query Builder
--------------
+## Query Builder
 
 Dalam 1.1, query builder itu tersebar di antara beberapa kelas, termasuk `CDbCommand`,
 `CDbCriteria`, dan` CDbCommandBuilder`. Yii 2.0 merepresentasikan sebuah query DB sebagai objek [[yii\db\Query|Query]]
@@ -396,9 +355,7 @@ Yang terbaik dari semua itu adalah, query builder juga dapat digunakan ketika be
 
 Silakan lihat bagian [Query Builder](db-query-builder.md) untuk lebih jelasnya.
 
-
-Active Record
--------------
+## Active Record
 
 Yii 2.0 memperkenalkan banyak perubahan [Active Record](db-active-record.md). Dua yang paling jelas melibatkan
 query builder dan penanganan permintaan relasional.
@@ -465,9 +422,7 @@ versi 2.0. Perhatikan bahwa ketika menambahkan parameter ke constructor Anda mun
 Ada banyak perubahan lain dan perangkat tambahan untuk Rekaman Aktif. Silakan merujuk ke
 bagian [Rekaman Aktif](db-active-record.md) untuk rincian lebih lanjut.
 
-
-Active Record Behaviors
------------------------
+## Active Record Behaviors
 
 Dalam 2.0, kami telah membuang kelas behavior dasar `CActiveRecordBehavior`. Jika Anda ingin membuat behavior Active Record,
 Anda akan harus memperluasnya langsung dari `yii\base\Behavior`. Jika kelas behavior perlu menanggapi beberapa event
@@ -497,20 +452,16 @@ class MyBehavior extends Behavior
 }
 ```
 
-
-Pengguna dan IdentityInterface
---------------------------
+## Pengguna dan IdentityInterface
 
 Kelas `CWebUser` di 1.1 kini digantikan oleh [[yii\web\User]], dan sekarang tidak ada lagi
 Kelas `CUserIdentity`. Sebaliknya, Anda harus menerapkan [[yii\web\IdentityInterface]] yang
 jauh lebih mudah untuk digunakan. Template proyek lanjutan memberikan contoh seperti itu.
 
-Silakan merujuk ke bagian [Otentikasi](security-authentication.md), [Otorisasi](security-authorization.md), 
+Silakan merujuk ke bagian [Otentikasi](security-authentication.md), [Otorisasi](security-authorization.md),
 dan [Template Proyek Lanjutan](https://github.com/yiisoft/yii2-app-advanced/blob/master/docs/guide/README.md) untuk lebih jelasnya.
 
-
-Manajemen URL
---------------
+## Manajemen URL
 
 Manajemen URL di Yii 2 mirip dengan yang di 1.1. Tambahan utamanya adalah, sekarang manajemen URL mendukung opsional
 parameter. Misalnya, jika Anda memiliki aturan dinyatakan sebagai berikut, maka akan cocok
@@ -527,14 +478,12 @@ tujuan yang sama.
 
 Silakan merujuk ke bagian [docs manajer Url](runtime-routing.md) untuk lebih jelasnya.
 
-Perubahan penting dalam konvensi penamaan untuk rute adalah bahwa nama-nama camelcase dari controller 
+Perubahan penting dalam konvensi penamaan untuk rute adalah bahwa nama-nama camelcase dari controller
 dan action sekarang dikonversi menjadi huruf kecil di mana setiap kata dipisahkan oleh hypen, misal controller
 id untuk `CamelCaseController` akan menjadi `camel-case`.
 Lihat bagian tentang [Kontroler ID](structure-controllers.md#controller-ids) dan [Action ID](structure-controllers.md#action-ids) untuk lebih jelasnya.
 
+## Menggunakan Yii 1.1 dan 2.x bersama-sama
 
-Menggunakan Yii 1.1 dan 2.x bersama-sama
-------------------------------
-
-Jika Anda memiliki warisan kode  Yii 1.1 yang ingin Anda gunakan bersama-sama dengan Yii 2.0, silakan lihat
+Jika Anda memiliki warisan kode Yii 1.1 yang ingin Anda gunakan bersama-sama dengan Yii 2.0, silakan lihat
 bagian [Menggunakan Yii 1.1 dan 2.0 Bersama](tutorial-yii-integration.md).
diff --git a/docs/guide-id/intro-yii.md b/docs/guide-id/intro-yii.md
index fef70078ee8..2b1ae4c91cc 100644
--- a/docs/guide-id/intro-yii.md
+++ b/docs/guide-id/intro-yii.md
@@ -1,52 +1,46 @@
-Apa Itu Yii
-===========
+# Apa Itu Yii
 
-Yii adalah kerangka kerja PHP berkinerja tinggi, berbasis komponen yang digunakan untuk mengembangkan aplikasi web modern dengan cepat.
-Nama Yii (diucapkan `Yee` atau `[ji:]`) yang berarti "sederhana dan berevolusi" dalam bahasa Cina. Hal ini dapat juga
-dianggap sebagai singkatan **Yes It Is (Ya, Itu Dia)**!
+Yii merupakan kerangka kerja berbasis komponen yang berkecepatan tinggi (high performance) yang digunakan untuk kasus
+pengembangan yang cepat pada aplikasi Web Modern. Disebut Yii (diucapkan `Yee` atau `[ji:]`) yang berarti "sederhana dan
+berevolusi" dalam bahasa Cina. Bisa juga dianggap sebagai (akronim) singkatan dari **Yes It Is (Ya, Itu Dia)**!
 
+## Yii Paling Cocok Digunakan untuk Apa?
 
-Yii Terbaik untuk Apa?
----------------------
+Yii adalah kerangka kerja pemrograman web yg umum(general), ini berarti kita bisa menggunakannya untuk membangun berbagai
+macam aplikasi berbasis web menggunakan PHP. Karena merupakan arsitektur berbasis komponen yang mana memiliki dukungan
+caching yang canggih, Yii sangat cocok untuk pengembangan aplikasi skala besar seperti web portal, forum, CMS, e-commerce,
+REST API dan lain sebagainnya.
 
-Yii adalah kerangka kerja pemrograman web umum, yang berarti bahwa hal itu dapat digunakan untuk mengembangkan semua jenis
-aplikasi Web yang menggunakan PHP. Karena arsitektur berbasis komponen dan dukungan caching yang canggih, Yii sangat cocok untuk mengembangkan aplikasi skala besar seperti portal, forum, sistem manajemen konten (CMS), proyek e-commerce, layanan web REST, dan sebagainya.
+## Bagaimana jika Yii Dibandingkan dengan Frameworks lain?
 
+Jika Anda sudah familiar dengan framework lain, Anda mungkin akan bersyukur ketika membandingkan Yii dengan yang lain:
 
-Bagaimana jika Yii Dibandingkan dengan Frameworks lain?
--------------------------------------------
-
-Jika Anda sudah akrab dengan framework lain, Anda mungkin menghargai pengetahuan bagaimana Yii dibandingkan:
-
-- Seperti kebanyakan PHP framework, Yii mengimplementasikan pola arsitektur MVC (Model-View-Controller) dan mempromosikan kode organisasi berdasarkan pola itu.
-- Yii mengambil filosofi bahwa kode harus ditulis dengan cara sederhana namun elegan. Yii tidak akan pernah mencoba untuk mendesain berlebihan terutama untuk mengikuti beberapa pola desain secara ketat.
-- Yii adalah framework penuh yang menyediakan banyak fitur teruji dan siap pakai seperti: query builder dan ActiveRecord baik untuk relasional maupun NoSQL database; dukungan pengembangan API REST; dukungan caching banyak lapis dan masih banyak lagi.
-- Yii sangat extensible. Anda dapat menyesuaikan atau mengganti hampir setiap bagian dari kode inti Yii. Anda juga bisa mengambil keuntungan dari arsitektur ekstensi Yii yang solid untuk menggunakan atau mengembangkan ekstensi untuk disebarkan kembali.
-- Kinerja tinggi selalu menjadi tujuan utama dari Yii.
+-   Seperti kebanyakan PHP framework, Yii mengimplementasikan pola arsitektur MVC (Model-View-Controller) dan mempromosikan kode organisasi berdasarkan pola itu.
+-   Yii mengambil filosofi bahwa kode harus ditulis dengan cara sederhana namun elegan. Yii tidak akan pernah mencoba untuk mendesain berlebihan terutama untuk mengikuti beberapa pola desain secara ketat.
+-   Yii adalah fullstack framework yang menyediakan banyak fitur teruji dan siap pakai seperti: query builder dan ActiveRecord baik untuk relasional maupun NoSQL database; dukungan pengembangan REST API; dukungan caching berlapis dan masih banyak lagi.
+-   Yii sangat extensible. Anda dapat menyesuaikan atau mengganti hampir setiap bagian dari kode inti Yii. Anda juga bisa mengambil keuntungan dari arsitektur ekstensi Yii yang solid untuk menggunakan atau mengembangkan ekstensi untuk disebarkan kembali.
+-   Kinerja tinggi (High performance) selalu menjadi tujuan utama dari Yii.
 
 Yii tidak dikerjakan oleh satu orang, Yii didukung oleh [tim pengembang inti yang kuat][yii_team], serta komunitas besar
-profesional yang terus memberikan kontribusi bagi pengembangan Yii. Tim pengembang Yii
-terus mengamati perkembangan tren terbaru Web, pada penerapan terbaik serta fitur yang
-ditemukan dalam framework dan proyek lain. Penerapan terbaik yang paling relevan dan fitur yang ditemukan di tempat lain secara teratur
-dimasukkan ke dalam kerangka inti dan menampakkannya melalui antarmuka yang sederhana dan elegan.
+profesional yang terus memberikan kontribusi bagi pengembangan Yii. Tim pengembang Yii terus mengamati perkembangan tren
+terbaru Web, pada penerapan terbaik (best practices) serta fitur yang ditemukan dalam framework dan proyek lain.
+Penerapan terbaik yang paling relevan dan fitur yang ditemukan di tempat lain secara teratur dimasukkan ke dalam kerangka inti
+dan menampilkannya melalui antarmuka yang sederhana dan elegan.
 
 [yii_team]: https://www.yiiframework.com/team
 
-Versi Yii
-----------
+## Versi Yii
 
 Yii saat ini memiliki dua versi utama yang tersedia: 1.1 dan 2.0. Versi 1.1 adalah generasi lama dan sekarang dalam mode pemeliharaan.
 Versi 2.0 adalah penulisan ulang lengkap dari Yii, mengadopsi teknologi dan protokol terbaru, termasuk composer, PSR, namespace, trait, dan sebagainya.
 Versi 2.0 merupakan generasi framework yang sekarang dan terus menerima upaya pengembangan selama beberapa tahun ke depan.
 Panduan ini terutama tentang versi 2.0.
 
-
-Persyaratan dan Prasyarat
---------------------------
+## Persyaratan dan Prasyarat
 
 Yii 2.0 memerlukan PHP 5.4.0 atau versi lebih tinggi. Anda dapat menemukan persyaratan yang lebih rinci untuk setiap fitur
 dengan menjalankan pengecek persyaratan yang diikutsertakan dalam setiap rilis Yii.
 
 Menggunakan Yii memerlukan pengetahuan dasar tentang pemrograman berorientasi objek (OOP), mengingat Yii adalah framework berbasis OOP murni.
-Yii 2.0 juga memanfaatkan fitur terbaru dari PHP, seperti [namespace](https://www.php.net/manual/en/language.namespaces.php) dan [traits](https://www.php.net/manual/en/language.oop5.traits.php). 
+Yii 2.0 juga memanfaatkan fitur terbaru dari PHP, seperti [namespace](https://www.php.net/manual/en/language.namespaces.php) dan [traits](https://www.php.net/manual/en/language.oop5.traits.php).
 Memahami konsep-konsep ini akan membantu Anda lebih mudah memahami Yii 2.0.
diff --git a/docs/guide-id/start-databases.md b/docs/guide-id/start-databases.md
index e81ec91690d..89a4ab19f8a 100644
--- a/docs/guide-id/start-databases.md
+++ b/docs/guide-id/start-databases.md
@@ -225,7 +225,7 @@ Mari Kita Coba <span id="trying-it-out"></span>
 Untuk melihat bagaimana kode-kode di atas bekerja, gunakan browser anda untuk mengakses URL ini:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 ![Daftar Country](images/start-country-list.png)
@@ -235,7 +235,7 @@ Jika anda mengklik tombol "2", anda akan melihat halaman tersebut menampilkan 5
 Silahkan melakukan observasi secara perlahan-lahan dan anda akan mengetahui bahwa URL pada browser juga akan berganti menjadi
 
 ```
-http://hostname/index.php?r=country%2Findex&page=2
+https://hostname/index.php?r=country%2Findex&page=2
 ```
 
 Di belakang layar, [[yii\data\Pagination|Pagination]] menyediakan semua kebutuhkan untuk memecah data menjadi halaman per halaman:
diff --git a/docs/guide-id/start-forms.md b/docs/guide-id/start-forms.md
index 6cae6875d3c..80cb636692b 100644
--- a/docs/guide-id/start-forms.md
+++ b/docs/guide-id/start-forms.md
@@ -129,7 +129,7 @@ dimana form HTML akan ditampilkan, beserta informasi kegagalan pengiriman form t
 
 > Note: Pada contoh sederhana ini kita hanya me-_render_ halaman konfirmasi jika data yang dikirim tersebut valid. Pada prakteknya,
   anda harus pertimbangkan untuk menggunakan [[yii\web\Controller::refresh()|refresh()]] atau [[yii\web\Controller::redirect()|redirect()]]
-  untuk mencegah [permasalahan pengiriman form](http://en.wikipedia.org/wiki/Post/Redirect/Get).
+  untuk mencegah [permasalahan pengiriman form](https://en.wikipedia.org/wiki/Post/Redirect/Get).
 
 
 Membuat View <span id="creating-views"></span>
@@ -186,7 +186,7 @@ Mari kita uji <span id="trying-it-out"></span>
 Untuk melihat bagaimana prosesnya, gunakan browser anda untuk mengakses URL ini :
 
 ```
-http://hostname/index.php?r=site%2Fentry
+https://hostname/index.php?r=site%2Fentry
 ```
 
 Anda akan melihat halaman yang menampilkan form dengan dua field input. Dibagian atas dari semua input field, ada label yang menginformasikan data yang mana yang akan diinput. Jika anda menekan tombol pengiriman data tanpa
diff --git a/docs/guide-id/start-gii.md b/docs/guide-id/start-gii.md
index ca3b176b2c9..08fc2046cbe 100644
--- a/docs/guide-id/start-gii.md
+++ b/docs/guide-id/start-gii.md
@@ -42,7 +42,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 Karna baris tersebut, aplikasi anda harusnya sudah berada pada mode _development_, dan secara otomatis mengaktifkan Gii karena konfigurasi sebelumnya. Anda dapat mengakses Gii melalui URL di bawah ini:
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 > Note: Jika anda mengakses Gii melalui komputer diluar komputer localhost anda, secara default akses tidak akan diperbolehkan
@@ -107,7 +107,7 @@ Mari kita coba <span id="trying-it-out"></span>
 Untuk melihat bagaimana proses kerjanya, gunakan browser anda untuk mengakses URL dibawah ini:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 Anda akan melihat tabel data yang menampilkan negara dari tabel pada database. Anda dapat mengurutkan tabel,
diff --git a/docs/guide-id/start-hello.md b/docs/guide-id/start-hello.md
index f20a0439eb4..af9d35307d8 100644
--- a/docs/guide-id/start-hello.md
+++ b/docs/guide-id/start-hello.md
@@ -88,7 +88,7 @@ disebut dalam tindakan, itu akan mencari file PHP bernama `views/ControllerID/Vi
 
 Perhatikan bahwa dalam kode di atas, parameter `message` adalah di-[[yii\helpers\Html::encode()|HTML-encoded]]
 sebelum dicetak. Hal ini diperlukan karena sebagai parameter yang berasal dari pengguna akhir, sangat rentan terhadap
-[serangan Cross-site scripting (XSS)](http://en.wikipedia.org/wiki/Cross-site_scripting) dengan melekatkan
+[serangan Cross-site scripting (XSS)](https://en.wikipedia.org/wiki/Cross-site_scripting) dengan melekatkan
 kode JavaScript berbahaya dalam parameter.
 
 Tentu, Anda dapat menempatkan lebih banyak konten di view `say`. konten dapat terdiri dari tag HTML, teks biasa, dan bahkan pernyataan PHP.
@@ -102,7 +102,7 @@ Trying it Out <span id="trying-it-out"></span>
 Setelah membuat action dan view, Anda dapat mengakses halaman baru dengan mengakses URL berikut:
 
 ```
-http://hostname/index.php?r=site%2Fsay&message=Hello+World
+https://hostname/index.php?r=site%2Fsay&message=Hello+World
 ```
 
 ![Hello World](images/start-hello-world.png)
diff --git a/docs/guide-id/start-installation.md b/docs/guide-id/start-installation.md
index b92b7de1e9a..7b2343682ff 100644
--- a/docs/guide-id/start-installation.md
+++ b/docs/guide-id/start-installation.md
@@ -142,13 +142,13 @@ Konfigurasi Web Server <span id="configuring-web-servers"></span>
   penggelaran itu untuk server produksi.
 
 Aplikasi yang diinstal sesuai dengan petunjuk di atas seharusnya bekerja dengan baik
-pada [Apache HTTP server](http://httpd.apache.org/) atau [Nginx HTTP server](http://nginx.org/), pada
+pada [Apache HTTP server](https://httpd.apache.org/) atau [Nginx HTTP server](https://nginx.org/), pada
 Windows, Mac OS X, atau Linux yang menjalankan PHP 5.4 atau lebih tinggi. Yii 2.0 juga kompatibel dengan facebook
-[HHVM](http://hhvm.com/). Namun, ada beberapa kasus di mana HHVM berperilaku berbeda dari PHP asli,
+[HHVM](https://hhvm.com/). Namun, ada beberapa kasus di mana HHVM berperilaku berbeda dari PHP asli,
 sehingga Anda harus mengambil beberapa perlakuan ekstra ketika menggunakan HHVM.
 
 Pada server produksi, Anda mungkin ingin mengkonfigurasi server Web Anda sehingga aplikasi dapat diakses
-melalui URL `http://www.example.com/index.php` bukannya `http://www.example.com/dasar/web/index.php`. konfigurasi seperti itu
+melalui URL `https://www.example.com/index.php` bukannya `https://www.example.com/dasar/web/index.php`. konfigurasi seperti itu
 membutuhkan root dokumen server Web Anda menunjuk ke folder `basic/web`. Anda mungkin juga
 ingin menyembunyikan `index.php` dari URL, seperti yang dijelaskan pada bagian [Routing dan Penciptaan URL](runtime-routing.md).
 Dalam bagian ini, Anda akan belajar bagaimana untuk mengkonfigurasi Apache atau Nginx server Anda untuk mencapai tujuan tersebut.
@@ -187,7 +187,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Konfigurasi Nginx yang Direkomendasikan<span id="recommended-nginx-configuration"></span>
 
-Untuk menggunakan [Nginx](http://wiki.nginx.org/), Anda harus menginstal PHP sebagai [FPM SAPI](https://www.php.net/install.fpm).
+Untuk menggunakan [Nginx](https://wiki.nginx.org/), Anda harus menginstal PHP sebagai [FPM SAPI](https://www.php.net/install.fpm).
 Anda dapat menggunakan konfigurasi Nginx berikut, menggantikan `path/to/basic/web` dengan path yang sebenarnya untuk
 `basic/web` dan `mysite.test` dengan hostname yang sebenarnya untuk server.
 
diff --git a/docs/guide-id/start-looking-ahead.md b/docs/guide-id/start-looking-ahead.md
index 27ce98c8e2a..9360b52f28b 100644
--- a/docs/guide-id/start-looking-ahead.md
+++ b/docs/guide-id/start-looking-ahead.md
@@ -32,4 +32,4 @@ Bagian ini akan merangkum bacaan Yii yang tersedia untuk membantu anda menjadi l
     - Facebook: <https://www.facebook.com/groups/yiitalk/>
     - Twitter: <https://twitter.com/yiiframework>
     - LinkedIn: <https://www.linkedin.com/groups/yii-framework-1483367>
-    - Stackoverflow: <http://stackoverflow.com/questions/tagged/yii2>
+    - Stackoverflow: <https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide-id/start-prerequisites.md b/docs/guide-id/start-prerequisites.md
new file mode 100644
index 00000000000..4dd5da292b0
--- /dev/null
+++ b/docs/guide-id/start-prerequisites.md
@@ -0,0 +1,18 @@
+# Apa yang perlu kamu ketahui
+
+Kurva pembelajaran Yii tidak setajam/sesulit kerangka kerja PHP lainnya, tapi masih ada beberapa hal yang harus kamu pelajari sebelum mulai menggunakan Yii
+
+## PHP
+
+Yii adalah kerangka kerja PHP jadi pastikan kamu telah [membaca dan memahami referensi dari bahasa ini](https://www.php.net/manual/en/langref.php).
+Ketika membangun aplikasi menggunakan Yii, kamu akan menulis kode dengan gaya OOP (Bahasa Pemrograman Berbasis Objek), jadi pastikan juga kamu sudah cukup familiar dengan [Kelas and Objek](https://www.php.net/manual/en/language.oop5.basic.php) dan juga [namespaces](https://www.php.net/manual/en/language.namespaces.php).
+
+## Object oriented programming (Bahasa Pemrograman Berbasis Objek)
+
+Memahami dasar dari OOP sangat dibutuhkan. Jika kamu tidak cukup familiar dengan ini, silahkan pelajari salah satu dari banyak tutorial yang ada pada [tuts+ salah satunya](https://code.tutsplus.com/tutorials/object-oriented-php-for-beginners--net-12762).
+
+Perlu dicatat juga bahwa semakin kompleks aplikasi yang Anda buat, akan semakin dalam juga konsep OOP yang harus dipelajari untuk dapat berhasil mengelola kompleksitas tersebut.
+
+## Command line and composer
+
+Yii secara umum menggunakan pengelolaan paket PHP standar, [Composer](https://getcomposer.org/) jadi pastikan bahwa kamu telah membaca dan memahami apa itu composer [panduan](https://getcomposer.org/doc/01-basic-usage.md). Jika kamu tidak cukup familiar menggunakan perintah baris (CLI), ini waktunya untuk coba mempelajari itu. Ketika Anda sudah mempelajari dasarnya, anda tidak akan mau lagi kerja tanpa menggunakan itu.
diff --git a/docs/guide-id/start-workflow.md b/docs/guide-id/start-workflow.md
index 0548572b761..488539ee497 100644
--- a/docs/guide-id/start-workflow.md
+++ b/docs/guide-id/start-workflow.md
@@ -2,13 +2,13 @@ Menjalankan Aplikasi
 ====================
 
 Setelah menginstal Yii, Anda memiliki aplikasi Yii yang dapat diakses melalui
-URL `http://hostname/basic/web/index.php` atau `http://hostname/index.php`, tergantung
+URL `https://hostname/basic/web/index.php` atau `https://hostname/index.php`, tergantung
 pada konfigurasi Anda. Bagian ini akan memperkenalkan fungsi built-in aplikasi,
 bagaimana kode ini disusun, dan bagaimana aplikasi menangani permintaan secara umum.
 
 > Info: Untuk mempermudah, selama tutorial "Mulai", itu diasumsikan bahwa Anda telah menetapkan `basic/web`
   sebagai root dokumen server Web Anda, dan URL dikonfigurasi untuk mengakses
-  aplikasi Anda untuk menjadi `http://hostname/index.php` atau sesuatu yang serupa.
+  aplikasi Anda untuk menjadi `https://hostname/index.php` atau sesuatu yang serupa.
   Untuk kebutuhan Anda, silakan menyesuaikan URL sesuai deskripsi kami.
   
 Perhatikan bahwa tidak seperti framework itu sendiri, setelah template proyek diinstal, itu semua milikmu. Anda bebas untuk menambah atau menghapus
@@ -20,7 +20,7 @@ Fungsi <span id="functionality"></span>
 
 Aplikasi dasar diinstal berisi empat halaman:
 
-* Homepage, ditampilkan saat Anda mengakses URL `http://hostname/index.php`,
+* Homepage, ditampilkan saat Anda mengakses URL `https://hostname/index.php`,
 * Halaman "About",
 * Halaman "Contact", yang menampilkan formulir kontak yang memungkinkan pengguna akhir untuk menghubungi Anda melalui email,
 * Dan halaman "Login", yang menampilkan form login yang dapat digunakan untuk otentikasi pengguna akhir. Cobalah masuk
@@ -43,7 +43,7 @@ Struktur aplikasi <span id="application-structure"></span>
 
 Direktori yang paling penting dan file dalam aplikasi Anda (dengan asumsi direktori root aplikasi adalah `basic`):
 
-```js
+```
 basic/                  path aplikasi dasar
     composer.json       digunakan oleh Composer, package information
     config/             berisi konfigurasi aplikasi dan yang lain
@@ -64,7 +64,7 @@ basic/                  path aplikasi dasar
 Secara umum, file dalam aplikasi dapat dibagi menjadi dua jenis: mereka yang di bawah `basic/web` dan mereka yang
 di bawah direktori lain. Yang pertama dapat langsung diakses melalui HTTP (yaitu, di browser), sedangkan yang kedua tidak dapat dan tidak seharusnya boleh.
 
-Yii mengimplementasikan pola arsitektur [model-view-controller (MVC)](http://wikipedia.org/wiki/Model-view-controller),
+Yii mengimplementasikan pola arsitektur [model-view-controller (MVC)](https://wikipedia.org/wiki/Model-view-controller),
 yang tercermin dalam organisasi direktori di atas. Direktori `models` berisi semua [Model kelas](structure-models.md),
 direktori `views` berisi semua [view script] structure-views.md), dan direktori `controllers` mengandung
 semua [kelas kontroler](structure-controllers.md).
diff --git a/docs/guide-id/structure-applications.md b/docs/guide-id/structure-applications.md
index e402b73c45f..a8de8b2489b 100644
--- a/docs/guide-id/structure-applications.md
+++ b/docs/guide-id/structure-applications.md
@@ -274,7 +274,7 @@ termasuk penerjemahan pesan, format tanggal, format penomoran, dll. Sebagai cont
 akan menggunakan _property_ ini secara _default_ untuk menentukan bahasa apa yang digunakan pada kalender yang ditampilkan dan bagaimana
 format tanggal pada kalender tersebut.
 
-Disarankan agar anda menentukan bahasa dalam format [Tag Bahasa IETF](http://en.wikipedia.org/wiki/IETF_language_tag).
+Disarankan agar anda menentukan bahasa dalam format [Tag Bahasa IETF](https://en.wikipedia.org/wiki/IETF_language_tag).
 Sebagai contoh, `en` berarti Bahasa Inggris, sedangkan `en-US` berarti Bahasa Inggris yang digunakan di Amerika Serikat.
 
 Informasi selengkapnya mengenai _property_ ini dapat dipelajari di bagian [Internasionalisasi](tutorial-i18n.md).
@@ -346,7 +346,7 @@ _Property_ ini menentukan bahasa apa yang digunakan dalam menulis kode aplikasi.
 yang berarti Bahasa Inggris (Amerika Serikat). Anda sebaiknya menentukan _property_ ini jika teks pada kode anda bukanlah Bahasa Inggris.
 
 Seperti layaknya _property_ [language](#language), anda seharusnya menentukan _property_ ini dalam
-format [Tag Bahasa IETF](http://en.wikipedia.org/wiki/IETF_language_tag). Sebagai contoh, `en` berarti Bahasa Inggris,
+format [Tag Bahasa IETF](https://en.wikipedia.org/wiki/IETF_language_tag). Sebagai contoh, `en` berarti Bahasa Inggris,
 sedangkan `en-US` berarti Bahasa Inggris (Amerika Serikat).
 
 Untuk informasi lebih lanjut mengenai _property_ ini bisa anda pelajari pada bagian [Internasionalisasi](tutorial-i18n.md).
diff --git a/docs/guide-id/structure-overview.md b/docs/guide-id/structure-overview.md
index dc7807aaf8d..f7cd7913a17 100644
--- a/docs/guide-id/structure-overview.md
+++ b/docs/guide-id/structure-overview.md
@@ -1,7 +1,7 @@
 Tinjauan
 ========
 
-Aplikasi Yii diorganisir berdasarkan pola arsitektur [model-view-controller (MVC)](http://wikipedia.org/wiki/Model-view-controller).
+Aplikasi Yii diorganisir berdasarkan pola arsitektur [model-view-controller (MVC)](https://wikipedia.org/wiki/Model-view-controller).
 [Model](structure-models.md) merepresentasikan data, pengaturan dan proses bisnis; [view](structure-views.md)
 adalah output yang merepresentasikan model; dan [controller](structure-controllers.md) mengelola input dan merubahnya
 menjadi perintah-perintah untuk [model](structure-models.md) dan [view](structure-views.md).
diff --git a/docs/guide-it/README.md b/docs/guide-it/README.md
index 8f85d10da03..c3a9718c00c 100644
--- a/docs/guide-it/README.md
+++ b/docs/guide-it/README.md
@@ -7,7 +7,7 @@ Tutti i diritti riservati.
 
 2014 (c) Yii Software LLC.
 
-Traduzione italiana a cura di Lorenzo Milesi ([yetopen.it](http://www.yetopen.it)).
+Traduzione italiana a cura di Lorenzo Milesi ([yetopen.it](https://www.yetopen.it)).
 
 
 Introduzione
diff --git a/docs/guide-it/start-installation.md b/docs/guide-it/start-installation.md
index 3b881d08d56..530c76d73ca 100644
--- a/docs/guide-it/start-installation.md
+++ b/docs/guide-it/start-installation.md
@@ -116,12 +116,12 @@ Configurazione del webserver <span id="configuring-web-servers"></span>
 > Informazione: puoi saltare questa parte per ora se stai solo provando Yii e non hai intenzione di installarlo su un server di produzione.
 
 L'applicazione installata secondo le istruzioni sopra dovrebbe funzionare senza problemi su un server 
-[Apache](http://httpd.apache.org/) o [Nginx](http://nginx.org/), su Windows, Mac OS X, or Linux equipaggiati con PHP 5.4 o successivo. 
-Yii 2.0 è anche compatibile con le librerie [HHVM](http://hhvm.com/) di Facebook, tuttavia ci sono alcuni casi limite dove HHVM si
+[Apache](https://httpd.apache.org/) o [Nginx](https://nginx.org/), su Windows, Mac OS X, or Linux equipaggiati con PHP 5.4 o successivo. 
+Yii 2.0 è anche compatibile con le librerie [HHVM](https://hhvm.com/) di Facebook, tuttavia ci sono alcuni casi limite dove HHVM si
 comporta diversamente dal PHP nativo, quindi devi avere maggiore cura se intendi usare HHVM.
 
 Su un server di produzione vorrai probabilmente che la tua applicazione sia accessibile tramite l'url 
-`http://www.example.com/index.php` invece di `http://www.example.com/basic/web/index.php`. Questo risultato richiede che punti la
+`https://www.example.com/index.php` invece di `https://www.example.com/basic/web/index.php`. Questo risultato richiede che punti la
 *document root* del tuo webserver nella directory `basic/web`. Vorrai magari anche nascondere `index.php` dall'URL, come descritto
 nella sezione [analizzare e generare URL](runtime-url-handling.md).
 In questa parte vedrai configurare il tuo server Apache o Nginx per ottenere questo risultato.
@@ -160,7 +160,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Configurazione consigliata di Nginx <span id="recommended-nginx-configuration"></span>
 
-Devi aver installato PHP con il demone [FPM](https://www.php.net/install.fpm) per usare [Nginx](http://wiki.nginx.org/).
+Devi aver installato PHP con il demone [FPM](https://www.php.net/install.fpm) per usare [Nginx](https://wiki.nginx.org/).
 Usa questa configurazione per Nginx, sostituendo `path/to/basic/web` con il percorso reale di `basic/web` e `mysite.test` con
 il nome reale del server web.
 
diff --git a/docs/guide-ja/caching-data.md b/docs/guide-ja/caching-data.md
index 063bef0aab7..513fdc59466 100644
--- a/docs/guide-ja/caching-data.md
+++ b/docs/guide-ja/caching-data.md
@@ -57,7 +57,7 @@ $data = $cache->getOrSet($key, function () use ($user_id) {
 
 キャッシュ・コンポーネントは通常グローバルに設定しアクセスできるように
 [アプリケーション・コンポーネント](structure-application-components.md) として登録されます。
-以下のコードは、二台のキャッシュ・サーバを用いる [Memcached](http://memcached.org/) を使うように
+以下のコードは、二台のキャッシュ・サーバを用いる [Memcached](https://memcached.org/) を使うように
 `cache` アプリケーション・コンポーネントを構成する方法を示すものです。
 
 ```php
@@ -124,13 +124,13 @@ Yii はさまざまなキャッシュ・ストレージをサポートしてい
   [Memcached](https://www.php.net/manual/ja/book.memcached.php) 拡張モジュールを使用します。
   分散型のアプリケーションでキャッシュを扱うときには最速の一つとして考えることができます
   (例えば、複数台のサーバで、ロード・バランサがある、などの場合) 。
-* [[yii\redis\Cache]]: [Redis](http://redis.io/) の key-value ストアに基づいてキャッシュ・コンポーネントを実装しています。
+* [[yii\redis\Cache]]: [Redis](https://redis.io/) の key-value ストアに基づいてキャッシュ・コンポーネントを実装しています。
   (Redis の バージョン 2.6.12 以降が必要とされます) 。
-* [[yii\caching\WinCache]]: PHP の [WinCache](http://iis.net/downloads/microsoft/wincache-extension) エクステンションを使用します。
+* [[yii\caching\WinCache]]: PHP の [WinCache](https://iis.net/downloads/microsoft/wincache-extension) エクステンションを使用します。
   ([参照リンク](https://www.php.net/manual/ja/book.wincache.php))
-* [[yii\caching\XCache]] _(非推奨)_: PHP の [XCache](http://xcache.lighttpd.net/) 拡張モジュールを使用します。
+* [[yii\caching\XCache]] _(非推奨)_: PHP の [XCache](https://en.wikipedia.org/wiki/List_of_PHP_accelerators#XCache) 拡張モジュールを使用します。
 * [[yii\caching\ZendDataCache]] _(非推奨)_:
-  キャッシュ・メディアとして [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
+  キャッシュ・メディアとして [Zend Data Cache](https://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
   を使用します。
 
 
@@ -310,7 +310,7 @@ $result = Customer::getDb()->cache(function ($db) {
 });
 ```
 
-> Info: いくつかの DBMS (例えば [MySQL](http://dev.mysql.com/doc/refman/5.1/ja/query-cache.html))
+> Info: いくつかの DBMS (例えば [MySQL](https://dev.mysql.com/doc/refman/5.1/ja/query-cache.html))
   もデータベース・サーバ・サイドのクエリ・キャッシュをサポートしています。
   どちらのクエリ・キャッシュ・メカニズムを選んでも構いません。
   前述した Yii のクエリ・キャッシュにはキャッシュの依存を柔軟に指定できるという利点があり、潜在的にはより効率的です。
diff --git a/docs/guide-ja/caching-http.md b/docs/guide-ja/caching-http.md
index 28af5367236..684a03020e2 100644
--- a/docs/guide-ja/caching-http.md
+++ b/docs/guide-ja/caching-http.md
@@ -107,7 +107,7 @@ ETag はリクエスト毎に再評価する必要があるため、負荷の高
 の本来の目的を損なって不必要なオーバーヘッドが生じる場合があります。
 ページのコンテントが変更されたときにキャッシュを無効化するための式は単純なものを指定するようにして下さい。
 
-> Note: [RFC 7232](http://tools.ietf.org/html/rfc7232#section-2.4) に準拠して
+> Note: [RFC 7232](https://datatracker.ietf.org/doc/html/rfc7232#section-2.4) に準拠して
   `Etag` と `Last-Modified` ヘッダの両方を設定した場合、
   `HttpCache` はその両方とも送信します。  また、もし `If-None-Match` ヘッダと
   `If-Modified-Since` ヘッダの両方を送信した場合は前者のみが尊重されます。
diff --git a/docs/guide-ja/concept-aliases.md b/docs/guide-ja/concept-aliases.md
index fc91d52e63d..fdb539dd019 100644
--- a/docs/guide-ja/concept-aliases.md
+++ b/docs/guide-ja/concept-aliases.md
@@ -18,7 +18,7 @@ Yii はすでに利用可能な多くの事前定義エイリアスを持って
 Yii::setAlias('@foo', '/path/to/foo');
 
 // URL のエイリアス
-Yii::setAlias('@bar', 'http://www.example.com');
+Yii::setAlias('@bar', 'https://www.example.com');
 
 // \foo\Bar クラスを保持する具体的なファイルのエイリアス
 Yii::setAlias('@foo/Bar.php', '/definitely/not/foo/Bar.php');
@@ -47,7 +47,7 @@ return [
     // ...
     'aliases' => [
         '@foo' => '/path/to/foo',
-        '@bar' => 'http://www.example.com',
+        '@bar' => 'https://www.example.com',
     ],
 ];
 ```
@@ -61,7 +61,7 @@ return [
 
 ```php
 echo Yii::getAlias('@foo');               // /path/to/foo を表示
-echo Yii::getAlias('@bar');               // http://www.example.com を表示
+echo Yii::getAlias('@bar');               // https://www.example.com を表示
 echo Yii::getAlias('@foo/bar/file.php');  // /path/to/foo/bar/file.php を表示
 ```
 
@@ -116,7 +116,7 @@ Yii では、一般的に使用されるファイルのパスと URL を簡単
   エントリス・クリプトを含むディレクトリによって決定されます。
 - `@web`, 現在実行中のウェブ・アプリケーションのベース URL。これは、 [[yii\web\Request::baseUrl]] と同じ値を持ちます。
 - `@vendor`, [[yii\base\Application::vendorPath|Composer のベンダー・ディレクトリ]] 。デフォルトは `@app/vendor` 。
-- `@bower`, [bower パッケージ](http://bower.io/) が含まれるルート・ディレクトリ。デフォルトは `@vendor/bower` 。
+- `@bower`, [bower パッケージ](https://bower.io/) が含まれるルート・ディレクトリ。デフォルトは `@vendor/bower` 。
 - `@npm`, [npm パッケージ](https://www.npmjs.com/) が含まれるルート・ディレクトリ。デフォルトは `@vendor/npm` 。
 
 `@yii` エイリアスは [エントリ・スクリプト](structure-entry-scripts.md) に `Yii.php` ファイルを読み込んだ時点で定義されます。
diff --git a/docs/guide-ja/concept-behaviors.md b/docs/guide-ja/concept-behaviors.md
index 93534b53ef6..a4470c19616 100644
--- a/docs/guide-ja/concept-behaviors.md
+++ b/docs/guide-ja/concept-behaviors.md
@@ -2,7 +2,7 @@
 ==========
 
 ビヘイビアは [[yii\base\Behavior]] またその子クラスのインスタンスです。ビヘイビアは
-[ミックスイン](http://en.wikipedia.org/wiki/Mixin) としても知られ、既存の [[yii\base\Component|component]] クラスの
+[ミックスイン](https://en.wikipedia.org/wiki/Mixin) としても知られ、既存の [[yii\base\Component|component]] クラスの
 機能を、クラスの継承を変更せずに拡張することができます。コンポーネントにビヘイビアをアタッチすると、その
 コンポーネントにはビヘイビアのメソッドとプロパティが "注入" され、それらのメソッドとプロパティは、
 コンポーネント・クラス自体に定義されているかのようにアクセスできるようになります。また、ビヘイビアは、
diff --git a/docs/guide-ja/concept-di-container.md b/docs/guide-ja/concept-di-container.md
index 8daac4fb214..9580d425118 100644
--- a/docs/guide-ja/concept-di-container.md
+++ b/docs/guide-ja/concept-di-container.md
@@ -2,7 +2,7 @@
 ================
 
 依存注入 (DI) コンテナは、オブジェクトとそれが依存するすべてのオブジェクトを、インスタンス化し、設定する方法を知っているオブジェクトです。
-なぜ DI コンテナが便利なのかは、[Martin Fowler の記事](http://martinfowler.com/articles/injection.html) の説明がわかりやすいでしょう。
+なぜ DI コンテナが便利なのかは、[Martin Fowler の記事](https://martinfowler.com/articles/injection.html) の説明がわかりやすいでしょう。
 ここでは、主に Yii の提供する DI コンテナの使用方法を説明します。
 
 
@@ -541,7 +541,7 @@ $reader = $container->get('app\storage\DocumentsReader');
 
 依存注入と [サービス・ロケータ](concept-service-locator.md) はともに、疎結合でよりテストしやすい方法でのソフトウェア構築を可能にする、
 定番のデザインパターンです。
-依存注入とサービス・ロケータへのより深い理解を得るために、 [Martin の記事](http://martinfowler.com/articles/injection.html)
+依存注入とサービス・ロケータへのより深い理解を得るために、 [Martin の記事](https://martinfowler.com/articles/injection.html)
 を読むことを強くお勧めします。
 
 Yii はその [サービス・ロケータ](concept-service-locator.md) を、依存注入 (DI) コンテナの上に実装しています。
diff --git a/docs/guide-ja/db-active-record.md b/docs/guide-ja/db-active-record.md
index b56cc59a11b..801a182ae8a 100644
--- a/docs/guide-ja/db-active-record.md
+++ b/docs/guide-ja/db-active-record.md
@@ -1,7 +1,7 @@
 アクティブ・レコード
 ====================
 
-[アクティブ・レコード](http://ja.wikipedia.org/wiki/Active_Record) は、データベースに保存されているデータにアクセスするために、
+[アクティブ・レコード](https://ja.wikipedia.org/wiki/Active_Record) は、データベースに保存されているデータにアクセスするために、
 オブジェクト指向のインタフェイスを提供するものです。
 アクティブ・レコード・クラスはデータベース・テーブルと関連付けられます。
 アクティブ・レコードのインスタンスはそのテーブルの行に対応し、アクティブ・レコードのインスタンスの *属性* がその行にある特定のカラムの値を表現します。
diff --git a/docs/guide-ja/db-dao.md b/docs/guide-ja/db-dao.md
index 70297b52316..26c3c6f3509 100644
--- a/docs/guide-ja/db-dao.md
+++ b/docs/guide-ja/db-dao.md
@@ -11,11 +11,11 @@ Yii DAO を使うときは、主として素の SQL と PHP 配列を扱う必
 
 Yii 2.0 では、DAO は下記の DBMS のサポートを内蔵しています。
 
-- [MySQL](http://www.mysql.com/)
+- [MySQL](https://www.mysql.com/)
 - [MariaDB](https://mariadb.com/)
-- [SQLite](http://sqlite.org/)
-- [PostgreSQL](http://www.postgresql.org/): バージョン 8.4 以上。
-- [CUBRID](http://www.cubrid.org/): バージョン 9.3 以上。
+- [SQLite](https://sqlite.org/)
+- [PostgreSQL](https://www.postgresql.org/): バージョン 8.4 以上。
+- [CUBRID](https://www.cubrid.org/): バージョン 9.3 以上。
 - [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): バージョン 2008 以上。
 
@@ -275,7 +275,7 @@ Yii::$app->db->createCommand()->batchInsert('user', ['name', 'age'], [
 ```php
 Yii::$app->db->createCommand()->upsert('pages', [
     'name' => 'フロント・ページ',
-    'url' => 'http://example.com/', // url はユニーク
+    'url' => 'https://example.com/', // url はユニーク
     'visits' => 0,
 ], [
     'visits' => new \yii\db\Expression('visits + 1'),
@@ -427,7 +427,7 @@ DBMS によっては、接続全体に対してのみ分離レベルの設定を
 すなわち、トランザクションを開始するときに、分離レベルを直接に指定することは出来ません。
 この場合、トランザクションを開始した後に [[yii\db\Transaction::setIsolationLevel()]] を呼び出す必要があります。
 
-[分離レベル]: http://ja.wikipedia.org/wiki/%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E5%88%86%E9%9B%A2%E3%83%AC%E3%83%99%E3%83%AB
+[分離レベル]: https://ja.wikipedia.org/wiki/%E3%83%88%E3%83%A9%E3%83%B3%E3%82%B6%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3%E5%88%86%E9%9B%A2%E3%83%AC%E3%83%99%E3%83%AB
 
 
 ### トランザクションを入れ子にする <span id="nesting-transactions"></span>
@@ -478,7 +478,7 @@ try {
 ## レプリケーションと読み書きの分離 <span id="read-write-splitting"></span>
 
 多くの DBMS は、データベースの可用性とサーバのレスポンス・タイムを向上させるために、
-[データベース・レプリケーション](http://ja.wikipedia.org/wiki/%E3%83%AC%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3#.E3.83.87.E3.83.BC.E3.82.BF.E3.83.99.E3.83.BC.E3.82.B9) をサポートしています。
+[データベース・レプリケーション](https://ja.wikipedia.org/wiki/%E3%83%AC%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3#.E3.83.87.E3.83.BC.E3.82.BF.E3.83.99.E3.83.BC.E3.82.B9) をサポートしています。
 データベース・レプリケーションによって、データはいわゆる *マスタ・サーバ* から *スレーブ・サーバ* に複製されます。
 データの書き込みと更新はすべてマスタ・サーバ上で実行されなければなりませんが、データの読み出しはスレーブ・サーバ上でも可能です。
 
diff --git a/docs/guide-ja/db-migrations.md b/docs/guide-ja/db-migrations.md
index ca850633ee9..a0b489cb0cd 100644
--- a/docs/guide-ja/db-migrations.md
+++ b/docs/guide-ja/db-migrations.md
@@ -685,7 +685,7 @@ class m150101_185401_create_news_table extends Migration
 `safeDown()` では、先に行を削除して、次にテーブルを削除しています。
 
 > Note: 全ての DBMS がトランザクションをサポートしている訳ではありません。また、トランザクションに入れることが出来ない DB クエリもあります。
-  いくつかの例を [暗黙のコミット](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html) で見ることが出来ます。
+  いくつかの例を [暗黙のコミット](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html) で見ることが出来ます。
   その場合には、代りに、`up()` と `down()` を実装しなければなりません。
 
 
diff --git a/docs/guide-ja/db-query-builder.md b/docs/guide-ja/db-query-builder.md
index 8ba3104e7c1..996b2a542f9 100644
--- a/docs/guide-ja/db-query-builder.md
+++ b/docs/guide-ja/db-query-builder.md
@@ -299,7 +299,7 @@ $query->where([$column => $value]);
   値が自動的に一対のパーセント記号によって囲まれることに注意してください。
 
   > Note: PostgreSQL を使っている場合は、`like` の代りに、大文字と小文字を区別しない比較のための
-  > [`ilike`](http://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE) を使うことも出来ます。
+  > [`ilike`](https://www.postgresql.org/docs/8.3/functions-matching.html#FUNCTIONS-LIKE) を使うことも出来ます。
 
 - `or like`: オペランド 2 が配列である場合に `LIKE` 述語が `OR` によって結合される以外は、
   `like` 演算子と同じです。
@@ -540,14 +540,14 @@ $query->limit(10)->offset(20);
 ### [[yii\db\Query::join()|join()]] <span id="join"></span>
 
 [[yii\db\Query::join()|join()]] メソッドは SQL クエリの `JOIN` 句を指定します。例えば、
- 
+
 ```php
 // ... LEFT JOIN `post` ON `post`.`user_id` = `user`.`id`
 $query->join('LEFT JOIN', 'post', 'post.user_id = user.id');
 ```
 
 [[yii\db\Query::join()|join()]] メソッドは、四つのパラメータを取ります。
- 
+
 - `$type`: 結合のタイプ、例えば、`'INNER JOIN'`、`'LEFT JOIN'`。
 - `$table`: 結合されるテーブルの名前。
 - `$on`: オプション。結合条件、すなわち、`ON` 句。
diff --git a/docs/guide-ja/helper-html.md b/docs/guide-ja/helper-html.md
index bef79c680af..9de5e12473d 100644
--- a/docs/guide-ja/helper-html.md
+++ b/docs/guide-ja/helper-html.md
@@ -41,7 +41,7 @@ Yii はそのような手助けを Html ヘルパの形式で提供します。
 その全ての場合において、いくつか追加の処理がなされることを知っておいてください。
 
 - 値が `null` である場合は、対応する属性はレンダリングされません。
-- 値が真偽値である属性は、[真偽値属性 (boolean attributes)](http://www.w3.org/TR/html5/infrastructure.html#boolean-attributes) 
+- 値が真偽値である属性は、[真偽値属性 (boolean attributes)](https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes) 
   として扱われます。
 - 属性の値は [[yii\helpers\Html::encode()|Html::encode()]] を使って HTML エンコードされます。
 - 属性の値が配列である場合は、次のように処理されます。
@@ -349,7 +349,7 @@ CSS ファイルの外部スタイルをリンクしたい場合は、次のよ
 これは次の HTML を生成します。
 
 <!--[if IE 5]>
-    <link href="http://example.com/css/ie5.css" />
+    <link href="https://example.com/css/ie5.css" />
 <![endif]-->
 ```
 
@@ -399,7 +399,7 @@ CSS と同じように、最初の引数はインクルードされるファイ
 
 これは次の HTML を生成します。
 
-<img src="http://example.com/images/logo.png" alt="私のロゴ" />
+<img src="https://example.com/images/logo.png" alt="私のロゴ" />
 ```
 
 最初の引数は、[エイリアス](concept-aliases.md) 以外にも、ルートとパラメータ、または URL を受け入れることが出来ます。[Url::to()](helper-url.md) と同様です。
diff --git a/docs/guide-ja/helper-url.md b/docs/guide-ja/helper-url.md
index 544a5460522..45d45c89845 100644
--- a/docs/guide-ja/helper-url.md
+++ b/docs/guide-ja/helper-url.md
@@ -78,7 +78,7 @@ echo Url::toRoute(['site/index', 'src' => 'ref1', '#' => 'name']);
 // /index.php?r=post%2Fedit&id=100     エイリアス "@postEdit" は "post/edit" と定義されていると仮定
 echo Url::toRoute(['@postEdit', 'id' => 100]);
 
-// http://www.example.com/index.php?r=site%2Findex
+// https://www.example.com/index.php?r=site%2Findex
 echo Url::toRoute('site/index', true);
 
 // https://www.example.com/index.php?r=site%2Findex
@@ -123,7 +123,7 @@ echo Url::to('@web/images/logo.gif');
 // images/logo.gif
 echo Url::to('images/logo.gif');
 
-// http://www.example.com/images/logo.gif
+// https://www.example.com/images/logo.gif
 echo Url::to('@web/images/logo.gif', true);
 
 // https://www.example.com/images/logo.gif
diff --git a/docs/guide-ja/input-validation.md b/docs/guide-ja/input-validation.md
index 5847f003f45..420317c0f35 100644
--- a/docs/guide-ja/input-validation.md
+++ b/docs/guide-ja/input-validation.md
@@ -748,7 +748,7 @@ JS;
 
 ### Deferred 検証 <span id="deferred-validation"></span>
 
-非同期のクライアント・サイドの検証をサポートする必要がある場合は、[Defered オブジェクト](http://api.jquery.com/category/deferred-object/) を作成することが出来ます。
+非同期のクライアント・サイドの検証をサポートする必要がある場合は、[Defered オブジェクト](https://api.jquery.com/category/deferred-object/) を作成することが出来ます。
 例えば、AJAX によるカスタム検証を実行するために、次のコードを使うことが出来ます。
 
 ```php
diff --git a/docs/guide-ja/intro-yii.md b/docs/guide-ja/intro-yii.md
index 494dddc6a2d..f2995b3e761 100644
--- a/docs/guide-ja/intro-yii.md
+++ b/docs/guide-ja/intro-yii.md
@@ -50,7 +50,7 @@ Yii は現在、利用可能な二つのメジャー・バージョン、すな
 必要条件と前提条件
 ------------------
 
-Yii 2.0 は PHP 5.4.0 以上を必要とし、PHP 7 の最新バージョンで最高の力を発揮します。
+Yii 2.0 は PHP 5.4.0 以上を必要とし、PHP の最新バージョンで最高の力を発揮します。
 個々の機能に対する詳細な必要条件は、全ての Yii リリースに含まれている必要条件チェッカを走らせることによって知ることが出来ます。
 
 Yii を使うためには、オブジェクト指向プログラミング (OOP) の基本的な知識が必要です。
diff --git a/docs/guide-ja/output-client-scripts.md b/docs/guide-ja/output-client-scripts.md
index 4da4ac26d26..38ac328e2a4 100644
--- a/docs/guide-ja/output-client-scripts.md
+++ b/docs/guide-ja/output-client-scripts.md
@@ -35,9 +35,9 @@ $this->registerJs(
 - [[yii\web\View::POS_HEAD|View::POS_HEAD]] - head セクション。
 - [[yii\web\View::POS_BEGIN|View::POS_BEGIN]] - 開始の `<body>` の直後。
 - [[yii\web\View::POS_END|View::POS_END]] - 終了の `</body>` の直前。
-- [[yii\web\View::POS_READY|View::POS_READY]] - [ドキュメントの `ready` イベント](http://learn.jquery.com/using-jquery-core/document-ready/) でコードを実行するための指定。
+- [[yii\web\View::POS_READY|View::POS_READY]] - [ドキュメントの `ready` イベント](https://learn.jquery.com/using-jquery-core/document-ready/) でコードを実行するための指定。
   これを指定すると、[[yii\web\JqueryAsset|jQuery]] が自動的に登録され、コードは適切な jQuery コードの中に包まれます。これがデフォルトの位置指定です。
-- [[yii\web\View::POS_LOAD|View::POS_LOAD]] - [ドキュメントの `load` イベント](http://learn.jquery.com/using-jquery-core/document-ready/) でコードを実行するための指定。
+- [[yii\web\View::POS_LOAD|View::POS_LOAD]] - [ドキュメントの `load` イベント](https://learn.jquery.com/using-jquery-core/document-ready/) でコードを実行するための指定。
   上記と同じく、これを指定すると、[[yii\web\JqueryAsset|jQuery]] が自動的に登録されます。
 
 最後の引数は、スクリプトのコード・ブロックを一意に特定するために使われるスクリプトのユニークな ID です。同じ ID のスクリプトが既にある場合は、新しいものを追加するのでなく、
diff --git a/docs/guide-ja/output-data-widgets.md b/docs/guide-ja/output-data-widgets.md
index 712a5d6b26e..28946fe3393 100644
--- a/docs/guide-ja/output-data-widgets.md
+++ b/docs/guide-ja/output-data-widgets.md
@@ -777,4 +777,4 @@ yii gii/crud --controllerClass="backend\\controllers\PostController" \
 さらに読むべき文書
 ------------------
 
-- Arno Slatius による [Rendering Data in Yii 2 with GridView and ListView](http://www.sitepoint.com/rendering-data-in-yii-2-with-gridview-and-listview/)。
+- Arno Slatius による [Rendering Data in Yii 2 with GridView and ListView](https://www.sitepoint.com/rendering-data-in-yii-2-with-gridview-and-listview/)。
diff --git a/docs/guide-ja/output-formatting.md b/docs/guide-ja/output-formatting.md
index 951a1260bef..96d087b762f 100644
--- a/docs/guide-ja/output-formatting.md
+++ b/docs/guide-ja/output-formatting.md
@@ -75,7 +75,7 @@ return [
 - [[yii\i18n\Formatter::asDate()|date]] - 値は日付としてフォーマットされます。例えば `January 01, 2014`。
 - [[yii\i18n\Formatter::asTime()|time]] - 値は時刻としてフォーマットされます。例えば `14:23`。
 - [[yii\i18n\Formatter::asDatetime()|datetime]] - 値は日付および時刻としてフォーマットされます。例えば `January 01, 2014 14:23`。
-- [[yii\i18n\Formatter::asTimestamp()|timestamp]] - 値は [unix タイムスタンプ](http://en.wikipedia.org/wiki/Unix_time) としてフォーマットされます。例えば `1412609982`。
+- [[yii\i18n\Formatter::asTimestamp()|timestamp]] - 値は [unix タイムスタンプ](https://en.wikipedia.org/wiki/Unix_time) としてフォーマットされます。例えば `1412609982`。
 - [[yii\i18n\Formatter::asRelativeTime()|relativeTime]] - 値は、その日時と現在との間隔として、人間に分かりやすい言葉でフォーマットされます。
   例えば `1 hour ago`。
 - [[yii\i18n\Formatter::asDuration()|duration]] - 値は継続時間として、人間に分かりやすい言葉でフォーマットされます。例えば `1 day, 2 minutes`。
@@ -85,7 +85,7 @@ return [
 [[yii\i18n\Formatter::$timeFormat|$timeFormat]]、[[yii\i18n\Formatter::$datetimeFormat|$datetimeFormat]] を構成することで、
 グローバルにカスタマイズすることが出来ます。
 
-日付と時刻のフォーマットは、[ICU 構文](http://userguide.icu-project.org/formatparse/datetime) によって指定することが出来ます。
+日付と時刻のフォーマットは、[ICU 構文](https://unicode-org.github.io/icu/userguide/format_parse/datetime/) によって指定することが出来ます。
 また、ICU 構文と区別するために `php:` という接頭辞を付けて、[PHP の date() 構文](https://www.php.net/manual/ja/function.date.php)
 を使うことも出来ます。例えば、
 
@@ -167,7 +167,7 @@ echo Yii::$app->formatter->asTime('2014-10-06 14:41:00 CEST'); // 14:41:00
 > Note: タイム・ゾーンは世界中のさまざまな政府によって作られる規則に従うものであり、頻繁に変更されるものであるため、
 > あなたのシステムにインストールされたタイム・ゾーンのデータベースが最新の情報を持っていない可能性が大いにあります。
 > タイム・ゾーン・データベースの更新についての詳細は、
-> [ICU マニュアル](http://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data) で参照することが出来ます。
+> [ICU マニュアル](https://unicode-org.github.io/icu/userguide/datetime/timezone/#updating-the-time-zone-data) で参照することが出来ます。
 > [PHP 環境を国際化のために設定する](tutorial-i18n.md#setup-environment) も参照してください。
 
 
diff --git a/docs/guide-ja/rest-authentication.md b/docs/guide-ja/rest-authentication.md
index d057afff47f..a811526f1a5 100644
--- a/docs/guide-ja/rest-authentication.md
+++ b/docs/guide-ja/rest-authentication.md
@@ -10,15 +10,15 @@
 
 アクセス・トークンを送信するには、いくつかの異なる方法があります。
 
-* [HTTP Basic 認証](http://ja.wikipedia.org/wiki/Basic%E8%AA%8D%E8%A8%BC): アクセス・トークンはユーザ名として送信されます。
+* [HTTP Basic 認証](https://ja.wikipedia.org/wiki/Basic%E8%AA%8D%E8%A8%BC): アクセス・トークンはユーザ名として送信されます。
   この方法は、アクセス・トークンを API コンシューマ側で安全に保存することが出来る場合、
   例えば API コンシューマがサーバ上で走るプログラムである場合などにのみ使用されるべきです。
 * クエリ・パラメータ: アクセス・トークンは API の URL、例えば、`https://example.com/users?access-token=xxxxxxxx`
   でクエリ・パラメータとして送信されます。
   ほとんどのウェブ・サーバはクエリ・パラメータをサーバのログに記録するため、この手法は、
   アクセス・トークンを HTTP ヘッダを使って送信することができない `JSONP` リクエストに応答するために主として使用されるべきです。
-* [OAuth 2](http://oauth.net/2/): OAuth2 プロトコルに従って、
-  アクセス・トークンはコンシューマによって権限付与サーバから取得され、[HTTP Bearer Tokens](http://tools.ietf.org/html/rfc6750) 経由で
+* [OAuth 2](https://oauth.net/2/): OAuth2 プロトコルに従って、
+  アクセス・トークンはコンシューマによって権限付与サーバから取得され、[HTTP Bearer Tokens](https://datatracker.ietf.org/doc/html/rfc6750) 経由で
   API サーバに送信されます。
 
 Yii は上記の全ての認証方法をサポートしています。新しい認証方法を作成することも簡単に出来ます。
diff --git a/docs/guide-ja/rest-controllers.md b/docs/guide-ja/rest-controllers.md
index bf265437c9d..377f9189987 100644
--- a/docs/guide-ja/rest-controllers.md
+++ b/docs/guide-ja/rest-controllers.md
@@ -80,7 +80,7 @@ public function behaviors()
 コントローラに [CORS (クロス・オリジン・リソース共有)](structure-filters.md#cors) フィルタを追加するのは、上記の他のフィルタを追加するのより、若干複雑になります。
 と言うのは、CORS フィルタは認証メソッドより前に適用されなければならないため、他のフィルタとは少し異なるアプローチが必要だからです。
 また、ブラウザが認証クレデンシャルを送信する必要なく、リクエストが出来るかどうかを前もって安全に判断できるように、
-[CORS プリフライト・リクエスト](https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests)
+[CORS プリフライト・リクエスト](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests)
 の認証を無効にする必要もあります。
 下記のコードは、[[yii\rest\ActiveController]] を拡張した既存のコントローラに
 [[yii\filters\Cors]] フィルタを追加するのに必要なコードを示しています。
diff --git a/docs/guide-ja/rest-quick-start.md b/docs/guide-ja/rest-quick-start.md
index 79e4c6118e1..25d019d0889 100644
--- a/docs/guide-ja/rest-quick-start.md
+++ b/docs/guide-ja/rest-quick-start.md
@@ -9,7 +9,7 @@ Yii は、RESTful ウェブサービス API を実装する仕事を簡単にす
 * 出力フィールドの選択をサポートした、カスタマイズ可能なオブジェクトのシリアライゼーション
 * コレクション・データと検証エラーの適切な書式設定
 * コレクションのページネーション、フィルタリングおよびソーティング
-* [HATEOAS](http://en.wikipedia.org/wiki/HATEOAS) のサポート
+* [HATEOAS](https://en.wikipedia.org/wiki/HATEOAS) のサポート
 * HTTP 動詞を適切にチェックする効率的なルーティング
 * `OPTIONS` および `HEAD` 動詞のサポートを内蔵
 * 認証と権限付与
diff --git a/docs/guide-ja/rest-resources.md b/docs/guide-ja/rest-resources.md
index 07d508c3ed8..09020bca275 100644
--- a/docs/guide-ja/rest-resources.md
+++ b/docs/guide-ja/rest-resources.md
@@ -140,7 +140,7 @@ public function extraFields()
 
 ## リンク <span id="links"></span>
 
-[HATEOAS](http://en.wikipedia.org/wiki/HATEOAS) は、Hypermedia as the Engine of Application State (アプリケーション状態のエンジンとしてのハイパーメディア) の略称です。
+[HATEOAS](https://en.wikipedia.org/wiki/HATEOAS) は、Hypermedia as the Engine of Application State (アプリケーション状態のエンジンとしてのハイパーメディア) の略称です。
 HATEOAS は、RESTful API は自分が返すリソースについて、どのようなアクションがサポートされているかをクライアントが発見できるような情報を返すべきである、という概念です。
 HATEOAS のキーポイントは、リソース・データが API によって提供されるときには、
 関連する情報を一群のハイパーリンクによって返すべきである、ということです。
diff --git a/docs/guide-ja/rest-response-formatting.md b/docs/guide-ja/rest-response-formatting.md
index b121fa73c96..f30433f0170 100644
--- a/docs/guide-ja/rest-response-formatting.md
+++ b/docs/guide-ja/rest-response-formatting.md
@@ -4,7 +4,7 @@
 RESTful API のリクエストを処理するとき、アプリケーションは、通常、レスポンス形式の設定に関して次のステップを踏みます。
 
 1. レスポンス形式に影響するさまざまな要因、例えば、メディア・タイプ、言語、バージョンなどを決定します。
-   このプロセスは [コンテント・ネゴシエーション](http://en.wikipedia.org/wiki/Content_negotiation) としても知られるものです。
+   このプロセスは [コンテント・ネゴシエーション](https://en.wikipedia.org/wiki/Content_negotiation) としても知られるものです。
 2. リソース・オブジェクトを配列に変換します。
    [リソース](rest-resources.md) のセクションで説明したように、この作業は [[yii\rest\Serializer]] によって実行されます。
 3. 配列をコンテント・ネゴシエーションのステップで決定された形式の文字列に変換します。
diff --git a/docs/guide-ja/rest-versioning.md b/docs/guide-ja/rest-versioning.md
index bfebad959b7..f9b73f9006c 100644
--- a/docs/guide-ja/rest-versioning.md
+++ b/docs/guide-ja/rest-versioning.md
@@ -6,10 +6,10 @@
 BC を損なうかも知れない変更が必要な場合は、それを API の新しいバージョンにおいて導入し、バージョン番号を上げるべきです。そうすれば、既存のクライアントは、API の古いけれども動作するバージョンを使い続けることが出来ますし、新しいまたはアップグレードされたクライアントは、新しい API バージョンで新しい機能を使うことが出来ます。
 
 > Tip: API のバージョン番号の設計に関する詳細情報は
-  [Semantic Versioning](http://semver.org/) を参照してください。
+  [Semantic Versioning](https://semver.org/) を参照してください。
 
 API のバージョン管理を実装する方法としてよく使われるのは、バージョン番号を API の URL に埋め込む方法です。
-例えば、`http://example.com/v1/users` が API バージョン 1 の `/users` エンド・ボイントを指す、というものです。
+例えば、`https://example.com/v1/users` が API バージョン 1 の `/users` エンド・ボイントを指す、というものです。
 
 API のバージョン管理のもう一つの方法は、最近流行しているものですが、バージョン番号を HTTP リクエスト・ヘッダに付ける方法です。
 これは、典型的には、`Accept` ヘッダによって行われます。
@@ -90,8 +90,8 @@ return [
 ];
 ```
 
-上記のコードの結果として、`http://example.com/v1/users` はバージョン 1 のユーザ一覧を返し、
-`http://example.com/v2/users` はバージョン 2 のユーザ一覧を返すことになります。
+上記のコードの結果として、`https://example.com/v1/users` はバージョン 1 のユーザ一覧を返し、
+`https://example.com/v2/users` はバージョン 2 のユーザ一覧を返すことになります。
 
 モジュール化のおかげで、異なるメジャー・バージョンのためのコードを綺麗に分離することが出来ます。
 しかし、モジュール化しても、共通の基底クラスやその他の共有リソースを通じて、モジュール間でコードを再利用することは引き続いて可能です。
diff --git a/docs/guide-ja/runtime-requests.md b/docs/guide-ja/runtime-requests.md
index e8f5fb829ff..94257ad13a6 100644
--- a/docs/guide-ja/runtime-requests.md
+++ b/docs/guide-ja/runtime-requests.md
@@ -76,13 +76,13 @@ if ($request->isPut)  { /* リクエスト・メソッドは PUT */ }
 
 `request` コンポーネントは現在リクエストされている URL を調べるための方法を数多く提供しています。
 
-リクエストされた URL が `http://example.com/admin/index.php/product?id=100` であると仮定したとき、
+リクエストされた URL が `https://example.com/admin/index.php/product?id=100` であると仮定したとき、
 次にまとめたように、この URL のさまざまな部分を取得することが出来ます。
 
 * [[yii\web\Request::url|url]]: `/admin/index.php/product?id=100` を返します。ホスト情報の部分を省略した URL です。
-* [[yii\web\Request::absoluteUrl|absoluteUrl]]: `http://example.com/admin/index.php/product?id=100` を返します。
+* [[yii\web\Request::absoluteUrl|absoluteUrl]]: `https://example.com/admin/index.php/product?id=100` を返します。
   ホスト情報の部分を含んだ URL です。
-* [[yii\web\Request::hostInfo|hostInfo]]: `http://example.com` を返します。URL のホスト情報の部分です。
+* [[yii\web\Request::hostInfo|hostInfo]]: `https://example.com` を返します。URL のホスト情報の部分です。
 * [[yii\web\Request::pathInfo|pathInfo]]: `/product` を返します。
   エントリ・スクリプトの後、疑問符 (クエリ文字列) の前の部分です。
 * [[yii\web\Request::queryString|queryString]]: `id=100` を返します。疑問符の後の部分です。
diff --git a/docs/guide-ja/runtime-responses.md b/docs/guide-ja/runtime-responses.md
index 1993142a277..48786c40590 100644
--- a/docs/guide-ja/runtime-responses.md
+++ b/docs/guide-ja/runtime-responses.md
@@ -169,7 +169,7 @@ public function actionInfo()
 ```php
 public function actionOld()
 {
-    return $this->redirect('http://example.com/new', 301);
+    return $this->redirect('https://example.com/new', 301);
 }
 ```
 
@@ -180,7 +180,7 @@ public function actionOld()
 メソッド・チェーンで [[yii\web\Response::send()]] メソッドを呼んで、レスポンスに余計なコンテントが追加されないことを保証しなければなりません。
 
 ```php
-\Yii::$app->response->redirect('http://example.com/new', 301)->send();
+\Yii::$app->response->redirect('https://example.com/new', 301)->send();
 ```
 
 > Info: デフォルトでは、[[yii\web\Response::redirect()]] メソッドはレスポンスのステータス・コードを 302 にセットします。
@@ -230,11 +230,11 @@ public function actionDownload()
 この機能を使うために、[[yii\web\Response::xSendFile()]] を呼ぶことが出来ます。
 次のリストは、よく使われるいくつかのウェブ・サーバにおいて `X-Sendfile` 機能を有効にする方法を要約するものです。
 
-- Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
-- Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Apache: [X-Sendfile](https://tn123.org/mod_xsendfile)
+- Lighttpd v1.4: [X-LIGHTTPD-send-file](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Lighttpd v1.5: [X-Sendfile](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
-- Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
+- Cherokee: [X-Sendfile and X-Accel-Redirect](https://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
 ## レスポンスを送信する <span id="sending-response"></span>
diff --git a/docs/guide-ja/runtime-routing.md b/docs/guide-ja/runtime-routing.md
index 67e8776fc68..e075d931021 100644
--- a/docs/guide-ja/runtime-routing.md
+++ b/docs/guide-ja/runtime-routing.md
@@ -156,7 +156,7 @@ echo Url::to(['post/view', 'id' => 100]);
 // アンカー付きの URL を生成する: /index.php?r=post%2Fview&id=100#content
 echo Url::to(['post/view', 'id' => 100, '#' => 'content']);
 
-// 絶対 URL を生成する: http://www.example.com/index.php?r=post%2Findex
+// 絶対 URL を生成する: https://www.example.com/index.php?r=post%2Findex
 echo Url::to(['post/index'], true);
 
 // https スキームを使って絶対 URL を生成する: https://www.example.com/index.php?r=post%2Findex
@@ -214,11 +214,11 @@ use yii\helpers\Url;
 // 現在リクエストされている URL: /index.php?r=admin%2Fpost%2Findex
 echo Url::to();
 
-// エイリアス化された URL: http://example.com
-Yii::setAlias('@example', 'http://example.com/');
+// エイリアス化された URL: https://example.com
+Yii::setAlias('@example', 'https://example.com/');
 echo Url::to('@example');
 
-// 絶対 URL: http://example.com/images/logo.gif
+// 絶対 URL: https://example.com/images/logo.gif
 echo Url::to('/images/logo.gif', true);
 ```
 
@@ -443,17 +443,17 @@ URL 規則のルートにはパラメータ名を埋め込むことが出来ま
 
 URL 規則のパターンには、ウェブ・サーバ名を含むことが出来ます。
 このことが役に立つのは、主として、あなたのアプリケーションがウェブ・サーバ名によって異なる動作をしなければならない場合です。
-例えば、次の規則は、`http://admin.example.com/login` という URL を `admin/user/login` のルートとして解析し、`http://www.example.com/login` を `site/login` として解析するものです。
+例えば、次の規則は、`https://admin.example.com/login` という URL を `admin/user/login` のルートとして解析し、`https://www.example.com/login` を `site/login` として解析するものです。
 
 ```php
 'rules' => [
-    'http://admin.example.com/login' => 'admin/user/login',
-    'http://www.example.com/login' => 'site/login',
+    'https://admin.example.com/login' => 'admin/user/login',
+    'https://www.example.com/login' => 'site/login',
 ]
 ```
 
 サーバ名にパラメータを埋め込んで、そこから動的な情報を抽出することも出来ます。
-例えば、次の規則は `http://en.example.com/posts` という URL を解析して、`post/index` というルートと `language=en` というパラメータを取得するものです。
+例えば、次の規則は `https://en.example.com/posts` という URL を解析して、`post/index` というルートと `language=en` というパラメータを取得するものです。
 
 ```php
 'rules' => [
@@ -465,7 +465,7 @@ URL 規則のパターンには、ウェブ・サーバ名を含むことが出
 記法は上記と同じです、ただ、`http:` の部分を省略します。例えば、`'//www.example.com/login' => 'site/login'`。
 
 > Note: サーバ名を持つ規則は、そのパターンに、エントリ・スクリプトのサブフォルダを**含まない**ようにすべきです。
-例えば、アプリケーションのエントリ・スクリプトが `http://www.example.com/sandbox/blog/index.php` である場合は、`http://www.example.com/sandbox/blog/posts` ではなく、`http://www.example.com/posts` というパターンを使うべきです。
+例えば、アプリケーションのエントリ・スクリプトが `https://www.example.com/sandbox/blog/index.php` である場合は、`https://www.example.com/sandbox/blog/posts` ではなく、`https://www.example.com/posts` というパターンを使うべきです。
 こうすれば、アプリケーションをどのようなディレクトリに配置しても、URL 規則を変更する必要がなくなります。Yii はアプリケーションのベース URL を自動的に検出します。
 
 
@@ -632,7 +632,7 @@ class CarUrlRule extends BaseObject implements UrlRuleInterface
 
 バージョン 2.0.10 以降、[[yii\web\UrlManager|UrlManager]] で [[yii\web\UrlNormalizer|UrlNormalizer]] を使って、
 同一 URL のバリエーション (例えば、末尾のスラッシュの有無) の問題を処理する出来るようになりました。
-技術的には `http://example.com/path` と `http://example.com/path/` は別の URL ですから、これらの両方に同一のコンテントを提供することは SEO ランキングを低下させる可能性があります。
+技術的には `https://example.com/path` と `https://example.com/path/` は別の URL ですから、これらの両方に同一のコンテントを提供することは SEO ランキングを低下させる可能性があります。
 デフォルトでは、URL ノーマライザは、連続したスラッシュを畳み、サフィックスが末尾のスラッシュを持っているかどうかに従って末尾のスラッシュを追加または削除し、
 正規化された URL に [恒久的な移動](https://en.wikipedia.org/wiki/HTTP_301) を使ってリダイレクトします。
 ノーマライザは、URL マネージャのためにグローバルに構成することも、各規則のために個別に構成することも出来ます。
diff --git a/docs/guide-ja/runtime-sessions-cookies.md b/docs/guide-ja/runtime-sessions-cookies.md
index 571e0013da9..92eefef8b51 100644
--- a/docs/guide-ja/runtime-sessions-cookies.md
+++ b/docs/guide-ja/runtime-sessions-cookies.md
@@ -131,7 +131,7 @@ Yii は、また、さまざまなセッション・ストレージを実装す
 
 * [[yii\web\DbSession]]: セッション・データをデータベース・テーブルを使って保存する。
 * [[yii\web\CacheSession]]: セッション・データを、構成された [キャッシュ・コンポーネント](caching-data.md#cache-components) の力を借りて、キャッシュを使って保存する。
-* [[yii\redis\Session]]: セッション・データを [redis](http://redis.io/) をストレージ媒体として使って保存する。
+* [[yii\redis\Session]]: セッション・データを [redis](https://redis.io/) をストレージ媒体として使って保存する。
 * [[yii\mongodb\Session]]: セッション・データを [MongoDB](https://www.mongodb.com/) に保存する。
 
 これらのセッション・クラスは全て一連の同じ API メソッドをサポートします。
diff --git a/docs/guide-ja/security-authorization.md b/docs/guide-ja/security-authorization.md
index 5e428433216..6375122461f 100644
--- a/docs/guide-ja/security-authorization.md
+++ b/docs/guide-ja/security-authorization.md
@@ -157,7 +157,7 @@ class SiteController extends Controller
 
 ロール・ベース・アクセス制御 (RBAC) は、単純でありながら強力な集中型のアクセス制御を提供します。
 RBAC と他のもっと伝統的なアクセス制御スキーマとの比較に関する詳細については、
-[Wiki 記事](http://ja.wikipedia.org/wiki/%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%99%E3%83%BC%E3%82%B9%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E5%88%B6%E5%BE%A1) を参照してください。
+[Wiki 記事](https://ja.wikipedia.org/wiki/%E3%83%AD%E3%83%BC%E3%83%AB%E3%83%99%E3%83%BC%E3%82%B9%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E5%88%B6%E5%BE%A1) を参照してください。
 
 Yii は、[NIST RBAC モデル](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf) に従って、一般的階層型 RBAC を実装しています。
 RBAC の機能は、[[yii\rbac\ManagerInterface|authManager]] [アプリケーション・コンポーネント](structure-application-components.md) を通じて提供されます。
diff --git a/docs/guide-ja/security-best-practices.md b/docs/guide-ja/security-best-practices.md
index e5f121dc558..132a505456b 100644
--- a/docs/guide-ja/security-best-practices.md
+++ b/docs/guide-ja/security-best-practices.md
@@ -162,13 +162,13 @@ CSRF は、クロス・サイト・リクエスト・フォージェリ (cross-s
 
 例えば、`an.example.com` というウェブ・サイトが `/logout` という URL を持っており、
 この URL を単純な GET でアクセスするとユーザをログアウトさせるようになっているとします。
-ユーザ自身によってこの URL がリクエストされる限りは何も問題はありませんが、ある日、悪い奴が、ユーザが頻繁に訪れるフォーラムに `<img src="http://an.example.com/logout">` というリンクを含むコンテントを何らかの方法で投稿します。
+ユーザ自身によってこの URL がリクエストされる限りは何も問題はありませんが、ある日、悪い奴が、ユーザが頻繁に訪れるフォーラムに `<img src="https://an.example.com/logout">` というリンクを含むコンテントを何らかの方法で投稿します。
 ブラウザは画像のリクエストとページのリクエストの間に何ら区別を付けませんので、ユーザがそのような `img` タグを含むページを開くとブラウザはその URL に対して GET リクエストを送信します。
 そして、ユーザが `an.example.com` からログアウトされてしまうことになる訳です。
 
 これは CSRF 攻撃がどのように動作するかという基本的な考え方です。ユーザがログアウトされるぐらいは大したことではない、と言うことも出来るでしょう。
 しかしこれは例に過ぎません。この考え方を使って、支払いを開始させたり、データを変更したりというような、もっとひどいことをすることも出来ます。
-`http://an.example.com/purse/transfer?to=anotherUser&amount=2000` という URL を持つウェブ・サイトがあると考えて見てください。この URL に GET リクエストを使ってアクセスすると、権限を持つユーザ・アカウントから `anotherUser` に $2000 が送金されるのです。
+`https://an.example.com/purse/transfer?to=anotherUser&amount=2000` という URL を持つウェブ・サイトがあると考えて見てください。この URL に GET リクエストを使ってアクセスすると、権限を持つユーザ・アカウントから `anotherUser` に $2000 が送金されるのです。
 私たちは、ブラウザは画像をロードするのに常に GET リクエストを使う、ということを知っていますから、
 この URL が POST リクエストだけを受け入れるようにコードを修正することは出来ます。
 しかし残念なことに、それで問題が解決する訳ではありません。攻撃者は `<img>` タグの代りに何らかの JavaScript コードを書いて、
@@ -330,7 +330,7 @@ H5BP プロジェクトが提供する構成例を参考にすることも出来
 
 サーバの構成についての詳細な情報は、ウェブ・サーバのドキュメントを参照して下さい。
 
-- Apache 2: <http://httpd.apache.org/docs/trunk/vhosts/examples.html#defaultallports>
+- Apache 2: <https://httpd.apache.org/docs/trunk/vhosts/examples.html#defaultallports>
 - Nginx: <https://www.nginx.com/resources/wiki/start/topics/examples/server_blocks/>
 
 サーバの構成にアクセスする権限がない場合は、このような攻撃に対して防御するために、[[yii\filters\HostControl]]
diff --git a/docs/guide-ja/start-databases.md b/docs/guide-ja/start-databases.md
index a22fbaaaafc..d895dd02e11 100644
--- a/docs/guide-ja/start-databases.md
+++ b/docs/guide-ja/start-databases.md
@@ -231,7 +231,7 @@ use yii\widgets\LinkPager;
 上記のコード全てがどのように動作するかを見るために、ブラウザで下記の URL をアクセスします。
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 ![国リスト](images/start-country-list.png)
@@ -241,7 +241,7 @@ http://hostname/index.php?r=country%2Findex
 注意深く観察すると、ブラウザの URL も次のように変ったことに気付くでしょう。
 
 ```
-http://hostname/index.php?r=country%2Findex&page=2
+https://hostname/index.php?r=country%2Findex&page=2
 ```
 
 舞台裏では、[[yii\data\Pagination|Pagination]] が、データ・セットをページ付けするのに必要な全ての機能を提供しています。
diff --git a/docs/guide-ja/start-forms.md b/docs/guide-ja/start-forms.md
index fb22618dcff..226b908e444 100644
--- a/docs/guide-ja/start-forms.md
+++ b/docs/guide-ja/start-forms.md
@@ -129,7 +129,7 @@ class SiteController extends Controller
 その中で HTML フォームが (もし有れば) 検証エラーのメッセージとともに表示されます。
 
 > Note: この簡単な例では、有効なデータ送信に対して単純に確認ページを表示しています。
-  実際の仕事では、[フォーム送信の諸問題](http://en.wikipedia.org/wiki/Post/Redirect/Get) を避けるために、
+  実際の仕事では、[フォーム送信の諸問題](https://en.wikipedia.org/wiki/Post/Redirect/Get) を避けるために、
   [[yii\web\Controller::refresh()|refresh()]] または [[yii\web\Controller::redirect()|redirect()]] を使うことを考慮すべきです。
 
 
@@ -187,7 +187,7 @@ use yii\widgets\ActiveForm;
 どのように動作するかを見るために、ブラウザで下記の URL にアクセスしてください。
 
 ```
-http://hostname/index.php?r=site%2Fentry
+https://hostname/index.php?r=site%2Fentry
 ```
 
 二つのインプット・フィールドを持つフォームを表示するページが表示されるでしょう。それぞれのインプット・フィールドの前には、どんなデータを入力すべきかを示すラベルがあります。
diff --git a/docs/guide-ja/start-gii.md b/docs/guide-ja/start-gii.md
index be49ca03ada..d6ffaa3729b 100644
--- a/docs/guide-ja/start-gii.md
+++ b/docs/guide-ja/start-gii.md
@@ -42,7 +42,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 この行のおかげで、アプリケーションは開発モードになっており、上記の構成情報によって、Gii が既に有効になっています。これで、下記の URL によって Gii にアクセスすることが出来ます。
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 > Note: ローカルホスト以外のマシンから Gii にアクセスしようとすると、デフォルトではセキュリティ上の理由でアクセスが拒否されます。
@@ -107,7 +107,7 @@ CRUD は Create(作成)、Read(読出し)、Update(更新)、そして Delete(
 どのように動作するかを見るために、ブラウザを使って下記の URL にアクセスしてください。
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 データ・グリッドがデータベース・テーブルから取得した国を表示しているページが表示されます。
diff --git a/docs/guide-ja/start-hello.md b/docs/guide-ja/start-hello.md
index cdf330d03b1..5e66a4fd877 100644
--- a/docs/guide-ja/start-hello.md
+++ b/docs/guide-ja/start-hello.md
@@ -88,7 +88,7 @@ use yii\helpers\Html;
 
 上記のコードで `message` パラメータが出力される前に  [[yii\helpers\Html::encode()|HTML-エンコード]] されていることに注意してください。
 パラメータはエンド・ユーザから来るものであり、悪意のある JavaScript コードを埋め込まれて
-[クロス・サイト・スクリプティング (XSS) 攻撃](http://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AD%E3%82%B9%E3%82%B5%E3%82%A4%E3%83%88%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0) に使われうるものですから、
+[クロス・サイト・スクリプティング (XSS) 攻撃](https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AD%E3%82%B9%E3%82%B5%E3%82%A4%E3%83%88%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0) に使われうるものですから、
 脆弱性を防止するためにこうすることが必要です。
 
 当然ながら、`say` ビューにはもっと多くのコンテントを入れても構いません。コンテントには、HTML タグ、平文テキスト、さらには PHP 文を含めることが出来ます。
@@ -102,7 +102,7 @@ use yii\helpers\Html;
 アクションとビューを作成したら、下記の URL で新しいページにアクセスすることが出来ます。
 
 ```
-http://hostname/index.php?r=site%2Fsay&message=Hello+World
+https://hostname/index.php?r=site%2Fsay&message=Hello+World
 ```
 
 ![Hello World](images/start-hello-world.png)
diff --git a/docs/guide-ja/start-installation.md b/docs/guide-ja/start-installation.md
index e7b674cbd9b..c04806dd143 100644
--- a/docs/guide-ja/start-installation.md
+++ b/docs/guide-ja/start-installation.md
@@ -114,7 +114,7 @@ composer create-project --prefer-dist yiisoft/yii2-app-basic basic
 アセットをインストールする <span id="installing-assets"></span>
 --------------------------
 
-Yii は、アセット (CSS および JavaScript) ライブラリのインストールについて [Bower](http://bower.io/) および/または [NPM](https://www.npmjs.com/) のパッケージに依存しています。
+Yii は、アセット (CSS および JavaScript) ライブラリのインストールについて [Bower](https://bower.io/) および/または [NPM](https://www.npmjs.com/) のパッケージに依存しています。
 Yii はこれらのライブラリを取得するのに Composer を使って、PHP と CSS/JavaScript のパッケージ・バージョンを同時に解決できるようにしています。
 このことは、[asset-packagist.org](https://asset-packagist.org) または [composer asset plugin](https://github.com/fxpio/composer-asset-plugin) を使用することによって達成されます。
 詳細は [アセットのドキュメント](structure-assets.md) を参照して下さい。
@@ -183,13 +183,13 @@ Yii の最低必要条件を満たすように PHP のインストールを構
 > Info: もし Yii の試運転をしているだけで、本番サーバに配備する意図がないのであれば、
   当面、この項は飛ばしても構いません。
 
-上記の説明に従ってインストールされたアプリケーションは、[Apache HTTP サーバ](http://httpd.apache.org/)
-と [Nginx HTTP サーバ](http://nginx.org/) のどちらでも、また、Windows、Mac OS X、Linux のどれでも、
+上記の説明に従ってインストールされたアプリケーションは、[Apache HTTP サーバ](https://httpd.apache.org/)
+と [Nginx HTTP サーバ](https://nginx.org/) のどちらでも、また、Windows、Mac OS X、Linux のどれでも、
 PHP 5.4 以上を走らせている環境であれば、そのままの状態で動作するはずです。
-Yii 2.0 は、また、facebook の [HHVM](http://hhvm.com/) とも互換性があります。
+Yii 2.0 は、また、facebook の [HHVM](https://hhvm.com/) とも互換性があります。
 ただし HHVM がネイティブの PHP とは異なる振舞いをする特殊なケースもいくつかありますので、HHVM を使うときはいくらか余分に注意を払う必要があります。
 
-本番用のサーバでは、`http://www.example.com/basic/web/index.php` の代りに `http://www.example.com/index.php` という
+本番用のサーバでは、`https://www.example.com/basic/web/index.php` の代りに `https://www.example.com/index.php` という
 URL でアプリケーションにアクセス出来るようにウェブ・サーバを設定したいでしょう。
 そういう設定をするためには、ウェブ・サーバのドキュメント・ルートを `basic/web` フォルダに向けることが必要になります。
 また、[ルーティングと URL 生成](runtime-routing.md) のセクションで述べられているように、URL から `index.php` を隠したいとも思うでしょう。
@@ -236,7 +236,7 @@ DocumentRoot "path/to/basic/web"
 
 ### 推奨される Nginx の構成 <span id="recommended-nginx-configuration"></span>
 
-[Nginx](http://wiki.nginx.org/) を使うためには、PHP を [FPM SAPI](https://www.php.net/manual/ja/install.fpm.php) としてインストールしなければなりません。
+[Nginx](https://www.nginx.com/resources/wiki/) を使うためには、PHP を [FPM SAPI](https://www.php.net/manual/ja/install.fpm.php) としてインストールしなければなりません。
 下記の Nginx の設定を使うことができます。
 `path/to/basic/web` の部分を `basic/web` の実際のパスに置き換え、`mysite.test` を実際のサーバのホスト名に置き換えてください。
 
diff --git a/docs/guide-ja/start-looking-ahead.md b/docs/guide-ja/start-looking-ahead.md
index 8db162f454b..bbdf9adec46 100644
--- a/docs/guide-ja/start-looking-ahead.md
+++ b/docs/guide-ja/start-looking-ahead.md
@@ -33,4 +33,4 @@ Gii をコード生成に使うと、ウェブ開発のプロセスの大部分
     - Facebook: <https://www.facebook.com/groups/yiitalk/>
     - Twitter: <https://twitter.com/yiiframework>
     - LinkedIn: <https://www.linkedin.com/groups/yii-framework-1483367>
-    - Stackoverflow: <http://stackoverflow.com/questions/tagged/yii2>
+    - Stackoverflow: <https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide-ja/start-workflow.md b/docs/guide-ja/start-workflow.md
index f922b421f94..b3db52b0ad6 100644
--- a/docs/guide-ja/start-workflow.md
+++ b/docs/guide-ja/start-workflow.md
@@ -2,13 +2,13 @@
 ==========================
 
 Yii のインストールが終ると、実際に動く Yii のアプリケーションにアクセスすることが出来ます。
-その URL は、`http://hostname/basic/web/index.php` あるいは `http://hostname/index.php` など、設定によって異なります。
+その URL は、`https://hostname/basic/web/index.php` あるいは `https://hostname/index.php` など、設定によって異なります。
 このセクションでは、アプリケーションに組み込み済みの機能を紹介し、コードがどのように編成されているか、
 そして、一般にアプリケーションがリクエストをどのように処理するかを説明します。
 
 > Info: 話を簡単にするために、この「始めよう」のチュートリアルを通じて、`basic/web`
   をウェブ・サーバのドキュメント・ルートとして設定したと仮定します。
-  そして、アプリケーションにアクセスするための URL は `http://hostname/index.php` またはそれに似たものになるように設定したと仮定します。
+  そして、アプリケーションにアクセスするための URL は `https://hostname/index.php` またはそれに似たものになるように設定したと仮定します。
   必要に応じて、説明の中の URL を読み替えてください。
 
 フレームワークそのものとは異なり、プロジェクト・テンプレートはインストール後は完全にあなたのものであることに注意してください。
@@ -20,7 +20,7 @@ Yii のインストールが終ると、実際に動く Yii のアプリケー
 
 インストールされたベーシック・アプリケーションは四つのページを持っています。
 
-* ホームページ: `http://hostname/index.php` の URL にアクセスすると表示されます。
+* ホームページ: `https://hostname/index.php` の URL にアクセスすると表示されます。
 * 「について」のページ。
 * 「コンタクト」のページ: エンド・ユーザがメールであなたに連絡を取ることが出来るコンタクト・フォームが表示されます。
 * 「ログイン」ページ: エンド・ユーザを認証するためのログイン・フォームが表示されます。
@@ -42,7 +42,7 @@ Yii のインストールが終ると、実際に動く Yii のアプリケー
 
 アプリケーションにとって最も重要なディレクトリとファイルは (アプリケーションのルート・ディレクトリが `basic` だと仮定すると) 以下の通りです。
 
-```js
+```
 basic/                  アプリケーションのベース・パス
     composer.json       Composer によって使用される。パッケージ情報を記述
     config/             アプリケーションその他の構成情報を格納
@@ -63,7 +63,7 @@ basic/                  アプリケーションのベース・パス
 一般に、アプリケーションのファイルは二種類に分けることが出来ます。すなわち、`basic/web` の下にあるファイルとその他のディレクトリの下にあるファイルです。
 前者は HTTP で (すなわちブラウザで) 直接にアクセスすることが出来ますが、後者は直接のアクセスは出来ませんし、許可すべきでもありません。
 
-Yii は [モデル・ビュー・コントローラ (MVC)](http://wikipedia.org/wiki/Model-view-controller) アーキテクチャ・パターンを実装していますが、
+Yii は [モデル・ビュー・コントローラ (MVC)](https://wikipedia.org/wiki/Model-view-controller) アーキテクチャ・パターンを実装していますが、
 それが上記のディレクトリ構成にも反映されています。
 `models` ディレクトリが全ての [モデル・クラス](structure-models.md) を格納し、`views` ディレクトリが全ての [ビュー・スクリプト](structure-views.md) を格納し、
 `controllers` ディレクトリが全ての [コントローラ・クラス](structure-controllers.md) を格納しています。
diff --git a/docs/guide-ja/structure-applications.md b/docs/guide-ja/structure-applications.md
index f509c21470c..5ec671f5eb7 100644
--- a/docs/guide-ja/structure-applications.md
+++ b/docs/guide-ja/structure-applications.md
@@ -275,7 +275,7 @@ if (YII_ENV_DEV) {
 そして日付をどのように書式設定すべきかを、デフォルトでは、
 このプロパティを使用して決定します。
 
-言語を指定するのには、[IETF 言語タグ](http://ja.wikipedia.org/wiki/IETF%E8%A8%80%E8%AA%9E%E3%82%BF%E3%82%B0) に従うことが推奨されます。
+言語を指定するのには、[IETF 言語タグ](https://ja.wikipedia.org/wiki/IETF%E8%A8%80%E8%AA%9E%E3%82%BF%E3%82%B0) に従うことが推奨されます。
 例えば、`en` は英語を意味し、`en-US` はアメリカ合衆国の英語を意味します。
 
 このプロパティに関する詳細は [国際化](tutorial-i18n.md) のセクションで読むことが出来ます。
@@ -347,7 +347,7 @@ $width = \Yii::$app->params['thumbnail.size'][0];
 あなたのコードのテキストのコンテントが英語以外で書かれているときは、このプロパティを構成しなければなりません。
 
 [language](#language) プロパティと同様に、このプロパティは
-[IETF 言語タグ](http://ja.wikipedia.org/wiki/IETF%E8%A8%80%E8%AA%9E%E3%82%BF%E3%82%B0) に従って構成しなければなりません。
+[IETF 言語タグ](https://ja.wikipedia.org/wiki/IETF%E8%A8%80%E8%AA%9E%E3%82%BF%E3%82%B0) に従って構成しなければなりません。
 例えば、`en` は英語を意味し、`en-US` はアメリカ合衆国の英語を意味します。
 
 このプロパティに関する詳細は [国際化](tutorial-i18n.md) のセクションで読むことが出来ます。
diff --git a/docs/guide-ja/structure-assets.md b/docs/guide-ja/structure-assets.md
index 1d0ec6af9a4..4d42f5faf8e 100644
--- a/docs/guide-ja/structure-assets.md
+++ b/docs/guide-ja/structure-assets.md
@@ -79,7 +79,7 @@ class AppAsset extends AssetBundle
     実際のファイルのパスは、この相対パスの前に [[yii\web\AssetManager::basePath]] を付けることによって決定されます。
     また、実際の URL は、この相対パスの前に [[yii\web\AssetManager::baseUrl]] を付けることによって決定されます。
   - 外部の JavaScript ファイルを表す絶対 URL。
-    例えば、`http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` や
+    例えば、`https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` や
     `//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` など。
 * [[yii\web\AssetBundle::depends|depends]]: このバンドルが依存しているアセット・バンドルの名前をリストする配列です
    (バンドルの依存関係については、すぐ後で説明します)。
@@ -207,7 +207,7 @@ class FontAwesomeAsset extends AssetBundle
 
 ### Bower と NPM のアセットのインストール <span id="bower-npm-assets"></span>
 
-ほとんどの JavaScript/CSS パッケージは、[Bower](http://bower.io/) および/または [NPM](https://www.npmjs.com/) によって管理されています。
+ほとんどの JavaScript/CSS パッケージは、[Bower](https://bower.io/) および/または [NPM](https://www.npmjs.com/) によって管理されています。
 PHP の世界には PHP の依存を管理する Composer がありますが、PHP のパッケージと全く同じように
 `composer.json` を使って Bower のパッケージも NPM のパッケージもロードすることが可能です。
 
@@ -461,10 +461,10 @@ return [
         'assetManager' => [
             'bundles' => [
                 'app\assets\LanguageAssetBundle' => [
-                    'baseUrl' => 'http://some.cdn.com/files/i18n/en' // 効力を持たない!
+                    'baseUrl' => 'https://some.cdn.com/files/i18n/en' // 効力を持たない!
                 ],
                 'app\assets\LargeFileAssetBundle' => [
-                    'baseUrl' => 'http://some.cdn.com/files/large-files' // 効力を持たない!
+                    'baseUrl' => 'https://some.cdn.com/files/large-files' // 効力を持たない!
                 ],
             ],
         ],
@@ -579,8 +579,8 @@ return [
 ## アセット変換 <span id="asset-conversion"></span>
 
 直接に CSS および/または JavaScript のコードを書く代りに、何らかの拡張構文を使って書いたものを特別なツールを使って CSS/JavaScript に変換する、ということを開発者はしばしば行います。
-例えば、CSS コードのためには、[LESS](http://lesscss.org/) や [SCSS](http://sass-lang.com/) を使うことが出来ます。
-また、JavaScript のためには、[TypeScript](http://www.typescriptlang.org/) を使うことが出来ます。
+例えば、CSS コードのためには、[LESS](https://lesscss.org/) や [SCSS](https://sass-lang.com/) を使うことが出来ます。
+また、JavaScript のためには、[TypeScript](https://www.typescriptlang.org/) を使うことが出来ます。
 
 拡張構文を使ったアセット・ファイルをアセット・バンドルの中の [[yii\web\AssetBundle::css|css]] と [[yii\web\AssetBundle::js|js]] のリストに挙げることが出来ます。例えば、
 
@@ -644,7 +644,7 @@ return [
 コマンドの中の `{from}` と `{to}` のトークンは、ソースのアセット・ファイルのパスとターゲットのアセット・ファイルのパスに置き換えられます。
 
 > Info: 上記で説明した方法の他にも、拡張構文のアセットを扱う方法はあります。
-  例えば、[grunt](http://gruntjs.com/) のようなビルド・ツールを使って、拡張構文のアセットをモニターし、
+  例えば、[grunt](https://gruntjs.com/) のようなビルド・ツールを使って、拡張構文のアセットをモニターし、
   自動的に変換することが出来ます。
   この場合は、元のファイルではなく、結果として作られる CSS/JavaScript ファイルをアセット・バンドルのリストに挙げなければなりません。
 
@@ -840,7 +840,7 @@ yii asset assets.php config/assets-prod.php
 
 
 > Info: `asset` コマンドを使うことは、アセットの結合・圧縮のプロセスを自動化する唯一の選択肢ではありません。
-  優秀なタスク実行ツールである [grunt](http://gruntjs.com/) を使っても、同じ目的を達することが出来ます。
+  優秀なタスク実行ツールである [grunt](https://gruntjs.com/) を使っても、同じ目的を達することが出来ます。
 
 
 ### アセット・バンドルをグループ化する <span id="grouping-asset-bundles"></span>
diff --git a/docs/guide-ja/structure-controllers.md b/docs/guide-ja/structure-controllers.md
index 84b78e100ea..a0cac8d8ed7 100644
--- a/docs/guide-ja/structure-controllers.md
+++ b/docs/guide-ja/structure-controllers.md
@@ -1,7 +1,7 @@
 コントローラ
 ============
 
-コントローラは [MVC](http://ja.wikipedia.org/wiki/Model_View_Controller) アーキテクチャの一部を成すものです。
+コントローラは [MVC](https://ja.wikipedia.org/wiki/Model_View_Controller) アーキテクチャの一部を成すものです。
 それは [[yii\base\Controller]] を拡張したクラスのオブジェクトであり、リクエストの処理とレスポンスの生成について責任を負います。
 具体的には、コントローラは、[アプリケーション](structure-applications.md) から制御を引き継いだ後、
 入ってきたリクエストのデータを分析し、それを [モデル](structure-models.md) に引き渡して、
@@ -83,7 +83,7 @@ ControllerID/ActionID
 ModuleID/ControllerID/ActionID
 ```
 
-ですから、ユーザが `http://hostname/index.php?r=site/index` という URL でリクエストをした場合は、
+ですから、ユーザが `https://hostname/index.php?r=site/index` という URL でリクエストをした場合は、
 `site` コントローラの中の `index` アクションが実行されます。
 ルートがどのようにしてアクションとして解決されるかについての詳細は、[ルーティングと URL 生成](runtime-routing.md) のセクションを参照してください。
 
@@ -179,7 +179,7 @@ class SiteController extends Controller
 全てのアプリケーションは、それぞれ、[[yii\base\Application::defaultRoute]] プロパティによって指定されるデフォルト・コントローラを持ちます。
 リクエストが [ルート](#routes) を指定していない場合、このプロパティによって指定されたルートが使われます。
 [[yii\web\Application|ウェブ・アプリケーション]] では、この値は `'site'` であり、一方、[[yii\console\Application|コンソール・アプリケーション]] では、`help` です。
-従って、URL が `http://hostname/index.php` である場合は、`site` コントローラがリクエストを処理することになります。
+従って、URL が `https://hostname/index.php` である場合は、`site` コントローラがリクエストを処理することになります。
 
 次のように [アプリケーションの構成情報](structure-applications.md#application-configurations) を構成して、デフォルト・コントローラを変更することが出来ます。
 
@@ -323,8 +323,8 @@ class HelloWorldAction extends Action
 ```php
 public function actionForward()
 {
-    // ユーザのブラウザを http://example.com にリダイレクトする
-    return $this->redirect('http://example.com');
+    // ユーザのブラウザを https://example.com にリダイレクトする
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -354,13 +354,13 @@ class PostController extends Controller
 
 アクション・パラメータには、次のように、さまざまなリクエストに応じて異なる値が投入されます。
 
-* `http://hostname/index.php?r=post/view&id=123`: `$id` パラメータには `'123'` という値が入れられます。
+* `https://hostname/index.php?r=post/view&id=123`: `$id` パラメータには `'123'` という値が入れられます。
   一方、`version` というクエリ・パラメータは無いので、`$version` は `null` のままになります。
-* `http://hostname/index.php?r=post/view&id=123&version=2`: `$id` および `$version` パラメータに、
+* `https://hostname/index.php?r=post/view&id=123&version=2`: `$id` および `$version` パラメータに、
   それぞれ、`'123'` と `'2'` が入ります。
-* `http://hostname/index.php?r=post/view`: 必須の `$id` パラメータがリクエストで提供されていないため、
+* `https://hostname/index.php?r=post/view`: 必須の `$id` パラメータがリクエストで提供されていないため、
   [[yii\web\BadRequestHttpException]] 例外が投げられます。
-* `http://hostname/index.php?r=post/view&id[]=123`: `$id` パラメータが予期しない配列値 `['123']` を受け取ろうとするため、
+* `https://hostname/index.php?r=post/view&id[]=123`: `$id` パラメータが予期しない配列値 `['123']` を受け取ろうとするため、
   [[yii\web\BadRequestHttpException]] 例外が投げられます。
 
 アクション・パラメータに配列値を受け取らせたい場合は、次のように、パラメータに `array` の型ヒントを付けなければなりません。
@@ -372,8 +372,8 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-このようにすると、リクエストが `http://hostname/index.php?r=post/view&id[]=123` である場合は、`$id` パラメータは `['123']` という値を受け取ります。
-リクエストが `http://hostname/index.php?r=post/view&id=123` である場合も、スカラ値 `'123'` が自動的に配列に変換されるため、
+このようにすると、リクエストが `https://hostname/index.php?r=post/view&id[]=123` である場合は、`$id` パラメータは `['123']` という値を受け取ります。
+リクエストが `https://hostname/index.php?r=post/view&id=123` である場合も、スカラ値 `'123'` が自動的に配列に変換されるため、
 `$id` パラメータは引き続き同じ配列値を受け取ります。
 
 上記の例は主としてウェブ・アプリケーションでのアクション・パラメータの動作を示すものです。
diff --git a/docs/guide-ja/structure-extensions.md b/docs/guide-ja/structure-extensions.md
index 0ff08727ed8..66f47e30090 100644
--- a/docs/guide-ja/structure-extensions.md
+++ b/docs/guide-ja/structure-extensions.md
@@ -75,7 +75,7 @@ Image::thumbnail('@webroot/img/test-image.jpg', 120, 120)
 2. もし有れば、エクステンションによって提供されているクラス・オートローダをインストールする。
 3. 指示に従って、依存するエクステンションを全てダウンロードしインストールする。
 
-エクステンションがクラス・オートローダを持っていなくても、[PSR-4 標準](http://www.php-fig.org/psr/psr-4/) に従っている場合は、Yii によって提供されているクラス・オートローダを使ってエクステンションのクラスをオートロードすることが出来ます。
+エクステンションがクラス・オートローダを持っていなくても、[PSR-4 標準](https://www.php-fig.org/psr/psr-4/) に従っている場合は、Yii によって提供されているクラス・オートローダを使ってエクステンションのクラスをオートロードすることが出来ます。
 必要なことは、エクステンションのルート・ディレクトリのための [ルート・エイリアス](concept-aliases.md#defining-aliases) を宣言することだけです。
 例えば、エクステンションを `vendor/mycompany/myext` というディレクトリにインストールしたと仮定します。
 そして、エクステンションのクラスは `myext` 名前空間の下にあるとします。
@@ -184,7 +184,7 @@ Yii のアプリケーションは、このファイルによって、どんな
 それぞれの依存パッケージについて、適切なバージョン制約 (例えば `1.*` や `@stable`) を指定することも忘れてはなりません。
 あなたのエクステンションを安定バージョンとしてリリースする場合は、安定した依存パッケージを使ってください。
 
-たいていの JavaScript/CSS パッケージは、Composer ではなく、[Bower](http://bower.io/) および/または [NPM](https://www.npmjs.com/) を使って管理されています。
+たいていの JavaScript/CSS パッケージは、Composer ではなく、[Bower](https://bower.io/) および/または [NPM](https://www.npmjs.com/) を使って管理されています。
 Yii は [Composer アセット・プラグイン](https://github.com/fxpio/composer-asset-plugin) を使って、この種のパッケージを Composer によって管理することを可能にしています。
 あなたのエクステンションが Bower パッケージに依存している場合でも、次のように、
 `composer.json` に依存パッケージをリストアップすることが簡単に出来ます。
@@ -240,7 +240,7 @@ Composer が Bower または NPM のパッケージをインストールする
 #### 名前空間 <span id="namespaces"></span>
 
 名前の衝突を避けて、エクステンションの中のクラスをオートロード可能にするために、名前空間を使うべきであり、
-エクステンションの中のクラスには [PSR-4 標準](http://www.php-fig.org/psr/psr-4/) または [PSR-0 標準](http://www.php-fig.org/psr/psr-0/)
+エクステンションの中のクラスには [PSR-4 標準](https://www.php-fig.org/psr/psr-4/) または [PSR-0 標準](https://www.php-fig.org/psr/psr-0/)
 に従った名前を付けるべきです。
 
 あなたのクラスの名前空間は `vendorName\extensionName` で始まるべきです。
@@ -351,7 +351,7 @@ Yii はテストのサポートを提供しており、それよって、単体
 #### バージョン管理 <span id="versioning"></span>
 
 エクステンションのリリースごとにバージョン番号 (例えば `1.0.1`) を付けるべきです。
-どのようなバージョン番号を付けるべきかを決定するときは、[セマンティック・バージョニング](http://semver.org) のプラクティスに従うことを推奨します。
+どのようなバージョン番号を付けるべきかを決定するときは、[セマンティック・バージョニング](https://semver.org) のプラクティスに従うことを推奨します。
 
 
 #### リリース(公開) <span id="releasing"></span>
@@ -368,7 +368,7 @@ Composer レポジトリに新しいリリースについて通知するだけ
 
 * パッケージのルート・ディレクトリに readme ファイル: あなたのエクステンションが何をするものか、
   そして、どのようにインストールして使うものかを説明するものです。
-  [Markdown](http://daringfireball.net/projects/markdown/) 形式で書いて、`readme.md` という名前にすることを推奨します。
+  [Markdown](https://daringfireball.net/projects/markdown/) 形式で書いて、`readme.md` という名前にすることを推奨します。
 * パッケージのルート・ディレクトリに changelog ファイル: それぞれのリリースで何が変ったかを一覧表示するものです。
   このファイルは Markdown 形式で書いて `changelog.md` と名付けることが出来ます。
 * パッケージのルート・ディレクトリに upgrade ファイル: エクステンションの古いリリースからのアップグレード方法について説明するものです。
@@ -398,7 +398,7 @@ Yii は下記のコア・エクステンション (または ["公式エクス
 - [yiisoft/yii2-authclient](https://github.com/yiisoft/yii2-authclient):
   Facebook OAuth2 クライアント、GitHub OAuth2 クライアントなど、よく使われる一連の auth クライアントを提供します。
 - [yiisoft/yii2-bootstrap](https://github.com/yiisoft/yii2-bootstrap):
-  [Bootstrap](http://getbootstrap.com/) のコンポーネントとプラグインをカプセル化した一連のウィジェットを提供します。
+  [Bootstrap](https://getbootstrap.com/) のコンポーネントとプラグインをカプセル化した一連のウィジェットを提供します。
 - [yiisoft/yii2-debug](https://github.com/yiisoft/yii2-debug):
   Yii アプリケーションのデバッグのサポートを提供します。
   このエクステンションが使われると、全てのページの末尾にデバッガ・ツールバーが表示されます。
@@ -415,9 +415,9 @@ Yii は下記のコア・エクステンション (または ["公式エクス
 - [yiisoft/yii2-httpclient](https://github.com/yiisoft/yii2-httpclient):
   HTTP クライアントを提供します。
 - [yiisoft/yii2-imagine](https://github.com/yiisoft/yii2-imagine):
-  [Imagine](http://imagine.readthedocs.org/) に基づいて、使われることの多い画像操作機能を提供します。
+  [Imagine](https://imagine.readthedocs.org/) に基づいて、使われることの多い画像操作機能を提供します。
 - [yiisoft/yii2-jui](https://github.com/yiisoft/yii2-jui):
-  [JQuery UI](http://jqueryui.com/) のインタラクションとウィジェットをカプセル化した一連のウィジェットを提供します。
+  [JQuery UI](https://jqueryui.com/) のインタラクションとウィジェットをカプセル化した一連のウィジェットを提供します。
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb):
   [MongoDB](https://www.mongodb.com/) の使用に対するサポートを提供します。
   基本的なクエリ、アクティブ・レコード、マイグレーション、キャッシュ、コード生成などの機能を含みます。
@@ -425,17 +425,17 @@ Yii は下記のコア・エクステンション (または ["公式エクス
   キューによるタスクの非同期実行のサポートを提供します。
   データベース、Redis、RabbitMQ、AMQP、Beanstalk および Gearman によるキューをサポートしています。
 - [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis):
-  [redis](http://redis.io/) の使用に対するサポートを提供します。
+  [redis](https://redis.io/) の使用に対するサポートを提供します。
   基本的なクエリ、アクティブ・レコード、キャッシュなどの機能を含みます。
 - [yiisoft/yii2-shell](https://www.yiiframework.com/extension/yiisoft/yii2-shell):
-  [psysh](http://psysh.org/) に基づくイタラクティブなシェルを提供します。
+  [psysh](https://psysh.org/) に基づくイタラクティブなシェルを提供します。
 - [yiisoft/yii2-smarty](https://github.com/yiisoft/yii2-smarty):
-  [Smarty](http://www.smarty.net/) に基づいたテンプレート・エンジンを提供します。
+  [Smarty](https://www.smarty.net/) に基づいたテンプレート・エンジンを提供します。
 - [yiisoft/yii2-sphinx](https://github.com/yiisoft/yii2-sphinx):
-  [Sphinx](http://sphinxsearch.com) の使用に対するサポートを提供します。
+  [Sphinx](https://sphinxsearch.com/) の使用に対するサポートを提供します。
   基本的なクエリ、アクティブ・レコード、コード生成などの機能を含みます。
 - [yiisoft/yii2-swiftmailer](https://github.com/yiisoft/yii2-swiftmailer):
-  [swiftmailer](http://swiftmailer.org/) に基づいたメール送信機能を提供します。
+  [swiftmailer](https://swiftmailer.symfony.com/) に基づいたメール送信機能を提供します。
 - [yiisoft/yii2-twig](https://github.com/yiisoft/yii2-twig):
   [Twig](https://twig.symfony.com/) に基づいたテンプレート・エンジンを提供します。
 
@@ -447,7 +447,7 @@ Yii は下記のコア・エクステンション (または ["公式エクス
 - [yiisoft/yii2-jquery](https://www.yiiframework.com/extension/yiisoft/yii2-jquery):
   [jQuery](https://jquery.com/) のサポートを提供します。
 - [yiisoft/yii2-maskedinput](https://www.yiiframework.com/extension/yiisoft/yii2-maskedinput):
-  [jQuery Input Mask plugin](http://robinherbots.github.io/Inputmask/) に基づいて、マスクト・インプットを提供します。
+  [jQuery Input Mask plugin](https://robinherbots.github.io/Inputmask/) に基づいて、マスクト・インプットを提供します。
 - [yiisoft/yii2-mssql](https://www.yiiframework.com/extension/yiisoft/yii2-mssql):
   [MSSQL](https://www.microsoft.com/sql-server/) を使うためのサポートを提供します。
 - [yiisoft/yii2-oracle](https://www.yiiframework.com/extension/yiisoft/yii2-oracle):
diff --git a/docs/guide-ja/structure-filters.md b/docs/guide-ja/structure-filters.md
index 8cfd9236ff5..fe83cffd319 100644
--- a/docs/guide-ja/structure-filters.md
+++ b/docs/guide-ja/structure-filters.md
@@ -141,8 +141,8 @@ public function behaviors()
 
 ### 認証メソッド・フィルタ <span id="auth-method-filters"></span>
 
-認証メソッド・フィルタは、[HTTP Basic 認証](http://ja.wikipedia.org/wiki/Basic%E8%AA%8D%E8%A8%BC)、
-[OAuth 2](http://oauth.net/2/) など、様々なメソッドを使ってユーザを認証するために使われるものです。
+認証メソッド・フィルタは、[HTTP Basic 認証](https://ja.wikipedia.org/wiki/Basic%E8%AA%8D%E8%A8%BC)、
+[OAuth 2](https://oauth.net/2/) など、様々なメソッドを使ってユーザを認証するために使われるものです。
 これらのフィルタ・クラスはすべて `yii\filters\auth` 名前空間の下にあります。
 
 次の例は、[[yii\filters\auth\HttpBasicAuth]] の使い方を示すもので、HTTP Basic 認証に基づくアクセス・トークンを使ってユーザを認証しています。
@@ -289,7 +289,7 @@ PageCache の使用に関する詳細は [ページ・キャッシュ](caching-p
 
 ### [[yii\filters\RateLimiter|RateLimiter]] <span id="rate-limiter"></span>
 
-RateLimiter は [リーキー・バケット・アルゴリズム](http://ja.wikipedia.org/wiki/%E3%83%AA%E3%83%BC%E3%82%AD%E3%83%BC%E3%83%90%E3%82%B1%E3%83%83%E3%83%88) に基づいてレート制限のアルゴリズムを実装するものです。
+RateLimiter は [リーキー・バケット・アルゴリズム](https://ja.wikipedia.org/wiki/%E3%83%AA%E3%83%BC%E3%82%AD%E3%83%BC%E3%83%90%E3%82%B1%E3%83%83%E3%83%88) に基づいてレート制限のアルゴリズムを実装するものです。
 主として RESTful API を実装するときに使用されます。
 このフィルタの使用に関する詳細は [レート制限](rest-rate-limiting.md) のセクションを参照してください。
 
@@ -350,13 +350,13 @@ public function behaviors()
 
 Cors のフィルタリングは [[yii\filters\Cors::$cors|$cors]] プロパティを使ってチューニングすることが出来ます。
 
-* `cors['Origin']`: 許可される生成元を定義するのに使われる配列。`['*']` (すべて) または `['http://www.myserver.net'、'http://www.myotherserver.com']` などが設定可能。デフォルトは `['*']`。
+* `cors['Origin']`: 許可される生成元を定義するのに使われる配列。`['*']` (すべて) または `['https://www.myserver.net'、'https://www.myotherserver.com']` などが設定可能。デフォルトは `['*']`。
 * `cors['Access-Control-Request-Method']`: 許可される HTTP 動詞の配列。たとえば、`['GET', 'OPTIONS', 'HEAD']`。デフォルトは `['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']`。
 * `cors['Access-Control-Request-Headers']`: 許可されるヘッダの配列。全てのヘッダを意味する `['*']` または特定のヘッダを示す `['X-Request-With']` が設定可能。デフォルトは `['*']`。
 * `cors['Access-Control-Allow-Credentials']`: 現在のリクエストをクレデンシャルを使ってすることが出来るかどうかを定義。`true`、`false` または `null` (設定なし) が設定可能。デフォルトは `null`。
 * `cors['Access-Control-Max-Age']`: プリフライト・リクエストの寿命を定義。デフォルトは `86400`。
 
-次の例は、生成元 `http://www.myserver.net` に対する `GET`、`HEAD` および `OPTIONS` のメソッドによる CORS を許可するものです。
+次の例は、生成元 `https://www.myserver.net` に対する `GET`、`HEAD` および `OPTIONS` のメソッドによる CORS を許可するものです。
 
 ```php
 use yii\filters\Cors;
@@ -368,7 +368,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
         ],
@@ -389,7 +389,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
             'actions' => [
diff --git a/docs/guide-ja/structure-models.md b/docs/guide-ja/structure-models.md
index 827883c329a..dcbc102ead9 100644
--- a/docs/guide-ja/structure-models.md
+++ b/docs/guide-ja/structure-models.md
@@ -1,7 +1,7 @@
 モデル
 ======
 
-モデルは [MVC](http://ja.wikipedia.org/wiki/Model_View_Controller) アーキテクチャの一部を成すものです。
+モデルは [MVC](https://ja.wikipedia.org/wiki/Model_View_Controller) アーキテクチャの一部を成すものです。
 これは、ビジネスのデータ、規則、ロジックを表現するオブジェクトです。
 
 モデル・クラスは、[[yii\base\Model]] またはその子クラスを拡張することによって作成することが出来ます。
@@ -198,7 +198,7 @@ class User extends ActiveRecord
 > Info: 上記の例と後続の例では、モデル・クラスは [[yii\db\ActiveRecord]] を拡張するものとなっています。
   というのは、複数のシナリオを使用することは、通常は、[アクティブ・レコード](db-active-record.md) クラスで発生するからです。
 
-`seanarios()` メソッドは、キーがシナリオの名前であり、値が対応する *アクティブな属性* である配列を返します。
+`scenarios()` メソッドは、キーがシナリオの名前であり、値が対応する *アクティブな属性* である配列を返します。
 アクティブな属性とは、[一括代入](#massive-assignment) することが出来て、[検証](#validation-rules) の対象になる属性です。
 上記の例では、`login` シナリオにおいては `username` と `password` の属性がアクティブであり、
 一方、`register` シナリオにおいては、`username` と `password` に加えて `email` もアクティブです。
diff --git a/docs/guide-ja/structure-modules.md b/docs/guide-ja/structure-modules.md
index 99a16445222..f94f2bdd28f 100644
--- a/docs/guide-ja/structure-modules.md
+++ b/docs/guide-ja/structure-modules.md
@@ -14,7 +14,7 @@
 このディレクトリの中に、ちょうどアプリケーションの場合と同じように、`controllers`、`models`、`views` のようなサブ・ディレクトリが存在して、コントローラ、モデル、ビュー、その他のコードを収納しています。
 次の例は、モジュール内の中身を示すものです。
 
-```js
+```
 forum/
     Module.php                   モジュール・クラス・ファイル
     controllers/                 コントローラ・クラス・ファイルを含む
diff --git a/docs/guide-ja/structure-overview.md b/docs/guide-ja/structure-overview.md
index b988955d777..50ac621d0d6 100644
--- a/docs/guide-ja/structure-overview.md
+++ b/docs/guide-ja/structure-overview.md
@@ -1,7 +1,7 @@
 概要
 ====
 
-Yii のアプリケーションは [モデル・ビュー・コントローラ (MVC)](http://ja.wikipedia.org/wiki/Model_View_Controller) アーキテクチャ・パターンに従って編成されています。
+Yii のアプリケーションは [モデル・ビュー・コントローラ (MVC)](https://ja.wikipedia.org/wiki/Model_View_Controller) アーキテクチャ・パターンに従って編成されています。
 [モデル](structure-models.md) は、データ、ビジネス・ロジック、規則を表現します。
 [ビュー](structure-views.md) は、モデルの出力表現です。
 そして [コントローラ](structure-controllers.md) は入力を受け取って、それを [モデル](structure-models.md) と [ビュー](structure-views.md) のためのコマンドに変換します。
diff --git a/docs/guide-ja/structure-views.md b/docs/guide-ja/structure-views.md
index 87056ba9d85..5b427ed0e26 100644
--- a/docs/guide-ja/structure-views.md
+++ b/docs/guide-ja/structure-views.md
@@ -1,7 +1,7 @@
 ビュー
 ======
 
-ビューは [MVC](http://ja.wikipedia.org/wiki/Model_View_Controller) アーキテクチャの一部を成すものです。
+ビューは [MVC](https://ja.wikipedia.org/wiki/Model_View_Controller) アーキテクチャの一部を成すものです。
 ビューはエンド・ユーザにデータを表示することに責任を持つコードです。
 ウェブ・アプリケーションにおいては、ビューは、通常、*ビュー・テンプレート* の形式、すなわち、
 主として HTML コードと表示目的の PHP コードを含む PHP スクリプト・ファイルとして作成されます。
@@ -51,7 +51,7 @@ $this->title = 'ログイン';
 ### セキュリティ <span id="security"></span>
 
 HTML ページを生成するビューを作成するときは、エンド・ユーザから受け取るデータを表示する前にエンコード および/または フィルタすることが重要です。
-そうしなければ、あなたのアプリケーションは [クロス・サイト・スクリプティング](http://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AD%E3%82%B9%E3%82%B5%E3%82%A4%E3%83%88%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0) 攻撃を
+そうしなければ、あなたのアプリケーションは [クロス・サイト・スクリプティング](https://ja.wikipedia.org/wiki/%E3%82%AF%E3%83%AD%E3%82%B9%E3%82%B5%E3%82%A4%E3%83%88%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%97%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0) 攻撃を
 こうむるおそれがあります。
 
 プレーン・テキストを表示するためには、まず [[yii\helpers\Html::encode()]] を呼んでエンコードします。
diff --git a/docs/guide-ja/test-acceptance.md b/docs/guide-ja/test-acceptance.md
index 0ca8ea241fe..5f0096defd8 100644
--- a/docs/guide-ja/test-acceptance.md
+++ b/docs/guide-ja/test-acceptance.md
@@ -6,8 +6,8 @@
 
 受入テストは Codeception フレームワークの助けを借りて実装されています。Codeception フレームワークには優れたドキュメントがありますので、参照して下さい。
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception Acceptance Tests](http://codeception.com/docs/03-AcceptanceTests)
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception Acceptance Tests](https://codeception.com/docs/03-AcceptanceTests)
 
 ## ベーシック・テンプレート、アドバンスト・テンプレートのテストを実行する
 
diff --git a/docs/guide-ja/test-fixtures.md b/docs/guide-ja/test-fixtures.md
index e7f1323f771..953b7974787 100644
--- a/docs/guide-ja/test-fixtures.md
+++ b/docs/guide-ja/test-fixtures.md
@@ -107,7 +107,7 @@ DB と関係しないフィクスチャ (例えば、何らかのファイルや
 
 ## フィクスチャを使用する
 
-[Codeception](http://codeception.com/) を使ってコードをテストしている場合は、フィクスチャのローディングとアクセスについては、
+[Codeception](https://codeception.com/) を使ってコードをテストしている場合は、フィクスチャのローディングとアクセスについては、
 内蔵されているサポートを使用することが出来ます。
 
 その他のテスト・フレームワークを使っている場合は、テスト・ケースで [[yii\test\FixtureTrait]]
diff --git a/docs/guide-ja/test-functional.md b/docs/guide-ja/test-functional.md
index 2d889108bda..8a6274e9065 100644
--- a/docs/guide-ja/test-functional.md
+++ b/docs/guide-ja/test-functional.md
@@ -11,8 +11,8 @@ POST や GET のパラメータなどの環境変数を設定しておいてか
 
 機能テストは Codeception フレームワークの助けを借りて実装されています。これにつては、優れたドキュメントがあります。
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception Functional Tests](http://codeception.com/docs/04-FunctionalTests)
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception Functional Tests](https://codeception.com/docs/04-FunctionalTests)
 
 ## ベーシック・テンプレート、アドバンスト・テンプレートのテストを実行する
 
diff --git a/docs/guide-ja/test-unit.md b/docs/guide-ja/test-unit.md
index 6b0ba8c805a..77e596b8f84 100644
--- a/docs/guide-ja/test-unit.md
+++ b/docs/guide-ja/test-unit.md
@@ -7,9 +7,9 @@
 
 Yii における単体テストは、PHPUnit と Codeception (こちらはオプションです) の上に構築されます。従って、それらのドキュメントを通読することが推奨されます。
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception Unit Tests](http://codeception.com/docs/05-UnitTests)
-- [PHPUnit のドキュメントの第2章以降](http://phpunit.de/manual/current/en/writing-tests-for-phpunit.html).
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception Unit Tests](https://codeception.com/docs/05-UnitTests)
+- [PHPUnit のドキュメントの第2章以降](https://phpunit.readthedocs.io/en/9.5/writing-tests-for-phpunit.html).
 
 ## ベーシック・テンプレート、アドバンスト・テンプレートのテストを実行する
 
diff --git a/docs/guide-ja/tutorial-core-validators.md b/docs/guide-ja/tutorial-core-validators.md
index 45b9b5db371..8379daf470b 100644
--- a/docs/guide-ja/tutorial-core-validators.md
+++ b/docs/guide-ja/tutorial-core-validators.md
@@ -139,7 +139,7 @@ compare バリデータは、文字列や数値を比較するためにしか使
 [[yii\validators\DateValidator::timestampAttribute|timestampAttribute]] によって指定された属性に保存することも出来ます。
 
 - `format`: 検証される値が従っているべき日付/時刻の書式。
-  これには [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax)
+  これには [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax)
   で記述されている日付/時刻のパターンを使うことが出来ます。
   あるいは、PHP の `Datetime` クラスによって認識される書式に接頭辞 `php:` を付けた文字列でも構いません。
   サポートされている書式については、<https://www.php.net/manual/ja/datetime.createfromformat.php> を参照してください。
@@ -376,7 +376,7 @@ function foo($model, $attribute) {
   特殊文字 `*` によるワイルドカードのマスクを使って、一群の MIME タイプに一致させることも出来ます。
   例えば `image/*` は、`image/` で始まる全ての MIME タイプ (`image/jpeg`, `image/png` など) を通します。
   MIME タイプ名は大文字と小文字を区別しません。デフォルト値は `null` であり、すべての MIME タイプが許可されることを意味します。
-  MIME タイプの詳細については、[一般的なメディア・タイプ](http://en.wikipedia.org/wiki/Internet_media_type#List_of_common_media_types) を参照してください。
+  MIME タイプの詳細については、[一般的なメディア・タイプ](https://en.wikipedia.org/wiki/Media_type) を参照してください。
 - `minSize`: アップロードされるファイルに要求される最小限のバイト数。デフォルト値は `null` であり、下限値が無いことを意味します。
 - `maxSize`: アップロードされるファイルに許可される最大限のバイト数。デフォルト値は `null` であり、上限値が無いことを意味します。
 - `maxFiles`: 指定された属性が保持しうる最大限のファイル数。
diff --git a/docs/guide-ja/tutorial-docker.md b/docs/guide-ja/tutorial-docker.md
index 5225d8eba7a..53864ab6144 100644
--- a/docs/guide-ja/tutorial-docker.md
+++ b/docs/guide-ja/tutorial-docker.md
@@ -5,14 +5,14 @@ Yii と Docker
 
 コンテナによって、開発用コンピュータと実運用サーバでソフトウェアのバージョンを全く同一にすること、迅速な配備、開発時におけるマルチ・サーバ・アーキテクチャのシミュレーションなど、数多くの問題を解決することが出来ます。
 
-Docker コンテナの詳細については、[docker.com](https://www.docker.com/what-docker) を参照して下さい。
+Docker コンテナの詳細については、[docker.com](https://www.docker.com/why-docker) を参照して下さい。
 
 ## 必要なもの
 
 - `docker`
 - `docker-compose`
 
-[ダウンロード・ページ](https://www.docker.com/community-edition) で Docker のツールを取得して下さい。
+[ダウンロード・ページ](https://www.docker.com/products/container-runtime) で Docker のツールを取得して下さい。
 
 ## インストール
 
diff --git a/docs/guide-ja/tutorial-i18n.md b/docs/guide-ja/tutorial-i18n.md
index 243dc3ce463..43a43f14200 100644
--- a/docs/guide-ja/tutorial-i18n.md
+++ b/docs/guide-ja/tutorial-i18n.md
@@ -19,9 +19,9 @@ Yii は、全ての領域にわたる国際化機能を提供し、メッセー
 
 Yii アプリケーションで使用される全てのロケール ID は、一貫性のために、
 `ll-CC` の形式に正規化されなければなりません。
-ここで `ll` は [ISO-639](http://www.loc.gov/standards/iso639-2/) に従った小文字二つまたは三つの言語コードであり、
-`CC` は [ISO-3166](http://www.iso.org/iso/en/prods-services/iso3166ma/02iso-3166-code-lists/list-en1.html) に従った二文字の国コードです。
-ロケールに関する更なる詳細は [ICU プロジェクトのドキュメント](http://userguide.icu-project.org/locale#TOC-The-Locale-Concept)
+ここで `ll` は [ISO-639](https://www.loc.gov/standards/iso639-2/) に従った小文字二つまたは三つの言語コードであり、
+`CC` は [ISO-3166](https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes) に従った二文字の国コードです。
+ロケールに関する更なる詳細は [ICU プロジェクトのドキュメント](https://unicode-org.github.io/icu/userguide/locale/#the-locale-concept)
 に述べられています。
 
 ### 言語
@@ -256,7 +256,7 @@ echo \Yii::t('app', 'Price: {0,number,currency}', $price);
 echo Yii::t('app', "Example of string with ''-escaped characters'': '{' '}' '{test}' {count,plural,other{''count'' value is # '#{}'}}", ['count' => 3]);
 +```
 
-このようなプレースホルダを指定する方法についての完全な説明は、[ICU ドキュメント](http://icu-project.org/apiref/icu4c/classMessageFormat.html)を参照してください。以下では、よくある使用方法をいくつか示します。
+このようなプレースホルダを指定する方法についての完全な説明は、[ICU ドキュメント](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classMessageFormat.html)を参照してください。以下では、よくある使用方法をいくつか示します。
 
 
 #### 数値 <span id="number"></span>
@@ -290,7 +290,7 @@ echo \Yii::t('app', 'Balance: {0,number,,000,000000}', $sum);
 ```
 
 カスタムフォーマットで使用される文字については、
-[ICU API リファレンス](http://icu-project.org/apiref/icu4c/classicu_1_1DecimalFormat.html) の "Special Pattern Characters"
+[ICU API リファレンス](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classDecimalFormat.html) の "Special Pattern Characters"
 のセクションに記述されています。
  
 数値は常に翻訳先のロケールに従ってフォーマットされます。
@@ -326,7 +326,7 @@ echo \Yii::t('app', 'Today is {0,date,yyyy-MM-dd}', time());
 // 日本語出力: '今日は 2015-01-07 です。'
 ```
 
-[書式のリファレンス](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details).
+[書式のリファレンス](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details).
 
 #### 時刻 <span id="time"></span>
 
@@ -357,7 +357,7 @@ echo \Yii::t('app', 'It is {0,date,HH:mm}', time());
 // 日本語出力: '現在 22:37 です。'
 ```
 
-[書式のリファレンス](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details).
+[書式のリファレンス](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details).
 
 
 #### 綴り <span id="spellout"></span>
@@ -385,7 +385,7 @@ echo \Yii::t('app', 'I am {n,spellout,%spellout-ordinal} agent', ['n' => 47]);
 'spellout,' と '%' の間に空白を入れてはならないことに注意してください。
 
 あなたが使用しているロケールで利用可能なオプションのリストについては、
-[http://intl.rmcreative.ru/](http://intl.rmcreative.ru/) の "Numbering schemas, Spellout" を参照してください。
+[https://intl.rmcreative.ru/](https://intl.rmcreative.ru/) の "Numbering schemas, Spellout" を参照してください。
 
 
 #### 序数 <span id="ordinal"></span>
@@ -407,7 +407,7 @@ echo \Yii::t('app', '{n,ordinal,%digits-ordinal-feminine}', ['n' => 471]);
 'ordinal,' と '%' の間に空白を入れてはならないことに注意してください。
 
 あなたが使用しているロケールで利用可能なオプションのリストについては、
-[http://intl.rmcreative.ru/](http://intl.rmcreative.ru/) の "Numbering schemas, Ordinal" を参照してください。
+[https://intl.rmcreative.ru/](https://intl.rmcreative.ru/) の "Numbering schemas, Ordinal" を参照してください。
 
 > Note: 上記のソース・メッセージを、プレースホルダのスタイルを守って日本語に翻訳すると、'あなたはこのサイトの{n,ordinal}の訪問者です' となります。
 > しかし、その出力結果は、'あなたはこのサイトの第42の訪問者です' となり、意味は通じますが、日本語としては若干不自然なものになります。
@@ -435,7 +435,7 @@ echo \Yii::t('app', '{n,duration,%in-numerals}', ['n' => 471227]);
 'duration,' と '%' の間に空白を入れてはならないことに注意してください。
 
 あなたが使用しているロケールで利用可能なオプションのリストについては、
-[http://intl.rmcreative.ru/](http://intl.rmcreative.ru/) の "Numbering schemas, Duration" を参照してください。
+[https://intl.rmcreative.ru/](https://intl.rmcreative.ru/) の "Numbering schemas, Duration" を参照してください。
 
 > Note: このソース・メッセージを 'あなたはこのサイトに既に{n,duration}の間滞在しています' と翻訳した場合の出力結果は、'あなたはこのサイトに既に47の間滞在しています' となります。
 > これも、プレースホルダのスタイルも含めて全体を翻訳し直す方が良いでしょう。
@@ -466,8 +466,8 @@ echo \Yii::t('app', 'There {n,plural,=0{are no cats} =1{is one cat} other{are #
 ```
 
 これら `other`、`few`、`many` などの特別な引数の名前は言語によって異なります。
-特定のロケールに対してどんな引数を指定すべきかを学ぶためには、[http://intl.rmcreative.ru/](http://intl.rmcreative.ru/) の "Plural Rules, Cardinal" を参照してください。
-あるいは、その代りに、[unicode.org の規則のリファレンス](http://cldr.unicode.org/index/cldr-spec/plural-rules) を参照することも出来ます。
+特定のロケールに対してどんな引数を指定すべきかを学ぶためには、[https://intl.rmcreative.ru/](https://intl.rmcreative.ru/) の "Plural Rules, Cardinal" を参照してください。
+あるいは、その代りに、[unicode.org の規則のリファレンス](https://cldr.unicode.org/index/cldr-spec/plural-rules) を参照することも出来ます。
 
 > Note: 上記のロシア語のメッセージのサンプルは、主として翻訳メッセージとして使用されるものです。
 > アプリケーションの [[yii\base\Application::$sourceLanguage|ソース言語]] を `ru-RU` にしてロシア語から他の言語に翻訳するという設定にしない限り、オリジナルのメッセージとしては使用されることはありません。
@@ -500,7 +500,7 @@ echo Yii::t('app', 'You {likeCount,plural,
 > 横着をして、`{n, plural, ...}` を `{n, number}` に置き換えても、多分、大きな問題は生じないでしょう。
 
 
-#### 序数選択肢 <span id="ordinal-selection">
+#### 序数選択肢 <span id="ordinal-selection"></span>
 
 パラメータのタイプとして `selectordinal` を使うと、翻訳先ロケールの言語規則に基づいて序数のための文字列を選択することが出来ます。
 
@@ -518,8 +518,8 @@ echo Yii::t('app', 'You are the {n,selectordinal,one{#st} two{#nd} few{#rd} othe
 ```
 
 フォーマットは複数形で使われるものと非常に近いものです。
-特定のロケールに対してどんな引数を指定すべきかを学ぶためには、[http://intl.rmcreative.ru/](http://intl.rmcreative.ru/) の "Plural Rules, Ordinal" を参照してください。
-あるいは、その代りに、[unicode.org の規則のリファレンス](http://unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html) を参照することも出来ます。
+特定のロケールに対してどんな引数を指定すべきかを学ぶためには、[https://intl.rmcreative.ru/](https://intl.rmcreative.ru/) の "Plural Rules, Ordinal" を参照してください。
+あるいは、その代りに、[unicode.org の規則のリファレンス](https://unicode-org.github.io/cldr-staging/charts/37/supplemental/language_plural_rules.html) を参照することも出来ます。
 
 
 #### 選択肢 <span id="selection"></span>
@@ -794,11 +794,6 @@ class TranslationEventHandler
 
 ## 数値と日付の値を書式設定する <span id="date-number"></span>
 
-詳細は [データ・フォーマッタ](output-formatting.md) のセクションを参照してください。
-
-
-## 日付と数値をフォーマットする <span id="date-number"></span>
-
 詳細は [データのフォーマット](output-formatting.md) のセクションを参照して下さい。
 
 
@@ -810,7 +805,7 @@ Yii は、[[yii\i18n\Formatter]] クラスの数値や日付の書式設定や
 従って、国際化機能が必要とされる場合は、`intl` をインストールすることが強く推奨されます。
 
 [PHP intl 拡張](https://www.php.net/manual/ja/book.intl.php) は、さまざまに異なる全てのロケールについて知識と書式の規則を提供する
-[ICU ライブラリ](http://site.icu-project.org/) に基礎を置いています。
+[ICU ライブラリ](https://icu.unicode.org/) に基礎を置いています。
 ICU のバージョンが異なると、日付や数値のフォーマットの結果も異なる場合があります。
 あなたのウェブ・サイトが全ての環境で同じ出力をすることを保証するためには、
 全ての環境において同じバージョンの PHP intl 拡張 (従って同じバージョンの ICU) をインストールすることが推奨されます。
@@ -826,10 +821,10 @@ echo "ICU Data: " . INTL_ICU_DATA_VERSION . "\n";
 
 さらに、バージョン 49 以上の ICU を使用する事も推奨されます。そうすることによって、このドキュメントで説明されている全ての機能を使うことが出来るようになります。
 例えば、49 未満の ICU は、複数形規則における `#` プレースホルダをサポートしていません。
-入手できる ICU バージョン については、<http://site.icu-project.org/download> を参照してください。
+入手できる ICU バージョン については、<https://icu.unicode.org/download> を参照してください。
 バージョン番号の採番方式が 4.8 リリースの後に変更されたことに注意してください (すなわち、ICU 4.8、ICU 49、ICU 50、等々となっています)。
 
 これに加えて、ICU ライブラリとともに出荷されるタイム・ゾーン・データベースの情報も古くなっている可能性があります。
-タイム・ゾーン・データベースの更新に関する詳細は [ICU マニュアル](http://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data) を参照してください。
+タイム・ゾーン・データベースの更新に関する詳細は [ICU マニュアル](https://unicode-org.github.io/icu/userguide/datetime/timezone/#updating-the-time-zone-data) を参照してください。
 出力の書式設定には ICU タイム・ゾーン・データベースが使用されますが、PHP によって使われるタイム・ゾーン・データベースも影響する可能性があります。
 PHP のタイム・ゾーン・データベースは、[`timezonedb` pecl パッケージ](https://pecl.php.net/package/timezonedb) の最新版をインストールすることによって更新することが出来ます。
diff --git a/docs/guide-ja/tutorial-performance-tuning.md b/docs/guide-ja/tutorial-performance-tuning.md
index 97be31c3da0..b1c49308465 100644
--- a/docs/guide-ja/tutorial-performance-tuning.md
+++ b/docs/guide-ja/tutorial-performance-tuning.md
@@ -11,7 +11,7 @@
 PHP 環境を正しく構成することは非常に重要です。最大のパフォーマンスを得るためには、
 
 - 最新の安定した PHP バージョンを使うこと。使用する PHP のメジャー・リリースを上げると、顕著なパフォーマンスの改善がもたらされることがあります。
-- [Opcache](https://www.php.net/opcache) (PHP 5.5 以降) または [APC](https://www.php.net/apc) (PHP 5.4) を使って、
+- [Opcache](https://www.php.net/opcache) (PHP 5.5 以降) または [APC](https://www.php.net/manual/en/book.apcu.php) (PHP 5.4) を使って、
   バイト・コード・キャッシュを有効にすること。
   バイト・コード・キャッシュによって、リクエストが入ってくるたびに PHP スクリプトを解析してインクルードする時間の浪費を避けることが出来ます。
 - [`realpath()` キャッシュをチューニングする](https://github.com/samdark/realpath_cache_tuner).
@@ -132,7 +132,7 @@ CREATE TABLE session (
 ただし、キャッシュ・ストレージの中には、容量の上限に達したときにキャッシュされたデータをフラッシュするものがあることに注意してください。
 この理由により、主として容量の上限が無い種類のキャッシュ・ストレージを使用すべきです。
 
-あなたのサーバに [Redis](http://redis.io/) がある場合は、[[yii\redis\Session]] によって redis
+あなたのサーバに [Redis](https://redis.io/) がある場合は、[[yii\redis\Session]] によって redis
 をセッション・ストレージとして使用することを強く推奨します。
 
 
@@ -218,7 +218,7 @@ composer dumpautoload -o
 - [Yii のデバッグ・ツールバーとデバッガ](https://github.com/yiisoft/yii2-debug/blob/master/docs/guide-ja/README.md)
 - [Blackfire](https://blackfire.io/)
 - [XHProf](https://www.php.net/manual/ja/book.xhprof.php)
-- [XDebug プロファイラ](http://xdebug.org/docs/profiler)
+- [XDebug プロファイラ](https://xdebug.org/docs/profiler)
 
 ## アプリケーションをスケーラブルなものにする覚悟を決める
 
diff --git a/docs/guide-ja/tutorial-shared-hosting.md b/docs/guide-ja/tutorial-shared-hosting.md
index e5dcaf94159..d06618c33e7 100644
--- a/docs/guide-ja/tutorial-shared-hosting.md
+++ b/docs/guide-ja/tutorial-shared-hosting.md
@@ -58,7 +58,7 @@ nginx の場合は、追加の構成ファイルは必要がない筈です。
 
 Yii を走らせるためには、あなたのウェブ・サーバは Yii の必要条件を満たさなければなりません。最低限の必要条件は PHP 5.4 です。
 必要条件をチェックするために、`requirements.php` をルート・ディレクトリからウェブ・ルート・ディレクトリにコピーして、
-`http://example.com/requirements.php` という URL を使ってブラウザ経由で走らせます。後でファイルを削除するのを忘れないでください。
+`https://example.com/requirements.php` という URL を使ってブラウザ経由で走らせます。後でファイルを削除するのを忘れないでください。
 
 ## アドバンスト・プロジェクト・テンプレートを配備する
 
diff --git a/docs/guide-ja/tutorial-start-from-scratch.md b/docs/guide-ja/tutorial-start-from-scratch.md
index 6f55e4fb474..fd65cb2dace 100644
--- a/docs/guide-ja/tutorial-start-from-scratch.md
+++ b/docs/guide-ja/tutorial-start-from-scratch.md
@@ -42,7 +42,7 @@ git clone git@github.com:yiisoft/yii2-app-basic.git
 ----------------
 
 テンプレートが定義できたら、それを基に Git レポジトリを作成して、ファイルをそこにプッシュします。
-あなたのテンプレートをオープンソース化するつもりなら、レポジトリをホストするのには [Github](http://github.com) が最適の場所です。
+あなたのテンプレートをオープンソース化するつもりなら、レポジトリをホストするのには [Github](https://github.com) が最適の場所です。
 テンプレートを共同作業に使わないつもりであれば、どんな Git レポジトリサイトでも構いません。
 
 次に、Composer のためにパッケージを登録する必要があります。パブリックなテンプレートであれば、パッケージは [Packagist](https://packagist.org/) に登録すべきです。
diff --git a/docs/guide-ja/tutorial-template-engines.md b/docs/guide-ja/tutorial-template-engines.md
index d57c7a2d0e3..8791d5bff05 100644
--- a/docs/guide-ja/tutorial-template-engines.md
+++ b/docs/guide-ja/tutorial-template-engines.md
@@ -2,7 +2,7 @@
 ==========================
 
 デフォルトでは、Yii は PHP をテンプレート言語として使いますが、[Twig](https://twig.symfony.com/) や
-[Smarty](http://www.smarty.net/) などの他のレンダリング・エンジンをサポートするように Yii を構成することが出来ます。
+[Smarty](https://www.smarty.net/) などの他のレンダリング・エンジンをサポートするように Yii を構成することが出来ます。
 
 `view` コンポーネントがビューのレンダリングに責任を持っています。
 このコンポーネントのビヘイビアを構成することによって、カスタム・テンプレート・エンジンを追加することが出来ます。
diff --git a/docs/guide-ja/tutorial-yii-integration.md b/docs/guide-ja/tutorial-yii-integration.md
index 18fcebd040d..b563f39f9e0 100644
--- a/docs/guide-ja/tutorial-yii-integration.md
+++ b/docs/guide-ja/tutorial-yii-integration.md
@@ -41,7 +41,7 @@ require __DIR__ . '/../vendor/yiisoft/yii2/Yii.php';
 複数のオートローダ・クラスの中で Yii のクラス・オートローダが優先されるように、
 ライブラリのオートローダは `Yii.php` ファイルをインクルードする前にインストールすることを推奨します。
 
-ライブラリがクラスオートローダを提供していない場合でも、クラスの命名規約が [PSR-4](http://www.php-fig.org/psr/psr-4/) に従っている場合は、ライブラリのクラスをオートロードするのに Yii のクラス・オートローダを使うことが出来ます。
+ライブラリがクラスオートローダを提供していない場合でも、クラスの命名規約が [PSR-4](https://www.php-fig.org/psr/psr-4/) に従っている場合は、ライブラリのクラスをオートロードするのに Yii のクラス・オートローダを使うことが出来ます。
 必要なことは、ライブラリのクラスによって使われている全てのルート名前空間に対して [ルート・エイリアス](concept-aliases.md#defining-aliases) を宣言することだけです。
 例えば、ライブラリを `vendor/foo/bar` ディレクトリの下にインストールしたとしましょう。
 そしてライブラリのクラスは `xyz` ルート名前空間の下にあるとします。
diff --git a/docs/guide-pl/caching-http.md b/docs/guide-pl/caching-http.md
index 07da10c587f..668c98082f0 100644
--- a/docs/guide-pl/caching-http.md
+++ b/docs/guide-pl/caching-http.md
@@ -105,7 +105,7 @@ Dla przykładu, ETag może być zmieniony dla strony w momencie, gdy użyty na n
 Zasobożerne generowanie ETagów może przekreślić cały zysk z użycia `HttpCache` i wprowadzić niepotrzebny narzut, ponieważ muszą być one
 określane przy każdym żądaniu. Z tego powodu należy używać jak najprostszych metod generujących.
 
-> Note: Aby spełnić wymagania [RFC 7232](http://tools.ietf.org/html/rfc7232#section-2.4),
+> Note: Aby spełnić wymagania [RFC 7232](https://datatracker.ietf.org/doc/html/rfc7232#section-2.4),
   `HttpCache` przesyła zarówno nagłówek `ETag`, jak i `Last-Modified`, jeśli oba są skonfigurowane.
   Jeśli klient wysyła nagłówek `If-None-Match` razem z `If-Modified-Since`, tylko pierwszy z nich jest brany pod uwagę.
 
diff --git a/docs/guide-pl/concept-aliases.md b/docs/guide-pl/concept-aliases.md
index 3d9d8395424..097db52ad2b 100644
--- a/docs/guide-pl/concept-aliases.md
+++ b/docs/guide-pl/concept-aliases.md
@@ -16,7 +16,7 @@ Możesz zdefiniować alias do ścieżki pliku lub adresu URL wywołując [[Yii::
 Yii::setAlias('@foo', '/path/to/foo');
 
 // alias do adresu URL
-Yii::setAlias('@bar', 'http://www.example.com');
+Yii::setAlias('@bar', 'https://www.example.com');
 
 // alias istniejącego pliku, zawierającego klasę \foo\Bar
 Yii::setAlias('@foo/Bar.php', '/zdecydowanie/nie/foo/Bar.php');
@@ -43,7 +43,7 @@ return [
     // ...
     'aliases' => [
         '@foo' => '/path/to/foo',
-        '@bar' => 'http://www.example.com',
+        '@bar' => 'https://www.example.com',
     ],
 ];
 ```
@@ -57,7 +57,7 @@ Dotyczy to zarówno bazowych aliasów, jak i pochodnych:
 
 ```php
 echo Yii::getAlias('@foo');               // wyświetla: /ścieżka/do/foo
-echo Yii::getAlias('@bar');               // wyświetla: http://www.example.com
+echo Yii::getAlias('@bar');               // wyświetla: https://www.example.com
 echo Yii::getAlias('@foo/bar/file.php');  // wyświetla: /ścieżka/do/foo/bar/file.php
 ```
 
@@ -109,7 +109,7 @@ Yii predefiniuje zestaw aliasów do łatwego wskazywania często używanych ści
   [skrypt wejścia](structure-entry-scripts.md).
 - `@web`, bazowy adres URL aktualnie używanej aplikacji Web. Wskazuje na tą samą wartość co [[yii\web\Request::baseUrl]].
 - `@vendor`, [[yii\base\Application::vendorPath|folder pakietów composera]]. Domyślnie wskazuje na `@app/vendor`.
-- `@bower`, bazowy folder zawierający [pakiety bowera](http://bower.io/). Domyślnie wskazuje na `@vendor/bower`.
+- `@bower`, bazowy folder zawierający [pakiety bowera](https://bower.io/). Domyślnie wskazuje na `@vendor/bower`.
 - `@npm`, bazowy folder zawierający [pakiety npm](https://www.npmjs.com/). Domyślnie wskazuje na `@vendor/npm`.
 
 Alias `@yii` jest definiowany poprzez dołączenie pliku `Yii.php` w [skrypcie wejścia](structure-entry-scripts.md).
diff --git a/docs/guide-pl/db-active-record.md b/docs/guide-pl/db-active-record.md
index b996ae64a30..ac9a3930523 100644
--- a/docs/guide-pl/db-active-record.md
+++ b/docs/guide-pl/db-active-record.md
@@ -1,7 +1,7 @@
 Active Record
 =============
 
-[Active Record](http://en.wikipedia.org/wiki/Active_record_pattern) zapewnia zorientowany obiektowo interfejs dostępu i manipulacji danymi 
+[Active Record](https://en.wikipedia.org/wiki/Active_record_pattern) zapewnia zorientowany obiektowo interfejs dostępu i manipulacji danymi 
 zapisanymi w bazie danych. Klasa typu Active Record jest powiązana z tabelą bazodanową, a instacja tej klasy odpowiada pojedynczemu wierszowi 
 w tabeli - *atrybut* obiektu Active Record reprezentuje wartość konkretnej kolumny w tym wierszu. Zamiast pisać bezpośrednie kwerendy bazy danych, 
 można skorzystać z atrybutów i metod klasy Active Record.
@@ -31,7 +31,7 @@ Yii zapewnia wsparcie Active Record dla następujących typów relacyjnych baz d
 * SQLite 2 i 3: poprzez [[yii\db\ActiveRecord]]
 * Microsoft SQL Server 2008 lub nowszy: poprzez [[yii\db\ActiveRecord]]
 * Oracle: poprzez [[yii\db\ActiveRecord]]
-* CUBRID 9.3 lub nowszy: poprzez [[yii\db\ActiveRecord]] (zwróć uwagę, że z powodu [błędu](http://jira.cubrid.org/browse/APIS-658) 
+* CUBRID 9.3 lub nowszy: poprzez [[yii\db\ActiveRecord]] (zwróć uwagę, że z powodu [błędu](https://jira.cubrid.org/browse/APIS-658) 
   w rozszerzeniu PDO cubrid, umieszczanie wartości w cudzysłowie nie będzie działać, zatem wymagane jest zainstalowanie CUBRID 9.3 zarówno 
   jako klienta jak i serwer)
 * Sphinx: poprzez [[yii\sphinx\ActiveRecord]], wymaga rozszerzenia `yii2-sphinx`
diff --git a/docs/guide-pl/db-migrations.md b/docs/guide-pl/db-migrations.md
index dfefdfcb735..0c559bca170 100644
--- a/docs/guide-pl/db-migrations.md
+++ b/docs/guide-pl/db-migrations.md
@@ -661,7 +661,7 @@ w `safeDown()` najpierw kasujemy wiersz, a potem usuwamy tabelę.
 
 > Note: Nie wszystkie silniki baz danych wspierają transakcje i nie wszystkie rodzaje komend bazodanowych można umieszczać
   w transakcjach. Dla przykładu, zapoznaj się z rozdziałem dokumentacji MySQL 
-  [Statements That Cause an Implicit Commit](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). W przypadku 
+  [Statements That Cause an Implicit Commit](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). W przypadku 
   braku możliwości skorzystania z transakcji, powinieneś użyć `up()` i `down()`.
 
 
diff --git a/docs/guide-pl/input-forms.md b/docs/guide-pl/input-forms.md
index 4120f612ab9..60b11d25fca 100644
--- a/docs/guide-pl/input-forms.md
+++ b/docs/guide-pl/input-forms.md
@@ -99,7 +99,7 @@ Odnosząc się do [dokumentacji jQuery](https://api.jquery.com/submit), istnieje
 
 > Formularz i jego elementy podrzędne powinny nie używać nazw pól lub nazw identyfikatorów które tworzą konflikt z właściwościami formularza,
 > takich jak `submit`, `length` lub `method`. Konflikty nazw mogą powodować mylące błędy.
-> Kompletna lista zasad oraz walidator znaczników dla tych problemów znajduje się na stronie [DOMLint](http://kangax.github.io/domlint). 
+> Kompletna lista zasad oraz walidator znaczników dla tych problemów znajduje się na stronie [DOMLint](https://kangax.github.io/domlint). 
 
 Dodatkowe tagi HTML mogą zostać dodane do formularza używając czystego HTML'a lub używając metody z klasy pomocniczej - [[yii\helpers\Html|Html]],
 tak jak było to zrobione w przykładzie wyżej z [[yii\helpers\Html::submitButton()|submitButton()]].
diff --git a/docs/guide-pl/input-validation.md b/docs/guide-pl/input-validation.md
index bc3b76aa2c1..333edffbef9 100644
--- a/docs/guide-pl/input-validation.md
+++ b/docs/guide-pl/input-validation.md
@@ -702,7 +702,7 @@ JS;
 
 ### Kolejkowa walidacja <span id="deferred-validation"></span>
 
-Jeśli potrzebujesz przeprowadzić asynchroniczną walidację po stronie klienta, możesz utworzyć [obiekt kolejkujący](http://api.jquery.com/category/deferred-object/).
+Jeśli potrzebujesz przeprowadzić asynchroniczną walidację po stronie klienta, możesz utworzyć [obiekt kolejkujący](https://api.jquery.com/category/deferred-object/).
 Dla przykładu, aby przeprowadzić niestandardową walidację AJAX, możesz użyć następującego kodu:
 
 ```php
diff --git a/docs/guide-pl/intro-yii.md b/docs/guide-pl/intro-yii.md
index facb8a57bc9..a70e448fcff 100644
--- a/docs/guide-pl/intro-yii.md
+++ b/docs/guide-pl/intro-yii.md
@@ -52,7 +52,7 @@ Ten przewodnik opisuje wersję 2.0.
 Wymagania i zależności
 ----------------------
 
-Yii 2.0 wymaga PHP w wersji 5.4.0 lub nowszej i pracuje najwydajniej na najnowszej wersji PHP 7. Aby otrzymać więcej 
+Yii 2.0 wymaga PHP w wersji 5.4.0 lub nowszej i pracuje najwydajniej na najnowszej wersji PHP. Aby otrzymać więcej 
 informacji na temat wymagań i indywidualnych funkcjonalności, uruchom specjalny skrypt testujący system dołączony w każdym wydaniu Yii.
 
 Używanie Yii wymaga podstawowej wiedzy o programowaniu obiektowym w PHP (OOP), ponieważ Yii
diff --git a/docs/guide-pl/output-client-scripts.md b/docs/guide-pl/output-client-scripts.md
index 43576d1b2a1..f2162588f3a 100644
--- a/docs/guide-pl/output-client-scripts.md
+++ b/docs/guide-pl/output-client-scripts.md
@@ -29,7 +29,7 @@ Jeśli ten argument nie zostanie podany, kod JavaScript zostanie użyty jako ID.
 Skrypt zewnętrzny może zostać dodany następująco:
 
 ```php
-$this->registerJsFile('http://example.com/js/main.js', ['depends' => [\yii\web\JqueryAsset::class]]);
+$this->registerJsFile('https://example.com/js/main.js', ['depends' => [\yii\web\JqueryAsset::class]]);
 ```
 
 Argumenty dla metod [[yii\web\View::registerCssFile()|registerCssFile()]] są podobne do [[yii\web\View::registerJsFile()|registerJsFile()]].
@@ -72,7 +72,7 @@ Jeśli chcesz określić dodatkowe właściwości dla tagu `style`, przekaż tab
 Jeśli chcesz się upewnić, że jest tylko jeden tag `style`, użyj trzeciego argumentu, tak jak zostało to opisane dla meta tagów.
 
 ```php
-$this->registerCssFile("http://example.com/css/themes/black-and-white.css", [
+$this->registerCssFile("https://example.com/css/themes/black-and-white.css", [
     'depends' => [BootstrapAsset::class],
     'media' => 'print',
 ], 'css-print-theme');
diff --git a/docs/guide-pl/rest-versioning.md b/docs/guide-pl/rest-versioning.md
index 836b01f308b..efdffe6abc5 100644
--- a/docs/guide-pl/rest-versioning.md
+++ b/docs/guide-pl/rest-versioning.md
@@ -8,11 +8,11 @@ pełną wsteczną kompatybilność (BC = backward compatibility), kiedy to tylko
 może nie spełniać BC, należy wprowadzić ją w nowej wersji API, z kolejnym numerem. Istniejące klienty mogą wciąż używać starej, 
 działającej wersji API, a nowe lub uaktualnione klienty mogą otrzymać nową funkcjonalność oferowaną przez kolejną wersję API. 
 
-> Tip: Zapoznaj się z [Wersjonowaniem semantycznym](http://semver.org/lang/pl/), aby uzyskać więcej informacji na temat nazewnictwa 
+> Tip: Zapoznaj się z [Wersjonowaniem semantycznym](https://semver.org/lang/pl/), aby uzyskać więcej informacji na temat nazewnictwa 
   numerów wersji.
 
 Jedną z często spotykanych implementacji wersjonowania API jest dodawanie numeru wersji w adresach URL API.
-Dla przykładu `http://example.com/v1/users` oznacza punkt końcowy `/users` API w wersji 1. 
+Dla przykładu `https://example.com/v1/users` oznacza punkt końcowy `/users` API w wersji 1. 
 
 Inną metodą wersjonowania API, która zyskuje ostatnio popularność, jest umieszczanie numeru wersji w nagłówkach HTTP żądania. Zwykle 
 używa się do tego nagłówka `Accept`:
@@ -92,8 +92,8 @@ return [
 ];
 ```
 
-Rezultatem powyższego kodu będzie skierowanie pod adresem `http://example.com/v1/users` do listy użytkowników w wersji 1, podczas gdy 
-`http://example.com/v2/users` pokaże użytkowników w wersji 2.
+Rezultatem powyższego kodu będzie skierowanie pod adresem `https://example.com/v1/users` do listy użytkowników w wersji 1, podczas gdy 
+`https://example.com/v2/users` pokaże użytkowników w wersji 2.
 
 Dzięki podziałowi na moduły, kod różnych głównych wersji może być dobrze izolowany, ale jednocześnie wciąż możliwe jest ponowne 
 wykorzystanie wspólnego kodu poprzez wspólną bazę klas i dzielonych zasobów.
diff --git a/docs/guide-pl/start-databases.md b/docs/guide-pl/start-databases.md
index 0a365845a4e..5f261ba8ce0 100644
--- a/docs/guide-pl/start-databases.md
+++ b/docs/guide-pl/start-databases.md
@@ -210,7 +210,7 @@ Sprawdź jak to działa <span id="trying-it-out"></span>
 Aby zobaczyć jak działa powyższy kod, użyj przeglądarki i przejdź pod podany adres URL:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 ![Lista krajów](images/start-country-list.png)
@@ -220,7 +220,7 @@ Jeśli klikniesz przycisk "2", zobaczysz stronę wyświetlającą pięć innych
 Zauważ, że adres URL w przeglądarce również się zmienił na 
 
 ```
-http://hostname/index.php?r=country%2Findex&page=2
+https://hostname/index.php?r=country%2Findex&page=2
 ```
 
 Za kulisami, [[yii\data\Pagination|Pagination]] dostarcza wszystkich niezbędnych funkcjonalności do stronicowania zbioru danych: 
diff --git a/docs/guide-pl/start-forms.md b/docs/guide-pl/start-forms.md
index 7a76ad5f61f..b9ce0ae06f7 100644
--- a/docs/guide-pl/start-forms.md
+++ b/docs/guide-pl/start-forms.md
@@ -123,7 +123,7 @@ Jeśli nie zostały wysłane żadne dane lub dane zawierają błędy, zostanie w
 
 > Note: W tym prostym przykładzie po prostu renderujemy stronę z potwierdzeniem prawidłowego przesłania danych. 
 > W praktyce powinieneś rozważyć użycie [[yii\web\Controller::refresh()|refresh()]] lub [[yii\web\Controller::redirect()|redirect()]], aby uniknąć 
-> [problemów z ponownym przesłaniem formularza](http://en.wikipedia.org/wiki/Post/Redirect/Get).
+> [problemów z ponownym przesłaniem formularza](https://en.wikipedia.org/wiki/Post/Redirect/Get).
 
 
 Tworzenie widoku <span id="creating-views"></span>
@@ -177,7 +177,7 @@ Próba <span id="trying-it-out"></span>
 Aby zobaczyć jak to działa, użyj przeglądarki i przejdź pod dany adres:
 
 ```
-http://hostname/index.php?r=site%2Fentry
+https://hostname/index.php?r=site%2Fentry
 ```
 
 Zobaczysz stronę wyświetlającą formularz z dwoma polami. Przed każdym polem znajduje się etykieta opisująca to pole. Jeśli klikniesz przycisk "Wyślij" nie wpisując żadnych danych, lub 
diff --git a/docs/guide-pl/start-gii.md b/docs/guide-pl/start-gii.md
index 60db8170e39..f2b82c62dfe 100644
--- a/docs/guide-pl/start-gii.md
+++ b/docs/guide-pl/start-gii.md
@@ -43,7 +43,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 Dzięki temu Twoja aplikacja ustawiana jest w tryb rozwojowy, co uaktywnia moduł Gii. Możesz teraz uzyskać dostęp do Gii przez przejście pod podany adres URL:
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 > Note: Jeśli próbujesz dostać się do Gii z maszyny innej niż localhost, dostęp domyślnie będzie zablokowany ze względów bezpieczeństwa.
@@ -108,7 +108,7 @@ Sprawdzenie w działaniu <span id="trying-it-out"></span>
 Aby zobaczyć, jak działa nowo wygenerowany kod, użyj przeglądarki, aby uzyskać dostęp do podanego adresu URL:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 Zobaczysz tabelę prezentującą kraje z bazy danych. Możesz sortować tabelę, lub filtrować ją przez wpisanie odpowiednich warunków w nagłówkach kolumn.
diff --git a/docs/guide-pl/start-hello.md b/docs/guide-pl/start-hello.md
index 9c80421635c..b5088189d6e 100644
--- a/docs/guide-pl/start-hello.md
+++ b/docs/guide-pl/start-hello.md
@@ -76,7 +76,7 @@ Widok `say` powinien być zapisany w pliku `views/site/say.php`. Kiedy wywołana
 wg schematu `views/ControllerID/ViewName.php`.
 
 Zauważ, że w powyższym kodzie parametr `message` jest przetworzony za pomocą metody [[yii\helpers\Html::encode()|encode()]] przed wyświetleniem go. Jest to konieczne w przypadku 
-parametrów pochodzących od użytkownika, wrażliwych na ataki [XSS](http://en.wikipedia.org/wiki/Cross-site_scripting) przez podanie złośliwego kodu JavaScript.
+parametrów pochodzących od użytkownika, wrażliwych na ataki [XSS](https://en.wikipedia.org/wiki/Cross-site_scripting) przez podanie złośliwego kodu JavaScript.
 
 Naturalnie możesz umieścić więcej zawartości w widoku `say`. Zawartość może zawierać tagi HTML, czysty tekst, a nawet kod PHP.
 Tak naprawdę, widok `say` jest tylko skryptem PHP, który jest wywoływany przez metodę [[yii\web\Controller::render()|render()]].
@@ -88,7 +88,7 @@ Próba <span id="trying-it-out"></span>
 Po utworzeniu akcji oraz widoku możesz uzyskać dostęp do nowej strony przez przejście pod podany adres URL:
 
 ```
-http://hostname/index.php?r=site%2Fsay&message=Hello+World
+https://hostname/index.php?r=site%2Fsay&message=Hello+World
 ```
 
 ![Witaj świecie](images/start-hello-world.png)
@@ -122,4 +122,4 @@ W tym prostym przykładzie nie został zaangażowany żaden model, ponieważ dan
 
 Nauczyłeś się też czegoś o routingu w Yii, który działa jak most pomiędzy żądaniami użytkownika a akcjami kontrolerów. 
 
-W następnej sekcji nauczysz się jak utworzyć model oraz dodać nową stronę zawierającą formularz HTML.
\ No newline at end of file
+W następnej sekcji nauczysz się jak utworzyć model oraz dodać nową stronę zawierającą formularz HTML.
diff --git a/docs/guide-pl/start-installation.md b/docs/guide-pl/start-installation.md
index 9fcaf573030..f374551a9ae 100644
--- a/docs/guide-pl/start-installation.md
+++ b/docs/guide-pl/start-installation.md
@@ -112,7 +112,7 @@ Dostępne są również inne opcje instalacji:
 Instalowanie zasobów <span id="installing-assets"></span>
 --------------------
 
-Yii używa menadżerów pakietów [Bower](http://bower.io/) i/lub [NPM](https://www.npmjs.com/) do instalacji bibliotek 
+Yii używa menadżerów pakietów [Bower](https://bower.io/) i/lub [NPM](https://www.npmjs.com/) do instalacji bibliotek 
 zasobów (CSS i JavaScript). Proces pobierania tych bibliotek korzysta z Composera, pozwalając na rozwiązywanie zależności 
 pakietów PHP i CSS/JavaScript w tym samym czasie, za pomocą serwisu [asset-packagist.org](https://asset-packagist.org) 
 lub wtyczki [composer asset plugin](https://github.com/fxpio/composer-asset-plugin).  
@@ -186,13 +186,13 @@ Konfigurowanie serwerów WWW <span id="configuring-web-servers"></span>
 > Info: Możesz pominąć tą sekcję, jeśli tylko testujesz Yii, bez zamiaru zamieszczania aplikacji na serwerze produkcyjnym.
 
 Aplikacja zainstalowana według powyższych instrukcji powinna działać bezproblemowo zarówno na 
-[serwerze HTTP Apache](http://httpd.apache.org) jak i [serwerze HTTP Nginx](http://nginx.org), na systemie 
+[serwerze HTTP Apache](https://httpd.apache.org) jak i [serwerze HTTP Nginx](https://nginx.org), na systemie 
 operacyjnym Windows, Mac OS X oraz Linux, posiadającym zainstalowane PHP 5.4 lub nowsze. Yii 2.0 jest również kompatybilne 
-z [facebookowym HHVM](http://hhvm.com), są jednak przypadki, gdzie Yii zachowuje się inaczej w HHVM niż w natywnym PHP, 
+z [facebookowym HHVM](https://hhvm.com), są jednak przypadki, gdzie Yii zachowuje się inaczej w HHVM niż w natywnym PHP, 
 dlatego powinieneś zachować szczególną ostrożność używając HHVM.
 
 Na serwerze produkcyjnym możesz skonfigurować swój host tak, aby aplikacja była dostępna pod adresem 
-`http://www.example.com/index.php` zamiast `http://www.example.com/basic/web/index.php`. Taka konfiguracja wymaga wskazania 
+`https://www.example.com/index.php` zamiast `https://www.example.com/basic/web/index.php`. Taka konfiguracja wymaga wskazania 
 głównego katalogu serwera jako katalogu `basic/web`. Jeśli chcesz ukryć `index.php` w adresie URL, skorzystaj z informacji 
 opisanych w dziale [routing i tworzenie adresów URL](runtime-routing.md).  
 W tej sekcji dowiesz się, jak skonfigurować Twój serwer Apache lub Nginx, aby osiągnąć te cele.
@@ -234,7 +234,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Zalecane ustawienia Nginx <span id="recommended-nginx-configuration"></span>
 
-Aby użyć [Nginx](http://wiki.nginx.org/) powinienieś zainstalować PHP jako [FPM SAPI](https://www.php.net/install.fpm).
+Aby użyć [Nginx](https://wiki.nginx.org/) powinienieś zainstalować PHP jako [FPM SAPI](https://www.php.net/install.fpm).
 Możesz użyć przedstawionej poniżej konfiguracji Nginx, zastępując jedynie ścieżkę `path/to/basic/web` aktualną ścieżką 
 do `basic/web` Twojej aplikacji oraz `mysite.test` aktualną nazwą hosta.
 
diff --git a/docs/guide-pl/start-looking-ahead.md b/docs/guide-pl/start-looking-ahead.md
index f0f19514df2..abc95615abb 100644
--- a/docs/guide-pl/start-looking-ahead.md
+++ b/docs/guide-pl/start-looking-ahead.md
@@ -31,4 +31,4 @@ Ta sekcja podsumuje dostępne zasoby Yii, które pomogą Ci być bardziej produk
     - Facebook: <https://www.facebook.com/groups/yiitalk/>
     - Twitter: <https://twitter.com/yiiframework>
     - LinkedIn: <https://www.linkedin.com/groups/yii-framework-1483367>
-    - StackOverflow: <http://stackoverflow.com/questions/tagged/yii2>
+    - StackOverflow: <https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide-pl/start-workflow.md b/docs/guide-pl/start-workflow.md
index 7436ed61ba1..a6f1e93b1c1 100644
--- a/docs/guide-pl/start-workflow.md
+++ b/docs/guide-pl/start-workflow.md
@@ -1,11 +1,11 @@
 Uruchamianie aplikacji
 ====================
 
-Po zainstalowaniu Yii posiadasz działającą aplikację Yii dostępną pod adresem `http://hostname/basic/web/index.php` lub `http://hostname/index.php`, zależnie od Twojej konfiguracji.
+Po zainstalowaniu Yii posiadasz działającą aplikację Yii dostępną pod adresem `https://hostname/basic/web/index.php` lub `https://hostname/index.php`, zależnie od Twojej konfiguracji.
 Ta sekcja wprowadzi Cię do wbudowanych funkcjonalności aplikacji, pokaże jak zorganizowany jest jej kod oraz jak aplikacja obsługuje żądania.
 
 > Info: Dla uproszczenia zakładamy, że ustawiłeś główny katalog serwera na `basic/web`, według poradnika "Instalacja Yii", oraz skonfigurowałeś adres URL tak, aby Twoja aplikacja była 
-> dostępna pod adresem `http://hostname/index.php`.
+> dostępna pod adresem `https://hostname/index.php`.
 > Dla Twoich potrzeb dostosuj odpowiednio adres URL w naszych opisach.
 
 Należy pamiętać, że w przeciwieństwie do samego frameworka, po zainstalowaniu szablonu projektu należy on w całości do Ciebie. Możesz dowolnie dodawać, modyfikować lub usuwać kod, 
@@ -16,7 +16,7 @@ Funkcjonalność <span id="functionality"></span>
 
 Zainstalowana podstawowa aplikacja posiada cztery strony:
 
-* stronę główną, która jest wyświetlana przy wywołaniu adresu `http://hostname/index.php`,
+* stronę główną, która jest wyświetlana przy wywołaniu adresu `https://hostname/index.php`,
 * strona informacyjna `About`,
 * strona kontaktowa `Contact`, gdzie wyświetlany jest formularz kontaktowy, pozwalający użytkownikowi skontaktować się z Tobą przez email,
 * strona logowania `Login`, gdzie wyświetlany jest formularz logowania, który może być użyty do uwierzytelniania użytkowników. Zaloguj się danymi "admin/admin", przez co pozycja 
@@ -36,7 +36,7 @@ Struktura aplikacji <span id="application-structure"></span>
 
 Najważniejsze katalogi oraz pliki w Twojej aplikacji to (zakładając, że główny katalog aplikacji to `basic`):
 
-```js
+```
 basic/                  bazowa ścieżka aplikacji
     composer.json       plik używany przez Composer, opisuje informacje paczek
     config/             zawiera wszystkie konfiguracje, w tym aplikacji
@@ -57,7 +57,7 @@ basic/                  bazowa ścieżka aplikacji
 Ogólnie pliki aplikacji mogą zostać podzielone na dwa typy: pliki w katalogu `basic/web` oraz pliki w innych katalogach.
 Dostęp do pierwszego typu można uzyskać przez HTTP (np. przez przeglądarkę), podczas gdy reszta nie może, i nie powinna być, dostępna publicznie.
 
-Yii implementuje wzór architektoniczny [model-widok-kontroler (MVC)](http://wikipedia.org/wiki/Model-view-controller), który jest odzwierciedleniem przedstawionej wyżej organizacji 
+Yii implementuje wzór architektoniczny [model-widok-kontroler (MVC)](https://wikipedia.org/wiki/Model-view-controller), który jest odzwierciedleniem przedstawionej wyżej organizacji 
 katalogów.
 Katalog `models` zawiera wszystkie [klasy modeli](structure-models.md), katalog `views` zawiera wszystkie [skrypty widoków](structure-views.md) oraz katalog `controllers` zawiera 
 wszystkie [klasy kontrolerów](structure-controllers.md).
diff --git a/docs/guide-pl/test-acceptance.md b/docs/guide-pl/test-acceptance.md
index 96abf66b7d5..967aff1ce97 100644
--- a/docs/guide-pl/test-acceptance.md
+++ b/docs/guide-pl/test-acceptance.md
@@ -3,7 +3,7 @@ Testy akceptacyjne
 
 > Uwaga: Ta sekcja jest w trakcie tworzenia.
 
-- [Testy akceptacyjne Codeception](http://codeception.com/docs/03-AcceptanceTests)
+- [Testy akceptacyjne Codeception](https://codeception.com/docs/03-AcceptanceTests)
 
 Uruchamianie testów akceptacyjnych dla podstawowego i zaawansowanego szablonu projektu
 --------------------------------------------------------------------------------------
diff --git a/docs/guide-pl/test-functional.md b/docs/guide-pl/test-functional.md
index bd1413c2b13..434ef3d8aae 100644
--- a/docs/guide-pl/test-functional.md
+++ b/docs/guide-pl/test-functional.md
@@ -3,9 +3,9 @@ Testy funkcjonalne
 
 > Uwaga: Ta sekcja jest w trakcie tworzenia.
 
-- [Testy funkcjonalne Codeception](http://codeception.com/docs/04-FunctionalTests)
+- [Testy funkcjonalne Codeception](https://codeception.com/docs/04-FunctionalTests)
 
 Uruchamianie testów funkcjonalnych dla podstawowego i zaawansowanego szablonu projektu
 --------------------------------------------------------------------------------------
 
-Prosimy o zapoznanie się z instrukcjami dostępnymi w plikach `apps/advanced/tests/README.md` i `apps/basic/tests/README.md`.
\ No newline at end of file
+Prosimy o zapoznanie się z instrukcjami dostępnymi w plikach `apps/advanced/tests/README.md` i `apps/basic/tests/README.md`.
diff --git a/docs/guide-pl/test-unit.md b/docs/guide-pl/test-unit.md
index c5d196349a2..77e0ae892f8 100644
--- a/docs/guide-pl/test-unit.md
+++ b/docs/guide-pl/test-unit.md
@@ -10,8 +10,8 @@ Testy jednostkowe są zazwyczaj tworzone przez osoby, które piszą klasy poddaw
 
 Testy jednostkowe w Yii są oparte o PHPUnit oraz, opcjonalnie, Codeception, zatem zalecane jest, aby zapoznać się z ich dokumentacją:
 
-- [PHPUnit (dokumentacja zaczyna się w rozdziale 2)](http://phpunit.de/manual/current/en/writing-tests-for-phpunit.html).
-- [Testy jednostkowe Codeception](http://codeception.com/docs/05-UnitTests).
+- [PHPUnit (dokumentacja zaczyna się w rozdziale 2)](https://phpunit.de/manual/current/en/writing-tests-for-phpunit.html).
+- [Testy jednostkowe Codeception](https://codeception.com/docs/05-UnitTests).
 
 Uruchamianie testów jednostkowych dla podstawowego i zaawansowanego szablonu projektu
 -------------------------------------------------------------------------------------
diff --git a/docs/guide-pl/tutorial-shared-hosting.md b/docs/guide-pl/tutorial-shared-hosting.md
index 56dd9dc1b57..dbcf4c9d8ab 100644
--- a/docs/guide-pl/tutorial-shared-hosting.md
+++ b/docs/guide-pl/tutorial-shared-hosting.md
@@ -55,7 +55,7 @@ W przypadku serwera nginx nie powinieneś potrzebować dodatkowego pliku konfigu
 ### Sprawdzenie wymagań
 
 Aby uruchomić Yii, Twój serwer musi spełniać jego wymagania. Minimalnym wymaganiem jest PHP w wersji 5.4. Możesz sprawdzić wszystkie wymagania, kopiując plik 
-`requirements.php` z folderu root do folderu webroot i uruchamiając go w przeglądarce pod adresem `http://example.com/requirements.php`. 
+`requirements.php` z folderu root do folderu webroot i uruchamiając go w przeglądarce pod adresem `https://example.com/requirements.php`. 
 Nie zapomnij o skasowaniu tego pliku po sprawdzeniu wymagań.
 
 
diff --git a/docs/guide-pl/tutorial-start-from-scratch.md b/docs/guide-pl/tutorial-start-from-scratch.md
index 838fbcb7291..c47c8c4c289 100644
--- a/docs/guide-pl/tutorial-start-from-scratch.md
+++ b/docs/guide-pl/tutorial-start-from-scratch.md
@@ -39,7 +39,7 @@ Na samym końcu zmodyfikuj plik README, aby pasował do szablonu.
 Tworzenie paczki
 ----------------
 
-Nowy szablon umieść w odpowiadającym mu repozytorium Git. Jeśli zamierzasz udostępnić go jako open source, [Github](http://github.com) jest najlepszym miejscem do tego celu. 
+Nowy szablon umieść w odpowiadającym mu repozytorium Git. Jeśli zamierzasz udostępnić go jako open source, [Github](https://github.com) jest najlepszym miejscem do tego celu. 
 Jeśli jednak nie przewidujesz współpracy z innymi nad swoim szablonem, dowolne repozytorium Git będzie odpowiednie.
 
 Następnie należy zarejestrować swoją paczkę dla Composera. Dla publicznie dostępnych szablonów paczkę należy zarejestrować w serwisie [Packagist](https://packagist.org/).
diff --git a/docs/guide-pt-BR/caching-data.md b/docs/guide-pt-BR/caching-data.md
index 089f2aee48a..9fe3fb57a8c 100644
--- a/docs/guide-pt-BR/caching-data.md
+++ b/docs/guide-pt-BR/caching-data.md
@@ -30,7 +30,7 @@ if ($data === false) {
 O cache de dados se baseia nos, então chamados, *Componentes de Cache* que representam vários armazenamentos de cache,
 como memória, arquivos, bancos de dados.
 
-Componentes de Cache são normalmente registrados como [componentes de aplicação](structure-application-components.md) para que possam ser globalmente configuráveis e acessíveis. O código a seguir exibe como configurar o componente de aplicação `cache` para usar [memcached](http://memcached.org/) com dois servidores de cache:
+Componentes de Cache são normalmente registrados como [componentes de aplicação](structure-application-components.md) para que possam ser globalmente configuráveis e acessíveis. O código a seguir exibe como configurar o componente de aplicação `cache` para usar [memcached](https://memcached.org/) com dois servidores de cache:
 
 ```php
 'components' => [
@@ -75,7 +75,7 @@ Por exemplo, você pode modificar a configuração acima para usar [[yii\caching
 
 Yii suporta uma ampla gama de sistemas de cache. A seguir um resumo:
 
-* [[yii\caching\ApcCache]]: usa a extensão do PHP [APC](https://www.php.net/manual/en/book.apc.php). Esta opção pode ser
+* [[yii\caching\ApcCache]]: usa a extensão do PHP [APC](https://www.php.net/manual/en/book.apcu.php). Esta opção pode ser
   considerada a mais rápida ao se implementar o cache de uma aplicação densa e centralizada (por exemplo, um
   servidor, sem balanceadores de carga dedicados, etc.).
 * [[yii\caching\DbCache]]: usa uma tabela no banco de dados para armazenar os dados em cache. Para usar este cache
@@ -93,12 +93,12 @@ Yii suporta uma ampla gama de sistemas de cache. A seguir um resumo:
   [memcached](https://www.php.net/manual/en/book.memcached.php). Esta opção pode ser considerada a mais rápida
   ao se implementar o cache em aplicações distribuídas (ex., vários servidores, balanceadores de carga, etc.)
 * [[yii\redis\Cache]]: implementa um componente de cache baseado em armazenamento chave-valor 
-  [Redis](http://redis.io/) (requer redis versão 2.6.12 ou mais recente).
-* [[yii\caching\WinCache]]: usa a extensão PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension)
+  [Redis](https://redis.io/) (requer redis versão 2.6.12 ou mais recente).
+* [[yii\caching\WinCache]]: usa a extensão PHP [WinCache](https://iis.net/downloads/microsoft/wincache-extension)
   ([veja também](https://www.php.net/manual/en/book.wincache.php)).
-* [[yii\caching\XCache]] _(deprecated)_: usa a extensão PHP [XCache](http://xcache.lighttpd.net/).
+* [[yii\caching\XCache]] _(deprecated)_: usa a extensão PHP [XCache](https://en.wikipedia.org/wiki/List_of_PHP_accelerators#XCache).
 * [[yii\caching\ZendDataCache]] _(deprecated)_: usa
-  [Cache de Dados Zend](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
+  [Cache de Dados Zend](https://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
   como o meio de cache subjacente.
 
 
@@ -259,7 +259,7 @@ $resultado = Cliente::getDb()->cache(function ($bd) {
 });
 ```
 
-> Informação: Alguns SGBDs (ex., [MySQL](http://dev.mysql.com/doc/refman/5.1/en/query-cache.html))
+> Informação: Alguns SGBDs (ex., [MySQL](https://dev.mysql.com/doc/refman/5.6/en/query-cache.html))
   também suportam o cache de consulta no servidor. Você pode escolher usá-lo ao invés do mecanismo de cache 
   de consulta.
   O cache de consulta descrito acima tem a vantagem de poder especificar dependências de cache flexíveis 
diff --git a/docs/guide-pt-BR/caching-http.md b/docs/guide-pt-BR/caching-http.md
index afa29492412..0f7b6cd83b8 100644
--- a/docs/guide-pt-BR/caching-http.md
+++ b/docs/guide-pt-BR/caching-http.md
@@ -102,7 +102,7 @@ Por exemplo, um ETag pode ser invalidado se o site tiver sido alterado para um n
 Gerações muito complexas de ETags podem contrariar o propósito de se usar `HttpCache` e introduzir despesas desnecessárias ao processamento, já que eles precisam ser reavaliados a cada requisição.
 Tente encontrar uma expressão simples que invalida o cache se o conteúdo da página for modificado.
 
-> Observação: Em concordância com a [RFC 7232](http://tools.ietf.org/html/rfc7232#section-2.4), o
+> Observação: Em concordância com a [RFC 7232](https://datatracker.ietf.org/doc/html/rfc7232#section-2.4), o
   `HttpCache` enviará os cabeçalhos `ETag` e `Last-Modified` se ambos forem assim configurados.
   E se o cliente enviar ambos o cabeçalhos `If-None-Match` e `If-Modified-Since`, apenas o primeiro será
   respeitado.
diff --git a/docs/guide-pt-BR/concept-aliases.md b/docs/guide-pt-BR/concept-aliases.md
index 6b6e0ae42b9..047247d0d36 100644
--- a/docs/guide-pt-BR/concept-aliases.md
+++ b/docs/guide-pt-BR/concept-aliases.md
@@ -15,7 +15,7 @@ Você pode definir um alias para um caminho de arquivo ou URL chamando [[Yii::se
 Yii::setAlias('@foo', '/caminho/para/foo');
 
 // um alias de uma URL
-Yii::setAlias('@bar', 'http://www.exemplo.com.br');
+Yii::setAlias('@bar', 'https://www.exemplo.com.br');
 ```
 
 > Observação: O caminho do arquivo ou URL sendo *apelidado* (aliased) *não* necessariamente refere-se a um arquivo ou a recursos existentes.
@@ -37,7 +37,7 @@ return [
     // ...
     'aliases' => [
         '@foo' => '/caminho/para/foo',
-        '@bar' => 'http://www.exemplo.com.br',
+        '@bar' => 'https://www.exemplo.com.br',
     ],
 ];
 ```
@@ -51,7 +51,7 @@ O mesmo método pode resolver também um alias derivado em seu caminho de arquiv
 
 ```php
 echo Yii::getAlias('@foo');               // exibe: /caminho/para/foo
-echo Yii::getAlias('@bar');               // exibe: http://www.example.com
+echo Yii::getAlias('@bar');               // exibe: https://www.example.com
 echo Yii::getAlias('@foo/bar/arquivo.php');  // exibe: /caminho/para/foo/bar/arquivo.php
 ```
 
@@ -101,7 +101,7 @@ O Yii já predefine uma gama de aliases para referenciar facilmente caminhos de
 - `@web`, a URL base da aplicacão sendo executada no momento. Esta tem o mesmo valor de [[yii\web\Request::baseUrl]].
 - `@vendor`, o [[yii\base\Application::vendorPath|caminho da pasta vendor do Composer]]. 
    Seu padrão é `@app/vendor`.
-- `@bower`, o caminho raiz que contém os [pacotes bower](http://bower.io/). Seu padrão é `@vendor/bower`.
+- `@bower`, o caminho raiz que contém os [pacotes bower](https://bower.io/). Seu padrão é `@vendor/bower`.
 - `@npm`, o caminho raiz que contém [pacotes npm](https://www.npmjs.com/). Seu padrão é `@vendor/npm`.
 
 O alias `@yii` é definido quando você inclui o arquivo `Yii.php` em seu [script de entrada](structure-entry-scripts.md).
diff --git a/docs/guide-pt-BR/concept-behaviors.md b/docs/guide-pt-BR/concept-behaviors.md
index 86d06326585..67e8b06b7d1 100644
--- a/docs/guide-pt-BR/concept-behaviors.md
+++ b/docs/guide-pt-BR/concept-behaviors.md
@@ -1,7 +1,7 @@
 Behaviors (Comportamentos)
 =========
 
-Behaviors são instâncias de  [[yii\base\Behavior]], ou de uma classe-filha, também conhecido como [mixins](http://en.wikipedia.org/wiki/Mixin), permite melhorar a funcionalidade de uma classe [[yii\base\Component|componente]]  existente sem a necessidade de mudar a herança dela.
+Behaviors são instâncias de  [[yii\base\Behavior]], ou de uma classe-filha, também conhecido como [mixins](https://en.wikipedia.org/wiki/Mixin), permite melhorar a funcionalidade de uma classe [[yii\base\Component|componente]]  existente sem a necessidade de mudar a herança dela.
 Anexar um behavior a um componente "introduz" os métodos e propriedades do behavior dentro do componente, tornando esses métodos e propriedades acessíveis como se estes fossem definidos na própria classe do componente. Além disso, um behavior pode responder a um [evento](concept-events.md) disparado pelo componente, o que permite a customização do código normal.
 
 
diff --git a/docs/guide-pt-BR/concept-di-container.md b/docs/guide-pt-BR/concept-di-container.md
index cb511ae3f42..4f2e9cc9346 100644
--- a/docs/guide-pt-BR/concept-di-container.md
+++ b/docs/guide-pt-BR/concept-di-container.md
@@ -1,7 +1,7 @@
 Container de Injeção de Dependência 
 ==============================
 
-Um container de injeção de dependência (DI) é um objeto que sabe como instanciar e configurar objetos e todas as suas dependências. O [artigo do Martin](http://martinfowler.com/articles/injection.html) explica bem porque o container de DI é útil. Aqui vamos explicar principalmente a utilização do container de DI fornecido pelo Yii.
+Um container de injeção de dependência (DI) é um objeto que sabe como instanciar e configurar objetos e todas as suas dependências. O [artigo do Martin](https://martinfowler.com/articles/injection.html) explica bem porque o container de DI é útil. Aqui vamos explicar principalmente a utilização do container de DI fornecido pelo Yii.
 
 
 Injeção de Dependência <span id="dependency-injection"></span>
@@ -317,7 +317,7 @@ Resumo <span id="summary"></span>
 -------
 
 Ambas as injeção de dependência e [service locator](concept-service-locator.md) são padrões de projetos conhecidos que permitem a construção de software com alta coesão e baixo acoplamento. É altamente recomendável que você leia o
-[Artigo do Martin](http://martinfowler.com/articles/injection.html) para obter uma compreensão mais profunda da injeção de dependência e service locator.
+[Artigo do Martin](https://martinfowler.com/articles/injection.html) para obter uma compreensão mais profunda da injeção de dependência e service locator.
 
 O Yii implementa o [service locator](concept-service-locator.md) no topo da injeção dependência container (DI).
 Quando um service locator tenta criar uma nova instância de objeto, ele irá encaminhar a chamada para o container de DI.
diff --git a/docs/guide-pt-BR/db-active-record.md b/docs/guide-pt-BR/db-active-record.md
index 368a7819f5c..db330813276 100644
--- a/docs/guide-pt-BR/db-active-record.md
+++ b/docs/guide-pt-BR/db-active-record.md
@@ -1,7 +1,7 @@
 Active Record
 =============
 
-O [Active Record](http://en.wikipedia.org/wiki/Active_record_pattern) fornece uma interface orientada a objetos para acessar e manipular dados armazenados em bancos de dados. Uma classe Active Record está associado a uma tabela da base de dados, uma instância do Active Record corresponde a uma linha desta tabela, e um *atributo* desta instância representa o valor de uma coluna desta linha. Em vez de escrever instruções SQL a mão, você pode acessar os atributos do Active Record e chamar os métodos do Active Record para acessar e manipular  os dados armazenados nas tabelas do banco de dados.
+O [Active Record](https://en.wikipedia.org/wiki/Active_record_pattern) fornece uma interface orientada a objetos para acessar e manipular dados armazenados em bancos de dados. Uma classe Active Record está associado a uma tabela da base de dados, uma instância do Active Record corresponde a uma linha desta tabela, e um *atributo* desta instância representa o valor de uma coluna desta linha. Em vez de escrever instruções SQL a mão, você pode acessar os atributos do Active Record e chamar os métodos do Active Record para acessar e manipular  os dados armazenados nas tabelas do banco de dados.
 
 Por exemplo, assumindo que `Customer` é uma classe Active Record que está associada com a tabela `customer` e `name` é uma coluna desta tabela. Você pode escrever o seguinte código para inserir uma nova linha na tabela `customer`:
 
diff --git a/docs/guide-pt-BR/db-migrations.md b/docs/guide-pt-BR/db-migrations.md
index c06ec83cfb7..8ec42df6f41 100644
--- a/docs/guide-pt-BR/db-migrations.md
+++ b/docs/guide-pt-BR/db-migrations.md
@@ -169,7 +169,7 @@ Observe que normalmente quando você realiza múltiplas operações em `safeUp()
 em `safeDown()`. No exemplo acima nós primeiramente criamos a tabela e depois inserimos uma túpla em `safeUp()`; enquanto
 em `safeDown()` nós primeiramente apagamos o registro e depois eliminamos a tabela.
 
-> Observação: Nem todos os SGBDs suportam transações. E algumas requisições de banco não podem ser encapsuladas em uma transação. Para alguns exemplos, referir a [commit implícito](http://dev.mysql.com/doc/refman/5.1/en/implicit-commit.html). Se este for o caso, implemente os métodos `up()` e `down()`.
+> Observação: Nem todos os SGBDs suportam transações. E algumas requisições de banco não podem ser encapsuladas em uma transação. Para alguns exemplos, referir a [commit implícito](https://dev.mysql.com/doc/refman/5.1/en/implicit-commit.html). Se este for o caso, implemente os métodos `up()` e `down()`.
 
 
 ### Métodos de Acesso ao Banco de Dados <span id="db-accessing-methods"></span>
diff --git a/docs/guide-pt-BR/db-query-builder.md b/docs/guide-pt-BR/db-query-builder.md
index e8e6d201396..b598c10fe6d 100644
--- a/docs/guide-pt-BR/db-query-builder.md
+++ b/docs/guide-pt-BR/db-query-builder.md
@@ -220,7 +220,7 @@ onde cada um dos operandos pode ser especificado no formato string, formato hash
 
 - `like`: o operando 1 deve ser uma coluna ou uma expressão DB, e o operando 2 deve ser uma string ou um array representando o valor que a coluna ou expressão DB devem atender. Por exemplo, `['like', 'name', 'tester']` irá gerar `name LIKE '%tester%'`. Quando a faixa de valor é dado como um array, múltiplos predicados `LIKE` serão gerados e concatenadas utilizando `AND`. Por exemplo, `['like', 'name', ['test', 'sample']]` irá gerar `name LIKE '%test%' AND name LIKE '%sample%'`. Você também pode fornecer um terceiro operando opcional para especificar como escapar caracteres especiais nos valores. O operando deve ser um array de mapeamentos de caracteres especiais. Se este operando não for fornecido, um mapeamento de escape padrão será usado. Você pode usar `false` ou um array vazio para indicar que os valores já estão escapados e nenhum escape deve ser aplicado. Note-se que ao usar um mapeamento de escape (ou o terceiro operando não é fornecido), os valores serão automaticamente fechado dentro de um par de caracteres percentuais.
 
- > Observação: Ao utilizar o SGDB PostgreSQL você também pode usar [`ilike`](http://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE)
+ > Observação: Ao utilizar o SGDB PostgreSQL você também pode usar [`ilike`](https://www.postgresql.org/docs/8.3/functions-matching.html#FUNCTIONS-LIKE)
  > em vez de `like` para diferenciar maiúsculas de minúsculas.
 
 - `or like`: similar ao operador `like` exceto pelo fato de que `OR` é usado para concatenar os predicados `LIKE` quando o operando 2 é um array.
diff --git a/docs/guide-pt-BR/helper-url.md b/docs/guide-pt-BR/helper-url.md
index debdd90995d..367b9e6ddfb 100644
--- a/docs/guide-pt-BR/helper-url.md
+++ b/docs/guide-pt-BR/helper-url.md
@@ -73,7 +73,7 @@ echo Url::toRoute(['site/index', 'src' => 'ref1', '#' => 'name']);
 // /index.php?r=post/edit&id=100     assume the alias "@postEdit" is defined as "post/edit"
 echo Url::toRoute(['@postEdit', 'id' => 100]);
 
-// http://www.example.com/index.php?r=site/index
+// https://www.example.com/index.php?r=site/index
 echo Url::toRoute('site/index', true);
 
 // https://www.example.com/index.php?r=site/index
@@ -115,7 +115,7 @@ echo Url::to('@web/images/logo.gif');
 // images/logo.gif
 echo Url::to('images/logo.gif');
 
-// http://www.example.com/images/logo.gif
+// https://www.example.com/images/logo.gif
 echo Url::to('@web/images/logo.gif', true);
 
 // https://www.example.com/images/logo.gif
diff --git a/docs/guide-pt-BR/rest-authentication.md b/docs/guide-pt-BR/rest-authentication.md
index 07d1edc2f8d..203a255ae6f 100644
--- a/docs/guide-pt-BR/rest-authentication.md
+++ b/docs/guide-pt-BR/rest-authentication.md
@@ -5,9 +5,9 @@ Ao contrário de aplicações Web, APIs RESTful são geralmente stateless, o que
 
 Existem diferentes maneiras de enviar um token de acesso:
 
-* [Autenticação Básica HTTP](http://en.wikipedia.org/wiki/Basic_access_authentication): o token de acesso é enviado como um nome de usuário. Isso só deve ser usado quando um token de acesso puder ser armazenado com segurança no lado do consumidor da API. Por exemplo, o consumidor API é um programa executado em um servidor.
+* [Autenticação Básica HTTP](https://en.wikipedia.org/wiki/Basic_access_authentication): o token de acesso é enviado como um nome de usuário. Isso só deve ser usado quando um token de acesso puder ser armazenado com segurança no lado do consumidor da API. Por exemplo, o consumidor API é um programa executado em um servidor.
 * Parâmetro de consulta da URL: o token de acesso é enviado como um parâmetro de consulta na URL da API, ex., `https://example.com/users?access-token=xxxxxxxx`. Como a maioria dos servidores Web manterão os parâmetros de consulta nos logs do servidor, esta abordagem deve ser utilizada principalmente para servir requisições `JSONP` que não pode usar cabeçalhos HTTP para enviar tokens de acesso.
-* [OAuth 2](http://oauth.net/2/): o token de acesso é obtido pelo consumidor a partir de um servidor de autorização e enviado para o servidor da API via [HTTP Bearer Tokens] (http://tools.ietf.org/html/rfc6750),  de acordo com o protocolo OAuth2.
+* [OAuth 2](https://oauth.net/2/): o token de acesso é obtido pelo consumidor a partir de um servidor de autorização e enviado para o servidor da API via [HTTP Bearer Tokens] (https://datatracker.ietf.org/doc/html/rfc6750),  de acordo com o protocolo OAuth2.
 
 Yii suporta todos os métodos de autenticação descritos acima. Você também pode criar facilmente um novo método de autenticação.
 
diff --git a/docs/guide-pt-BR/rest-quick-start.md b/docs/guide-pt-BR/rest-quick-start.md
index c2937b320f3..58647459955 100644
--- a/docs/guide-pt-BR/rest-quick-start.md
+++ b/docs/guide-pt-BR/rest-quick-start.md
@@ -7,7 +7,7 @@ O Yii fornece um conjunto de ferramentas para simplificar a tarefa de implementa
 * Negociação de formato do Response (suporte JSON e XML por padrão);
 * Serialização de objeto configurável com suporte a campos de saída selecionáveis;
 * Formatação adequada para a coleção e dados e validação de erros;
-* Suporte a [HATEOAS](http://en.wikipedia.org/wiki/HATEOAS);
+* Suporte a [HATEOAS](https://en.wikipedia.org/wiki/HATEOAS);
 * Roteamento eficiente com verificação dos verbs (métodos) HTTP;
 * Construído com suporte aos métodos `OPTIONS` e `HEAD`;
 * Autenticação e autorização;
diff --git a/docs/guide-pt-BR/rest-resources.md b/docs/guide-pt-BR/rest-resources.md
index 8e55f5467e3..89166878529 100644
--- a/docs/guide-pt-BR/rest-resources.md
+++ b/docs/guide-pt-BR/rest-resources.md
@@ -117,7 +117,7 @@ o request com `http://localhost/users?fields=id,email&expand=profile` pode retor
 
 ## Links <span id="links"></span>
 
-[HATEOAS](http://en.wikipedia.org/wiki/HATEOAS) é uma abreviação de “Hypermedia as the Engine of Application State”, que promove as APIs Restfull retornarem informações para permitir aos clientes descobrirem quais ações são suportadas pelos recursos retornados. O sentido de HATEOAS é retornar um conjunto de hiperlinks em relação às informações quando os recursos de dados são servidos pelas APIs.
+[HATEOAS](https://en.wikipedia.org/wiki/HATEOAS) é uma abreviação de “Hypermedia as the Engine of Application State”, que promove as APIs Restfull retornarem informações para permitir aos clientes descobrirem quais ações são suportadas pelos recursos retornados. O sentido de HATEOAS é retornar um conjunto de hiperlinks em relação às informações quando os recursos de dados são servidos pelas APIs.
 
 Suas classes de recursos podem suportar HATEOAS implementando a interface [[yii\web\Linkable]]. Esta interface contém um único método [[yii\web\Linkable::getLinks()|getLinks()]] que deve retornar uma lista de [[yii\web\Link|links]].
 Tipicamente, você deve retornar pelo menos o link `self` representando a URL para o mesmo objeto de recurso. Por exemplo:
diff --git a/docs/guide-pt-BR/rest-response-formatting.md b/docs/guide-pt-BR/rest-response-formatting.md
index 9215d2aa5a5..84081026d13 100644
--- a/docs/guide-pt-BR/rest-response-formatting.md
+++ b/docs/guide-pt-BR/rest-response-formatting.md
@@ -3,7 +3,7 @@ Formatando Respostas
 
 Ao manipular uma requisição da API RESTful, a aplicação normalmente realiza as seguintes etapas que estão relacionadas com a formatação da resposta:
 
-1. Determinar diversos fatores que podem afetar o formato da resposta, tais como tipo de mídia, idioma, versão, etc. Este processo também é conhecido como [negociação de conteúdo (*content negotiation*)](http://en.wikipedia.org/wiki/Content_negotiation).
+1. Determinar diversos fatores que podem afetar o formato da resposta, tais como tipo de mídia, idioma, versão, etc. Este processo também é conhecido como [negociação de conteúdo (*content negotiation*)](https://en.wikipedia.org/wiki/Content_negotiation).
 2. Converter objetos de recursos em arrays, como descrito na seção [Recursos](rest-resources.md). Isto é feito por [[yii\rest\Serializer]].
 3. Converte arrays em uma string no formato como determinado pela etapa de negociação de conteúdo. Isto é feito pelos [[yii\web\ResponseFormatterInterface|formatadores de respostas]] registrados na propriedade [[yii\web\Response::formatters|formatters]] do [componente de aplicação](structure-application-components.md) `response`.
 
diff --git a/docs/guide-pt-BR/rest-versioning.md b/docs/guide-pt-BR/rest-versioning.md
index ceb16f5c6c1..5f36dadfbef 100644
--- a/docs/guide-pt-BR/rest-versioning.md
+++ b/docs/guide-pt-BR/rest-versioning.md
@@ -3,9 +3,9 @@ Versionamento
 
 Uma boa API é *versionada*: Mudanças e novos recursos são implementados em novas versões da API em vez de alterar continuamente apenas uma versão. Diferente de aplicações Web, com a qual você tem total controle do código de ambos os lados cliente e servidor, APIs são destinadas a ser utilizadas por clientes além de seu controle. Por esta razão, a compatibilidade (BC) entre as APIs deve ser mantida sempre que possível. Se uma mudança que pode quebrar esta compatibilidade é necessária, você deve introduzi-la em uma nova versão de API e subir o número da versão. Os clientes existentes podem continuar a usar a versão antiga da API; e os clientes novos ou atualizados podem obter a nova funcionalidade na nova versão da API.
 
-> Dica: Consulte o artigo [Semantic Versioning](http://semver.org/) para obter mais informações sobre como projetar números de versão da API.
+> Dica: Consulte o artigo [Semantic Versioning](https://semver.org/) para obter mais informações sobre como projetar números de versão da API.
 
-Uma maneira comum de implementar versionamento de API é incorporar o número da versão nas URLs da API. Por exemplo, `http://example.com/v1/users` representa o terminal `/users` da API versão 1.
+Uma maneira comum de implementar versionamento de API é incorporar o número da versão nas URLs da API. Por exemplo, `https://example.com/v1/users` representa o terminal `/users` da API versão 1.
 
 Outro método de versionamento de API, que tem sido muito utilizado recentemente, é colocar o número da versão nos cabeçalhos das requisições HTTP. Isto é tipicamente feito através do cabeçalho `Accept`:
 
@@ -80,7 +80,7 @@ return [
 ];
 ```
 
-Como resultado do código acima, `http://example.com/v1/users` retornará a lista de usuários na versão 1, enquanto `http://example.com/v2/users` retornará a lista de usuários na versão 2.
+Como resultado do código acima, `https://example.com/v1/users` retornará a lista de usuários na versão 1, enquanto `https://example.com/v2/users` retornará a lista de usuários na versão 2.
 
 Graças aos módulos, o código para diferentes versões principais pode ser bem isolado. Entretanto esta abordagem torna possível a reutilização de código entre os módulos através de classes bases comuns e outros recursos partilhados.
  
diff --git a/docs/guide-pt-BR/runtime-requests.md b/docs/guide-pt-BR/runtime-requests.md
index a40349c3d4b..91a46df6095 100644
--- a/docs/guide-pt-BR/runtime-requests.md
+++ b/docs/guide-pt-BR/runtime-requests.md
@@ -85,14 +85,14 @@ if ($request->isPut)  { /* o método da requisição é PUT */ }
 ## URLs da Requisição <span id="request-urls"></span>
 
 O componente `request` fornece muitas formas de inspecionar a atual URL da requisição.
-Assumindo que a URL da requisição seja `http://example.com/admin/index.php/product?id=100`, 
+Assumindo que a URL da requisição seja `https://example.com/admin/index.php/product?id=100`, 
 você pode obter várias partes desta URL através das propriedades explicadas a seguir:
 
 * [[yii\web\Request::url|url]]: retorna `/admin/index.php/product?id=100`, que é 
   a URL sem as informações de protocolo e de domínio. 
-* [[yii\web\Request::absoluteUrl|absoluteUrl]]: retorna `http://example.com/admin/index.php/product?id=100`, 
+* [[yii\web\Request::absoluteUrl|absoluteUrl]]: retorna `https://example.com/admin/index.php/product?id=100`, 
   que é a URL completa, incluindo as informações de protocolo e de domínio.
-* [[yii\web\Request::hostInfo|hostInfo]]: retorna `http://example.com`, que são 
+* [[yii\web\Request::hostInfo|hostInfo]]: retorna `https://example.com`, que são 
   as informações de protocolo e de domínio da URL.
 * [[yii\web\Request::pathInfo|pathInfo]]: retorna `/product`, que é a informação 
   depois do script de entrada e antes da interrogação (da query string).
diff --git a/docs/guide-pt-BR/runtime-routing.md b/docs/guide-pt-BR/runtime-routing.md
index 7357839bab5..b6353daecd7 100644
--- a/docs/guide-pt-BR/runtime-routing.md
+++ b/docs/guide-pt-BR/runtime-routing.md
@@ -173,7 +173,7 @@ echo Url::to(['post/view', 'id' => 100]);
 // cria uma URL ancorada: /index.php?r=post/view&id=100#content
 echo Url::to(['post/view', 'id' => 100, '#' => 'content']);
 
-// cria uma URL absoluta: http://www.example.com/index.php?r=post/index
+// cria uma URL absoluta: https://www.example.com/index.php?r=post/index
 echo Url::to(['post/index'], true);
 
 // cria uma URL absoluta usando https: https://www.example.com/index.php?r=post/index
@@ -240,11 +240,11 @@ use yii\helpers\Url;
 // rota atual requerida: /index.php?r=admin/post/index
 echo Url::to();
 
-// uma alias da URL: http://example.com
-Yii::setAlias('@example', 'http://example.com/');
+// uma alias da URL: https://example.com
+Yii::setAlias('@example', 'https://example.com/');
 echo Url::to('@example');
 
-// uma URL absoluta: http://example.com/images/logo.gif
+// uma URL absoluta: https://example.com/images/logo.gif
 echo Url::to('/images/logo.gif', true);
 ```
 
@@ -501,19 +501,19 @@ mesmo resultado.
 É possível incluir domínios nos padrões das regras de URL. Isto é útil quando sua
 aplicação se comporta de forma diferente em diferentes domínios. Por exemplo, a 
 regra a seguir obtém a rota `admin/user/login` pela análise da URL 
-`http://admin.example.com/login` e a rota `site/login` pela análise da URL 
-`http://www.example.com/login`.
+`https://admin.example.com/login` e a rota `site/login` pela análise da URL 
+`https://www.example.com/login`.
 
 ```php
 [
-    'http://admin.example.com/login' => 'admin/user/login',
-    'http://www.example.com/login' => 'site/login',
+    'https://admin.example.com/login' => 'admin/user/login',
+    'https://www.example.com/login' => 'site/login',
 ]
 ```
 
 Você também pode incorporar parâmetros nos domínios para extrair informações 
 dinamicamente a partir deles. Por exemplo, a regra a seguir obtém a rota 
-`post/index` e o parâmetro `language=en` pela análise da URL `http://en.example.com/posts`
+`post/index` e o parâmetro `language=en` pela análise da URL `https://en.example.com/posts`
 
 ```php
 [
@@ -523,8 +523,8 @@ dinamicamente a partir deles. Por exemplo, a regra a seguir obtém a rota
 
 > Observação: Regras com domínios NÃO devem ser incluídos com subpastas do script 
   de entrada em seus padrões. Por exemplo, se a aplicação estiver sob 
-  `http://www.example.com/sandbox/blog`, você deve usar o padrão 
-  `http://www.example.com/posts` ao invés de `http://www.example.com/sandbox/blog/posts`. 
+  `https://www.example.com/sandbox/blog`, você deve usar o padrão 
+  `https://www.example.com/posts` ao invés de `https://www.example.com/sandbox/blog/posts`. 
   Isto permite que sua aplicação seja implantado sob qualquer diretório sem a 
   necessidade de alterar o código da aplicação.
 
diff --git a/docs/guide-pt-BR/runtime-sessions-cookies.md b/docs/guide-pt-BR/runtime-sessions-cookies.md
index 1941937b0fc..c715241fd53 100644
--- a/docs/guide-pt-BR/runtime-sessions-cookies.md
+++ b/docs/guide-pt-BR/runtime-sessions-cookies.md
@@ -120,7 +120,7 @@ A classe padrão [[yii\web\Session]] armazena dados da sessão como arquivos no
 
 * [[yii\web\DbSession]]: armazena dados de sessão em uma tabela no banco de dados.
 * [[yii\web\CacheSession]]: armazena dados de sessão em um cache com a ajuda de um [cache component](caching-data.md#cache-components) configurado.
-* [[yii\redis\Session]]: armazena dados de sessão utilizando [redis](http://redis.io/) como meio de armazenamento.
+* [[yii\redis\Session]]: armazena dados de sessão utilizando [redis](https://redis.io/) como meio de armazenamento.
 * [[yii\mongodb\Session]]: armazena dados de sessão em um [MongoDB](https://www.mongodb.com/).
 
 Todas essas classes de sessão suportam o mesmo conjunto de métodos da API. Como resultado, você pode mudar para uma classe de armazenamento de sessão diferente, sem a necessidade de modificar o código da aplicação que usa sessões.
diff --git a/docs/guide-pt-BR/security-authorization.md b/docs/guide-pt-BR/security-authorization.md
index 9f312bafffd..bf691b62a03 100644
--- a/docs/guide-pt-BR/security-authorization.md
+++ b/docs/guide-pt-BR/security-authorization.md
@@ -129,7 +129,7 @@ class SiteController extends Controller
 
 ## Controle de Acesso Baseado em Role (RBAC) <span id="rbac"></span>
 
-Controle de Acesso Baseado em Role (RBAC) fornece um simples porém poderoso controle de acesso centralizado. Por favor, consulte [Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control) para obter detalhes sobre comparação de RBAC com outros sistemas de controle de acesso mais tradicionais.
+Controle de Acesso Baseado em Role (RBAC) fornece um simples porém poderoso controle de acesso centralizado. Por favor, consulte [Wikipedia](https://en.wikipedia.org/wiki/Role-based_access_control) para obter detalhes sobre comparação de RBAC com outros sistemas de controle de acesso mais tradicionais.
 
 Yii implementa um RBAC Hierárquico genérico, conforme [NIST RBAC model](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf). Ele fornece as funcionalidades RBAC através do [componente de aplicação](structure-application-components.md) [[yii\rbac\ManagerInterface|authManager]].
 
diff --git a/docs/guide-pt-BR/start-databases.md b/docs/guide-pt-BR/start-databases.md
index 8aa6ee658bf..816b39f3b20 100644
--- a/docs/guide-pt-BR/start-databases.md
+++ b/docs/guide-pt-BR/start-databases.md
@@ -241,7 +241,7 @@ Conferindo <span id="trying-it-out"></span>
 Para ver se todo os códigos acima funcionam, use o seu navegador para acessar a seguinte URL:
 
 ```
-http://hostname/index.php?r=pais/index
+https://hostname/index.php?r=pais/index
 ```
 
 ![Lista de Países](images/start-country-list.png)
@@ -253,7 +253,7 @@ página de registros. Observe mais cuidadosamente e você perceberá que a URL n
 browser mudou para
 
 ```
-http://hostname/index.php?r=pais/index&page=2
+https://hostname/index.php?r=pais/index&page=2
 ```
 
 Por trás das cortinas, [[yii\data\Pagination|Pagination]] está fornecendo toda
diff --git a/docs/guide-pt-BR/start-forms.md b/docs/guide-pt-BR/start-forms.md
index a62381ca147..709eb858112 100644
--- a/docs/guide-pt-BR/start-forms.md
+++ b/docs/guide-pt-BR/start-forms.md
@@ -130,7 +130,7 @@ Se tudo estiver certo, a action renderizará a view chamada `confirmar-registro`
 e seu formulário HTML voltará a ser exibido mas, dessa vez, juntamente com as mensagens de erro de validação.
 
 > Nota: Neste exemplo muito simples, renderizamos a página de confirmação somente se os dados enviados eram válidos. Na prática, você deve considerar usar [[yii\web\Controller::refresh()|refresh()]] ou [[yii\web\Controller::redirect()|redirect()]]
-  para evitar [problemas de reenvio de formulário](http://en.wikipedia.org/wiki/Post/Redirect/Get).
+  para evitar [problemas de reenvio de formulário](https://en.wikipedia.org/wiki/Post/Redirect/Get).
 
 
 Criando Views <span id="creating-views"></span>
@@ -175,7 +175,7 @@ use yii\widgets\ActiveForm;
 A view usa um poderoso [widget](structure-widgets.md) chamado
 [[yii\widgets\ActiveForm|ActiveForm]] para construir o formulário HTML. Os métodos
 `begin()` e `end()` do widget renderizam as tags de abertura e de fechamento do formulário.
-Entre as duas chamadas de métido, campos são criados pelo
+Entre as duas chamadas de método, campos são criados pelo
 método [[yii\widgets\ActiveForm::field()|field()]]. O primeiro campo é para o nome e o segundo é para o e-mail. Após os campos,
 o método [[yii\helpers\Html::submitButton()]] é chamado para criar um botão de envio do formulário (submit).
 
@@ -186,7 +186,7 @@ Conferindo <span id="trying-it-out"></span>
 Para ver como funciona, utilize seu navegador para acessar a seguinte URL:
 
 ```
-http://hostname/index.php?r=site/registro
+https://hostname/index.php?r=site/registro
 ```
 
 Você verá uma página exibindo um formulário com dois campos. Na frente de cada campo, um *label* indica quais dados devem ser inseridos. Se você clicar
diff --git a/docs/guide-pt-BR/start-gii.md b/docs/guide-pt-BR/start-gii.md
index a31c24808bb..72c082c3e5f 100644
--- a/docs/guide-pt-BR/start-gii.md
+++ b/docs/guide-pt-BR/start-gii.md
@@ -38,7 +38,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 Graças a essa linha, sua aplicação está em modo de desenvolvimento e terá o Gii habilitado, devido a configuração mais acima. Agora você pode acessar o Gii pela URL:
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 > Note: Se você está acessando o Gii por um endereço IP que não seja o localhost, o acesso será negado por padrão, por questões de segurança.
@@ -100,7 +100,7 @@ Conferindo <span id="trying-it-out"></span>
 Para ver como ficou, use seu navegador para acessar a seguinte URL:
 
 ```
-http://hostname/index.php?r=pais/index
+https://hostname/index.php?r=pais/index
 ```
 
 Você verá uma tabela mostrando os países do seu banco de dados. Você pode ordená-los ou filtrá-los inserindo condições nos cabeçalhos das colunas.
diff --git a/docs/guide-pt-BR/start-hello.md b/docs/guide-pt-BR/start-hello.md
index 927c89f07c9..c75956d2a69 100644
--- a/docs/guide-pt-BR/start-hello.md
+++ b/docs/guide-pt-BR/start-hello.md
@@ -92,7 +92,7 @@ o arquivo PHP em `views/IDdoController/NomeDaView.php`.
 
 Perceba que no código acima o parâmetro `mensagem` é [[yii\helpers\Html::encode()|codificado como HTML]]
 antes de ser impresso. Isso é necessário, já que o parâmetro vem de um usuário final,
-tornando-o vulnerável a [ataques de cross-site scripting (XSS)](http://en.wikipedia.org/wiki/Cross-site_scripting)
+tornando-o vulnerável a [ataques de cross-site scripting (XSS)](https://en.wikipedia.org/wiki/Cross-site_scripting)
 por embutir código JavaScript malicioso no parâmetro.
 
 Naturalmente, você pode colocar mais conteúdo na view `cumprimentar`. O conteúdo pode consistir
@@ -108,7 +108,7 @@ Conferindo <span id="trying-it-out"></span>
 Após criar a action e a view, você pode acessar a nova página através da seguinte URL:
 
 ```
-http://hostname/index.php?r=site/cumprimentar&mensagem=Olá+Mundo!
+https://hostname/index.php?r=site/cumprimentar&mensagem=Olá+Mundo!
 ```
 
 ![Olá Mundo!](images/start-hello-world.png)
diff --git a/docs/guide-pt-BR/start-installation.md b/docs/guide-pt-BR/start-installation.md
index 5946bc63298..44e608c6c47 100644
--- a/docs/guide-pt-BR/start-installation.md
+++ b/docs/guide-pt-BR/start-installation.md
@@ -120,7 +120,7 @@ No entanto, existem outras opções de instalação disponíveis:
 Instalando Recursos Estáticos (Assets) <span id="installing-assets"></span>
 -----------------
 
-Yii utiliza os pacotes [Bower](http://bower.io/) e/ou [NPM](https://www.npmjs.com/) para a instalação das bibliotecas de recursos estáticos (CSS and JavaScript).
+Yii utiliza os pacotes [Bower](https://bower.io/) e/ou [NPM](https://www.npmjs.com/) para a instalação das bibliotecas de recursos estáticos (CSS and JavaScript).
 Ele usa composer para obter essa bibliotecas, permitindo que versões de pacotes PHP, CSS e Javascrtip possam ser definidas/instaladas ao mesmo tempo.
 Isto é possível por usar ou [asset-packagist.org](https://asset-packagist.org) ou [composer asset plugin](https://github.com/fxpio/composer-asset-plugin).
 Por favor, consulta a [documentação sobre Assets](structure-assets.md) para mais detalhes.
@@ -186,13 +186,13 @@ Configurando Servidores Web <span id="configuring-web-servers"></span>
 > Info: Você pode pular essa subseção por enquanto se estiver fazendo somente um test drive do Yii sem a intenção de publicá-lo em um servidor de produção.
 
 A aplicação instalada de acordo com as instruções acima deve funcionar imediatamente
-com um [Servidor HTTP Apache](http://httpd.apache.org/) ou um [Servidor HTTP Nginx](http://nginx.org/),
+com um [Servidor HTTP Apache](https://httpd.apache.org/) ou um [Servidor HTTP Nginx](https://nginx.org/),
 no Windows, Mac OS X ou Linux usando PHP 5.4 ou superior. O Yii 2.0 também é compatível
-com o [HHVM](http://hhvm.com/) do Facebook. No entanto, existem alguns casos extremos em que o HHVM se comporta diferentemente do PHP nativo, então você terá que ter um cuidado extra quando usar o HHVM.
+com o [HHVM](https://hhvm.com/) do Facebook. No entanto, existem alguns casos extremos em que o HHVM se comporta diferentemente do PHP nativo, então você terá que ter um cuidado extra quando usar o HHVM.
 
 Em um servidor de produção, você pode querer configurar o seu servidor Web de
-modo que a aplicação possa ser acessada pela URL `http://www.example.com/index.php`
-ao invés de `http://www.example.com/basico/web/index.php`. Tal configuração requer que
+modo que a aplicação possa ser acessada pela URL `https://www.example.com/index.php`
+ao invés de `https://www.example.com/basico/web/index.php`. Tal configuração requer que
 você aponte a raiz dos documentos de seu servidor Web para o diretório `basico/web`.
 Você também pode querer ocultar o `index.php` da URL, conforme descrito na seção
 [Roteamento e Criação de URL](runtime-routing.md). Nessa sub-seção, você
@@ -242,7 +242,7 @@ DocumentRoot "caminho/para/basico/web"
 
 ### Configuração do Nginx Recomendada <span id="recommended-nginx-configuration"></span>
 
-Para usar o [Nginx](http://wiki.nginx.org/), você deve ter instalado o PHP como um [FPM SAPI](https://www.php.net/install.fpm). Use a seguinte configuração do Nginx,
+Para usar o [Nginx](https://wiki.nginx.org/), você deve ter instalado o PHP como um [FPM SAPI](https://www.php.net/install.fpm). Use a seguinte configuração do Nginx,
 substituindo `caminho/para/basico/web` com o caminho real para `basico/web` e `mysite.test` com o nome de host real a servir.
 
 ```nginx
diff --git a/docs/guide-pt-BR/start-looking-ahead.md b/docs/guide-pt-BR/start-looking-ahead.md
index 9e9af91ba9f..d0ad41ce863 100644
--- a/docs/guide-pt-BR/start-looking-ahead.md
+++ b/docs/guide-pt-BR/start-looking-ahead.md
@@ -35,4 +35,4 @@ Esta seção resume recursos Yii disponíveis que o ajudarão a ser mais produti
     - Facebook: <https://www.facebook.com/groups/yiitalk/>
     - Twitter: <https://twitter.com/yiiframework>
     - LinkedIn: <https://www.linkedin.com/groups/yii-framework-1483367>
-    - Stackoverflow: <http://stackoverflow.com/questions/tagged/yii2>
+    - Stackoverflow: <https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide-pt-BR/start-workflow.md b/docs/guide-pt-BR/start-workflow.md
index e5c63002da8..019be8b3ba9 100644
--- a/docs/guide-pt-BR/start-workflow.md
+++ b/docs/guide-pt-BR/start-workflow.md
@@ -2,13 +2,13 @@ Executando Aplicações
 =====================
 
 Após instalar o Yii, você tem uma aplicação Yii funcional que pode ser acessada
-pela URL `http://hostname/basico/web/index.php` ou `http://hostname/index.php`,
+pela URL `https://hostname/basico/web/index.php` ou `https://hostname/index.php`,
 dependendo de sua configuração. Esta seção introduzirá a funcionalidade embutida
 da aplicação, como o código é organizado e como a aplicação trata as requisições em geral.
 
 > Info: Por questões de simplicidade, por todo este tutorial de "Primeiros Passos"
   assume-se que você definiu `basico/web` como a raiz de documentos do seu
-  servidor Web e configurou a URL de acesso de sua aplicação como `http://hostname/index.php`
+  servidor Web e configurou a URL de acesso de sua aplicação como `https://hostname/index.php`
   ou algo semelhante.
   Por favor, ajuste as URLs em nossas descrições conforme necessário.
 
@@ -20,7 +20,7 @@ Funcionalidade <span id="functionality"></span>
 
 O template básico de projetos instalado contém quatro páginas:
 
-* A página inicial, exibida quando você acessa a URL `http://hostname/index.php`,
+* A página inicial, exibida quando você acessa a URL `https://hostname/index.php`,
 * a página "About" (Sobre),
 * a página "Contact" (Contato), que exibe um formulário de contato que permite
   que usuários finais entrem em contato com você via e-mail,
@@ -42,7 +42,7 @@ Estrutura da Aplicação <span id="application-structure"></span>
 
 Os diretórios e arquivos mais importantes em sua aplicação, assumindo que o diretório raiz dela é o `basico`, são:
 
-```js
+```
 basico/                  caminho base de sua aplicação
     composer.json       usado pelo Composer, descreve informações de pacotes
     config/             contém as configurações da aplicação e outras
@@ -63,7 +63,7 @@ basico/                  caminho base de sua aplicação
 Em geral, os arquivos na aplicação podem ser divididos em dois tipos: aqueles em `basico/web` e aqueles em outros diretórios.
 Os primeiros podem ser acessados diretamente via HTTP (ou seja, em um navegador), enquanto os demais não podem e deveriam ser acessados.
 
-O Yii implementa o padrão de arquitetura [modelo-visão-controlador (MVC)](http://wikipedia.org/wiki/Model-view-controller),
+O Yii implementa o padrão de arquitetura [modelo-visão-controlador (MVC)](https://wikipedia.org/wiki/Model-view-controller),
 que se reflete na organização de diretórios acima. O diretório `models` contém
 todas as [classes de modelos](structure-models.md), o diretório `views` contém todos
 os [scripts de visões](structure-views.md), e o diretório `controllers` contém
diff --git a/docs/guide-pt-BR/structure-applications.md b/docs/guide-pt-BR/structure-applications.md
index 7632a900a87..8821be51cfe 100644
--- a/docs/guide-pt-BR/structure-applications.md
+++ b/docs/guide-pt-BR/structure-applications.md
@@ -302,7 +302,7 @@ exemplo, o widget [[yii\jui\DatePicker]] usará o valor dessa propriedade por
 padrão para determinar em qual idioma o calendário deverá ser exibido e
 como a data deve ser formatada.
 
-Recomenda-se que você especifique um idioma em termos de um [código de idioma IETF](http://en.wikipedia.org/wiki/IETF_language_tag).
+Recomenda-se que você especifique um idioma em termos de um [código de idioma IETF](https://en.wikipedia.org/wiki/IETF_language_tag).
 Por exenplo, `en` corresponde ao inglês, enquanto `en-US` significa inglês dos
 Estados Unidos.
 
@@ -385,7 +385,7 @@ configurar essa propriedade se o conteúdo do texto no seu código não estiver
 em inglês.
 
 Conforme a propriedade [language](#language), você deve configurar essa propriedade
-em termos de um [código de idioma IETF](http://en.wikipedia.org/wiki/IETF_language_tag).
+em termos de um [código de idioma IETF](https://en.wikipedia.org/wiki/IETF_language_tag).
 Por exemplo, `en` corresponde ao inglês, enquanto `en-US` significa inglês dos
 Estados Unidos.
 
diff --git a/docs/guide-pt-BR/structure-assets.md b/docs/guide-pt-BR/structure-assets.md
index ba1f7392bdc..c070de917e1 100644
--- a/docs/guide-pt-BR/structure-assets.md
+++ b/docs/guide-pt-BR/structure-assets.md
@@ -96,7 +96,7 @@ O bundle depende de outros dois bundles: [[yii\web\YiiAsset]] e
     arquivo pode ser determinado pela precedência do [[yii\web\AssetManager::baseUrl]] 
     no caminho relativo.
   - uma URL absoluta representando um arquivo JavaScript externo. Por exemplo, 
-    `http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` ou 
+    `https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` ou 
     `//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js`.
 * [[yii\web\AssetBundle::css|css]]: uma array listando os arquivos CSS contidos 
   neste bundle. O formato deste array é igual ao que foi mencionado no 
@@ -256,7 +256,7 @@ publicação `beforeCopy`, apenas os subdiretórios `fonts` e `css` serão publi
 
 ### Assets do Bower e NPM<span id="bower-npm-assets"></span>
 
-A maioria dos pacotes JavaScript/CSS são gerenciados pelo [Bower](http://bower.io/) 
+A maioria dos pacotes JavaScript/CSS são gerenciados pelo [Bower](https://bower.io/) 
 e/ou [NPM](https://www.npmjs.com/).
 Se sua aplicação ou extensão estiver usando um destes pacotes, é recomendado que 
 você siga os passos a seguir para gerenciar os assets na biblioteca:
@@ -506,8 +506,8 @@ conforme descrito na subseção [Personalizando os Asset Bundles](#customizing-a
 Ao invés de escrever diretamente códigos CSS e/ou JavaScript, os desenvolvedores 
 geralmente os escrevem em alguma sintaxe estendida e usam ferramentas especiais 
 para converte-los em CSS/JavaScript. Por exemplo, para o código CSS você pode 
-usar [LESS](http://lesscss.org/) ou [SCSS](http://sass-lang.com/); e para o 
-JavaScript você pode usar o [TypeScript](http://www.typescriptlang.org/).
+usar [LESS](https://lesscss.org/) ou [SCSS](https://sass-lang.com/); e para o 
+JavaScript você pode usar o [TypeScript](https://www.typescriptlang.org/).
 
 Você pode listar os arquivos de asset em sintaxe estendida nas propriedades 
 [[yii\web\AssetBundle::css|css]] e [[yii\web\AssetBundle::js|js]] de um asset 
@@ -581,7 +581,7 @@ de asset fonte e pelo caminho do arquivo de asset de destino.
 
 > Informação: Existem outros modos de trabalhar com assets em sintaxe estendida, 
   além do descrito acima. Por exemplo, você pode usar ferramentas de compilação 
-  tais como o [grunt](http://gruntjs.com/) para monitorar e automatizar a conversão 
+  tais como o [grunt](https://gruntjs.com/) para monitorar e automatizar a conversão 
   de assets em sintaxe estendidas. Neste caso, você deve listar os arquivos de 
   CSS/JavaScript resultantes nos asset bundles ao invés dos arquivos originais.
 
@@ -795,7 +795,7 @@ conforme descrito na última subseção.
 
 > Informação: O uso do comando `asset` não é a única opção para automatizar o 
   processo de combinação e compressão de asset. Você pode usar a excelente 
-  ferramenta chamada [grunt](http://gruntjs.com/) para atingir o mesmo objetivo.
+  ferramenta chamada [grunt](https://gruntjs.com/) para atingir o mesmo objetivo.
 
 ### Agrupando Asset Bundles <span id="grouping-asset-bundles"></span>
 
diff --git a/docs/guide-pt-BR/structure-controllers.md b/docs/guide-pt-BR/structure-controllers.md
index a77fb4dd803..5f923f0ab07 100644
--- a/docs/guide-pt-BR/structure-controllers.md
+++ b/docs/guide-pt-BR/structure-controllers.md
@@ -1,7 +1,7 @@
 Controllers (Controladores)
 ===========
 
-Os controllers (controladores) fazem parte da arquitetura [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
+Os controllers (controladores) fazem parte da arquitetura [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
 São objetos de classes que estendem de [[yii\base\Controller]] e são responsáveis
 pelo processamento das requisições e por gerar respostas. Em particular, após
 assumir o controle de [applications](structure-applications.md), controllers
@@ -88,7 +88,7 @@ ou o seguinte formato se o controller estiver em um módulo:
 IDdoModule/IDdoController/IDdoAction
 ```
 
-Portanto, se um usuário fizer uma requisição com a URL `http://hostname/index.php?r=site/index`,
+Portanto, se um usuário fizer uma requisição com a URL `https://hostname/index.php?r=site/index`,
 a ação `index` do controller `site` será executada. Para mais detalhes sobre como
 as ações são resolvidas pelas rotas, por favor consulte a seção [Roteamento e Criação de URL](runtime-routing.md).
 
@@ -194,7 +194,7 @@ Quando uma requisição não especificar uma [rota](#id-da-rota), será utilizad
 rota especificada pela propriedade.
 Para as [[yii\web\Application|aplicações Web]], este valor é `'site'`, enquanto
 para as [[yii\console\Application|aplicações console]] é `help`. Portanto, se uma
-URL for `http://hostname/index.php`, o controller `site` será utilizado nesta requisição.
+URL for `https://hostname/index.php`, o controller `site` será utilizado nesta requisição.
 
 Você pode alterar o controller padrão como a seguinte [configuração da aplicação](structure-applications.md#application-configurations):
 
@@ -349,8 +349,8 @@ retorna um objeto de resposta):
 ```php
 public function actionForward()
 {
-    // redireciona o navegador do usuário para http://example.com
-    return $this->redirect('http://example.com');
+    // redireciona o navegador do usuário para https://example.com
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -384,14 +384,14 @@ class PostController extends Controller
 
 A seguir, os parâmetros da ação serão populados em diferentes requisições:
 
-* `http://hostname/index.php?r=post/view&id=123`: o parâmetro `$id` receberá
+* `https://hostname/index.php?r=post/view&id=123`: o parâmetro `$id` receberá
   o valor `'123'`, enquanto o `$version` continuará com o valor nulo porque não
   existe o parâmetro `version` na URL.
-* `http://hostname/index.php?r=post/view&id=123&version=2`: os parâmetros `$id`
+* `https://hostname/index.php?r=post/view&id=123&version=2`: os parâmetros `$id`
   e `$version` serão receberão os valores `'123'` e `'2'`, respectivamente.
-* `http://hostname/index.php?r=post/view`: uma exceção [[yii\web\BadRequestHttpException]]
+* `https://hostname/index.php?r=post/view`: uma exceção [[yii\web\BadRequestHttpException]]
   será lançada porque o parâmetro obrigatório `$id` não foi informado na requisição.
-* `http://hostname/index.php?r=post/view&id[]=123`: uma exceção [[yii\web\BadRequestHttpException]]
+* `https://hostname/index.php?r=post/view&id[]=123`: uma exceção [[yii\web\BadRequestHttpException]]
   será lançada porque o parâmetro `$id` foi informado com um valor array `['123']`
   na qual não era esperado.
 
@@ -405,9 +405,9 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-Agora, se a requisição for `http://hostname/index.php?r=post/view&id[]=123`, o
+Agora, se a requisição for `https://hostname/index.php?r=post/view&id[]=123`, o
 parâmetro `$id` receberá o valor `['123']`. Se a requisição for
-`http://hostname/index.php?r=post/view&id=123`, o parâmetro `$id` ainda receberá
+`https://hostname/index.php?r=post/view&id=123`, o parâmetro `$id` ainda receberá
 um array como valor pois o valor escalar `'123'` será convertido automaticamente
 em um array.
 
diff --git a/docs/guide-pt-BR/structure-extensions.md b/docs/guide-pt-BR/structure-extensions.md
index cbe0183bcf3..4fee19c41f0 100644
--- a/docs/guide-pt-BR/structure-extensions.md
+++ b/docs/guide-pt-BR/structure-extensions.md
@@ -91,7 +91,7 @@ Para fazer isto, você deve:
 3. fazer o download e instalar todas as extensões dependentes que foi instruído.
 
 Se uma extensão não tiver uma classe autoloader seguindo a 
-[norma PSR-4](http://www.php-fig.org/psr/psr-4/), você pode usar a classe 
+[norma PSR-4](https://www.php-fig.org/psr/psr-4/), você pode usar a classe 
 autoloader fornecida pelo Yii para carregar automaticamente as classes de 
 extensão. Tudo o que você precisa fazer é declarar uma 
 [alias root](concept-aliases.md#defining-aliases) para o diretório root da 
@@ -219,7 +219,7 @@ de listar as constantes de versões apropriadas (por exemplo, `1.*`, `@stable`)
 para cada pacote dependente. Utilize dependências estáveis quando sua extensão 
 estiver em uma versão estável.
 
-A maioria dos pacotes JavaScript/CSS são gerenciados pelo [Bower](http://bower.io/) 
+A maioria dos pacotes JavaScript/CSS são gerenciados pelo [Bower](https://bower.io/) 
 e/ou pelo [NPM](https://www.npmjs.com/), ao invés do Composer. O Yii usa o 
 [plugin de asset do Composer](https://github.com/fxpio/composer-asset-plugin) 
 para habilitar a gerência destes tipos de pacotes através do Composer. Se sua 
@@ -286,8 +286,8 @@ alta qualidade.
 
 Para evitar conflitos de nomes e criar classes autocarregáveis em sua extensão, 
 você deve usar namespaces e nomear as classes seguindo o 
-[padrão PSR-4](http://www.php-fig.org/psr/psr-4/) ou o 
-[padrão PSR-0](http://www.php-fig.org/psr/psr-0/).
+[padrão PSR-4](https://www.php-fig.org/psr/psr-4/) ou o 
+[padrão PSR-0](https://www.php-fig.org/psr/psr-0/).
 
 Seus namespaces de classes devem iniciar com `vendorName\extensionName`, onde a 
 `extensionName` é semelhante ao nome da extensão, exceto que ele não deve conter 
@@ -422,7 +422,7 @@ por favor, consulte a seção [Testing](test-overview.md).
 #### Versionamento <span id="versioning"></span>
 
 Você deve dar para cada liberação de sua extensão um numero de versão (por exemplo, 
-`1.0.1`). Recomendamos que você siga a prática [versionamento semântico](http://semver.org) 
+`1.0.1`). Recomendamos que você siga a prática [versionamento semântico](https://semver.org) 
 ao determinar qual número de versão será usado.
 
 
@@ -444,7 +444,7 @@ a sua extensão:
 
 * Um arquivo readme no diretório root do pacote: descreve o que sua extensão faz 
   e como faz para instalá-lo e usá-lo. Recomendamos que você escreva no formato 
-  [Markdown](http://daringfireball.net/projects/markdown/) e o nome do arquivo 
+  [Markdown](https://daringfireball.net/projects/markdown/) e o nome do arquivo 
   como `readme.md`.
 * Um arquivo changelog no diretório root do pacote: lista quais mudanças foram 
   feitas em cada versão. O arquivo pode ser escrito no formato Markdown e 
@@ -482,7 +482,7 @@ e podem ser facilmente instalados como descrito na subseção [Usando Extensões
   client, GitHub OAuth2 client.
 - [yiisoft/yii2-bootstrap](https://github.com/yiisoft/yii2-bootstrap):
   fornece um conjunto de widgets que encapsulam os componentes e plug-ins do 
-  [Bootstrap](http://getbootstrap.com/).
+  [Bootstrap](https://getbootstrap.com/).
 - [yiisoft/yii2-debug](https://github.com/yiisoft/yii2-debug):
   fornece suporte a depuração para aplicações Yii. Quando esta extensão é usada, 
   uma barra de ferramenta de depuração aparecerá na parte inferior de cada página. 
@@ -503,23 +503,23 @@ e podem ser facilmente instalados como descrito na subseção [Usando Extensões
   provides an HTTP client.
 - [yiisoft/yii2-imagine](https://github.com/yiisoft/yii2-imagine):
   fornece funções de manipulação de imagens comumente utilizados com base no 
-  [Imagine](http://imagine.readthedocs.org/).
+  [Imagine](https://imagine.readthedocs.org/).
 - [yiisoft/yii2-jui](https://github.com/yiisoft/yii2-jui):
   fornece um conjunto de widgets que encapsulam as interações e widgets do 
-  [JQuery UI](http://jqueryui.com/).
+  [JQuery UI](https://jqueryui.com/).
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb):
   fornece suporte para o uso do [MongoDB](https://www.mongodb.com/). Este inclui 
   recursos como consultas básicas, Active Record, migrations, cache, geração de 
   códigos, etc.
 - [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis):
-  fornece suporte para o uso do [redis](http://redis.io/). Este inclui recursos 
+  fornece suporte para o uso do [redis](https://redis.io/). Este inclui recursos 
   como consultas básicas, Active Record, cache, etc.
 - [yiisoft/yii2-smarty](https://github.com/yiisoft/yii2-smarty):
-  fornece um motor de template baseado no [Smarty](http://www.smarty.net/).
+  fornece um motor de template baseado no [Smarty](https://www.smarty.net/).
 - [yiisoft/yii2-sphinx](https://github.com/yiisoft/yii2-sphinx):
-  fornece suporte para o uso do [Sphinx](http://sphinxsearch.com). Este inclui 
+  fornece suporte para o uso do [Sphinx](https://sphinxsearch.com). Este inclui 
   recursos como consultas básicas, Active Record, geração de códigos, etc.
 - [yiisoft/yii2-swiftmailer](https://github.com/yiisoft/yii2-swiftmailer):
-  fornece recursos para envio de e-mails baseados no [swiftmailer](http://swiftmailer.org/).
+  fornece recursos para envio de e-mails baseados no [swiftmailer](https://swiftmailer.org/).
 - [yiisoft/yii2-twig](https://github.com/yiisoft/yii2-twig):
   fornece um motor de template baseado no [Twig](https://twig.symfony.com/).
diff --git a/docs/guide-pt-BR/structure-filters.md b/docs/guide-pt-BR/structure-filters.md
index 2aecde82ddb..26f86ec4bb1 100644
--- a/docs/guide-pt-BR/structure-filters.md
+++ b/docs/guide-pt-BR/structure-filters.md
@@ -163,8 +163,8 @@ a seção [Autorização](security-authorization.md).
 
 O método de autenticação por filtros são usados para autenticar um usuário usando 
 vários métodos, tais como 
-[HTTP Basic Auth](http://en.wikipedia.org/wiki/Basic_access_authentication), 
-[OAuth 2](http://oauth.net/2/). Todas estas classes de filtros estão localizadas 
+[HTTP Basic Auth](https://en.wikipedia.org/wiki/Basic_access_authentication), 
+[OAuth 2](https://oauth.net/2/). Todas estas classes de filtros estão localizadas 
 sob o namespace `yii\filters\auth`.
 
 O exemplo a seguir mostra como você pode usar o filtro 
@@ -323,7 +323,7 @@ detalhes sobre o uso do PageCache.
 ### [[yii\filters\RateLimiter|RateLimiter]] <span id="rate-limiter"></span>
 
 O filtro RateLimiter implementa um limitador de acesso baseado no 
-[algoritmo do balde furado (leaky bucket)](http://en.wikipedia.org/wiki/Leaky_bucket).
+[algoritmo do balde furado (leaky bucket)](https://en.wikipedia.org/wiki/Leaky_bucket).
 É usado principalmente na implementação de APIs RESTful. Por favor, consulte a 
 seção [Limitador de Acesso](rest-rate-limiting.md) para mais detalhes sobre o 
 uso deste filtro.
@@ -389,7 +389,7 @@ public function behaviors()
 A filtragem da classe Cors pode ser ajustado pela propriedade `cors`.
 
 * `cors['Origin']`: array usado para definir as origens permitidas. Pode ser 
-  `['*']` (qualquer um) ou `['http://www.myserver.net', 'http://www.myotherserver.com']`.
+  `['*']` (qualquer um) ou `['https://www.myserver.net', 'https://www.myotherserver.com']`.
   O padrão é `['*']`.
 * `cors['Access-Control-Request-Method']`: array com os métodos de requisição 
   permitidos, tais como `['GET', 'OPTIONS', 'HEAD']`. O padrão é 
@@ -403,7 +403,7 @@ A filtragem da classe Cors pode ser ajustado pela propriedade `cors`.
 * `cors['Access-Control-Max-Age']`: define o tempo de vida do pré-processamento 
   (pre-flight) da requisição. O padrão é `86400`.
 
-Por exemplo, permitindo CORS para a origem: `http://www.myserver.net` com os 
+Por exemplo, permitindo CORS para a origem: `https://www.myserver.net` com os 
 métodos `GET`, `HEAD` e `OPTIONS`:
 
 ```php
@@ -416,7 +416,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
         ],
@@ -438,7 +438,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
             'actions' => [
diff --git a/docs/guide-pt-BR/structure-models.md b/docs/guide-pt-BR/structure-models.md
index d0af4577c9a..6516a6c3681 100644
--- a/docs/guide-pt-BR/structure-models.md
+++ b/docs/guide-pt-BR/structure-models.md
@@ -1,7 +1,7 @@
 Models (Modelos)
 ================
 
-Os models (modelos) fazem parte da arquitetura [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
+Os models (modelos) fazem parte da arquitetura [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
 Eles representam os dados, as regras e a lógica de negócio.
 
 Você pode criar uma classe model estendendo de [[yii\base\Model]] ou de seus filhos.
diff --git a/docs/guide-pt-BR/structure-modules.md b/docs/guide-pt-BR/structure-modules.md
index 73de5703082..9186321108b 100644
--- a/docs/guide-pt-BR/structure-modules.md
+++ b/docs/guide-pt-BR/structure-modules.md
@@ -20,7 +20,7 @@ controllers (controladores), models (modelos), views (visões) e outros códigos
 assim como em uma aplicação. O exemplo a seguir mostra o conteúdo dentro de um 
 módulo:
 
-```js
+```
 forum/
     Module.php                   o arquivo da classe do módulo 
     controllers/                 contém os arquivos da classe controller
diff --git a/docs/guide-pt-BR/structure-overview.md b/docs/guide-pt-BR/structure-overview.md
index 7d97bbe4660..d9e10e4e3ff 100644
--- a/docs/guide-pt-BR/structure-overview.md
+++ b/docs/guide-pt-BR/structure-overview.md
@@ -2,7 +2,7 @@ Visão Geral
 ===========
 
 As aplicações do Yii são organizadas de acordo com o padrão de projeto
-[model-view-controller (MVC)](http://pt.wikipedia.org/wiki/MVC)
+[model-view-controller (MVC)](https://pt.wikipedia.org/wiki/MVC)
 (modelo-visão-controlador). Os [models](structure-models.md) representam dados,
 lógica e regras de negócio; as [views](structure-views.md) são a representação
 da saída dos modelos; e os [controllers](structure-controllers.md) recebem entradas
diff --git a/docs/guide-pt-BR/structure-views.md b/docs/guide-pt-BR/structure-views.md
index 3eeeb745976..8f7e0f104a3 100644
--- a/docs/guide-pt-BR/structure-views.md
+++ b/docs/guide-pt-BR/structure-views.md
@@ -1,7 +1,7 @@
 Visões (Views)
 ===========
 
-As views fazem parte da arquitetura [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
+As views fazem parte da arquitetura [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
 São a parte do código responsável por apresentar dados aos usuários finais. Em um aplicação Web,
 views geralmente são criadas em termos de *view templates* (modelos de view)
  que são arquivos PHP contendo principalmente códigos HTML e
@@ -61,7 +61,7 @@ desencadeiam a [renderização da view ](#rendering-views).
 Ao criar views que geram páginas HTML, é importante que você codifique
 e/ou filtre os dados que vêm de usuários antes de exibí-los. Caso contrário,
 sua aplicação poderá estar sujeita a um ataque de
-[cross-site scripting](http://en.wikipedia.org/wiki/Cross-site_scripting).
+[cross-site scripting](https://en.wikipedia.org/wiki/Cross-site_scripting).
 
 Para exibir um texto simples, codifique-o antes por chamar o método
 [[yii\helpers\Html::encode()]]. Por exemplo, o código a seguir codifica o nome do
@@ -607,7 +607,7 @@ Componentes de view fornecem úteis recursos relacionados. Cada um deles está d
 * [manipulação de client scripts](output-client-scripts.md): permite que você registre e renderize CSS e JavaScript.
 * [manipulando asset bundle](structure-assets.md): permite que você registre e renderize [recursos estáticos (asset bundles)](structure-assets.md).
 * [template engines alternativos](tutorial-template-engines.md): permite que você use outros template engines, tais como o [Twig](https://twig.symfony.com/)
-  e [Smarty](http://www.smarty.net/).
+  e [Smarty](https://www.smarty.net/).
 
 Você também pode usar os seguintes recursos que, embora simples, são úteis quando estiver desenvolvendo suas páginas.
 
diff --git a/docs/guide-pt-BR/tutorial-core-validators.md b/docs/guide-pt-BR/tutorial-core-validators.md
index c99acb801b3..650afc8ae04 100644
--- a/docs/guide-pt-BR/tutorial-core-validators.md
+++ b/docs/guide-pt-BR/tutorial-core-validators.md
@@ -92,7 +92,7 @@ Este validador compara o valor de entrada especificado com um outro e certifica
 
 Este validador verifica se o valor de entrada é uma data, hora ou data e hora em um formato adequado. Opcionalmente, pode converter o valor de entrada para um UNIX timestamp ou outro formato legível e armazená-lo em um atributo especificado via [[yii\validators\DateValidator::timestampAttribute|timestampAttribute]].
 
-- `format`: o formato date/time que o valor que está sendo validado deve ter. Este pode ser um padrão de data e hora conforme descrito no [ICU manual] (http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax). Alternativamente esta pode ser uma string com o prefixo `php:` representando um formato que pode ser reconhecido pela classe PHP `Datetime`. Por favor, consulte <https://www.php.net/manual/en/datetime.createfromformat.php> para formatos suportados. Se isso não for definido, ele terá o valor de `Yii::$app->formatter->dateFormat`. Consulte a [[yii\validators\DateValidator::$format|documentação da API]] para mais detalhes.
+- `format`: o formato date/time que o valor que está sendo validado deve ter. Este pode ser um padrão de data e hora conforme descrito no [ICU manual] (https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax). Alternativamente esta pode ser uma string com o prefixo `php:` representando um formato que pode ser reconhecido pela classe PHP `Datetime`. Por favor, consulte <https://www.php.net/manual/en/datetime.createfromformat.php> para formatos suportados. Se isso não for definido, ele terá o valor de `Yii::$app->formatter->dateFormat`. Consulte a [[yii\validators\DateValidator::$format|documentação da API]] para mais detalhes.
 
 - `timestampAttribute`: o nome do atributo para que este validador possa atribuir o UNIX  timestamp convertido a partir da entrada de data / hora. Este pode ser o mesmo atributo que está sendo validado. Se este for o caso,  valor original será substituído pelo valor timestamp após a validação. Veja a seção ["Manipulando Datas com DatePicker"] (https://github.com/yiisoft/yii2-jui/blob/master/docs/guide/topics-date-picker.md) para exemplos de uso.
 
@@ -238,7 +238,7 @@ Você pode usar este validador para validar uma ou várias colunas (ex., a combi
 Este validador verifica se o dados de entrada é um arquivo válido.
 
 - `extensions`: uma lista de extensões de arquivos que são permitidos para upload. Pode ser utilizado tanto um array quanto uma string constituída de extensões de arquivos separados por espaços ou por vírgulas (Ex. "gif, jpg"). Os nomes das extensões são case-insensitive. O padrão é `null`, significa que todas as extensões são permitidas.
-- `mimeTypes`: uma lista de tipos de arquivos MIME que são permitidos no upload. Pode ser utilizado tanto um array quanto uma string constituída de tipos MIME separados por espaços ou por virgulas (ex. "image/jpeg, image/png"). Os nomes dos tipos MIME são case-insensitivo. O padrão é `null`, significa que todos os tipos MIME são permitidos. Para mais detalhes, consulte o artigo [common media types](http://en.wikipedia.org/wiki/Internet_media_type#List_of_common_media_types).
+- `mimeTypes`: uma lista de tipos de arquivos MIME que são permitidos no upload. Pode ser utilizado tanto um array quanto uma string constituída de tipos MIME separados por espaços ou por virgulas (ex. "image/jpeg, image/png"). Os nomes dos tipos MIME são case-insensitivo. O padrão é `null`, significa que todos os tipos MIME são permitidos. Para mais detalhes, consulte o artigo [common media types](https://en.wikipedia.org/wiki/Media_type).
 - `minSize`: o número mínimo de bytes exigido para o arquivo carregado. O padrão é `null`, significa não ter limite mínimo.
 - `maxSize`: o número máximo de bytes exigido para o arquivo carregado. O padrão é `null`, significa não ter limite máximo.
 - `maxFiles`: o número máximo de arquivos que o atributo pode receber. O padrão é 1, ou seja, a entrada de dados deve ser composto de um único arquivo. Se o `maxFiles` for maior que 1, então a entrada de dados deve ser composto por um array constituído de no máximo `maxFiles` arquivos.
diff --git a/docs/guide-pt-BR/tutorial-shared-hosting.md b/docs/guide-pt-BR/tutorial-shared-hosting.md
index 5074bb66d12..18af127343c 100644
--- a/docs/guide-pt-BR/tutorial-shared-hosting.md
+++ b/docs/guide-pt-BR/tutorial-shared-hosting.md
@@ -48,7 +48,7 @@ Se o seu servidor web é Nginx, você não precisa de nenhuma configuração ext
 
 ### Verifique os requisitos
 
-Para executar Yii, o seu servidor web deve atender alguns requisitos. O requisito mínimo é PHP 5.4. Para verificar os requisitos copie o arquivo `requirements.php` da raíz da aplicação para o diretório raíz do servidor web e execute-o através do navegador usando o endereço `http://example.com/requirements.php`. Não se esqueça de apagar o arquivo depois.
+Para executar Yii, o seu servidor web deve atender alguns requisitos. O requisito mínimo é PHP 5.4. Para verificar os requisitos copie o arquivo `requirements.php` da raíz da aplicação para o diretório raíz do servidor web e execute-o através do navegador usando o endereço `https://example.com/requirements.php`. Não se esqueça de apagar o arquivo depois.
 
 Implantação do Template Avançado
 ---------------------------------
diff --git a/docs/guide-pt-BR/tutorial-yii-integration.md b/docs/guide-pt-BR/tutorial-yii-integration.md
index 126e4f03294..75d233cc9c5 100644
--- a/docs/guide-pt-BR/tutorial-yii-integration.md
+++ b/docs/guide-pt-BR/tutorial-yii-integration.md
@@ -34,7 +34,7 @@ Se a biblioteca não foi lançada como um pacote Composer, você deve seguir as
 
 Se uma biblioteca possui o seu próprio carregador automático, você pode instalá-la no [script de entrada](structure-entry-scripts.md) de sua aplicação. Recomenda-se que a instalação seja feita antes de incluir o arquivo `Yii.php`. Isto porque a classe autoloader Yii pode ter precedência nas classes de carregamento automático da biblioteca a ser instalada.
 
-Se uma biblioteca não oferece um carregador automático de classe, mas seus nomes seguem o padrão [PSR-4](http://www.php-fig.org/psr/psr-4/), você pode usar a classe de autoloader do  Yii para carregar as classes. Tudo que você precisa fazer é apenas declarar um [alias](concept-aliases.md#defining-aliases) para cada namespace raiz utilizados em suas classes. Por exemplo, suponha que você tenha instalado uma biblioteca no diretório `vendor/foo/bar` e as classes de bibliotecas estão sob o namespace raiz `xyz`. Você pode incluir o seguinte código na configuração da sua aplicação:
+Se uma biblioteca não oferece um carregador automático de classe, mas seus nomes seguem o padrão [PSR-4](https://www.php-fig.org/psr/psr-4/), você pode usar a classe de autoloader do  Yii para carregar as classes. Tudo que você precisa fazer é apenas declarar um [alias](concept-aliases.md#defining-aliases) para cada namespace raiz utilizados em suas classes. Por exemplo, suponha que você tenha instalado uma biblioteca no diretório `vendor/foo/bar` e as classes de bibliotecas estão sob o namespace raiz `xyz`. Você pode incluir o seguinte código na configuração da sua aplicação:
 
 ```php
 [
diff --git a/docs/guide-ru/caching-data.md b/docs/guide-ru/caching-data.md
index cd64f09b0a6..4ceee3fb3ab 100644
--- a/docs/guide-ru/caching-data.md
+++ b/docs/guide-ru/caching-data.md
@@ -53,7 +53,7 @@ $data = $cache->getOrSet($key, function () use ($user_id) {
 
 Кэширование данных опирается на *компоненты кэширования*, которые представляют различные хранилища, такие как память, файлы и базы данных.
 
-Кэш-компоненты, как правило, зарегистрированы в качестве [компонентов приложения](structure-application-components.md), так что их можно настраивать и обращаться к ним глобально. Следующий код показывает, как настроить компонент приложения `cache` для использования [Memcached](http://memcached.org/) с двумя серверами:
+Кэш-компоненты, как правило, зарегистрированы в качестве [компонентов приложения](structure-application-components.md), так что их можно настраивать и обращаться к ним глобально. Следующий код показывает, как настроить компонент приложения `cache` для использования [Memcached](https://memcached.org/) с двумя серверами:
 
 ```php
 'components' => [
@@ -95,15 +95,15 @@ $data = $cache->getOrSet($key, function () use ($user_id) {
 
 Yii поддерживает множество хранилищ кэша:
 
-* [[yii\caching\ApcCache]]: использует расширение PHP [APC](https://www.php.net/manual/en/book.apc.php). Эта опция считается самой быстрой при работе с кэшем в «толстом» централизованном приложении (т.е. один сервер, без выделенного балансировщика нагрузки и т.д.);
+* [[yii\caching\ApcCache]]: использует расширение PHP [APC](https://www.php.net/manual/en/book.apcu.php). Эта опция считается самой быстрой при работе с кэшем в «толстом» централизованном приложении (т.е. один сервер, без выделенного балансировщика нагрузки и т.д.);
 * [[yii\caching\DbCache]]: использует таблицу базы данных для хранения кэшированных данных. Чтобы использовать этот кэш, вы должны создать таблицу так, как это описано в [[yii\caching\DbCache::cacheTable]];
 * [[yii\caching\DummyCache]]: является кэшем-пустышкой, не реализующим реального кэширования. Смысл этого компонента в упрощении кода, проверяющего наличие кэша. Вы можете использовать данный тип кэша и переключиться на реальное кэширование позже. Примеры: использование при разработке; если сервер не поддерживает кэш. Для извлечения данных в этом случае используется один и тот же код `Yii::$app->cache->get($key)`. При этом можно не беспокоиться, что `Yii::$app->cache` может быть `null`;
 * [[yii\caching\FileCache]]: использует обычные файлы для хранения кэшированных данных. Замечательно подходит для кэширования больших кусков данных, таких как содержимое страницы;
 * [[yii\caching\MemCache]]: использует расширения PHP [memcache](https://www.php.net/manual/en/book.memcache.php) и [memcached](https://www.php.net/manual/en/book.memcached.php). Этот вариант может рассматриваться как самый быстрый при работе в распределенных приложениях (например, с несколькими серверами, балансировкой нагрузки и так далее);
-* [[yii\redis\Cache]]: реализует компонент кэша на основе [Redis](http://redis.io/), хранилища ключ-значение (требуется Redis версии 2.6.12 или выше);
-* [[yii\caching\WinCache]]: использует расширение PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension) ([смотрите также](https://www.php.net/manual/en/book.wincache.php));
-* [[yii\caching\XCache]] _(deprecated)_: использует расширение PHP [XCache](http://xcache.lighttpd.net/);
-* [[yii\caching\ZendDataCache]] _(deprecated)_: использует [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm).
+* [[yii\redis\Cache]]: реализует компонент кэша на основе [Redis](https://redis.io/), хранилища ключ-значение (требуется Redis версии 2.6.12 или выше);
+* [[yii\caching\WinCache]]: использует расширение PHP [WinCache](https://iis.net/downloads/microsoft/wincache-extension) ([смотрите также](https://www.php.net/manual/en/book.wincache.php));
+* [[yii\caching\XCache]] _(deprecated)_: использует расширение PHP [XCache](https://en.wikipedia.org/wiki/List_of_PHP_accelerators#XCache);
+* [[yii\caching\ZendDataCache]] _(deprecated)_: использует [Zend Data Cache](https://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm).
 
 > Tip: Вы можете использовать разные способы хранения кэша в одном приложении. Общая стратегия заключается в использовании памяти под хранение небольших часто используемых данных (например, статистические данные). Для больших и реже используемых данных (например, содержимое страницы) лучше использовать файлы или базу данных.
   
@@ -249,10 +249,10 @@ $result = Customer::getDb()->cache(function ($db) {
 });
 ```
 
-> Info: Некоторые СУБД (например, [MySQL](http://dev.mysql.com/doc/refman/5.1/en/query-cache.html)) поддерживают кэширование запросов любого механизма на стороне сервера БД. КЗ описано разделом выше. Оно имеет безусловное преимущество, поскольку, благодаря ему, можно указать гибкие зависимости кэша и это более эффективно.
+> Info: Некоторые СУБД (например, [MySQL](https://dev.mysql.com/doc/refman/5.6/en/query-cache.html)) поддерживают кэширование запросов любого механизма на стороне сервера БД. КЗ описано разделом выше. Оно имеет безусловное преимущество, поскольку, благодаря ему, можно указать гибкие зависимости кэша и это более эффективно.
 
 
-### Очистка кэша <span id="cache-flushing">
+### Очистка кэша <span id="cache-flushing"></span>
 
 Для очистки всего кэша, вы можете вызвать [[yii\caching\Cache::flush()]].
 
diff --git a/docs/guide-ru/caching-http.md b/docs/guide-ru/caching-http.md
index 5df1440f753..9d25e163073 100644
--- a/docs/guide-ru/caching-http.md
+++ b/docs/guide-ru/caching-http.md
@@ -89,7 +89,7 @@ ETags позволяет применять более сложные и/или
 Ресурсоёмкая генерация ETag может противоречить цели использования `HttpCache` и внести излишнюю нагрузку,
 т.к. он должен пересоздаваться при каждом запросе. Попробуйте найти простое выражение, которое инвалидирует кэш, если содержание страницы было изменено.
 
-> Note: В соответствии с [RFC 7232](http://tools.ietf.org/html/rfc7232#section-2.4),
+> Note: В соответствии с [RFC 7232](https://datatracker.ietf.org/doc/html/rfc7232#section-2.4),
   `HttpCache` будет отправлять как `ETag` заголовок, так и `Last-Modified` заголовок, если они оба были настроены.
   И если клиент отправляет как `If-None-Match` заголовок, так и `If-Modified-Since` заголовок, то только первый из них будет принят.
 
diff --git a/docs/guide-ru/concept-aliases.md b/docs/guide-ru/concept-aliases.md
index 6f38c73413d..d69c0b0331f 100644
--- a/docs/guide-ru/concept-aliases.md
+++ b/docs/guide-ru/concept-aliases.md
@@ -17,7 +17,7 @@ Yii framework, а `@web` можно использовать для получе
 Yii::setAlias('@foo', '/path/to/foo');
 
 // псевдоним URL
-Yii::setAlias('@bar', 'http://www.example.com');
+Yii::setAlias('@bar', 'https://www.example.com');
 
 // псевдоним конкретного файла, содержащего класс \foo\Bar
 Yii::setAlias('@foo/Bar.php', '/definitely/not/foo/Bar.php');
@@ -46,7 +46,7 @@ return [
     // ...
     'aliases' => [
         '@foo' => '/path/to/foo',
-        '@bar' => 'http://www.example.com',
+        '@bar' => 'https://www.example.com',
     ],
 ];
 ```
@@ -60,7 +60,7 @@ return [
 
 ```php
 echo Yii::getAlias('@foo');               // выведет: /path/to/foo
-echo Yii::getAlias('@bar');               // выведет: http://www.example.com
+echo Yii::getAlias('@bar');               // выведет: https://www.example.com
 echo Yii::getAlias('@foo/bar/file.php');  // выведет: /path/to/foo/bar/file.php
 ```
 
diff --git a/docs/guide-ru/concept-behaviors.md b/docs/guide-ru/concept-behaviors.md
index 555b13a6920..966a871a7ca 100644
--- a/docs/guide-ru/concept-behaviors.md
+++ b/docs/guide-ru/concept-behaviors.md
@@ -2,7 +2,7 @@
 =========
 
 Поведения (behaviors) — это экземпляры класса [[yii\base\Behavior]] или класса, унаследованного от него. Поведения,
-также известные как [примеси](http://ru.wikipedia.org/wiki/Примесь_(программирование)), позволяют расширять 
+также известные как [примеси](https://ru.wikipedia.org/wiki/%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%81%D1%8C_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)), позволяют расширять 
 функциональность существующих [[yii\base\Component|компонентов]] без необходимости изменения дерева наследования.
 После прикрепления поведения к компоненту, его методы и свойства "внедряются" в компонент, и становятся доступными
 так же, как если бы они были объявлены в самом классе компонента. Кроме того, поведение может реагировать на 
diff --git a/docs/guide-ru/concept-di-container.md b/docs/guide-ru/concept-di-container.md
index 5ad53617611..80c2c723d86 100644
--- a/docs/guide-ru/concept-di-container.md
+++ b/docs/guide-ru/concept-di-container.md
@@ -2,7 +2,7 @@
 ==============================
 
 Контейнер внедрения зависимостей — это объект, который знает, как создать и настроить экземпляр класса и зависимых от него объектов.
-[Статья Мартина Фаулера](http://martinfowler.com/articles/injection.html) хорошо объясняет, почему контейнер внедрения зависимостей является полезным. Здесь, преимущественно, будет объясняться использование контейнера внедрения зависимостей, предоставляемого в Yii.
+[Статья Мартина Фаулера](https://martinfowler.com/articles/injection.html) хорошо объясняет, почему контейнер внедрения зависимостей является полезным. Здесь, преимущественно, будет объясняться использование контейнера внедрения зависимостей, предоставляемого в Yii.
 
 
 Внедрение зависимостей <span id="dependency-injection"></span>
@@ -509,7 +509,7 @@ class HotelController extends Controller
 Как dependency injection, так и [service locator](concept-service-locator.md) являются популярными паттернами проектирования, которые позволяют 
 создавать программное обеспечение в слабосвязанной и более тестируемой манере.
 Мы настоятельно рекомендуем к прочтению
-[статью Мартина Фаулера](http://martinfowler.com/articles/injection.html), для более глубокого понимания dependency injection и service locator. 
+[статью Мартина Фаулера](https://martinfowler.com/articles/injection.html), для более глубокого понимания dependency injection и service locator. 
 
 Yii реализует свой [service locator](concept-service-locator.md) поверх контейнера внедрения зависимостей.
 Когда service locator пытается создать новый экземпляр объекта, он перенаправляет вызов на контейнер внедрения зависимостей.
diff --git a/docs/guide-ru/db-active-record.md b/docs/guide-ru/db-active-record.md
index 33315658cf1..33479f3bce5 100644
--- a/docs/guide-ru/db-active-record.md
+++ b/docs/guide-ru/db-active-record.md
@@ -1,7 +1,7 @@
 Active Record
 =============
 
-[Active Record](http://ru.wikipedia.org/wiki/ActiveRecord) обеспечивает объектно-ориентированный интерфейс для доступа
+[Active Record](https://ru.wikipedia.org/wiki/ActiveRecord) обеспечивает объектно-ориентированный интерфейс для доступа
 и манипулирования данными, хранящимися в базах данных. Класс Active Record соответствует таблице в базе данных, объект
 Active Record соответствует строке этой таблицы, а *атрибут* объекта Active Record представляет собой значение
 отдельного столбца строки. Вместо непосредственного написания SQL-выражений вы сможете получать доступ к атрибутам
@@ -875,14 +875,14 @@ SQL-выражения. Для принудительного повторног
 операции: `unset($customer->orders)`.
 
 > Note: Несмотря на то, что эта концепция выглядит похожей на концепцию [свойств объектов](concept-properties.md),
-  между ними есть важное различие. Для обычных свойств объектов значения свойств имеют тот же тип, который возвращает
-  геттер. Однако метод получения связных данных возвращает объект [[yii\db\ActiveQuery]], в то время как доступ к
-  свойству связи возвращает объект [[yii\db\ActiveRecord]] или массив таких объектов.
-  ```php
-  $customer->orders; // массив объектов `Order`
-  $customer->getOrders(); // объект ActiveQuery
-  ```
-  Это полезно при тонкой настройке запросов к связным данным, что будет описано в следующем разделе.
+> между ними есть важное различие. Для обычных свойств объектов значения свойств имеют тот же тип, который возвращает
+> геттер. Однако метод получения связных данных возвращает объект [[yii\db\ActiveQuery]], в то время как доступ к
+> свойству связи возвращает объект [[yii\db\ActiveRecord]] или массив таких объектов.
+> ```php
+> $customer->orders; // массив объектов `Order`
+> $customer->getOrders(); // объект ActiveQuery
+> ```
+> Это полезно при тонкой настройке запросов к связным данным, что будет описано в следующем разделе.
 
 
 ### Динамические запросы связных данных <span id="dynamic-relational-query"></span>
@@ -932,7 +932,7 @@ $orders = $customer->bigOrders;
 ### Связывание посредством промежуточной таблицы <span id="junction-table"></span>
 
 При проектировании баз данных, когда между двумя таблицами имеется кратность связи many-to-many, обычно вводится 
-[промежуточная таблица](http://en.wikipedia.org/wiki/Junction_table). Например, таблицы `order` и `item` могут быть
+[промежуточная таблица](https://en.wikipedia.org/wiki/Junction_table). Например, таблицы `order` и `item` могут быть
 связаны посредством промежуточной таблицы с названием `order_item`. Один заказ будет соотноситься с несколькими товарами,
 в то время как один товар будет также соотноситься с несколькими заказами.
 
diff --git a/docs/guide-ru/db-dao.md b/docs/guide-ru/db-dao.md
index 12ecc2eb487..ae7275bad61 100644
--- a/docs/guide-ru/db-dao.md
+++ b/docs/guide-ru/db-dao.md
@@ -12,11 +12,11 @@
 
 Yii DAO из коробки поддерживает следующие базы данных:
 
-- [MySQL](http://www.mysql.com/)
+- [MySQL](https://www.mysql.com/)
 - [MariaDB](https://mariadb.com/)
-- [SQLite](http://sqlite.org/)
-- [PostgreSQL](http://www.postgresql.org/): версии 8.4 или выше.
-- [CUBRID](http://www.cubrid.org/): версии 9.3 или выше.
+- [SQLite](https://sqlite.org/)
+- [PostgreSQL](https://www.postgresql.org/): версии 8.4 или выше.
+- [CUBRID](https://www.cubrid.org/): версии 9.3 или выше.
 - [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): версии 2008 или выше.
 
@@ -435,7 +435,7 @@ try {
 
 ## Репликация и разделение запросов на чтение и запись <span id="read-write-splitting"></span>
 
-Многие СУБД поддерживают [репликацию баз данных](http://en.wikipedia.org/wiki/Replication_(computing)#Database_replication)
+Многие СУБД поддерживают [репликацию баз данных](https://en.wikipedia.org/wiki/Replication_(computing)#Database_replication)
 для лучшей доступности базы данных и уменьшения времени ответа сервера. С репликацией базы данных, данные копируются
 из *master servers* на *slave servers*. Все вставки и обновления должны происходить на основном сервере, хотя чтение
 может производится и с подчинённых серверов.
diff --git a/docs/guide-ru/db-migrations.md b/docs/guide-ru/db-migrations.md
index 24d1091f227..b35823a0634 100644
--- a/docs/guide-ru/db-migrations.md
+++ b/docs/guide-ru/db-migrations.md
@@ -591,7 +591,7 @@ class m150101_185401_create_news_table extends Migration
 а затем вставили строку в `safeUp()`; а в `safeDown()` мы сначала удаляем строку и затем удаляем таблицу.
 
 > Note: Не все СУБД поддерживают транзакции. И некоторые запросы к базам данных не могут быть введены в транзакции.
-Для различных примеров, пожалуйста, обратитесь к [негласным обязательствам](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html).
+Для различных примеров, пожалуйста, обратитесь к [негласным обязательствам](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html).
 В этом случае вместо этих методов вы должны реализовать методы `up()` и `down()`.
 
 ### Методы доступа к базе данных <span id="db-accessing-methods"></span>
diff --git a/docs/guide-ru/db-query-builder.md b/docs/guide-ru/db-query-builder.md
index 967b9e6eed4..41b164124e6 100644
--- a/docs/guide-ru/db-query-builder.md
+++ b/docs/guide-ru/db-query-builder.md
@@ -277,7 +277,7 @@ $query->where([$column => $value]);
   или пустой массив, чтоб указать что значения уже экранированы. Обратите внимание, что при использовании массива соответствия
   экранирования (или если третий операнд не передан), значения будут автоматически заключены в символы процентов.
 
-  > Note: При использовании PostgreSQL вы можете использовать также [`ilike`](http://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE)
+  > Note: При использовании PostgreSQL вы можете использовать также [`ilike`](https://www.postgresql.org/docs/8.3/functions-matching.html#FUNCTIONS-LIKE)
   > вместо `like` для регистронезависимого поиска.
 
 - `or like`: похож на оператор `like`, только утверждения `LIKE` будут объединяться с помощью оператора `OR`, если
@@ -363,7 +363,7 @@ $query->filterWhere([
 ### [[yii\db\Query::orderBy()|orderBy()]] <span id="order-by"></span>
 
 Метод [[yii\db\Query::orderBy()|orderBy()]] определяет фрагмент `ORDER BY` SQL выражения. Например,
- 
+
 ```php
 // ... ORDER BY `id` ASC, `name` DESC
 $query->orderBy([
@@ -460,14 +460,14 @@ $query->limit(10)->offset(20);
 ### [[yii\db\Query::join()|join()]] <span id="join"></span>
 
 Метод [[yii\db\Query::join()|join()]] определяет фрагмент `JOIN` SQL запроса.
- 
+
 ```php
 // ... LEFT JOIN `post` ON `post`.`user_id` = `user`.`id`
 $query->join('LEFT JOIN', 'post', 'post.user_id = user.id');
 ```
 
 Метод [[yii\db\Query::join()|join()]] принимает четыре параметра:
- 
+
 - `$type`: тип объединения, например, `'INNER JOIN'`, `'LEFT JOIN'`.
 - `$table`: имя таблицы, которая должна быть присоединена.
 - `$on`: необязательное условие объединения, то есть фрагмент `ON`. Пожалуйста, обратитесь к документации для
diff --git a/docs/guide-ru/helper-html.md b/docs/guide-ru/helper-html.md
index 198e46f6c71..7c389afd574 100644
--- a/docs/guide-ru/helper-html.md
+++ b/docs/guide-ru/helper-html.md
@@ -45,7 +45,7 @@ Html-помощник
 
 - Если значение равно `null`, соответствующий атрибут не будет выведен.
 - Атрибуты, значения которых имеют тип boolean, будут интерпретированы как
-  [логические атрибуты](http://www.w3.org/TR/html5/infrastructure.html#boolean-attributes).
+  [логические атрибуты](https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes).
 - Значения атрибутов будут экранированы с использованием метода [[yii\helpers\Html::encode()|Html::encode()]].
 - Если в качестве значения атрибута передан массив, он будет обработан следующим образом:
 
@@ -369,7 +369,7 @@ echo Html::getAttributeName('dates[0]');
 В результате получится:
 
 <!--[if IE 5]>
-    <link href="http://example.com/css/ie5.css" />
+    <link href="https://example.com/css/ie5.css" />
 <![endif]-->
 ```
 
@@ -420,7 +420,7 @@ echo Html::getAttributeName('dates[0]');
 
 в результате получится:
 
-<img src="http://example.com/images/logo.png" alt="Наш логотип" />
+<img src="https://example.com/images/logo.png" alt="Наш логотип" />
 ```
 
 Помимо [псевдонимов](concept-aliases.md) первый аргумент может принимать маршруты, параметры и URL-адреса таким же образом
diff --git a/docs/guide-ru/helper-url.md b/docs/guide-ru/helper-url.md
index ac317fc0acf..a8e38d815db 100644
--- a/docs/guide-ru/helper-url.md
+++ b/docs/guide-ru/helper-url.md
@@ -78,7 +78,7 @@ echo Url::toRoute(['site/index', 'src' => 'ref1', '#' => 'name']);
 // /index.php?r=post/edit&id=100     псевдоним "@postEdit" задан как "post/edit"
 echo Url::toRoute(['@postEdit', 'id' => 100]);
 
-// http://www.example.com/index.php?r=site/index
+// https://www.example.com/index.php?r=site/index
 echo Url::toRoute('site/index', true);
 
 // https://www.example.com/index.php?r=site/index
@@ -120,7 +120,7 @@ echo Url::to('@web/images/logo.gif');
 // images/logo.gif
 echo Url::to('images/logo.gif');
 
-// http://www.example.com/images/logo.gif
+// https://www.example.com/images/logo.gif
 echo Url::to('@web/images/logo.gif', true);
 
 // https://www.example.com/images/logo.gif
diff --git a/docs/guide-ru/input-validation.md b/docs/guide-ru/input-validation.md
index ff4a435268c..9d3fa0b644e 100644
--- a/docs/guide-ru/input-validation.md
+++ b/docs/guide-ru/input-validation.md
@@ -556,7 +556,7 @@ JS;
 ### Отложенная валидация <span id="deferred-validation"></span>
 
 Если Вам необходимо выполнить асинхронную проверку на стороне клиента, вы можете создавать
-[Deferred objects](http://api.jquery.com/category/deferred-object/). Например, чтобы выполнить
+[Deferred objects](https://api.jquery.com/category/deferred-object/). Например, чтобы выполнить
 пользовательские AJAX проверки, вы можете использовать следующий код:
 
 ```php
diff --git a/docs/guide-ru/intro-yii.md b/docs/guide-ru/intro-yii.md
index ebfab478935..353ecaeac05 100644
--- a/docs/guide-ru/intro-yii.md
+++ b/docs/guide-ru/intro-yii.md
@@ -42,7 +42,7 @@ Yii — не проект одного человека. Он поддержив
 Требования к ПО и знаниям
 -------------------------
 
-Yii 2.0 требует PHP 5.4.0 и выше и наилучшим образом работает на последней версии PHP 7. Чтобы узнать требования для отдельных возможностей, вы можете запустить скрипт проверки
+Yii 2.0 требует PHP 5.4.0 и выше и наилучшим образом работает на последней версии PHP. Чтобы узнать требования для отдельных возможностей, вы можете запустить скрипт проверки
 требований, который поставляется с каждым релизом фреймворка.
 
 Для разработки на Yii потребуется общее понимание ООП, так как фреймворк полностью следует этой парадигме. Также стоит
diff --git a/docs/guide-ru/output-client-scripts.md b/docs/guide-ru/output-client-scripts.md
index 0deaa8b95b8..c317e776fba 100644
--- a/docs/guide-ru/output-client-scripts.md
+++ b/docs/guide-ru/output-client-scripts.md
@@ -32,8 +32,8 @@ $this->registerJs(
 - [[yii\web\View::POS_HEAD|View::POS_HEAD]] в `<head>`
 - [[yii\web\View::POS_BEGIN|View::POS_BEGIN]] сразу после открытия тега `<body>`
 - [[yii\web\View::POS_END|View::POS_END]] сразу после закрытия тега `</body>`
-- [[yii\web\View::POS_READY|View::POS_READY]] для выполнения кода сразу после того, как DOM полностью загрузился. Этому соответствует [событие `ready`](http://learn.jquery.com/using-jquery-core/document-ready/). При этом автоматически зарегистрируется [[yii\web\JqueryAsset|jQuery]]. Код будет обёрнут в соответствующий код jQuery. `POS_READY` является позицией по умолчанию.
-- [[yii\web\View::POS_LOAD|View::POS_LOAD]] для выполнения кода после того, как DOM полностью загрузился (включая картинки). [Событие `load`](http://learn.jquery.com/using-jquery-core/document-ready/). Так же, как и выше, при этом автоматически зарегистрируется [[yii\web\JqueryAsset|jQuery]]
+- [[yii\web\View::POS_READY|View::POS_READY]] для выполнения кода сразу после того, как DOM полностью загрузился. Этому соответствует [событие `ready`](https://learn.jquery.com/using-jquery-core/document-ready/). При этом автоматически зарегистрируется [[yii\web\JqueryAsset|jQuery]]. Код будет обёрнут в соответствующий код jQuery. `POS_READY` является позицией по умолчанию.
+- [[yii\web\View::POS_LOAD|View::POS_LOAD]] для выполнения кода после того, как DOM полностью загрузился (включая картинки). [Событие `load`](https://learn.jquery.com/using-jquery-core/document-ready/). Так же, как и выше, при этом автоматически зарегистрируется [[yii\web\JqueryAsset|jQuery]]
 
 Последний аргумент — это уникальный ID, который используется для идентификации блока со скриптом. При повторной регистрации происходит замена существующего скрипта на новый. Если вы не зададите ID, вместо него будет использоваться сам код. Это помогает избежать регистрации одного и того же кода несколько раз.
 
diff --git a/docs/guide-ru/output-formatting.md b/docs/guide-ru/output-formatting.md
index 1a129de0a64..2a0933d7684 100644
--- a/docs/guide-ru/output-formatting.md
+++ b/docs/guide-ru/output-formatting.md
@@ -112,9 +112,9 @@ echo Yii::$app->formatter->asDate('2014-01-01'); // выведет: 1 январ
 - `long` будет отображать `6 October 2014` и `15:58:42 GMT` соответственно и
 - `full` будет отображать `Monday, 6 October 2014` и `15:58:42 GMT` соответственно.
 
-Дополнительно вы можете задать специальный формат, используя синтаксис, заданный [ICU Project](http://site.icu-project.org/),
+Дополнительно вы можете задать специальный формат, используя синтаксис, заданный [ICU Project](https://icu.unicode.org/),
 который описан в руководстве ICU по следующему адресу:
-<http://userguide.icu-project.org/formatparse/datetime>. Также вы можете использовать синтаксис, который распознаётся
+<https://unicode-org.github.io/icu/userguide/format_parse/datetime/>. Также вы можете использовать синтаксис, который распознаётся
 PHP-функцией [date()](https://www.php.net/manual/ru/function.date.php), используя строку с префиксом `php:`.
 
 ```php
@@ -145,7 +145,7 @@ echo Yii::$app->formatter->asTime('2014-10-06 14:41:00 CEST'); // 14:41:00
 
 > Note: Поскольку правила для часовых поясов принимаются различными правительствами и могут часто меняться,
 > вероятно, информация в базе данных часовых поясов на вашем сервере не самая свежая.
-> Как обновить базу вы можете узнать из [руководства ICU](http://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data).
+> Как обновить базу вы можете узнать из [руководства ICU](https://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data).
 > Смотрите также: [Настройка вашего PHP окружения для интернационализации](tutorial-i18n.md#setup-environment).
 
 Форматирование чисел <span id="numbers"></span>
diff --git a/docs/guide-ru/rest-authentication.md b/docs/guide-ru/rest-authentication.md
index b35d46d68f8..03c9932ddc1 100644
--- a/docs/guide-ru/rest-authentication.md
+++ b/docs/guide-ru/rest-authentication.md
@@ -10,15 +10,15 @@
 
 Есть различные способы отправки токена доступа:
 
-* [HTTP Basic Auth](http://en.wikipedia.org/wiki/Basic_access_authentication): токен доступа
+* [HTTP Basic Auth](https://en.wikipedia.org/wiki/Basic_access_authentication): токен доступа
   отправляется как имя пользователя. Такой подход следует использовать только в том случае, когда токен доступа может быть безопасно сохранен
   на стороне пользователя API. Например, если API используется программой, запущенной на сервере.
 * Параметр запроса: токен доступа отправляется как параметр запроса в URL-адресе API, т.е. примерно таким образом:
   `https://example.com/users?access-token=xxxxxxxx`. Так как большинство веб-серверов сохраняют параметры запроса в своих логах,
   такой подход следует применять только при работе с `JSONP`-запросами, которые не могут отправлять токены доступа
  в HTTP-заголовках.
-* [OAuth 2](http://oauth.net/2/): токен доступа выдается пользователю API сервером авторизации
-  и отправляется API-серверу через [HTTP Bearer Tokens](http://tools.ietf.org/html/rfc6750),
+* [OAuth 2](https://oauth.net/2/): токен доступа выдается пользователю API сервером авторизации
+  и отправляется API-серверу через [HTTP Bearer Tokens](https://datatracker.ietf.org/doc/html/rfc6750),
   в соответствии с протоколом OAuth2.
 
 Yii поддерживает все выше перечисленные методы аутентификации. Вы также можете легко создавать новые методы аутентификации.
diff --git a/docs/guide-ru/rest-quick-start.md b/docs/guide-ru/rest-quick-start.md
index 326a952cff0..5e93b0bfdb7 100644
--- a/docs/guide-ru/rest-quick-start.md
+++ b/docs/guide-ru/rest-quick-start.md
@@ -9,7 +9,7 @@ Yii включает полноценный набор средств для у
 * Получение сериализованных объектов с нужной вам выборкой полей;
 * Надлежащее форматирование данных и ошибок при их валидации;
 * Коллекция пагинаций, фильтров и сортировок;
-* Поддержка [HATEOAS](http://en.wikipedia.org/wiki/HATEOAS);
+* Поддержка [HATEOAS](https://en.wikipedia.org/wiki/HATEOAS);
 * Эффективная маршрутизация с надлежащей проверкой HTTP методов;
 * Встроенная поддержка методов `OPTIONS` и `HEAD`;
 * Аутентификация и авторизация;
diff --git a/docs/guide-ru/rest-resources.md b/docs/guide-ru/rest-resources.md
index 5d530a6913f..3564aa40cef 100644
--- a/docs/guide-ru/rest-resources.md
+++ b/docs/guide-ru/rest-resources.md
@@ -2,7 +2,7 @@
 =========
 
 RESTful API строятся вокруг доступа к *ресурсам* и управления ими. Вы можете думать о ресурсах как
-о [моделях](structure-models.md) из [MVC](http://ru.wikipedia.org/wiki/Model-View-Controller).
+о [моделях](structure-models.md) из [MVC](https://ru.wikipedia.org/wiki/Model-View-Controller).
 
 Хотя не существует никаких ограничений на то, как представить ресурс, в Yii ресурсы обычно представляются
 как объекты [[yii\base\Model]] или дочерние классы (например [[yii\db\ActiveRecord]]), потому как:
@@ -127,7 +127,7 @@ public function extraFields()
 
 ## Ссылки <span id="links"></span>
 
-Согласно [HATEOAS](http://en.wikipedia.org/wiki/HATEOAS), расшифровывающемуся как Hypermedia as the Engine of Application State,
+Согласно [HATEOAS](https://en.wikipedia.org/wiki/HATEOAS), расшифровывающемуся как Hypermedia as the Engine of Application State,
 RESTful API должны возвращать достаточно информации для того, чтобы клиенты могли определить возможные действия над ресурсами.
 Ключевой момент HATEOAS заключается в том, чтобы возвращать вместе с данными набора гиперссылок, указывающих на связанную
 с ресурсом информацию.
@@ -154,6 +154,7 @@ class User extends ActiveRecord implements Linkable
 ```
 
 При отправке ответа объект `User` содержит поле `_links`, значение которого — ссылки, связанные с объектом:
+
 ```
 {
     "id": 100,
diff --git a/docs/guide-ru/rest-response-formatting.md b/docs/guide-ru/rest-response-formatting.md
index c8fdbd761b6..91e214de0bd 100644
--- a/docs/guide-ru/rest-response-formatting.md
+++ b/docs/guide-ru/rest-response-formatting.md
@@ -4,7 +4,7 @@
 При обработке RESTful API запросов приложение обычно выполняет следующие шаги, связанные с форматированием ответа:
 
 1. Определяет различные факторы, которые могут повлиять на формат ответа, такие как media type, язык, версия и т.д.
-   Этот процесс также известен как [согласование содержимого](http://en.wikipedia.org/wiki/Content_negotiation).
+   Этот процесс также известен как [согласование содержимого](https://en.wikipedia.org/wiki/Content_negotiation).
 2. Конвертирует объекты ресурсов в массивы, как описано в секции [Ресурсы](rest-resources.md).
    Этим занимается [[yii\rest\Serializer]].
 3. Конвертирует массивы в строки исходя из формата, определенного на этапе согласование содержимого. Это задача для
diff --git a/docs/guide-ru/rest-versioning.md b/docs/guide-ru/rest-versioning.md
index dd0462ce736..b4b4e220a17 100644
--- a/docs/guide-ru/rest-versioning.md
+++ b/docs/guide-ru/rest-versioning.md
@@ -8,10 +8,10 @@ API используются клиентами, код которых вы не
 продолжать использовать старую, совместимую с ними версию API. Новые или обновлённые клиенты могут использовать новую
 версию. 
 
-> Tip: Чтобы узнать больше о выборе версий обратитесь к [Semantic Versioning](http://semver.org/).
+> Tip: Чтобы узнать больше о выборе версий обратитесь к [Semantic Versioning](https://semver.org/).
 
 Общей практикой при реализации версионирования API является включение номера версии в URL-адрес вызова API-метода.
-Например, `http://example.com/v1/users` означает вызов API `/users` версии 1. Другой способ версионирования API,
+Например, `https://example.com/v1/users` означает вызов API `/users` версии 1. Другой способ версионирования API,
 получивший недавно широкое распространение, состоит в добавлении номера версии в HTTP-заголовки запроса, 
 обычно в заголовок `Accept`:
 
@@ -91,8 +91,8 @@ return [
 ];
 ```
 
-В результате `http://example.com/v1/users` возвратит список пользователей API версии 1, в то время как
-`http://example.com/v2/users` вернет список пользователей версии 2.
+В результате `https://example.com/v1/users` возвратит список пользователей API версии 1, в то время как
+`https://example.com/v2/users` вернет список пользователей версии 2.
 
 Благодаря использованию модулей код API различных мажорных версий может быть хорошо изолирован. И по-прежнему возможно
 повторное использование кода между модулями через общие базовые классы и другие разделяемые классы.
diff --git a/docs/guide-ru/runtime-requests.md b/docs/guide-ru/runtime-requests.md
index 3ba36bfe15b..99a952109fd 100644
--- a/docs/guide-ru/runtime-requests.md
+++ b/docs/guide-ru/runtime-requests.md
@@ -69,12 +69,12 @@ if ($request->isPut)  { /* текущий запрос является PUT за
 
 Компонент `request` предоставляет множество способов изучения текущего запрашиваемого URL. 
 
-Если предположить, что URL запроса будет `http://example.com/admin/index.php/product?id=100`, то вы можете получить различные части этого адреса так как это показано ниже:
+Если предположить, что URL запроса будет `https://example.com/admin/index.php/product?id=100`, то вы можете получить различные части этого адреса так как это показано ниже:
 
 * [[yii\web\Request::url|url]]: вернёт адрес `/admin/index.php/product?id=100`, который содержит URL без информации об имени хоста. 
-* [[yii\web\Request::absoluteUrl|absoluteUrl]]: вернёт адрес `http://example.com/admin/index.php/product?id=100`,
+* [[yii\web\Request::absoluteUrl|absoluteUrl]]: вернёт адрес `https://example.com/admin/index.php/product?id=100`,
   который содержит полный URL, включая имя хоста.
-* [[yii\web\Request::hostInfo|hostInfo]]: вернёт адрес `http://example.com`, который содержит только имя хоста.
+* [[yii\web\Request::hostInfo|hostInfo]]: вернёт адрес `https://example.com`, который содержит только имя хоста.
 * [[yii\web\Request::pathInfo|pathInfo]]: вернёт адрес `/product`, который содержит часть между адресом начального скрипта и параметрами запроса, идущих после знака вопроса.
 * [[yii\web\Request::queryString|queryString]]: вернёт адрес `id=100`, который содержит часть URL после знака вопроса. 
 * [[yii\web\Request::baseUrl|baseUrl]]: вернёт адрес `/admin`, который является частью URL после информации о хосте и перед именем входного скрипта.
diff --git a/docs/guide-ru/runtime-responses.md b/docs/guide-ru/runtime-responses.md
index 61a356d07ef..aa81813b6ba 100644
--- a/docs/guide-ru/runtime-responses.md
+++ b/docs/guide-ru/runtime-responses.md
@@ -166,7 +166,7 @@ Yii имеет средства для её использования.
 ```php
 public function actionOld()
 {
-    return $this->redirect('http://example.com/new', 301);
+    return $this->redirect('https://example.com/new', 301);
 }
 ```
 
@@ -178,7 +178,7 @@ public function actionOld()
 содержимое.
 
 ```php
-\Yii::$app->response->redirect('http://example.com/new', 301)->send();
+\Yii::$app->response->redirect('https://example.com/new', 301)->send();
 ```
 
 > Info: По умолчанию метод [[yii\web\Response::redirect()]] устанавливает код состояния ответа равным 302, сообщая
@@ -229,11 +229,11 @@ public function actionDownload()
 методом [[yii\web\Response::xSendFile()]]. Далее приведены ссылки на то, как включить `X-Sendfile` для популярных
 Web-серверов:
 
-- Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
-- Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Apache: [X-Sendfile](https://tn123.org/mod_xsendfile)
+- Lighttpd v1.4: [X-LIGHTTPD-send-file](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Lighttpd v1.5: [X-Sendfile](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
-- Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
+- Cherokee: [X-Sendfile and X-Accel-Redirect](https://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
 ## Отправка ответа <span id="sending-response"></span>
diff --git a/docs/guide-ru/runtime-routing.md b/docs/guide-ru/runtime-routing.md
index 578e868117c..534e344cecb 100644
--- a/docs/guide-ru/runtime-routing.md
+++ b/docs/guide-ru/runtime-routing.md
@@ -119,7 +119,7 @@ echo Url::to(['post/view', 'id' => 100]);
 // создает якорный URL: /index.php?r=post/view&id=100#content
 echo Url::to(['post/view', 'id' => 100, '#' => 'content']);
 
-// создает абсолютный URL: http://www.example.com/index.php?r=post/index
+// создает абсолютный URL: https://www.example.com/index.php?r=post/index
 echo Url::to(['post/index'], true);
 
 // создает абсолютный URL с использованием схемы https: https://www.example.com/index.php?r=post/index
@@ -168,11 +168,11 @@ use yii\helpers\Url;
 // запрошенный URL: /index.php?r=admin/post/index
 echo Url::to();
 
-// URL из псевдонима: http://example.com
-Yii::setAlias('@example', 'http://example.com/');
+// URL из псевдонима: https://example.com
+Yii::setAlias('@example', 'https://example.com/');
 echo Url::to('@example');
 
-// абсолютный URL: http://example.com/images/logo.gif
+// абсолютный URL: https://example.com/images/logo.gif
 echo Url::to('/images/logo.gif', true);
 ```
 
@@ -338,16 +338,16 @@ echo Url::previous();
 
 ### Правила с именами серверов <span id="rules-with-server-names"></span>
 
-Существует возможность включать имена серверов в шаблон правил URL. Главным образом, это удобно, когда требуется разное поведение приложения, в зависимости от разных имен веб-серверов. Например, следующее правило позволит разобрать URL `http://admin.example.com/login` в маршрут `admin/user/login` и `http://www.example.com/login` в `site/login`.
+Существует возможность включать имена серверов в шаблон правил URL. Главным образом, это удобно, когда требуется разное поведение приложения, в зависимости от разных имен веб-серверов. Например, следующее правило позволит разобрать URL `https://admin.example.com/login` в маршрут `admin/user/login` и `https://www.example.com/login` в `site/login`.
 
 ```php
 [
-    'http://admin.example.com/login' => 'admin/user/login',
-    'http://www.example.com/login' => 'site/login',
+    'https://admin.example.com/login' => 'admin/user/login',
+    'https://www.example.com/login' => 'site/login',
 ]
 ```
 
-Также возможно комбинирование параметров и имени сервера для динамического извлечения данных из него. Например, следующее правило позволит разобрать URL `http://en.example.com/posts` на маршрут и параметр `language=en`.
+Также возможно комбинирование параметров и имени сервера для динамического извлечения данных из него. Например, следующее правило позволит разобрать URL `https://en.example.com/posts` на маршрут и параметр `language=en`.
 
 ```php
 [
@@ -355,7 +355,7 @@ echo Url::previous();
 ]
 ```
 
-> Note: Правила, содержащие имя сервера, НЕ должны содержать в шаблоне подкаталог пути ко входному скрипту. Например, если приложение расположено в `http://www.example.com/sandbox/blog`, шаблон должен быть `http://www.example.com/posts`, вместо `http://www.example.com/sandbox/blog/posts`. Это позволит изменять расположение приложения без необходимости внесения изменений в его код.
+> Note: Правила, содержащие имя сервера, НЕ должны содержать в шаблоне подкаталог пути ко входному скрипту. Например, если приложение расположено в `https://www.example.com/sandbox/blog`, шаблон должен быть `https://www.example.com/posts`, вместо `https://www.example.com/sandbox/blog/posts`. Это позволит изменять расположение приложения без необходимости внесения изменений в его код.
 
 ### Суффиксы в URL <span id="url-suffixes"></span>
 
@@ -411,7 +411,7 @@ echo Url::previous();
 
 Начиная с версии 2.0.10 [[yii\web\UrlManager|UrlManager]] может быть настроен на использование [[yii\web\UrlNormalizer|UrlNormalizer]],
 что позволяет справиться с вариациями одного и того же URL с присутствующим или отсутствующим слешем в конце.
-Технически `http://example.com/path` и `http://example.com/path/` являются разными URL, отдача одинакового содержимого
+Технически `https://example.com/path` и `https://example.com/path/` являются разными URL, отдача одинакового содержимого
 в обоих вариантах может негативно повлиять на SEO. По умолчанию нормализатор заменяет повторяющиеся слеши на один и либо
 убирает, либо добавляет завершающие слеши в зависимости от суффикса и производит [редирект 301](https://ru.wikipedia.org/wiki/HTTP_301)
 на нормализованный URL. Нормализатор может быть настроен как глобально для менеджера URL, так и индивидуально для
diff --git a/docs/guide-ru/runtime-sessions-cookies.md b/docs/guide-ru/runtime-sessions-cookies.md
index bd6184dc461..c23960d09b2 100644
--- a/docs/guide-ru/runtime-sessions-cookies.md
+++ b/docs/guide-ru/runtime-sessions-cookies.md
@@ -120,7 +120,7 @@ $session['captcha.lifetime'] = 3600;
 
 * [[yii\web\DbSession]]: сохраняет данные сессии в базе данных.
 * [[yii\web\CacheSession]]: хранение данных сессии в предварительно сконфигурированном компоненте кэша [кэш](caching-data.md#cache-components).
-* [[yii\redis\Session]]: хранение данных сессии в [redis](http://redis.io/).
+* [[yii\redis\Session]]: хранение данных сессии в [redis](https://redis.io/).
 * [[yii\mongodb\Session]]: хранение сессии в [MongoDB](https://www.mongodb.com/).
 
 Все эти классы поддерживают одинаковый набор методов API. В результате вы можете переключаться между различными хранилищами сессий без модификации кода приложения.
diff --git a/docs/guide-ru/security-best-practices.md b/docs/guide-ru/security-best-practices.md
index e5e881b379a..52d306f75aa 100644
--- a/docs/guide-ru/security-best-practices.md
+++ b/docs/guide-ru/security-best-practices.md
@@ -142,10 +142,10 @@ CSRF - это аббревиатура для межсайтинговой по
 
 Например, сайт `an.example.com` имеет URL `/logout`, который, используя простой GET, разлогинивает пользователя. Пока
 это запрос выполняется самим пользователем - всё в порядке, но в один прекрасный день злоумышленники размещают код
-`<img src="http://an.example.com/logout">` на форуме с большой посещаемостью. Браузер не делает никаких отличий
+`<img src="https://an.example.com/logout">` на форуме с большой посещаемостью. Браузер не делает никаких отличий
 между запросом изображения и запросом страницы, так что когда пользователь откроет страницу с таким тегом `img`, браузер отправит GET запрос на указанный адрес, и пользователь будет разлогинен.
 
-Вот основная идея. Можно сказать, что в разлогировании пользователя нет ничего серьёзного, но с помощью этой уязвимости, можно выполнять опасные операции. Представьте, что существует страница http://an.example.com/purse/transfer?to=anotherUser&amount=2000, обращение к которой с помощью GET запроса, приводит к перечислению 2000 единиц валюты со счета авторизированного пользователя на счет пользователя с логином anotherUser. Учитывая, что браузер для загрузки контента отправляет GET запросы, можно подумать, что разрешение на выполнение такой операции только POST запросом на 100% обезопасит от проблем. К сожалению, это не совсем правда. Учитывайте, что вместо тега <img>, злоумышленник может внедрить JavaScript код, который будет отправлять нужные POST запросы на этот URL.
+Вот основная идея. Можно сказать, что в разлогировании пользователя нет ничего серьёзного, но с помощью этой уязвимости, можно выполнять опасные операции. Представьте, что существует страница https://an.example.com/purse/transfer?to=anotherUser&amount=2000, обращение к которой с помощью GET запроса, приводит к перечислению 2000 единиц валюты со счета авторизированного пользователя на счет пользователя с логином anotherUser. Учитывая, что браузер для загрузки контента отправляет GET запросы, можно подумать, что разрешение на выполнение такой операции только POST запросом на 100% обезопасит от проблем. К сожалению, это не совсем правда. Учитывайте, что вместо тега <img>, злоумышленник может внедрить JavaScript код, который будет отправлять нужные POST запросы на этот URL.
 
 Для того, чтоб избежать CSRF вы должны всегда:
 
@@ -209,7 +209,7 @@ Yii предоставляет функции, которые зависят о
 
 Дополнительные сведения о конфигурации сервера смотрите в документации Вашего веб-сервера:
 
-- Apache 2: <http://httpd.apache.org/docs/trunk/vhosts/examples.html#defaultallports>
+- Apache 2: <https://httpd.apache.org/docs/trunk/vhosts/examples.html#defaultallports>
 - Nginx: <https://www.nginx.com/resources/wiki/start/topics/examples/server_blocks/>
 
 Если у Вас нет доступа к конфигурации сервера, Вы можете настроить фильтр [[yii\filters\HostControl]] уровня приложения для защиты от такого рода атак:
diff --git a/docs/guide-ru/security-cryptography.md b/docs/guide-ru/security-cryptography.md
index befef8bcae8..83e932babe1 100644
--- a/docs/guide-ru/security-cryptography.md
+++ b/docs/guide-ru/security-cryptography.md
@@ -45,6 +45,7 @@ $data = Yii::$app->getSecurity()->decryptByPassword($encryptedData, $secretKey);
 Есть ситуации, в которых вам нужно убедиться, что ваши данные не были изменены третьей стороной или даже повреждены каким-либо образом. Yii обеспечивает простой способ для подтверждения целостности данных в виде двух вспомогательных функций.
 
 Префикс данных генерируются из секретного ключа и данных:
+
 ```php
 // $secretKey нашего приложения или пользователя, $genuineData полученые из надежного источника
 $data = Yii::$app->getSecurity()->hashData($genuineData, $secretKey);
diff --git a/docs/guide-ru/start-databases.md b/docs/guide-ru/start-databases.md
index 9889d89c3cf..26367d5cd25 100644
--- a/docs/guide-ru/start-databases.md
+++ b/docs/guide-ru/start-databases.md
@@ -201,7 +201,7 @@ View имеет 2 части относительно отображения д
 Чтобы увидеть, как работает весь вышеприведённый код, перейдите по следующей ссылке в своём браузере:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 ![Список Стран](images/start-country-list.png)
@@ -210,7 +210,7 @@ http://hostname/index.php?r=country%2Findex
 Посмотрев внимательней, вы увидите, что URL в браузере тоже сменилось на
 
 ```
-http://hostname/index.php?r=country%2Findex&page=2
+https://hostname/index.php?r=country%2Findex&page=2
 ```
 
 За кадром [[yii\data\Pagination|Pagination]] предоставляет всю необходимую функциональность для постраничной разбивки набора данных:
diff --git a/docs/guide-ru/start-forms.md b/docs/guide-ru/start-forms.md
index 73a766038b7..93a1ddc7416 100644
--- a/docs/guide-ru/start-forms.md
+++ b/docs/guide-ru/start-forms.md
@@ -160,7 +160,7 @@ use yii\widgets\ActiveForm;
 Чтобы увидеть всё созданное в работе, откройте в браузере следующий URL:
 
 ```
-http://hostname/index.php?r=site%2Fentry
+https://hostname/index.php?r=site%2Fentry
 ```
 
 Вы увидите страницу с формой и двумя полями для ввода. Перед каждым полем имеется подпись, которая указывает, какую
diff --git a/docs/guide-ru/start-gii.md b/docs/guide-ru/start-gii.md
index bf0e4762e65..55365cf25f6 100644
--- a/docs/guide-ru/start-gii.md
+++ b/docs/guide-ru/start-gii.md
@@ -42,7 +42,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 Благодаря этой строке ваше приложение находится в режиме разработки, и Gii уже активирован в соответствии с описанной выше конфигурацией. Теперь вы можете получить доступ к Gii по следующему адресу:
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 > Note: Если вы пытаетесь получить доступ к Gii не с локального хоста, по умолчанию, в целях обеспечения безопасности,
 > доступ будет запрещён. Вы можете изменить настройки Gii, чтобы добавить разрешённые IP адреса, как указано ниже
@@ -101,7 +101,7 @@ CRUD расшифровывается как Create, Read, Update и Delete, п
 Чтобы увидеть как всё это работает, перейдите по следующему URL, используя ваш браузер:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 Вы увидите таблицу, показывающую страны из таблицы БД. Вы можете сортировать, а также фильтровать данные, указывая условия фильтрации в заголовках столбцов.
diff --git a/docs/guide-ru/start-hello.md b/docs/guide-ru/start-hello.md
index e4398e70fc0..32e42cc0a2b 100644
--- a/docs/guide-ru/start-hello.md
+++ b/docs/guide-ru/start-hello.md
@@ -80,7 +80,7 @@ use yii\helpers\Html;
 
 Стоит отметить, что в коде выше параметр `message` [[yii\helpers\Html::encode()|экранируется для HTML]] перед выводом.
 Это обязательно так как параметр приходит от пользователя, который может попытаться провести
-[XSS атаку](http://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%B6%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%D1%8B%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B8%D0%BD%D0%B3)
+[XSS атаку](https://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%B6%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%D1%8B%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B8%D0%BD%D0%B3)
 путём вставки зловредного JavaScript кода.
 
 Вы можете дополнить представление `say` HTML тегами, текстом или кодом PHP. Фактически, представление `say` является
@@ -94,7 +94,7 @@ use yii\helpers\Html;
 После создания действия и представления вы можете перейти на новую страницу по следующему URL:
 
 ```
-http://hostname/index.php?r=site%2Fsay&message=Привет+мир
+https://hostname/index.php?r=site%2Fsay&message=Привет+мир
 ```
 
 ![Привет, мир](images/start-hello-world.png)
diff --git a/docs/guide-ru/start-installation.md b/docs/guide-ru/start-installation.md
index 8d9aa8725af..667df73a55c 100644
--- a/docs/guide-ru/start-installation.md
+++ b/docs/guide-ru/start-installation.md
@@ -132,13 +132,13 @@ php requirements.php
 > Info: можете пропустить этот подраздел если вы только начали знакомиться с фреймворком и пока не разворачиваете
   его на рабочем сервере.
 
-Приложение, установленное по инструкциям, приведённым выше, будет работать сразу как с [Apache](http://httpd.apache.org/),
-так и с [Nginx](http://nginx.org/) под Windows и Linux с установленным PHP 5.4 и выше. Yii 2.0 также совместим с
-[HHVM](http://hhvm.com/). Тем не менее, в некоторых случаях поведение при работе с HHVM отличается от обычного PHP.
+Приложение, установленное по инструкциям, приведённым выше, будет работать сразу как с [Apache](https://httpd.apache.org/),
+так и с [Nginx](https://nginx.org/) под Windows и Linux с установленным PHP 5.4 и выше. Yii 2.0 также совместим с
+[HHVM](https://hhvm.com/). Тем не менее, в некоторых случаях поведение при работе с HHVM отличается от обычного PHP.
 Будьте внимательны.
 
-На рабочем сервере вам наверняка захочется изменить URL приложения с `http://www.example.com/basic/web/index.php`
-на `http://www.example.com/index.php`. Для этого необходимо изменить корневую директорию в настройках веб сервера так,
+На рабочем сервере вам наверняка захочется изменить URL приложения с `https://www.example.com/basic/web/index.php`
+на `https://www.example.com/index.php`. Для этого необходимо изменить корневую директорию в настройках веб сервера так,
 чтобы та указывала на `basic/web`. Дополнительно можно спрятать `index.php` следуя описанию в разделе
 «[Разбор и генерация URL](runtime-routing.md)». Далее будет показано как настроить Apache и Nginx.
 
@@ -174,7 +174,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Рекомендуемые настройки Nginx <span id="recommended-nginx-configuration"></span>
 
-PHP должен быть установлен как [FPM SAPI](https://www.php.net/manual/ru/install.fpm.php) для [Nginx](http://wiki.nginx.org/).
+PHP должен быть установлен как [FPM SAPI](https://www.php.net/manual/ru/install.fpm.php) для [Nginx](https://wiki.nginx.org/).
 Используйте следующие параметры Nginx и не забудьте заменить `path/to/basic/web` на корректный путь к `basic/web` и
 `mysite.test` на ваше имя хоста.
 
diff --git a/docs/guide-ru/start-workflow.md b/docs/guide-ru/start-workflow.md
index 43f53bb25b5..65d2938e231 100644
--- a/docs/guide-ru/start-workflow.md
+++ b/docs/guide-ru/start-workflow.md
@@ -1,9 +1,9 @@
 Запуск приложения
 ====================
 
- После установки Yii базовое приложение будет доступно либо по URL `http://hostname/basic/web/index.php`, либо по `http://hostname/index.php`, в зависимости от настроек Web сервера. Данный раздел - общее введение в организацию кода, встроенный функционал и обработку обращений приложением Yii.
+ После установки Yii базовое приложение будет доступно либо по URL `https://hostname/basic/web/index.php`, либо по `https://hostname/index.php`, в зависимости от настроек Web сервера. Данный раздел - общее введение в организацию кода, встроенный функционал и обработку обращений приложением Yii.
 
-> Info: далее в данном руководстве предполагается, что Yii установлен в директорию `basic/web`, которая, в свою очередь, установлена как корневой каталог в настройках Web сервера. В результате, обратившись по URL `http://hostname/index.php`, Вы получите доступ к приложению, расположенному в `basic/web`. Детальнее с процессом начальной настройки можно познакомиться в разделе [Установка Yii](start-installation.md).
+> Info: далее в данном руководстве предполагается, что Yii установлен в директорию `basic/web`, которая, в свою очередь, установлена как корневой каталог в настройках Web сервера. В результате, обратившись по URL `https://hostname/index.php`, Вы получите доступ к приложению, расположенному в `basic/web`. Детальнее с процессом начальной настройки можно познакомиться в разделе [Установка Yii](start-installation.md).
 
 Отметим, что в отличие от самого фреймворка как только приложение установлено, оно становится целиком вашим. Вы можете изменять его код как угодно.
 
@@ -12,7 +12,7 @@
 
 Установленный шаблон простого приложения состоит из четырех страниц:
 
-* домашняя страница, отображается при переходе по URL `http://hostname/index.php`
+* домашняя страница, отображается при переходе по URL `https://hostname/index.php`
 * страница "About" ("О нас")
 * на странице "Contact" находится форма обратной связи, на которой пользователь может обратиться к разработчику по e-mail
 * на странице "Login" отображается форма авторизации. Попытайтесь авторизоваться с логином/паролем "admin/admin".
@@ -35,7 +35,7 @@
 
 Ниже приведен список основных директорий и файлов вашего приложения (считаем, что приложение установлено в директорию `basic`):
 
-```js
+```
 basic/                  корневой каталог приложения
     composer.json       используется Composer'ом, содержит описание приложения
     config/             конфигурационные файлы
@@ -55,7 +55,7 @@ basic/                  корневой каталог приложения
 
 В целом, приложение Yii можно разделить на две категории файлов: расположенные в `basic/web` и расположенные в других директориях. Первая категория доступна через Web (например, браузером), вторая не доступна извне и не должна быть доступной т.к. содержит служебную информацию.
 
-В Yii реализован [архитектурный паттерн MVC](http://ru.wikipedia.org/wiki/Model-View-Controller),
+В Yii реализован [архитектурный паттерн MVC](https://ru.wikipedia.org/wiki/Model-View-Controller),
 которая соответствует структуре директорий приложения. В директории `models` находятся [Модели](structure-models.md),
 в `views` расположены [Виды](structure-views.md), а в каталоге `controllers` все [Контроллеры](structure-controllers.md) приложения.
 
diff --git a/docs/guide-ru/structure-applications.md b/docs/guide-ru/structure-applications.md
index 570cbccbf9f..b769cc8477a 100644
--- a/docs/guide-ru/structure-applications.md
+++ b/docs/guide-ru/structure-applications.md
@@ -268,7 +268,7 @@ if (YII_ENV_DEV) {
 использует данное свойство для определения по умолчанию языка, на котором должен быть отображен календарь и формат данных
 для календаря.
 
-Рекомендуется что вы будете указывать язык в рамках стандарта [IETF](http://en.wikipedia.org/wiki/IETF_language_tag).
+Рекомендуется что вы будете указывать язык в рамках стандарта [IETF](https://en.wikipedia.org/wiki/IETF_language_tag).
 Например, для английского языка используется `en`, в то время как для английского в США - `en-US`.
 
 Более детальная информация приведена в разделе [Интернационализация](tutorial-i18n.md).
@@ -339,7 +339,7 @@ $width = \Yii::$app->params['thumbnail.size'][0];
 "Английский" (США). Вы должны настроить данное свойство соответствующим образом, если содержимое в вашем коде является не
 английским языком.
 
-Аналогично свойству [language](#language), вы должны указать данное свойство в рамках стандарта [IETF](http://en.wikipedia.org/wiki/IETF_language_tag).
+Аналогично свойству [language](#language), вы должны указать данное свойство в рамках стандарта [IETF](https://en.wikipedia.org/wiki/IETF_language_tag).
 Например, для английского языка используется `en`, в то время как для английского в США - `en-US`.
 
 Более детальная информация приведена в разделе [Интернационализация](tutorial-i18n.md).
diff --git a/docs/guide-ru/structure-assets.md b/docs/guide-ru/structure-assets.md
index e7aeaaf4f9d..19ffc02eacd 100644
--- a/docs/guide-ru/structure-assets.md
+++ b/docs/guide-ru/structure-assets.md
@@ -46,7 +46,7 @@ class AppAsset extends AssetBundle
 * [[yii\web\AssetBundle::js|js]]: массив, перечисляющий JavaScript файлы, содержащиеся в данном комплекте. Заметьте, что только прямая косая черта (forward slash - "/") может быть использована, как разделитель директорий. Каждый JavaScript файл может быть задан в одном из следующих форматов:
   - относительный путь, представленный локальным JavaScript файлом (например `js/main.js`). Актуальный путь файла может быть определён путём добавления [[yii\web\AssetManager::basePath]] к относительному пути, и актуальный URL файла может быть определён путём добавления [[yii\web\AssetManager::baseUrl]] к относительному пути.
   - абсолютный URL, представленный внешним JavaScript файлом. Например,
-    `http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` или
+    `https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` или
     `//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js`.
 * [[yii\web\AssetBundle::css|css]]: массив, перечисляющий CSS файлы, содержащиеся в данном комплекте. Формат этого массива такой же, как и у [[yii\web\AssetBundle::js|js]].
 * [[yii\web\AssetBundle::depends|depends]]: массив, перечисляющий имена комплектов ресурсов, от которых зависит данный комплект.
@@ -166,7 +166,7 @@ class FontAwesomeAsset extends AssetBundle
 
 ### Установка ресурсов Bower и NPM<span id="bower-npm-assets"></span>
 
-Большинство JavaScript/CSS пакетов управляются [Bower](http://bower.io/) и/или [NPM](https://www.npmjs.com/).
+Большинство JavaScript/CSS пакетов управляются [Bower](https://bower.io/) и/или [NPM](https://www.npmjs.com/).
 В мире PHP мы испольуем Composer для управления зависимостями, но он не позволяет устанавливать пакеты Bower и NPM, просто указывая их в `composer.json`.
 
 Чтобы получить такую возможность, нужно немного настроить Composer. Существует два варианта:
@@ -398,10 +398,10 @@ return [
         'assetManager' => [
             'bundles' => [
                 'app\assets\LanguageAssetBundle' => [
-                    'baseUrl' => 'http://some.cdn.com/files/i18n/en' // makes NO effect!
+                    'baseUrl' => 'https://some.cdn.com/files/i18n/en' // makes NO effect!
                 ],
                 'app\assets\LargeFileAssetBundle' => [
-                    'baseUrl' => 'http://some.cdn.com/files/large-files' // makes NO effect!
+                    'baseUrl' => 'https://some.cdn.com/files/large-files' // makes NO effect!
                 ],
             ],
         ],
@@ -485,7 +485,7 @@ return [
 
 ## Преобразование Ресурсов<span id="asset-conversion"></span>
 
-Вместо того, чтобы напрямую писать CSS и/или JavaScript код, разработчики часто пишут его в некотором <b>расширенном синтаксисе</b> и используют специальные инструменты конвертации в CSS/JavaScript. Например, для CSS кода можно использовать [LESS](http://lesscss.org/) или [SCSS](http://sass-lang.com/); а для JavaScript можно использовать [TypeScript](http://www.typescriptlang.org/).
+Вместо того, чтобы напрямую писать CSS и/или JavaScript код, разработчики часто пишут его в некотором <b>расширенном синтаксисе</b> и используют специальные инструменты конвертации в CSS/JavaScript. Например, для CSS кода можно использовать [LESS](https://lesscss.org/) или [SCSS](https://sass-lang.com/); а для JavaScript можно использовать [TypeScript](https://www.typescriptlang.org/).
 
 Можно перечислить файлы ресурсов в <b>расширенном синтаксисе</b> в [[yii\web\AssetBundle::css|css]] и [[yii\web\AssetBundle::js|js]] свойствах из комплекта ресурсов. Например,
 
@@ -541,7 +541,7 @@ return [
 Ключи массива - это имена расширений файлов (без ведущей точки), а значения массива - это образующийся файл ресурса имён расширений и команд для выполнения конвертации ресурса. Маркеры `{from}` и `{to}` в командах будут заменены соответственно исходным путём файла ресурсов и путём назначения файла ресурсов.
 
 > Note: Существуют другие способы работы с ресурсами расширенного синтаксиса, кроме того, который указан выше.
-Например, Вы можете использовать инструменты построения, такие как [grunt](http://gruntjs.com/) для отслеживания и автоматической конвертации ресурсов расширенного синтаксиса. В этом случае, Вы должны перечислить конечные CSS/JavaScript файлы в комплекте ресурсов вместо исходных файлов.
+Например, Вы можете использовать инструменты построения, такие как [grunt](https://gruntjs.com/) для отслеживания и автоматической конвертации ресурсов расширенного синтаксиса. В этом случае, Вы должны перечислить конечные CSS/JavaScript файлы в комплекте ресурсов вместо исходных файлов.
 
 ## Объединение и Сжатие Ресурсов<span id="combining-compressing-assets"></span>
 
@@ -697,7 +697,7 @@ yii asset assets.php config/assets-prod.php
 
 
 > Для справки: Команда `asset` является не единственной опцией для автоматического процесса объединения и сжатия ресурсов.
-  Вы можете также использовать такой замечательный инструмент запуска приложений как [grunt](http://gruntjs.com/) для достижения той же цели.
+  Вы можете также использовать такой замечательный инструмент запуска приложений как [grunt](https://gruntjs.com/) для достижения той же цели.
 
 
 ### Группировка Комплектов Ресурсов <span id="grouping-asset-bundles"></span>
diff --git a/docs/guide-ru/structure-controllers.md b/docs/guide-ru/structure-controllers.md
index 59bf52ec148..c55a8cf1517 100644
--- a/docs/guide-ru/structure-controllers.md
+++ b/docs/guide-ru/structure-controllers.md
@@ -81,7 +81,7 @@ ControllerID/ActionID
 ModuleID/ControllerID/ActionID
 ```
 
-Таким образом, если пользователь запрашивает URL `http://hostname/index.php?r=site/index`, то `index` действие в `site` контроллере будет вызвано.
+Таким образом, если пользователь запрашивает URL `https://hostname/index.php?r=site/index`, то `index` действие в `site` контроллере будет вызвано.
 Секция [Маршрутизация](runtime-routing.md) содержит более подробную информацию о том как маршруты сопоставляются с действиями.
 
 
@@ -175,7 +175,7 @@ ID контроллеров также могут содержать префи
 Каждое приложение имеет контроллер по умолчанию, указанный через свойство [[yii\base\Application::defaultRoute]].
 Когда в запросе не указан [маршрут](#routes), тогда будет использован маршрут указанный в данном свойстве.
 Для [[yii\web\Application|Веб приложений]], это значение `'site'`, в то время как для [[yii\console\Application|консольных приложений]],
-это `'help'`. Таким образом, если задан URL `http://hostname/index.php`, это означает, что контроллер `site` выполнит обработку запроса.
+это `'help'`. Таким образом, если задан URL `https://hostname/index.php`, это означает, что контроллер `site` выполнит обработку запроса.
 
 Вы можете изменить контроллер по умолчанию следующим образом в [настройках приложения](structure-applications.md#application-configurations):
 
@@ -316,8 +316,8 @@ class HelloWorldAction extends Action
 ```php
 public function actionForward()
 {
-    // перенаправляем браузер пользователя на http://example.com
-    return $this->redirect('http://example.com');
+    // перенаправляем браузер пользователя на https://example.com
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -347,13 +347,13 @@ class PostController extends Controller
 
 Для разных запросов параметры действий будут определены следующим образом:
 
-* `http://hostname/index.php?r=post/view&id=123`: параметр `$id` будет присвоено значение `'123'`, в то время
+* `https://hostname/index.php?r=post/view&id=123`: параметр `$id` будет присвоено значение `'123'`, в то время
   как `$version` будет иметь значение `null`, т. к. строка запроса не содержит параметра `version`;
-* `http://hostname/index.php?r=post/view&id=123&version=2`: параметрам `$id` и `$version` будут присвоены
+* `https://hostname/index.php?r=post/view&id=123&version=2`: параметрам `$id` и `$version` будут присвоены
   значения `'123'` и `'2'` соответственно;
-* `http://hostname/index.php?r=post/view`: будет брошено исключение [[yii\web\BadRequestHttpException]], т. к.
+* `https://hostname/index.php?r=post/view`: будет брошено исключение [[yii\web\BadRequestHttpException]], т. к.
   обязательный параметр `$id` не был указан в запросе;
-* `http://hostname/index.php?r=post/view&id[]=123`: будет брошено исключение [[yii\web\BadRequestHttpException]], т. к.
+* `https://hostname/index.php?r=post/view&id[]=123`: будет брошено исключение [[yii\web\BadRequestHttpException]], т. к.
   параметр `$id` получил неверное значение `['123']`.
 
 Если вы хотите, чтобы параметр действия принимал массив значений, вы должны использовать type-hint значение `array`, как показано ниже:
@@ -365,8 +365,8 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-Теперь, если запрос будет содержать URL `http://hostname/index.php?r=post/view&id[]=123`, то параметр `$id` примет значение
-`['123']`. Если запрос будет содержать URL `http://hostname/index.php?r=post/view&id=123`, то параметр `$id` все равно будет
+Теперь, если запрос будет содержать URL `https://hostname/index.php?r=post/view&id[]=123`, то параметр `$id` примет значение
+`['123']`. Если запрос будет содержать URL `https://hostname/index.php?r=post/view&id=123`, то параметр `$id` все равно будет
 содержать массив, т. к. скалярное значение `'123'` будет автоматически конвертировано в массив.
 
 Вышеприведенные примеры в основном показывают как параметры действий работают для Веб приложений. Больше информации
diff --git a/docs/guide-ru/structure-extensions.md b/docs/guide-ru/structure-extensions.md
index 421d2a970e3..6728999b26e 100644
--- a/docs/guide-ru/structure-extensions.md
+++ b/docs/guide-ru/structure-extensions.md
@@ -77,7 +77,7 @@ Image::thumbnail('@webroot/img/test-image.jpg', 120, 120)
 2. установить автозагрузчики классов, предоставляемые расширениями, если таковые имеются.
 3. загрузить и установить все зависимые расширения в соответствии с инструкциями.
 
-Если расширение не имеет автозагрузчика классов, но следует [стандарту PSR-4](http://www.php-fig.org/psr/psr-4/), то вы
+Если расширение не имеет автозагрузчика классов, но следует [стандарту PSR-4](https://www.php-fig.org/psr/psr-4/), то вы
 можете использовать автозагрузчик классов, предоставленный Yii для загрузки классов расширений. Всё, что вам нужно
 сделать, это объявить [псевдоним](concept-aliases.md#defining-aliases) для корневого каталога расширения. Например,
 если вы установили расширение в директорию `vendor/mycompany/myext` и классы расширения находятся в пространстве имён
@@ -223,7 +223,7 @@ Image::thumbnail('@webroot/img/test-image.jpg', 120, 120)
 #### Пространства имён <span id="namespaces"></span>
 
 Во избежание конфликтов имён, а также для того, чтобы ваши классы были автозагружаемыми, вы должны следовать
-[стандарту PSR-4](http://www.php-fig.org/psr/psr-4/) или [стандарту PSR-0](http://www.php-fig.org/psr/psr-0/) в
+[стандарту PSR-4](https://www.php-fig.org/psr/psr-4/) или [стандарту PSR-0](https://www.php-fig.org/psr/psr-0/) в
 использовании пространств имён и названии классов вашего расширения.
 
 Пространства имён в ваших классах должны начинаться с `имяРазработчика\названиеРасширения`, где `названиеРасширения`
@@ -338,7 +338,7 @@ class MyBootstrapClass implements BootstrapInterface
 #### Версионирование <span id="versioning"></span>
 
 Вы можете давать каждому выпуску вашего расширения номер версии (например, `1.0.1`). Мы рекомендуем вам придерживаться
-практик [семантического версионирования](http://semver.org) при определении, какой номер версии должен использоваться.
+практик [семантического версионирования](https://semver.org) при определении, какой номер версии должен использоваться.
 
 #### Публикация <span id="releasing"></span>
 
@@ -353,7 +353,7 @@ class MyBootstrapClass implements BootstrapInterface
 которые помогут людям изучить и использовать ваше расширение:
 
 * Файл readme в корневой директории пакета: он описывает, что ваше расширение делает, а также как его установить и
-  использовать. Мы рекомендуем вам написать его в формате [Markdown](http://daringfireball.net/projects/markdown/) и
+  использовать. Мы рекомендуем вам написать его в формате [Markdown](https://daringfireball.net/projects/markdown/) и
   дать ему название `readme.md`.
 * Файл changelog в корневой директории пакета: он описывает, какие изменения произошли в каждом выпуске. Этот файл
   может быть написан в формате Markdown и назван `changelog.md`.
@@ -385,7 +385,7 @@ Yii предоставляет следующие базовые расшире
   предоставляет набор наиболее часто используемых клиентов авторизации, таких, как Facebook OAuth2 клиент и GitHub
   OAuth2 клиент.
 - [yiisoft/yii2-bootstrap](https://www.yiiframework.com/extension/yiisoft/yii2-bootstrap):
-  предоставляет набор виджетов, которые являются компонентами и плагинами [Bootstrap](http://getbootstrap.com/).
+  предоставляет набор виджетов, которые являются компонентами и плагинами [Bootstrap](https://getbootstrap.com/).
 - [yiisoft/yii2-debug](https://www.yiiframework.com/extension/yiisoft/yii2-debug):
   предоставляет поддержку отладки в приложениях Yii. Когда это расширение используется, отладочная панель появится в
   нижней части каждой страницы. Это расширение также предоставляет набор отдельных страниц для отображения более
@@ -403,21 +403,21 @@ Yii предоставляет следующие базовые расшире
   предоставляет HTTP клиент.
 - [yiisoft/yii2-imagine](https://github.com/yiisoft/yii2-imagine):
   предоставляет часто используемые функции для работы с изображениями, основанные на библиотеке
-  [Imagine](http://imagine.readthedocs.org/).
+  [Imagine](https://imagine.readthedocs.org/).
 - [yiisoft/yii2-jui](https://github.com/yiisoft/yii2-jui):
-  предоставляет набор виджетов, основанный на взаимодействиях и виджетах [JQuery UI](http://jqueryui.com/).
+  предоставляет набор виджетов, основанный на взаимодействиях и виджетах [JQuery UI](https://jqueryui.com/).
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb):
   предоставляет поддержку использования [MongoDB](https://www.mongodb.com/). Оно включает такие возможности, как
   базовые запросы, Active Record, миграции, кэширование, генерация кода и т.д.
 - [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis):
-  предоставляет поддержку использования [redis](http://redis.io/). Оно включает такие возможности, как базовые запросы,
+  предоставляет поддержку использования [redis](https://redis.io/). Оно включает такие возможности, как базовые запросы,
   Active Record, кэширование и т.д.
 - [yiisoft/yii2-smarty](https://github.com/yiisoft/yii2-smarty):
-  предоставляет шаблонизатор, основанный на [Smarty](http://www.smarty.net/).
+  предоставляет шаблонизатор, основанный на [Smarty](https://www.smarty.net/).
 - [yiisoft/yii2-sphinx](https://github.com/yiisoft/yii2-sphinx):
-  предоставляет поддержку использования [Sphinx](http://sphinxsearch.com). Оно включает такие возможности, как базовые
+  предоставляет поддержку использования [Sphinx](https://sphinxsearch.com). Оно включает такие возможности, как базовые
   запросы, Active Record, генерация кода и т.д.
 - [yiisoft/yii2-swiftmailer](https://github.com/yiisoft/yii2-swiftmailer):
-  предоставляет возможности отправки email, основанные на [swiftmailer](http://swiftmailer.org/).
+  предоставляет возможности отправки email, основанные на [swiftmailer](https://swiftmailer.org/).
 - [yiisoft/yii2-twig](https://github.com/yiisoft/yii2-twig):
   предоставляет шаблонизатор, основанный на [Twig](https://twig.symfony.com/).
diff --git a/docs/guide-ru/structure-filters.md b/docs/guide-ru/structure-filters.md
index a1fe490dc98..6461168ca4a 100644
--- a/docs/guide-ru/structure-filters.md
+++ b/docs/guide-ru/structure-filters.md
@@ -139,7 +139,7 @@ public function behaviors()
 ### Фильтр метода аутентификации<span id="auth-method-filters"></span>
 
 Фильтр метода аутентификации используется для аутентификации пользователя различными способами, такими как
-[HTTP Basic Auth](http://en.wikipedia.org/wiki/Basic_access_authentication), [OAuth 2](http://oauth.net/2/).
+[HTTP Basic Auth](https://en.wikipedia.org/wiki/Basic_access_authentication), [OAuth 2](https://oauth.net/2/).
 Классы данных фильтров находятся в пространстве имён `yii\filters\auth`.
 
 Следующий пример показывает, как использовать [[yii\filters\auth\HttpBasicAuth]] для аутентификации пользователя с помощью
@@ -285,7 +285,7 @@ public function behaviors()
 ### [[yii\filters\RateLimiter|RateLimiter]] <span id="rate-limiter"></span>
 
 Ограничитель количества запросов в единицу времени *(RateLimiter)* реализует алгоритм ограничения запросов, основанный на
-[алгоритме leaky bucket](http://en.wikipedia.org/wiki/Leaky_bucket). В основном, он используется при создании RESTful API.
+[алгоритме leaky bucket](https://en.wikipedia.org/wiki/Leaky_bucket). В основном, он используется при создании RESTful API.
 Подробнее об использовании данного фильтра можно прочитать в разделе [Ограничение запросов](rest-rate-limiting.md).
 
 
@@ -346,7 +346,7 @@ public function behaviors()
 Фильтрация Cors может быть настроена с помощью свойства [[yii\filters\Cors::$cors|$cors]].
 
 * `cors['Origin']`: массив, используемый для определения источников. Может принимать значение `['*']` (все) или
-  `['http://www.myserver.net', 'http://www.myotherserver.com']`. По умолчанию значение равно `['*']`.
+  `['https://www.myserver.net', 'https://www.myotherserver.com']`. По умолчанию значение равно `['*']`.
 * `cors['Access-Control-Request-Method']`: массив разрешенных типов запроса, таких как `['GET', 'OPTIONS', 'HEAD']`.
   Значение по умолчанию `['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']`.
 * `cors['Access-Control-Request-Headers']`: массив разрешенных заголовков. Может быть `['*']` то есть все заголовки или
@@ -355,7 +355,7 @@ public function behaviors()
   Может принимать значения `true`, `false` или `null` (не установлено). Значение по умолчанию `null`.
 * `cors['Access-Control-Max-Age']`: определяет *срок жизни запроса, перед его началом*. По умолчанию `86400`.
 
-Например, разрешим CORS для источника : `http://www.myserver.net` с методами `GET`, `HEAD` и `OPTIONS` :
+Например, разрешим CORS для источника : `https://www.myserver.net` с методами `GET`, `HEAD` и `OPTIONS` :
 
 ```php
 use yii\filters\Cors;
@@ -367,7 +367,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
         ],
@@ -389,7 +389,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
             'actions' => [
diff --git a/docs/guide-ru/structure-models.md b/docs/guide-ru/structure-models.md
index 37080d2967a..2706a31c1fb 100644
--- a/docs/guide-ru/structure-models.md
+++ b/docs/guide-ru/structure-models.md
@@ -1,7 +1,7 @@
 Модели
 ======
 
-Модели являются частью архитектуры [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (Модель-Вид-Контроллер). Они представляют собой объекты бизнес данных, правил и логики.
+Модели являются частью архитектуры [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) (Модель-Вид-Контроллер). Они представляют собой объекты бизнес данных, правил и логики.
 
 Вы можете создавать классы моделей путём расширения класса [[yii\base\Model]] или его дочерних классов. Базовый класс [[yii\base\Model]] поддерживает много полезных функций:
 
diff --git a/docs/guide-ru/structure-modules.md b/docs/guide-ru/structure-modules.md
index a8fc39ab042..8b1fce134f6 100644
--- a/docs/guide-ru/structure-modules.md
+++ b/docs/guide-ru/structure-modules.md
@@ -10,7 +10,7 @@
 директории приложения, в этой директории существуют поддиректории `controllers`, `models`, `views` и другие, в которых
 размещаются контроллеры, модели, представления и другие элементы. В следующем примере показано примерное содержимое модуля:
 
-```js
+```
 forum/
     Module.php                   файл класса модуля
     controllers/                 содержит файлы классов контроллеров
diff --git a/docs/guide-ru/structure-overview.md b/docs/guide-ru/structure-overview.md
index c1560813e26..575597b1915 100644
--- a/docs/guide-ru/structure-overview.md
+++ b/docs/guide-ru/structure-overview.md
@@ -1,7 +1,7 @@
 Обзор
 =====
 
-Yii приложения организованы согласно шаблону проектирования [модель-представление-контроллер (MVC)](http://ru.wikipedia.org/wiki/Model-View-Controller).
+Yii приложения организованы согласно шаблону проектирования [модель-представление-контроллер (MVC)](https://ru.wikipedia.org/wiki/Model-View-Controller).
 [Модели](structure-models.md) представляют собой данные, бизнес логику и бизнес правила; [представления](structure-views.md)
 отвечают за отображение информации, в том числе и на основе данных, полученных из моделей; [контроллеры](structure-controllers.md) 
 принимают входные данные от пользователя и преобразовывают их в понятный для [моделей](structure-models.md) формат и команды, а также отвечают за отображение 
diff --git a/docs/guide-ru/test-acceptance.md b/docs/guide-ru/test-acceptance.md
index 0ad6975f6b5..0f810746891 100644
--- a/docs/guide-ru/test-acceptance.md
+++ b/docs/guide-ru/test-acceptance.md
@@ -5,8 +5,8 @@
 
 Приемочное тестирование реализуется с помощью фреймворка Codeception, который имеет отличную документацию:
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception Acceptance Tests](http://codeception.com/docs/03-AcceptanceTests)
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception Acceptance Tests](https://codeception.com/docs/03-AcceptanceTests)
 
 Запуск тестов в шаблонах проектов basic и advanced
 --------------------------------------------------
diff --git a/docs/guide-ru/test-environment-setup.md b/docs/guide-ru/test-environment-setup.md
index 6c1a35f6c45..b6e530a64ac 100644
--- a/docs/guide-ru/test-environment-setup.md
+++ b/docs/guide-ru/test-environment-setup.md
@@ -51,6 +51,7 @@ Changed current directory to <directory>
 ### Настройка веб-сервера Apache
 
 Если вы используете Apache и настроили его как описано в разделе «[Установка Yii](start-installation.md)», то для тестов вам необходимо создать отдельный виртуальный хост который будет работать с той же папкой, но использовать входной скрипт `index-test.php`:
+
 ```
 <VirtualHost *:80>
     DocumentRoot "path/to/basic/web"
@@ -67,5 +68,6 @@ Changed current directory to <directory>
     </Directory>
 </VirtualHost>
 ```
+
 Так мы укажем веб серверу перенаправлять все запросы на скрипт `index-test.php`.
 > Note: Обратите внимание, что здесь мы указываем параметр `DirectoryIndex`, помимо тех параметров, которые были указаны для первого хоста. Это сделано с той целью, чтобы при обращении к главной странице по адресу `mysite-test` также использовался бы скрипт `index-test.php`.
diff --git a/docs/guide-ru/test-fixtures.md b/docs/guide-ru/test-fixtures.md
index 0795599b191..1e419ec019b 100644
--- a/docs/guide-ru/test-fixtures.md
+++ b/docs/guide-ru/test-fixtures.md
@@ -107,7 +107,7 @@ class UserProfileFixture extends ActiveFixture
 Использование фикстур
 ---------------------
 
-Если вы используете [Codeception](http://codeception.com/) для тестирования вашего кода, вам следует рассмотреть вопрос
+Если вы используете [Codeception](https://codeception.com/) для тестирования вашего кода, вам следует рассмотреть вопрос
 об использовании расширения `yii2-codeception`, которое имеет встроенную поддержку загрузки фикстур и доступа к ним.
 Если вы используете другой фреймворк для тестирования, вы можете использовать [[yii\test\FixtureTrait]] в ваших тестах для 
 этих целей.
diff --git a/docs/guide-ru/test-functional.md b/docs/guide-ru/test-functional.md
index 3c2fbf7fae8..8ce956bacef 100644
--- a/docs/guide-ru/test-functional.md
+++ b/docs/guide-ru/test-functional.md
@@ -3,7 +3,7 @@
 
 > Note: Данный раздел находится в разработке.
 
-- [Codeception Functional Tests](http://codeception.com/docs/04-FunctionalTests)
+- [Codeception Functional Tests](https://codeception.com/docs/04-FunctionalTests)
 
 Запуск функциональных тестов для шаблонов проектов basic и advanced
 -------------------------------------------------------------------
diff --git a/docs/guide-ru/test-unit.md b/docs/guide-ru/test-unit.md
index 868f50205ad..a7c0ec2abe4 100644
--- a/docs/guide-ru/test-unit.md
+++ b/docs/guide-ru/test-unit.md
@@ -9,8 +9,8 @@
 
 Модульное тестирование в Yii использует PHPUnit и, опционально, Codeception. Рекомендуется проверить его документацию:
 
-- [Документация PHPUnit начиная с главы 2](http://phpunit.de/manual/current/en/writing-tests-for-phpunit.html).
-- [Codeception Unit Tests](http://codeception.com/docs/05-UnitTests).
+- [Документация PHPUnit начиная с главы 2](https://phpunit.de/manual/current/en/writing-tests-for-phpunit.html).
+- [Codeception Unit Tests](https://codeception.com/docs/05-UnitTests).
 
 Запуск тестов шаблонов проектов basic и advanced
 ------------------------------------------------
diff --git a/docs/guide-ru/tutorial-core-validators.md b/docs/guide-ru/tutorial-core-validators.md
index 79700c8a9c5..9d2110c6d10 100644
--- a/docs/guide-ru/tutorial-core-validators.md
+++ b/docs/guide-ru/tutorial-core-validators.md
@@ -115,7 +115,7 @@ public function rules()
 описанном здесь: [[yii\validators\DateValidator::timestampAttribute|timestampAttribute]].
 
 - `format`: формат даты/времени, согласно которому должна быть сделана проверка.
-   Значение может быть паттерном, описанным в [руководстве ICU](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax)
+   Значение может быть паттерном, описанным в [руководстве ICU](https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax)
    или форматом PHP префиксированным `php:`. Формат должен приниматься классом `Datetime`. Подробнее о нём можно
    прочитать в [руководстве PHP по date_create_from_format()](https://www.php.net/manual/ru/datetime.createfromformat.php).
    Если значение не задано, используется `Yii::$app->formatter->dateFormat`.
diff --git a/docs/guide-ru/tutorial-i18n.md b/docs/guide-ru/tutorial-i18n.md
index ee0791109dc..44f233ff19d 100644
--- a/docs/guide-ru/tutorial-i18n.md
+++ b/docs/guide-ru/tutorial-i18n.md
@@ -46,10 +46,10 @@ return [
 ```
 
 Формат для установки языка/локали: `ll-CC`, где `ll` — это двух или трёхбуквенный код языка в нижнем регистре в 
-соответствии со стандартом [ISO-639](http://www.loc.gov/standards/iso639-2/), а `CC` — это код страны в соответствии
+соответствии со стандартом [ISO-639](https://www.loc.gov/standards/iso639-2/), а `CC` — это код страны в соответствии
 со стандартом [ISO-3166](https://ru.wikipedia.org/wiki/ISO_3166-1#Список_кодов_по_ISO_3166).
 
-> Note: больше информации о синтаксисе и концепции локалей можно получить в [документации проекта ICU](http://userguide.icu-project.org/locale#TOC-The-Locale-Concept).
+> Note: больше информации о синтаксисе и концепции локалей можно получить в [документации проекта ICU](https://unicode-org.github.io/icu/userguide/locale/#the-locale-concept).
 
 Перевод сообщений <span id="message-translation"></span>
 --------------------------------------------------------
@@ -138,7 +138,7 @@ echo \Yii::t('app', 'Balance: {0}', $sum);
 После этого вам станет доступен расширенный синтаксис указателей, а также сокращённая запись `{placeholderName, argumentType}`,
 эквивалентная форме `{placeholderName, argumentType, argumentStyle}`, позволяющая определять стиль форматирования.
 
-Полная документация доступна на [сайте ICU](http://icu-project.org/apiref/icu4c/classMessageFormat.html), но далее в 
+Полная документация доступна на [сайте ICU](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classMessageFormat.html), но далее в 
 документации будут приведены примеры использования расширенных возможностей интернационализации.
 
 #### Числа
@@ -162,7 +162,7 @@ $sum = 42;
 echo \Yii::t('app', 'Balance: {0, number, ,000,000000}', $sum);
 ```
 
-[Описание форматирования](http://icu-project.org/apiref/icu4c/classicu_1_1DecimalFormat.html).
+[Описание форматирования](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classDecimalFormat.html).
 
 #### Даты
 
@@ -182,7 +182,7 @@ echo \Yii::t('app', 'Today is {0, date, short}', time());
 echo \Yii::t('app', 'Today is {0, date,yyyy-MM-dd}', time());
 ```
 
-[Описание форматирования](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details).
+[Описание форматирования](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details).
 
 #### Время
 
@@ -202,7 +202,7 @@ echo \Yii::t('app', 'It is {0, time, short}', time());
 echo \Yii::t('app', 'It is {0, date,HH:mm}', time());
 ```
 
-[Описание форматирования](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details).
+[Описание форматирования](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details).
 
 
 #### Числа прописью
@@ -268,7 +268,7 @@ for an argument: U_ARGUMENT_TYPE_MISMATCH":
 ```
 
 Подробная документация о формах склонений для различных языков доступна на сайте 
-[unicode.org](http://cldr.unicode.org/index/cldr-spec/plural-rules).
+[unicode.org](https://cldr.unicode.org/index/cldr-spec/plural-rules).
 
 #### Вариации
 
@@ -560,7 +560,7 @@ class TranslationEventHandler
 установлено. Однако этот запасной вариант более или менее будет работать только для сайтов на английском языке, хотя даже для
 них большая часть широких возможностей расширения `intl` не будет доступна, поэтому его установка настоятельно рекомендуется.
 
-[PHP-расширение intl](https://www.php.net/manual/ru/book.intl.php) основано на [библиотеке ICU](http://site.icu-project.org/), которая
+[PHP-расширение intl](https://www.php.net/manual/ru/book.intl.php) основано на [библиотеке ICU](https://icu.unicode.org/), которая
 описывает правила форматирования для различных локалей. Поэтому следует помнить, что форматирование чисел и дат вместе с
 синтаксисом форматирования может отличаться в зависимости от версии библиотеки ICU, которая была скомпилирована в вашем
 дистрибутиве PHP.
@@ -577,7 +577,7 @@ echo "ICU: " . INTL_ICU_VERSION . "\n";
 ```
 
 Чтобы иметь доступ ко всем возможностям, описанным в документации, мы рекомендуем использовать ICU версии 49 или новее.
-В более ранних версиях отсутствует указатель `#` в правилах склонений. На сайте <http://site.icu-project.org/download>
+В более ранних версиях отсутствует указатель `#` в правилах склонений. На сайте <https://icu.unicode.org/download>
 вы можете ознакомиться со списком доступных версий ICU. Обратите внимание, что схема нумерации версий изменилась после
 версии 4.8 и последовательность версий выглядит так: ICU 4.8, ICU 49, ICU 50, ICU 51 и так далее.
 
diff --git a/docs/guide-ru/tutorial-performance-tuning.md b/docs/guide-ru/tutorial-performance-tuning.md
index 8e22acdf55d..3de45ee9f27 100644
--- a/docs/guide-ru/tutorial-performance-tuning.md
+++ b/docs/guide-ru/tutorial-performance-tuning.md
@@ -130,7 +130,7 @@ CREATE TABLE session (
 хранилища кеша могут *сбрасывать* закешированные данные при достижении лимитов хранилища. По этой причине, вы должны в 
 основном использовать хранилища кеша, которые не имеют таких лимитов.
 
-Если на вашем сервере установлен [Redis](http://redis.io/), настоятельно рекомендуется выбрать его в качестве 
+Если на вашем сервере установлен [Redis](https://redis.io/), настоятельно рекомендуется выбрать его в качестве 
 хранилища сессий используя [[yii\redis\Session]].
 
 
@@ -212,5 +212,5 @@ composer dumpautoload -o
 Следующие инструменты для профилирования могут оказаться полезными:
 
 - [Отладочный тулбар Yii и отладчик](https://github.com/yiisoft/yii2-debug/blob/master/docs/guide/README.md)
-- [Профайлер XDebug](http://xdebug.org/docs/profiler)
+- [Профайлер XDebug](https://xdebug.org/docs/profiler)
 - [XHProf](https://www.php.net/manual/en/book.xhprof.php)
diff --git a/docs/guide-ru/tutorial-shared-hosting.md b/docs/guide-ru/tutorial-shared-hosting.md
index 1a60b2a8834..51a2eb09084 100644
--- a/docs/guide-ru/tutorial-shared-hosting.md
+++ b/docs/guide-ru/tutorial-shared-hosting.md
@@ -48,7 +48,7 @@ RewriteRule . index.php
 
 ### Проверка требований
 
-Для того чтобы запустить Yii, ваш веб-сервер должен соответствовать его требованиям. Минимальное требование к PHP - это его версия 5.4. Для того чтобы проверить требования, скопируйте `requirements.php` из корневого каталога в каталог webroot и запустите его с помощью браузера, используя url `http://example.com/requirements.php`. Не забудьте после проверки требований удалить файл `requirements.php`.
+Для того чтобы запустить Yii, ваш веб-сервер должен соответствовать его требованиям. Минимальное требование к PHP - это его версия 5.4. Для того чтобы проверить требования, скопируйте `requirements.php` из корневого каталога в каталог webroot и запустите его с помощью браузера, используя url `https://example.com/requirements.php`. Не забудьте после проверки требований удалить файл `requirements.php`.
 
 Установка шаблона приложения Advanced
 ---------------------------------
diff --git a/docs/guide-ru/tutorial-start-from-scratch.md b/docs/guide-ru/tutorial-start-from-scratch.md
index 9e59d594566..233482d8c26 100644
--- a/docs/guide-ru/tutorial-start-from-scratch.md
+++ b/docs/guide-ru/tutorial-start-from-scratch.md
@@ -19,7 +19,7 @@
 git clone git@github.com:yiisoft/yii2-app-basic.git
 ```
 
-Затем необходимо подождать, чтобы репозитарии загрузился на ваш компьютер. С внесенными изменениями шаблон должен быть "запушен"(push) обратно, затем вы можете удалить `.git` директорию и весь загруженный контент на вашем компьютере.
+Затем необходимо подождать, чтобы репозитарий загрузился на ваш компьютер. Поскольку измененный шаблон не должен быть "запушен" (push) обратно, вы можете удалить из загруженного директорию `.git` со всем её содержимым.
 
 Измените файлы
 ------------
@@ -35,7 +35,7 @@ git clone git@github.com:yiisoft/yii2-app-basic.git
 Создание пакета
 --------------
 
-Создайте Git репозитарий из созданного шаблона, и запушьте(push) его. Если вы собираетесь сделать ваш шаблон с открытым исходным кодом, [Github](http://github.com) - это лучшее место, чтобы разместить его. Если вы собираетесь сохранить ваш шаблон для личных целей, используйте любой Git, предназначенный для этих целей.
+Создайте Git репозитарий из созданного шаблона, и запушьте(push) его. Если вы собираетесь сделать ваш шаблон с открытым исходным кодом, [Github](https://github.com) - это лучшее место, чтобы разместить его. Если вы собираетесь сохранить ваш шаблон для личных целей, используйте любой Git, предназначенный для этих целей.
 
 Затем, вам необходимо зарегистрировать ваш пакет в Composer. Пакет с публичным шаблоном должен быть зарегистрирован на [Packagist](https://packagist.org/).
 Для приватных шаблонов, зарегистрировать шаблона немного сложнее. Для получения инструкции загляните в [Composer documentation](https://getcomposer.org/doc/05-repositories.md#hosting-your-own).
diff --git a/docs/guide-ru/tutorial-yii-integration.md b/docs/guide-ru/tutorial-yii-integration.md
index 86b034a0a4e..1911919c76a 100644
--- a/docs/guide-ru/tutorial-yii-integration.md
+++ b/docs/guide-ru/tutorial-yii-integration.md
@@ -34,7 +34,7 @@ require __DIR__ . '/../vendor/yiisoft/yii2/Yii.php';
 
 Если библиотека использует собственный автозагрузчик классов, его можно подключить во [входном скрипте](structure-entry-scripts.md) приложения. Желательно подключить его до того, как подключается файл `Yii.php`, чтобы при автоматической загрузке классов у автозагрузчика классов Yii был приоритет.
 
-Если библиотека не поставляется с автозагрузчиком классов, но конвенция именования ее классов соответствует [PSR-4](http://www.php-fig.org/psr/psr-4/), для загрузки ее классов можно использовать автозагрузчик Yii. Для этого достаточно для каждого корневого пространства имен, которые используются в ее классах, объявить [корневой псевдоним](concept-aliases.md#defining-aliases). Предположим, что библиотека установлена в директорию `vendor/foo/bar`, а ее классы объявлены в корневом пространстве имен `xyz`. В конфигурации приложения можно использовать следующий код:
+Если библиотека не поставляется с автозагрузчиком классов, но конвенция именования ее классов соответствует [PSR-4](https://www.php-fig.org/psr/psr-4/), для загрузки ее классов можно использовать автозагрузчик Yii. Для этого достаточно для каждого корневого пространства имен, которые используются в ее классах, объявить [корневой псевдоним](concept-aliases.md#defining-aliases). Предположим, что библиотека установлена в директорию `vendor/foo/bar`, а ее классы объявлены в корневом пространстве имен `xyz`. В конфигурации приложения можно использовать следующий код:
 
 ```php
 [
diff --git a/docs/guide-tr/intro-yii.md b/docs/guide-tr/intro-yii.md
index 7807853affc..069f690f91d 100644
--- a/docs/guide-tr/intro-yii.md
+++ b/docs/guide-tr/intro-yii.md
@@ -32,6 +32,6 @@ Bu kılavuz esas olarak sürüm 2.0 ile ilgilidir.
 Gereksinimler ve Önkoşullar
 ------------------------------
 
-Yii 2.0, PHP 5.4.0 veya üstü sürüm gerektirir ve PHP 7'nin en son sürümü ile en iyi şekilde çalışır. Her bir Yii sürümünde yer alan gereksinim denetleyicisini çalıştırarak, daha ayrıntılı gereksinimleri ayrı ayrı özellikler için bulabilirsiniz.
+Yii 2.0, PHP 5.4.0 veya üstü sürüm gerektirir ve PHP 'nin en son sürümü ile en iyi şekilde çalışır. Her bir Yii sürümünde yer alan gereksinim denetleyicisini çalıştırarak, daha ayrıntılı gereksinimleri ayrı ayrı özellikler için bulabilirsiniz.
 
 Yii OOP temelli bir kütüphane olduğu için Yii'yi kullanmak, nesne yönelimli programlama (OOP) hakkında temel bilgi gerektirir. Yii 2.0 ayrıca PHP'nin [namespaceler](https://www.php.net/manual/en/language.namespaces.php) ve [traitler](https://www.php.net/manual/en/language.oop5.traits.php) gibi son özelliklerinden de yararlanır. Bu kavramları anlamak, Yii 2.0'ı daha kolay anlamanıza yardımcı olacaktır.
diff --git a/docs/guide-uk/README.md b/docs/guide-uk/README.md
index b7e1a65d460..6eeb96c8b2a 100644
--- a/docs/guide-uk/README.md
+++ b/docs/guide-uk/README.md
@@ -129,7 +129,7 @@ All Rights Reserved.
 Веб-сервіси RESTful
 -------------------
 
-* **TBD** [Швидкий старт](rest-quick-start.md)
+* [Швидкий старт](rest-quick-start.md)
 * **TBD** [Ресурси](rest-resources.md)
 * **TBD** [Контролери](rest-controllers.md)
 * **TBD** [Маршрутизація](rest-routing.md)
diff --git a/docs/guide-uk/concept-aliases.md b/docs/guide-uk/concept-aliases.md
index 856f8e8bf20..abedbc9b6ed 100644
--- a/docs/guide-uk/concept-aliases.md
+++ b/docs/guide-uk/concept-aliases.md
@@ -21,7 +21,7 @@
 Yii::setAlias('@foo', '/path/to/foo');
 
 // псевдонім URL
-Yii::setAlias('@bar', 'http://www.example.com');
+Yii::setAlias('@bar', 'https://www.example.com');
 ```
 
 > Note: псевдонім шляху до файлу або URL *не* обовʼязково вказує на наявний файл або ресурс.
@@ -47,7 +47,7 @@ return [
     // ...
     'aliases' => [
         '@foo' => '/path/to/foo',
-        '@bar' => 'http://www.example.com',
+        '@bar' => 'https://www.example.com',
     ],
 ];
 ```
@@ -61,7 +61,7 @@ return [
 
 ```php
 echo Yii::getAlias('@foo');               // виведе: /path/to/foo
-echo Yii::getAlias('@bar');               // виведе: http://www.example.com
+echo Yii::getAlias('@bar');               // виведе: https://www.example.com
 echo Yii::getAlias('@foo/bar/file.php');  // виведе: /path/to/foo/bar/file.php
 ```
 
@@ -112,7 +112,7 @@ $cache = new FileCache([
 - `@webroot`, коренева веб-директорія поточного веб-додатку. Визначається на основі директорії розташування [вхідного скрипта](structure-entry-scripts.md).
 - `@web`, базовий URL поточного додатку. Має таке ж значення, як і [[yii\web\Request::baseUrl]].
 - `@vendor`, [[yii\base\Application::vendorPath|директорія vendor Composer]]. За замовчуванням `@app/vendor`.
-- `@bower`, директорія, що містить [пакунки Bower](http://bower.io/). За замовчуванням `@vendor/bower`.
+- `@bower`, директорія, що містить [пакунки Bower](https://bower.io/). За замовчуванням `@vendor/bower`.
 - `@npm`, директорія, що містить [пакунки NPM](https://www.npmjs.com/). За замовчуванням `@vendor/npm`.
 
 Псевдонім `@yii` задається в момент підключення файлу `Yii.php` у [вхідному скрипті](structure-entry-scripts.md).
diff --git a/docs/guide-uk/rest-quick-start.md b/docs/guide-uk/rest-quick-start.md
new file mode 100644
index 00000000000..8e3f06a8af1
--- /dev/null
+++ b/docs/guide-uk/rest-quick-start.md
@@ -0,0 +1,191 @@
+Швидкий старт
+===========
+
+Yii включає повноцінний набір засобів для спрощеної реалізації [RESTful API](https://ru.wikipedia.org/wiki/REST).
+Зокрема, це такі можливості:
+
+* Швидке створення прототипів за допомогою поширених API до [Active Record](db-active-record.md);
+* Налаштування формату відповіді (JSON та XML реалізовані за замовчуванням);
+* Отримання серіалізованих об'єктів із необхідною вам вибіркою полів;
+* Належне форматування даних та помилок при їх валідації;
+* Колекція пагінацій, фільтрів та сортувань;
+* Підтримка [HATEOAS](https://en.wikipedia.org/wiki/HATEOAS);
+* Ефективна маршрутизація з належною перевіркою методів HTTP;
+* Вбудована підтримка методів `OPTIONS` та `HEAD`;
+* Аутентифікація та авторизація;
+* HTTP кешування та кешування даних;
+* Налаштування обмеження для частоти запитів ([Rate limiting](rest-rate-limiting.md));
+
+
+Розглянемо приклад, як можна налаштувати Yii під RESTful API, доклавши при цьому мінімум зусиль.
+
+Припустимо, ви захотіли RESTful API для даних по користувачам. Ці дані зберігаються в базі даних та для роботи з ними
+вами була раніше створена модель [[yii\db\ActiveRecord|ActiveRecord]]  (клас `app\models\User`).
+
+
+## Створення контролера <span id="creating-controller"></span>
+
+По-перше, створимо клас контролера `app\controllers\UserController`:
+
+```php
+namespace app\controllers;
+
+use yii\rest\ActiveController;
+
+class UserController extends ActiveController
+{
+    public $modelClass = 'app\models\User';
+}
+```
+
+Клас контролера успадковується від [[yii\rest\ActiveController]]. Ми задали [[yii\rest\ActiveController::modelClass|modelClass]]
+як `app\models\User`, цим вказавши контролеру, до якої моделі йому необхідно звертатися для редагування чи
+вибірки даних.
+
+
+## Налаштування правил URL <span id="configuring-url-rules"></span>
+
+Далі змінимо налаштування компонента `urlManager` у конфігурації додатку:
+
+```php
+'urlManager' => [
+    'enablePrettyUrl' => true,
+    'enableStrictParsing' => true,
+    'showScriptName' => false,
+    'rules' => [
+        ['class' => 'yii\rest\UrlRule', 'controller' => 'user'],
+    ],
+]
+```
+
+Установи вище додають правило для контролера `user`, яке надає доступ до даних користувача через красиві URL та логічні методи запитів HTTP.
+
+
+## Увімкнення JSON на прийом даних<span id="enabling-json-input"></span>
+
+Для того, щоб API міг приймати дані у форматі JSON, налаштуйтє [[yii\web\Request::$parsers|parsers]] властивість у компонента `request` [application component](structure-application-components.md) на використання [[yii\web\JsonParser]] JSON даних на вході:
+
+```php
+'request' => [
+    'parsers' => [
+        'application/json' => 'yii\web\JsonParser',
+    ]
+]
+```
+
+> Note: Конфігурація, наведена вище, необов'язкова. Без наведеної вище конфігурації, API зможе визначити лише
+  `application/x-www-form-urlencoded` и `multipart/form-data` формати.
+
+
+## Пробуємо <span id="trying-it-out"></span>
+
+Ось так просто ми створили RESTful API для доступу до даних користувача. API нашого сервісу зараз включає в себе:
+
+* `GET /users`: отримання посторінкового списку всіх користувачів;
+* `HEAD /users`: отримання метаданих лістингу користувачів;
+* `POST /users`: створення нового користувача;
+* `GET /users/123`: отримання інформації щодо конкретного користувача з id рівним 123;
+* `HEAD /users/123`: отримання метаданих за конкретним користувачем з id рівним 123;
+* `PATCH /users/123` та `PUT /users/123`: редагування інформації щодо користувача з id рівним 123;
+* `DELETE /users/123`: видалення користувача з id рівним 123;
+* `OPTIONS /users`: отримання підтримуваних методів, за якими можна звернутися до `/users`;
+* `OPTIONS /users/123`: отримання підтримуваних методів, за якими можна звернутися до `/users/123`.
+
+Пробуємо отримати відповіді по API використовуючи `curl`: 
+
+```
+$ curl -i -H "Accept:application/json" "http://localhost/users"
+
+HTTP/1.1 200 OK
+Date: Sun, 02 Mar 2014 05:31:43 GMT
+Server: Apache/2.2.26 (Unix) DAV/2 PHP/5.4.20 mod_ssl/2.2.26 OpenSSL/0.9.8y
+X-Powered-By: PHP/5.4.20
+X-Pagination-Total-Count: 1000
+X-Pagination-Page-Count: 50
+X-Pagination-Current-Page: 1
+X-Pagination-Per-Page: 20
+Link: <http://localhost/users?page=1>; rel=self, 
+      <http://localhost/users?page=2>; rel=next, 
+      <http://localhost/users?page=50>; rel=last
+Transfer-Encoding: chunked
+Content-Type: application/json; charset=UTF-8
+
+[
+    {
+        "id": 1,
+        ...
+    },
+    {
+        "id": 2,
+        ...
+    },
+    ...
+]
+```
+
+Спробуйте змінити заголовок допустимого формату ресурсу на `application/xml` і у відповідь ви отримаєте результат у форматі XML:
+
+```
+$ curl -i -H "Accept:application/xml" "http://localhost/users"
+
+HTTP/1.1 200 OK
+Date: Sun, 02 Mar 2014 05:31:43 GMT
+Server: Apache/2.2.26 (Unix) DAV/2 PHP/5.4.20 mod_ssl/2.2.26 OpenSSL/0.9.8y
+X-Powered-By: PHP/5.4.20
+X-Pagination-Total-Count: 1000
+X-Pagination-Page-Count: 50
+X-Pagination-Current-Page: 1
+X-Pagination-Per-Page: 20
+Link: <http://localhost/users?page=1>; rel=self, 
+      <http://localhost/users?page=2>; rel=next, 
+      <http://localhost/users?page=50>; rel=last
+Transfer-Encoding: chunked
+Content-Type: application/xml
+
+<?xml version="1.0" encoding="UTF-8"?>
+<response>
+    <item>
+        <id>1</id>
+        ...
+    </item>
+    <item>
+        <id>2</id>
+        ...
+    </item>
+    ...
+</response>
+```
+
+> Tip: Ви можете отримати доступ до API через веб-браузер, ввівши адресу `http://localhost/users`. Але в цьому випадку
+для передачі певних заголовків вам, швидше за все, потрібні додаткові плагіни для браузера.
+
+Якщо уважно подивитися результат відповіді, то можна виявити, що в заголовках є інформація про загальну кількість записів,
+кількості сторінок і т. д. Тут також можна виявити посилання на інші сторінки, як, наприклад,
+`http://localhost/users?page=2`. Перейшовши по ній, можна отримати другу сторінку даних користувачів.
+
+Використовуючи параметри `fields` та `expand` в URL, можна вказати, які поля мають бути включені до результату. Наприклад,
+за адресою `http://localhost/users?fields=id,email` ми отримаємо інформацію щодо користувачів, яка міститиме
+тільки `id` та `email`.
+
+> Info: Ви, напевно, помітили, що при зверненні до `http://localhost/users` ми отримуємо інформацію з полями, 
+> які небажано показувати, такими як `password_hash` та `auth_key`. Ви можете і повинні видалити ці поля, як описано у 
+> розділі «[Ресурси](rest-resources.md)».
+
+Додатково ви можете відсортувати колекції як `http://localhost/users?sort=email` або
+`http://localhost/users?sort=-email`. Фільтрування колекцій як `http://localhost/users?filter[id]=10` або
+`http://localhost/users?filter[email][like]=gmail.com` можлива при використанні
+фільтрів даних. Докладніше у розділі [Resources](rest-resources.md#filtering-collections).
+
+## Резюме <span id="summary"></span>
+
+Використовуючи Yii, як RESTful API фреймворк, ми реалізуємо точки входу API як дії контролерів.
+Контролер використовується для організації дій, що належать до певного типу ресурсу.
+
+Ресурси представлені як моделі даних, які успадковуються від класу [[yii\base\Model]].
+Якщо потрібна робота з базами даних (як із реляційними, так і з NoSQL), рекомендується використовувати для представлення
+ресурсів [[yii\db\ActiveRecord|ActiveRecord]].
+
+Ви можете використовувати [[yii\rest\UrlRule]] для спрощення маршрутизації точок входу API.
+
+Хоча це не обов'язково, рекомендується відокремлювати RESTful APIs додаток від основного веб-додатку. Такий поділ
+легше підтримувати.
diff --git a/docs/guide-uk/start-databases.md b/docs/guide-uk/start-databases.md
index dbbb4789e82..33a9d55993d 100644
--- a/docs/guide-uk/start-databases.md
+++ b/docs/guide-uk/start-databases.md
@@ -220,7 +220,7 @@ use yii\widgets\LinkPager;
 Щоб побачити як весь вищезазначений код працює, відкрийте в браузері наступний URL:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 ![Перелік країн](images/start-country-list.png)
@@ -230,7 +230,7 @@ http://hostname/index.php?r=country%2Findex
 Придивившись більш уважно, ви побачите, що URL в браузері також змінюється на
 
 ```
-http://hostname/index.php?r=country%2Findex&page=2
+https://hostname/index.php?r=country%2Findex&page=2
 ```
 
 За лаштунками, [[yii\data\Pagination|Pagination]] надає всю необхідну функціональність для розділення набору даних на сторінки:
diff --git a/docs/guide-uk/start-forms.md b/docs/guide-uk/start-forms.md
index f859bfae51d..2845f74e53a 100644
--- a/docs/guide-uk/start-forms.md
+++ b/docs/guide-uk/start-forms.md
@@ -130,7 +130,7 @@ HTML-формою та повідомленнями про присутні по
 
 > Note: У цьому дуже простому прикладі ми просто відобразили сторінку підтвердження відправлення даних. На практиці,
 ви повинні розглянути використання [[yii\web\Controller::refresh()|refresh()]] або [[yii\web\Controller::redirect()|redirect()]]
-для уникнення [проблеми повторного відправлення даних форми](http://en.wikipedia.org/wiki/Post/Redirect/Get).
+для уникнення [проблеми повторного відправлення даних форми](https://en.wikipedia.org/wiki/Post/Redirect/Get).
 
 
 Створення представлення <span id="creating-views"></span>
@@ -187,7 +187,7 @@ use yii\widgets\ActiveForm;
 Щоб побачити, як це працює, відкрийте в браузері наступний URL:
 
 ```
-http://hostname/index.php?r=site%2Fentry
+https://hostname/index.php?r=site%2Fentry
 ```
 
 Ви побачите сторінку з формою і двома полями для заповнення. Перед кожним полем є надпис, який вказує, яку саме
diff --git a/docs/guide-uk/start-gii.md b/docs/guide-uk/start-gii.md
index 1d1652663a0..4d753ab81c6 100644
--- a/docs/guide-uk/start-gii.md
+++ b/docs/guide-uk/start-gii.md
@@ -46,7 +46,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 Тепер ви можете отримати доступ до Gii за наступною URL-адресою:
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 > Note: Якщо ви звертаєтесь до Gii від не локальної машини, доступ буде заборонений за замовчуванням із міркувань
@@ -112,7 +112,7 @@ CRUD - це акронім від англійських слів Create, Read,
 Щоб побачити як це працює, відкрийте в браузері наступний URL:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 Ви побачите таблицю даних, що показує країни з таблиці бази даних. Ви можете відсортувати дані,
diff --git a/docs/guide-uk/start-hello.md b/docs/guide-uk/start-hello.md
index d80c1e853aa..4ea3fd4825e 100644
--- a/docs/guide-uk/start-hello.md
+++ b/docs/guide-uk/start-hello.md
@@ -88,7 +88,7 @@ use yii\helpers\Html;
 
 Варто зазначити, що у вищезазначеному коді параметр `message` [[yii\helpers\Html::encode()|екранується для HTML]]
 перед відображенням. Це обов’язково, бо параметр приходить від користувача, котрий може спробувати провести
-[XSS атаку](http://uk.wikipedia.org/wiki/%D0%9C%D1%96%D0%B6%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%D0%B8%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D1%96%D0%BD%D0%B3),
+[XSS атаку](https://uk.wikipedia.org/wiki/%D0%9C%D1%96%D0%B6%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%D0%B8%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D1%96%D0%BD%D0%B3),
 шляхом вставки небезпечного JavaScript кода.
 
 Ви можете доповнити представлення `say` HTML-тегами, текстом або кодом PHP.
@@ -102,7 +102,7 @@ use yii\helpers\Html;
 Після створення дії і представлення, ви можете перейти на нову сторінку по наступному URL:
 
 ```
-http://hostname/index.php?r=site%2Fsay&message=Привіт+світ
+https://hostname/index.php?r=site%2Fsay&message=Привіт+світ
 ```
 
 ![Привіт, світ](images/start-hello-world.png)
diff --git a/docs/guide-uk/start-installation.md b/docs/guide-uk/start-installation.md
index d10bfa6a179..4f7f91c627a 100644
--- a/docs/guide-uk/start-installation.md
+++ b/docs/guide-uk/start-installation.md
@@ -147,13 +147,13 @@ http://localhost:8080/
   і не розгортаєте його на робочому сервері.
 
 Додаток, встановлений за інструкціями, наведеними вище, буде працювати одразу як
-з [Apache HTTP server](http://httpd.apache.org/), так і з [Nginx HTTP server](http://nginx.org/) на
+з [Apache HTTP server](https://httpd.apache.org/), так і з [Nginx HTTP server](https://nginx.org/) на
 Windows, Mac OS X чи Linux із встановленим PHP 5.4 або вище. Yii 2.0 також сумісний із віртуальною машиною Фейсбука
-[HHVM](http://hhvm.com/), однак є деякі крайні випадки, де HHVM поводиться інакше,
+[HHVM](https://hhvm.com/), однак є деякі крайні випадки, де HHVM поводиться інакше,
 ніж рідний PHP, тому ви повинні бути дуже уважними при використанні HHVM.  
 
-На робочому сервері вам напевно захочеться змінити URL додатку з `http://www.example.com/basic/web/index.php`
-на `http://www.example.com/index.php`. Для цього необхідно змінити кореневу директорію в налаштуваннях веб-сервера на `basic/web`.
+На робочому сервері вам напевно захочеться змінити URL додатку з `https://www.example.com/basic/web/index.php`
+на `https://www.example.com/index.php`. Для цього необхідно змінити кореневу директорію в налаштуваннях веб-сервера на `basic/web`.
 Додатково можна сховати `index.php` із URL, як це описано у розділі [Маршрутизація та створення URL](runtime-routing.md). 
 Далі буде описано як налаштувати Apache або Nginx для цих цілей.
 
@@ -191,7 +191,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Рекомендовані налаштування Nginx <span id="recommended-nginx-configuration"></span>
 
-Для використання [Nginx](http://wiki.nginx.org/) вам потрібно встановити PHP як [FPM SAPI](https://www.php.net/install.fpm).
+Для використання [Nginx](https://wiki.nginx.org/) вам потрібно встановити PHP як [FPM SAPI](https://www.php.net/install.fpm).
 Використовуйте наступні параметри Nginx, замінивши `path/to/basic/web` на коректний шлях до
 `basic/web`, а `mysite.test` на актуальний домен.
 
diff --git a/docs/guide-uk/start-looking-ahead.md b/docs/guide-uk/start-looking-ahead.md
index c99ce0f01aa..a39c4ce86e6 100644
--- a/docs/guide-uk/start-looking-ahead.md
+++ b/docs/guide-uk/start-looking-ahead.md
@@ -31,4 +31,4 @@
     - Фейсбук: <https://www.facebook.com/groups/yiitalk/>
     - Твіттер: <https://twitter.com/yiiframework>
     - LinkedIn: <https://www.linkedin.com/groups/yii-framework-1483367>
-    - Stackoverflow: <http://stackoverflow.com/questions/tagged/yii2>
+    - Stackoverflow: <https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide-uk/start-workflow.md b/docs/guide-uk/start-workflow.md
index e1084e0ed3c..44968eee94f 100644
--- a/docs/guide-uk/start-workflow.md
+++ b/docs/guide-uk/start-workflow.md
@@ -1,13 +1,13 @@
 Виконання додатків
 ==================
 
-Після встановлення Yii, базовий додаток буде доступний або по URL `http://hostname/basic/web/index.php`,
-або по `http://hostname/index.php`, в залежності від налаштування веб-сервера. Даний розділ - загальне введення в
+Після встановлення Yii, базовий додаток буде доступний або по URL `https://hostname/basic/web/index.php`,
+або по `https://hostname/index.php`, в залежності від налаштування веб-сервера. Даний розділ - загальне введення в
 організацію коду, вбудований функціонал і опрацювання запитів додатком Yii.
 
 > Info: Для спрощення, далі в даному посібнику припускається, що Yii встановлений в директорію `basic/web`,
   яка, в свою чергу, встановлена, як коренева директорія в налаштуваннях веб-сервера. В результаті, звернувшись до URL
-  на зразок `http://hostname/index.php`, ви отримаєте доступ до додатку.
+  на зразок `https://hostname/index.php`, ви отримаєте доступ до додатку.
   Будь ласка, відредагуйте URL-адреси наведені у прикладах відповідно до ваших потреб.
 
 
@@ -16,7 +16,7 @@
 
 Встановлений базовий додаток складається з чотирьох сторінок:
 
-* домашня сторінка, відображається при переході по URL `http://hostname/index.php`;
+* домашня сторінка, відображається при переході по URL `https://hostname/index.php`;
 * сторінка "About" ("Про нас");
 * сторінка "Contact", що відображає форму зворотнього зв’язку, через яку користувач може звернутися до розробника за допомогою електронної пошти;
 * сторінка "Login", на якій відображається форма для аутентифікації користувачів. Спробуйте увійти з логіном/паролем
@@ -39,7 +39,7 @@
 
 Нижче наведений перелік основних директорій і файлів вашого додатку (вважаємо, що додаток встановлений в директорію `basic`):
 
-```js
+```
 basic/                  базова директорія додатка
     composer.json       використовується Composer'ом, містить опис додатку
     config/             містить конфігураційні файли
@@ -60,7 +60,7 @@ basic/                  базова директорія додатка
 В цілому, додаток Yii можна розділити на дві категорії файлів: розміщенні в `basic/web` і розміщенні в інших директоріях.
 Перша категорія доступна через HTTP (наприклад, браузером), друга недоступна зовні, та і не повинна бути, оскільки містить службову інформацію.
 
-В Yii реалізований шаблон проектування [модель-представлення-контролер (MVC)](http://uk.wikipedia.org/wiki/Model-View-Controller),
+В Yii реалізований шаблон проектування [модель-представлення-контролер (MVC)](https://uk.wikipedia.org/wiki/Model-View-Controller),
 що відображається на вищезазначеній структурі директорій додатка. В директорії `models` знаходяться всі класи [моделей](structure-models.md),
 у `views` розміщені всі скрипти [представлень](structure-views.md), а в директорії `controllers`
 всі класи [контролерів](structure-controllers.md) додатка.
diff --git a/docs/guide-uk/structure-applications.md b/docs/guide-uk/structure-applications.md
index 9ae7057f969..b935ff79242 100644
--- a/docs/guide-uk/structure-applications.md
+++ b/docs/guide-uk/structure-applications.md
@@ -274,7 +274,7 @@ Yii встановлює відповідність між ідентифіка
 використовує значення даної властивості для визначення мови, на якій має бути зображений календар і який
 формат дати повинен бути.
 
-Рекомендується вказувати мову у рамках стандарту [IETF](http://en.wikipedia.org/wiki/IETF_language_tag).
+Рекомендується вказувати мову у рамках стандарту [IETF](https://en.wikipedia.org/wiki/IETF_language_tag).
 Наприклад, для англійської мови використовується `en`, в той час як для англійської в США - `en-US`.
 
 Більш детальна інформація про цю властивість може бути знайдена у розділі [Інтернаціоналізація](tutorial-i18n.md).
@@ -346,7 +346,7 @@ $width = \Yii::$app->params['thumbnail.size'][0];
 є не англійська мова.
 
 Аналогічно властивості [language](#language), ви повинні вказати дану властивість у рамках стандарту 
-[IETF](http://en.wikipedia.org/wiki/IETF_language_tag). Наприклад, для англійської мови 
+[IETF](https://en.wikipedia.org/wiki/IETF_language_tag). Наприклад, для англійської мови 
 використовується `en`, в той час як для англійської в США - `en-US`.
 
 Більш детальна інформація про цю властивість може бути знайдена у розділі [Інтернаціоналізація](tutorial-i18n.md).
diff --git a/docs/guide-uk/structure-controllers.md b/docs/guide-uk/structure-controllers.md
index 374abf963d1..eae20d5df45 100644
--- a/docs/guide-uk/structure-controllers.md
+++ b/docs/guide-uk/structure-controllers.md
@@ -1,7 +1,7 @@
 Контролери
 ==========
 
-Контролери є частиною архітектури [MVC](http://uk.wikipedia.org/wiki/Модель-вид-контролер). Це об’єкти класів,
+Контролери є частиною архітектури [MVC](https://uk.wikipedia.org/wiki/Модель-вид-контролер). Це об’єкти класів,
 успадкованих від [[yii\base\Controller]] та відповідають за обробку запитів і генерування відповідей.
 Зокрема, після отримання контролю від [додатків](structure-applications.md), контролери проаналізують 
 вхідні дані, передадуть їх у [моделі](structure-models.md), додадуть результати моделі у
@@ -83,7 +83,7 @@ ControllerID/ActionID
 ModuleID/ControllerID/ActionID
 ```
 
-Таким чином, якщо користувач звертається до URL `http://hostname/index.php?r=site/index`, то буде викликано дію `index`
+Таким чином, якщо користувач звертається до URL `https://hostname/index.php?r=site/index`, то буде викликано дію `index`
 у контролері `site`. Розділ [Маршрутизація та створення URL](runtime-routing.md) містить більш детальну інформацію
 про те, як маршрути співвідносяться із діями.
 
@@ -179,7 +179,7 @@ class SiteController extends Controller
 Коли в запиті не вказано [маршрут](#routes), то буде використано маршрут із зазначеної властивості.
 Для [[yii\web\Application|веб-додатків]] це значення рівне `'site'`, у той час, як для 
 [[yii\console\Application|консольних додатків]], це - `'help'`. Таким чином, якщо вказаний URL 
-`http://hostname/index.php`, це значить, що контролер `site` виконає обробку запиту.
+`https://hostname/index.php`, це значить, що контролер `site` виконає обробку запиту.
 
 Ви можете змінити контролер за замовчуванням наступним чином в [налаштуваннях додатку](structure-applications.md#application-configurations):
 
@@ -324,8 +324,8 @@ class HelloWorldAction extends Action
 ```php
 public function actionForward()
 {
-    // перенаправляємо браузер користувача на http://example.com
-    return $this->redirect('http://example.com');
+    // перенаправляємо браузер користувача на https://example.com
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -355,13 +355,13 @@ class PostController extends Controller
 
 Параметри дії будуть заповнені для різних запитів наступним чином:
 
-* `http://hostname/index.php?r=post/view&id=123`: параметру `$id` буде присвоєне значення `'123'`, у той час,
+* `https://hostname/index.php?r=post/view&id=123`: параметру `$id` буде присвоєне значення `'123'`, у той час,
   як `$version` буде мати значення `null`, бо рядок запиту не містить параметра `version`.
-* `http://hostname/index.php?r=post/view&id=123&version=2`: параметрам `$id` і `$version` будуть присвоєні
+* `https://hostname/index.php?r=post/view&id=123&version=2`: параметрам `$id` і `$version` будуть присвоєні
   значення `'123'` і `'2'` відповідно.
-* `http://hostname/index.php?r=post/view`: буде отримане виключення [[yii\web\BadRequestHttpException]], оскільки
+* `https://hostname/index.php?r=post/view`: буде отримане виключення [[yii\web\BadRequestHttpException]], оскільки
   обов’язковий параметр `$id` не було вказано у запиті.
-* `http://hostname/index.php?r=post/view&id[]=123`: буде отримане виключення [[yii\web\BadRequestHttpException]],
+* `https://hostname/index.php?r=post/view&id[]=123`: буде отримане виключення [[yii\web\BadRequestHttpException]],
   оскільки параметр `$id` отримав невірне значення `['123']`.
 
 Якщо ви хочете, щоб параметр дії приймав масив значень, ви повинні вказати тип `array` для параметра метода, як наведено нижче:
@@ -373,8 +373,8 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-Тепер, якщо запит буде містити URL `http://hostname/index.php?r=post/view&id[]=123`, то параметр `$id` отримає
-значення `['123']`. Якщо запит буде містити URL `http://hostname/index.php?r=post/view&id=123`, то параметр
+Тепер, якщо запит буде містити URL `https://hostname/index.php?r=post/view&id[]=123`, то параметр `$id` отримає
+значення `['123']`. Якщо запит буде містити URL `https://hostname/index.php?r=post/view&id=123`, то параметр
 `$id` все одно отримає масив, оскільки скалярне значення `'123'` буде автоматично перетворено у масив.
 
 Вищенаведені приклади в основному показують як параметри дій працюють для веб-додатків. Більше інформації
diff --git a/docs/guide-uk/structure-models.md b/docs/guide-uk/structure-models.md
index ec9fbb4067a..2bbaa9c7a04 100644
--- a/docs/guide-uk/structure-models.md
+++ b/docs/guide-uk/structure-models.md
@@ -1,7 +1,7 @@
 Моделі
 ======
 
-Моделі є частиною архітектури [MVC](http://uk.wikipedia.org/wiki/Модель-вид-контролер).
+Моделі є частиною архітектури [MVC](https://uk.wikipedia.org/wiki/Модель-вид-контролер).
 Це об’єкти, які представляють бізнес-дані, бізнес-правила та бізнес-логіку.
 
 Ви можете створювати класи моделей шляхом розширення класу [[yii\base\Model]] або його нащадків. Базовий клас
diff --git a/docs/guide-uk/structure-overview.md b/docs/guide-uk/structure-overview.md
index b61630eacf9..27e98b5e8fb 100644
--- a/docs/guide-uk/structure-overview.md
+++ b/docs/guide-uk/structure-overview.md
@@ -1,7 +1,7 @@
 Огляд
 =====
 
-Додатки Yii організовані згідно архітектурного шаблону [Модель-Представлення-Контролер (MVC)](http://uk.wikipedia.org/wiki/Модель-вид-контролер).
+Додатки Yii організовані згідно архітектурного шаблону [Модель-Представлення-Контролер (MVC)](https://uk.wikipedia.org/wiki/Модель-вид-контролер).
 [Моделі](structure-models.md) являють собою дані, бізнес-логіку та бізнес-правила; 
 [представлення](structure-views.md) відповідають за відображення даних моделей;
 [контролери](structure-controllers.md) приймають вхідні дані від користувача і перетворюють їх у команди для
diff --git a/docs/guide-uk/structure-views.md b/docs/guide-uk/structure-views.md
index a3da564c3a7..c529593f680 100644
--- a/docs/guide-uk/structure-views.md
+++ b/docs/guide-uk/structure-views.md
@@ -1,7 +1,7 @@
 Представлення
 =============
 
-Представлення є частиною архітектури [MVC](http://uk.wikipedia.org/wiki/Модель-вид-контролер).
+Представлення є частиною архітектури [MVC](https://uk.wikipedia.org/wiki/Модель-вид-контролер).
 Це код, який відповідає за відображення даних кінцевим користувачам. У веб-додатку представлення зазвичай створені
 у вигляді *шаблонів представлень*, які є файлами скриптів PHP, що містять переважно HTML-код та презентаційний PHP-код.
 Управління ними здійснюється за допомогою [компонента додатку](structure-application-components.md) [[yii\web\View|view]], який надає часто використовувані методи
diff --git a/docs/guide-uk/tutorial-console.md b/docs/guide-uk/tutorial-console.md
index 468201da477..b2afa0b8c92 100644
--- a/docs/guide-uk/tutorial-console.md
+++ b/docs/guide-uk/tutorial-console.md
@@ -98,11 +98,11 @@ exit($exitCode);
 оновлення ваших тестових баз даних, які налаштовані кожна в окремому наборі тестів. Для динамічної зміни
 конфігурації просто вкажіть потрібний файл конфігурації додатка
 за допомогою опції `appconfig`, коли виконуєте команду:
-```bash
+
+```
 yii <route> --appconfig=path/to/config.php ...
 ```
 
-
 Створення власних консольних команд <span id="create-command"></span>
 -----------------------------------
 
diff --git a/docs/guide-uk/tutorial-start-from-scratch.md b/docs/guide-uk/tutorial-start-from-scratch.md
index 1b1d0ff8ca9..7c921b78fd4 100644
--- a/docs/guide-uk/tutorial-start-from-scratch.md
+++ b/docs/guide-uk/tutorial-start-from-scratch.md
@@ -43,7 +43,7 @@ git clone git@github.com:yiisoft/yii2-app-basic.git
 ----------------
 
 З визначенням шаблону, створіть Git репозиторій та завантажте туди свої файли. Якщо ви, збираєтесь використовувати свій шаблон,
-як *open source*, то [Github](http://github.com) є кращим місцем для його розташування.
+як *open source*, то [Github](https://github.com) є кращим місцем для його розташування.
 Якщо ви не бажаєте публічно розміщувати свій шаблон, то підійде будь-який сайт сервісу Git.
 
 Далі, вам необхідно зареєструвати свій Composer пакет. Для публічних шаблонів, ваш пакет необхідно зареєструвати 
diff --git a/docs/guide-uk/tutorial-yii-integration.md b/docs/guide-uk/tutorial-yii-integration.md
index db147fe04ab..d2dfff73a87 100644
--- a/docs/guide-uk/tutorial-yii-integration.md
+++ b/docs/guide-uk/tutorial-yii-integration.md
@@ -43,7 +43,7 @@ require __DIR__ . '/../vendor/yiisoft/yii2/Yii.php';
 як буде підключено файл `Yii.php`, щоб автозавантажувач Yii мав приорітет при автоматичному завантаженні класів.
 
 Якщо бібліотека не надає автозавантажувача класів, але іменування її класів відповідає
-[PSR-4](http://www.php-fig.org/psr/psr-4/) - ви можете використовувати автозавантажувач Yii для завантаження її класів. 
+[PSR-4](https://www.php-fig.org/psr/psr-4/) - ви можете використовувати автозавантажувач Yii для завантаження її класів. 
 Все, що вам потрібно зробити, це тільки оголосити [системний псевдонім](concept-aliases.md#defining-aliases) 
 для кожного кореневого простору імен, що використовується в цих класах. Для прикаду, припустимо, що ви хочете встановити 
 бібліотеку в каталог `vendor/foo/bar`, і класи бібліотеки знаходяться в кориневому просторі імен `xyz`.
diff --git a/docs/guide-uz/start-databases.md b/docs/guide-uz/start-databases.md
index ef35995e602..288cbec6a30 100644
--- a/docs/guide-uz/start-databases.md
+++ b/docs/guide-uz/start-databases.md
@@ -199,7 +199,7 @@ Keling sinab ko'raylik <span id="trying-it-out"></span>
 Yuqoridagi yozgan kodni ishlashini ko'rish uchun iltimos ushbu yo'l (url) bo'yicha o'ting:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 ![Список Стран](images/start-country-list.png)
@@ -208,7 +208,7 @@ Boshida siz ma'lumotlar omboridan beshta ma'lumotni chiqarib berganini ko'rishin
 Etibor bilan qarasangiz, URLda ham quydagi "2" sahifa chiqti.
 
 ```
-http://hostname/index.php?r=country%2Findex&page=2
+https://hostname/index.php?r=country%2Findex&page=2
 ```
 
 [[yii\data\Pagination|Pagination]] Ma'lumotlarni sahifalarga bo'lib qisman chiqarish umumiy ishlash tartibi esa quydagicha:
diff --git a/docs/guide-uz/start-forms.md b/docs/guide-uz/start-forms.md
index df1752f305c..4841ecb8cff 100644
--- a/docs/guide-uz/start-forms.md
+++ b/docs/guide-uz/start-forms.md
@@ -154,7 +154,7 @@ Keling, sinab ko'raylik <span id="trying-it-out"></span>
 Ish jarayonida yaratilgan bor narsani ko'rish uchun, browserni ochib quydagi URLni kiritaylik:
 
 ```
-http://hostname/index.php?r=site%2Fentry
+https://hostname/index.php?r=site%2Fentry
 ```
 
 Siz ikkta maydoni o'z ichiga olgan shaklni ko'rishingiz mumkin. Har bir maydon oldida esa yorlig' bor, u yorlig'lar, qanaqa
diff --git a/docs/guide-uz/start-hello.md b/docs/guide-uz/start-hello.md
index 5832630bbdf..82a91b335cf 100644
--- a/docs/guide-uz/start-hello.md
+++ b/docs/guide-uz/start-hello.md
@@ -72,7 +72,7 @@ use yii\helpers\Html;
 , u quydagi yo'l bo'yicha ko'rinish topishga harakat qiladi `views/ControllerID/ViewName.php`.
 
 Aytib o'tish keraki yuqorida kodda `message` [[yii\helpers\Html::encode()|HTML himoyasi]] orqali filtrlanadi.
-Buni ishlatish shartdir chunki ma'lumot foydalanuvchidan kirib kelmoqda, u esa o'z yo'lida [XSS ziyon](http://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%B6%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%D1%8B%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B8%D0%BD%D0%B3)
+Buni ishlatish shartdir chunki ma'lumot foydalanuvchidan kirib kelmoqda, u esa o'z yo'lida [XSS ziyon](https://ru.wikipedia.org/wiki/%D0%9C%D0%B5%D0%B6%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2%D1%8B%D0%B9_%D1%81%D0%BA%D1%80%D0%B8%D0%BF%D1%82%D0%B8%D0%BD%D0%B3)
 o'tkazishi o'tkazishi mumkin Javascript-skripti orqali.
 
 Siz `say` ko'rinishi HTML teglar, matn yoki PHP-kod bilan to'ldirishingiz mumkin. Aslini olganda `say` skripti [[yii\web\Controller::render()|render()]] orqali chaqirilayotgan sodda PHP-skript bo'lib chiqayotganini ko'rishimiz mumkin. Skript tomonidan shakilangan ma'lumot esa foydalanuvchiga qaytariladi.
@@ -84,7 +84,7 @@ Ishlatib ko'ramiz <span id="trying-it-out"></span>
 Yuqorida aytib o'tilgan amalrni va amalar ko'rinishlarini yaratib bo'ganingizdan so'ng siz usu URL bo'yicha o'tishingiz mumkin:
 
 ```
-http://hostname/index.php?r=site%2Fsay&message=Salom+dunyo
+https://hostname/index.php?r=site%2Fsay&message=Salom+dunyo
 ```
 
 ![Salom, dunyo](images/start-hello-world.png)
diff --git a/docs/guide-uz/start-installation.md b/docs/guide-uz/start-installation.md
index 7c4a627d220..9cf9e865b2b 100644
--- a/docs/guide-uz/start-installation.md
+++ b/docs/guide-uz/start-installation.md
@@ -105,9 +105,9 @@ Web-server sozlamasi<span id="configuring-web-servers"></span>
 
 > Info: Agar siz faqatgina freymvork bilan tanishishni boshlagan bo'lsangiz va uni ish  serveriga joylashtirmagan bo'lsangiz, ushbu bo'limni o'tkazib yuborishingiz mumkin. 
 
-Yuqoridagi ko'rsatmalarga muvofiq o'rnatilgan ilovalar Windows va Linux ostida PHP 5.4 va undan yuqori taxrirlarda o'rnatilgan [Apache](http://httpd.apache.org/) va [Nginx](http://nginx.org/) bilan ishlaydi.Yii 2.0 [HHVM](http://hhvm.com/) bilan ham mos keladi. Etiborli bo'ling, ba'zi hollarda, HHVM bilan ishlashda odatdagi PHPdan farq qiladi.
+Yuqoridagi ko'rsatmalarga muvofiq o'rnatilgan ilovalar Windows va Linux ostida PHP 5.4 va undan yuqori taxrirlarda o'rnatilgan [Apache](https://httpd.apache.org/) va [Nginx](https://nginx.org/) bilan ishlaydi.Yii 2.0 [HHVM](https://hhvm.com/) bilan ham mos keladi. Etiborli bo'ling, ba'zi hollarda, HHVM bilan ishlashda odatdagi PHPdan farq qiladi.
 
-Ish serverida siz `http://www.example.com/basic/web/index.php` dan `http://www.example.com/index.php` manziliga dastur URL manzilini o'zgartirishni xohlasangiz. 
+Ish serverida siz `https://www.example.com/basic/web/index.php` dan `https://www.example.com/index.php` manziliga dastur URL manzilini o'zgartirishni xohlasangiz. 
 Buni amalga oshirish uchun veb-server parametrlarida ildiz katalogini `basic/web` ga o'zgartiring. Bundan tashqari, ["URL sozlamalari"](runtime-routing.md) qismidagi malumotga ko'ra, `index.php` yashirishi mumkin. Keyinchalik Apache va Nginx ni qanday sozlashni ko'rsatamiz.
 
 > Info: Veb-serverning `basic/web` ildiz katalogini o'rnatib, siz ruxsat berilmagan kirish kodidan va `basic/web` sahifadagi ma'lumotlardan himoya qilasiz. Bu ilovani yanada xavfsiz holga keltiradi. 
@@ -139,7 +139,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Tavsiya etilgan Nginx sozlamalari <span id="recommended-nginx-configuration"></span>
 
-PHP Nginx uchun [FPM SAPI](https://www.php.net/manual/ru/install.fpm.php) sifatida o'rnatilishi kerak. Quyidagi [Nginx](http://wiki.nginx.org/) sozlamalaridan foydalaning va `basic/web` va `mysite.test` to'g'ri manzilini hostname-ga almashtirishni  va `path/to/basic/web` ni almashtirishni unutmang. 
+PHP Nginx uchun [FPM SAPI](https://www.php.net/manual/ru/install.fpm.php) sifatida o'rnatilishi kerak. Quyidagi [Nginx](https://wiki.nginx.org/) sozlamalaridan foydalaning va `basic/web` va `mysite.test` to'g'ri manzilini hostname-ga almashtirishni  va `path/to/basic/web` ni almashtirishni unutmang. 
 
 ```
 server {
diff --git a/docs/guide-uz/start-workflow.md b/docs/guide-uz/start-workflow.md
index 42f83bbb002..af2ff010232 100644
--- a/docs/guide-uz/start-workflow.md
+++ b/docs/guide-uz/start-workflow.md
@@ -1,9 +1,9 @@
 Ilovani ishga tushirish
 ====================
 
-`http://hostname/basic/web/index.php` o'rnatganingizdan so'ng, asosiy dastur `http://hostname/basic/web/index.php` URL manzilida yoki `http://hostname/index.php` orqali Veb-server sozlamalariga qarab mavjud bo'ladi. Ushbu bo'lim - kodni tashkil qilishning umumiy ta'rifi, o'rnatilgan funksionallik va murojaatlar bilan ishlash. 
+`https://hostname/basic/web/index.php` o'rnatganingizdan so'ng, asosiy dastur `https://hostname/basic/web/index.php` URL manzilida yoki `https://hostname/index.php` orqali Veb-server sozlamalariga qarab mavjud bo'ladi. Ushbu bo'lim - kodni tashkil qilishning umumiy ta'rifi, o'rnatilgan funksionallik va murojaatlar bilan ishlash. 
 
-> Info: Ushbu qo'llanmada Yii `basic/web` katalogiga o'rnatilganini inobatga oladi va u o'z navbatida veb-server sozlamalaridagi ildiz katalogi sifatida o'rnatiladi. Natijada `http://hostname/index.php` URL manziliga kirish orqali `basic/web` joylashgan ilovaga kirishingiz mumkin. Boshlang'ich konfiguratsiya jarayonida batafsil ma'lumotni [Yii-ni o'rnatish bo'limida](start-installation.md) topishingiz mumkin.
+> Info: Ushbu qo'llanmada Yii `basic/web` katalogiga o'rnatilganini inobatga oladi va u o'z navbatida veb-server sozlamalaridagi ildiz katalogi sifatida o'rnatiladi. Natijada `https://hostname/index.php` URL manziliga kirish orqali `basic/web` joylashgan ilovaga kirishingiz mumkin. Boshlang'ich konfiguratsiya jarayonida batafsil ma'lumotni [Yii-ni o'rnatish bo'limida](start-installation.md) topishingiz mumkin.
 
 Freymvorkdan farqli o'laroq, dastur o'rnatilgandan so'ng, u sizniki bolib qoladi. Siz o`zingizni kodingizni o'zingiz xohlagan tarzda o'zgartirishingiz mumkin. 
 
@@ -12,7 +12,7 @@ Funksionallik <span id="functionality"></span>
 
 Oddiy dastur uchun o'rnatilgan shablon to'rtta sahifadan iborat:
 
-* `http://hostname/index.php` URL manziliga `http://hostname/index.php` ko'rsatiladigan asosiy sahifa 
+* `https://hostname/index.php` URL manziliga `https://hostname/index.php` ko'rsatiladigan asosiy sahifa 
 * "About" ("Biz haqimizda") sahifasi
 * "Kontakt" sahifasida qayta aloqa shakli joylashgan ushbu shakl orqali u dasturchiga murojaat qilishi mumkin 
 * "Kirish" sahifasida avtorizatsiya shakl ko'rsatiladi. Foydalanuvchi nomi / parol bilan "login / admin" bilan tizimga kirishingiz mumkin. Asosiy menyu "Login" menyusi "Logout" menyusiga o`zgarishiga etibor bering. 
@@ -28,7 +28,7 @@ Yii web-ilovasi tuzilmasi <span id="application-structure"></span>
 
 Quyidagida veb-ilovaning tuzilmasi asosiy kataloglari va fayllari ro'yxati berilgan (ilovaning `basic` katalogga o'rnatilgan deb hisoblaymiz): 
 
-```js
+```
 basic/                  ilovaning ildiz katalogi
     composer.json       Composer ishlatadigan fayl
     config/             Sozlamalar (konfiguratsion) fayl
@@ -48,7 +48,7 @@ basic/                  ilovaning ildiz katalogi
 
 Umuman olganda, Yii ilovasini ikki `basic/web` faylga bo'lish mumkin: `basic/web` joylashgan faylar va boshqa kataloglarda joylashgan faylar. Birinchisi `(basic/web)` internet orqali kirganda ochilishi kerak, ikkinchisi internet orqali ko'rinishi kerak bo'lmagan faylar, chunki ular ish faylari.
 
-Yii-da [MVC-arxetekturasi](http://ru.wikipedia.org/wiki/Model-View-Controller) asosida faylar va kataloglar joylashgan. [models](structure-models.md)katalogida Modellar mavjud , [Ko'rishlar](structure-views.md) ko'rinishlarda joylashgan va barcha dastur [Nazoratchilar](structure-controllers.md) katalogida. 
+Yii-da [MVC-arxetekturasi](https://ru.wikipedia.org/wiki/Model-View-Controller) asosida faylar va kataloglar joylashgan. [models](structure-models.md)katalogida Modellar mavjud , [Ko'rishlar](structure-views.md) ko'rinishlarda joylashgan va barcha dastur [Nazoratchilar](structure-controllers.md) katalogida. 
  
 Quyidagi diagrammada dasturning ichki tuzilmasi ko'rsatilgan. 
 
diff --git a/docs/guide-uz/structure-controllers.md b/docs/guide-uz/structure-controllers.md
index 365beea0a63..a0f9c8446f4 100644
--- a/docs/guide-uz/structure-controllers.md
+++ b/docs/guide-uz/structure-controllers.md
@@ -77,7 +77,7 @@ ControllerID/ActionID
 ModuleID/ControllerID/ActionID
 ```
 
-Таким образом, если пользователь запрашивает URL `http://hostname/index.php?r=site/index`, то `index` действие в `site` контроллере будет вызвано.
+Таким образом, если пользователь запрашивает URL `https://hostname/index.php?r=site/index`, то `index` действие в `site` контроллере будет вызвано.
 Секция [Маршрутизация](runtime-routing.md) содержит более подробную информацию о том как маршруты сопоставляются с действиями.
 
 
@@ -173,7 +173,7 @@ ID контроллеров также могут содержать префи
 Каждое приложение имеет контроллер по умолчанию, указанный через свойство [[yii\base\Application::defaultRoute]].
 Когда в запросе не указан [маршрут](#routes), тогда будет использован маршрут указанный в данном свойстве.
 Для [[yii\web\Application|Веб приложений]], это значение `'site'`, в то время как для [[yii\console\Application|консольных приложений]],
-это `'help'`. Таким образом, если задан URL `http://hostname/index.php`, это означает, что контроллер `site` выполнит обработку запроса.
+это `'help'`. Таким образом, если задан URL `https://hostname/index.php`, это означает, что контроллер `site` выполнит обработку запроса.
 
 Вы можете изменить контроллер по умолчанию следующим образом в [настройках приложения](structure-applications.md#application-configurations):
 
@@ -314,8 +314,8 @@ class HelloWorldAction extends Action
 ```php
 public function actionForward()
 {
-    // перенаправляем браузер пользователя на http://example.com
-    return $this->redirect('http://example.com');
+    // перенаправляем браузер пользователя на https://example.com
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -345,13 +345,13 @@ class PostController extends Controller
 
 Для разных запросов параметры действий будут определены следующим образом:
 
-* `http://hostname/index.php?r=post/view&id=123`: параметр `$id` будет присвоено значение `'123'`, в то время
+* `https://hostname/index.php?r=post/view&id=123`: параметр `$id` будет присвоено значение `'123'`, в то время
   как `$version` будет иметь значение `null`, т. к. строка запроса не содержит параметра `version`;
-* `http://hostname/index.php?r=post/view&id=123&version=2`: параметрам `$id` и `$version` будут присвоены
+* `https://hostname/index.php?r=post/view&id=123&version=2`: параметрам `$id` и `$version` будут присвоены
   значения `'123'` и `'2'` соответственно;
-* `http://hostname/index.php?r=post/view`: будет брошено исключение [[yii\web\BadRequestHttpException]], т. к.
+* `https://hostname/index.php?r=post/view`: будет брошено исключение [[yii\web\BadRequestHttpException]], т. к.
   обязательный параметр `$id` не был указан в запросе;
-* `http://hostname/index.php?r=post/view&id[]=123`: будет брошено исключение [[yii\web\BadRequestHttpException]], т. к.
+* `https://hostname/index.php?r=post/view&id[]=123`: будет брошено исключение [[yii\web\BadRequestHttpException]], т. к.
   параметр `$id` получил неверное значение `['123']`.
 
 Если вы хотите, чтобы параметр действия принимал массив значений, вы должны использовать type-hint значение `array`, как показано ниже:
@@ -363,8 +363,8 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-Теперь, если запрос будет содержать URL `http://hostname/index.php?r=post/view&id[]=123`, то параметр `$id` примет значение
-`['123']`. Если запрос будет содержать URL `http://hostname/index.php?r=post/view&id=123`, то параметр `$id` все равно будет
+Теперь, если запрос будет содержать URL `https://hostname/index.php?r=post/view&id[]=123`, то параметр `$id` примет значение
+`['123']`. Если запрос будет содержать URL `https://hostname/index.php?r=post/view&id=123`, то параметр `$id` все равно будет
 содержать массив, т. к. скалярное значение `'123'` будет автоматически сконвертировано в массив.
 
 Вышеприведенные примеры в основном показывают как параметры действий работают для Веб приложений. Больше информации
diff --git a/docs/guide-vi/intro-upgrade-from-v1.md b/docs/guide-vi/intro-upgrade-from-v1.md
index ba1625904ab..2dad26ab734 100644
--- a/docs/guide-vi/intro-upgrade-from-v1.md
+++ b/docs/guide-vi/intro-upgrade-from-v1.md
@@ -28,15 +28,15 @@ Yii 2.0 yêu cầu PHP 5.4 trở lên, đó là một cải tiến rất lớn s
 Như được liệt kê dưới, có nhiều sự khác biệt về cấp độ ngôn ngữ mà bạn nên chú ý. 
 Dưới đây là tóm tắt về những thay đổi lớn liên quan đến PHP:
 
-- [Namespaces](http://php.net/manual/en/language.namespaces.php).
-- [Hàm ẩn danh (Anonymous functions)](http://php.net/manual/en/functions.anonymous.php).
+- [Namespaces](https://php.net/manual/en/language.namespaces.php).
+- [Hàm ẩn danh (Anonymous functions)](https://php.net/manual/en/functions.anonymous.php).
 - Cú pháp khai báo mảng ngắn `[...elements...]` được dùng thay cho cú pháp kiểu `array(...elements...)`.
 - Thẻ echo ngắn `<?=` được dùng trong các tập tin của view. Điều này là an toàn để sử dụng bắt đầu từ PHP 5.4.
-- [SPL classes và interfaces](http://php.net/manual/en/book.spl.php).
-- [Late Static Bindings](http://php.net/manual/en/language.oop5.late-static-bindings.php).
-- [Ngày và Thời gian](http://php.net/manual/en/book.datetime.php).
-- [Traits](http://php.net/manual/en/language.oop5.traits.php).
-- [intl](http://php.net/manual/en/book.intl.php). Yii 2.0 sử dụng phần mở rộng PHP intl để hỗ trợ các tính năng quốc tế hóa.
+- [SPL classes và interfaces](https://php.net/manual/en/book.spl.php).
+- [Late Static Bindings](https://php.net/manual/en/language.oop5.late-static-bindings.php).
+- [Ngày và Thời gian](https://php.net/manual/en/book.datetime.php).
+- [Traits](https://php.net/manual/en/language.oop5.traits.php).
+- [intl](https://php.net/manual/en/book.intl.php). Yii 2.0 sử dụng phần mở rộng PHP intl để hỗ trợ các tính năng quốc tế hóa.
 
 
 Không gian tên (Namespace)
@@ -285,7 +285,7 @@ Vui lòng tham khảo mục [Console Commands](tutorial-console.md) để biết
 I18N
 ----
 
-Yii 2.0 loại bỏ các phần định dạng ngày và phần định dạng số tích hợp có lợi cho [PECL intl PHP module](http://pecl.php.net/package/intl).
+Yii 2.0 loại bỏ các phần định dạng ngày và phần định dạng số tích hợp có lợi cho [PECL intl PHP module](https://pecl.php.net/package/intl).
 
 Dịch văn bản bây giờ được thực hiện qua thành phần ứng dụng `i18n`.
 Thành phần này quản lý một tập hợp các nguồn văn bản, cho phép bạn sử dụng các nguồn văn bản khác nhau dựa trên các loại văn bản.
diff --git a/docs/guide-vi/start-databases.md b/docs/guide-vi/start-databases.md
index d98a84dfb2b..186f48b81f5 100644
--- a/docs/guide-vi/start-databases.md
+++ b/docs/guide-vi/start-databases.md
@@ -216,7 +216,7 @@ Xem demo <span id="trying-it-out"></span>
 Truy cập vào Url sau và xem kết quả:
 
 ```
-http://hostname/index.php?r=country/index
+https://hostname/index.php?r=country/index
 ```
 
 ![Danh sách Country](images/start-country-list.png)
@@ -226,7 +226,7 @@ Nếu bạn click vào button "2", bạn sẽ thấy 5 country khác trong CSDL:
 Bạn để ý rằng URL trong trình duyệt cũng thay đổi.
 
 ```
-http://hostname/index.php?r=country/index&page=2
+https://hostname/index.php?r=country/index&page=2
 ```
 
 Trong luồng xử lý này, đối tượng [[yii\data\Pagination|Pagination]] sẽ cung cấp tất cả những hàm cần thiết cho việc phân trang:
diff --git a/docs/guide-vi/start-forms.md b/docs/guide-vi/start-forms.md
index 00046d98e05..b6b577a8f78 100644
--- a/docs/guide-vi/start-forms.md
+++ b/docs/guide-vi/start-forms.md
@@ -127,7 +127,7 @@ Nếu không có lỗi gì, action sẽ trả về (render) view tên là `entry
 
 > Lưu ý: ở bài hướng dẫn này, chúng ta chỉ xác nhận trang khi có dũ liệu hợp lệ. Bài thực hành này,
   bạn cần lưu ý việc sử dụng các phương thức [[yii\web\Controller::refresh()|refresh()]] hoặc [[yii\web\Controller::redirect()|redirect()]]
-  nhằm để tránh [form resubmission problems](http://en.wikipedia.org/wiki/Post/Redirect/Get).
+  nhằm để tránh [form resubmission problems](https://en.wikipedia.org/wiki/Post/Redirect/Get).
 
 
 Tạo Views <span id="creating-views"></span>
@@ -182,7 +182,7 @@ Thử xem kết quả <span id="trying-it-out"></span>
 Truy cập vào URL sau để xem kết quả:
 
 ```
-http://hostname/index.php?r=site/entry
+https://hostname/index.php?r=site/entry
 ```
 
 Bạn sẽ thấy trang Web cùng với việc hiển thị form chứa 2 trường để nhập dữ liệu . Trước mỗi trường nhập liệu, có nhãn được chỉ định những dữ liệu nhập vào . 
diff --git a/docs/guide-vi/start-gii.md b/docs/guide-vi/start-gii.md
index 6a62670d091..403b1e28a1b 100644
--- a/docs/guide-vi/start-gii.md
+++ b/docs/guide-vi/start-gii.md
@@ -44,7 +44,7 @@ Dựa vào dòng này, ứng dụng sẽ được thiết lập ở chế độ
 Bây giờ bạn có thể truy cập Gii qua đường dẫn:
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 > Lưu ý: Nếu bạn muốn truy cập Gii không chỉ từ localhost mà còn từ các máy khác, mặc định các truy cập sẽ bị từ chối
@@ -107,7 +107,7 @@ Xem kết quả <span id="trying-it-out"></span>
 Xem kết quả, dùng trình duyệt truy cập vào đường dẫn sau:
 
 ```
-http://hostname/index.php?r=country/index
+https://hostname/index.php?r=country/index
 ```
 
 Bạn sẽ thấy dữ liệu bảng được hiển thị chứa các thông tin trong CSDL country. Bạn có thể sắp xếp các bảng,
diff --git a/docs/guide-vi/start-hello.md b/docs/guide-vi/start-hello.md
index 5730286ab20..970fa54d9e5 100644
--- a/docs/guide-vi/start-hello.md
+++ b/docs/guide-vi/start-hello.md
@@ -86,7 +86,7 @@ Bạn cần lưu trữ view `say` nằm ở đường dẫn `views/site/say.php`
 
 Lưu ý rằng, đoạn code trên, biến `message` đã được phương thức [[yii\helpers\Html::encode()|HTML-encoded]]
 mã hóa trước khi được in ra. Việc mã hóa là cần thiết khi gửi các tham số tới user, các tham số này có thể bị tấn công qua
-[XSS (cross-site scripting)](http://en.wikipedia.org/wiki/Cross-site_scripting) đây là kỹ thuật tấn công bằng cách chèn chèn các 
+[XSS (cross-site scripting)](https://en.wikipedia.org/wiki/Cross-site_scripting) đây là kỹ thuật tấn công bằng cách chèn chèn các 
 thẻ HTML hoặc đoạn mã JavaScript độc hại.
 
 Tất nhiên, bạn có thể thêm các nội dung ở view `say`.Nội dung bao gồm các thẻ HTML, dữ liệu văn bản, và cũng có thể là các câu lệnh PHP.
@@ -101,7 +101,7 @@ Trying it Out <span id="trying-it-out"></span>
 Sau khi đã tạo action và view, bạn có thể truy cập vào trang bởi việc truy cập vào URL sau:
 
 ```
-http://hostname/index.php?r=site/say&message=Hello+World
+https://hostname/index.php?r=site/say&message=Hello+World
 ```
 
 ![Hello World](images/start-hello-world.png)
diff --git a/docs/guide-vi/start-installation.md b/docs/guide-vi/start-installation.md
index 30772c4dcc8..e162ac1d966 100644
--- a/docs/guide-vi/start-installation.md
+++ b/docs/guide-vi/start-installation.md
@@ -1,7 +1,7 @@
 Cài đặt Yii
 ==============
 
-Bạn có thể cài đặt Yii theo hai cách, dùng trình quản lý gói [Composer](http://getcomposer.org/) hoặc tải toàn bộ mã nguồn Yii về.
+Bạn có thể cài đặt Yii theo hai cách, dùng trình quản lý gói [Composer](https://getcomposer.org/) hoặc tải toàn bộ mã nguồn Yii về.
 Cách thứ nhất thường được khuyến khích dùng hơn, vì nó cho phép bạn cài đặt thêm các [Gói mở rộng (extensions)](structure-extensions.md)  hoặc cập nhật Yii đơn giản chỉ mới một dòng lệnh.
 
 Mặc định, sau khi cài đặt Yii sẽ cung cấp cho bạn một số tính năng cơ bản, như đăng nhập (login), form liên hệ (contact form), vv. 
@@ -23,7 +23,7 @@ Cài đặt qua trinh quản lý gói Composer <span id="installing-via-composer
 Nếu bạn chưa cài Composer, bạn có thể cài đặt theo đường link sau
 [getcomposer.org](https://getcomposer.org/download/). Đối với hệ điều hành Linux và Mac OS X, bạn có thể chạy các lệnh sau đây:
 
-    curl -s http://getcomposer.org/installer | php
+    curl -s https://getcomposer.org/installer | php
     mv composer.phar /usr/local/bin/composer
 
 Còn trên HĐH Windows, bạn có thể tải về và chạy [Composer-Setup.exe](https://getcomposer.org/Composer-Setup.exe).
@@ -120,13 +120,13 @@ Cấu hình máy chủ Web <span id="configuring-web-servers"></span>
 > Lưu ý: Lưu ý: Nếu bạn chỉ là chạy thử ứng dụng Yii thay vì được triển khai(deploying) trong một môi trường sản xuất,
   bạn có thể bỏ qua phần này.
 
-Các ứng dụng được cài đặt theo phương pháp trên, được chạy trong Windows, Max OS X, Linux hoặc máy chủ [Apache HTTP](http://httpd.apache.org/) 
-hoặc [Nginx HTTP server](http://nginx.org/) và PHP phiên bản 5.4 hoặc cao hơn đều có thể được chạy trực tiếp. Yii 2.0 cũng tương thích với HHVM, 
-do [HHVM](http://hhvm.com/)của Facebook và PHP tiêu chuẩn trên các khía cạnh trong một vài nơi một với trường hợp hơi khác nhau, 
+Các ứng dụng được cài đặt theo phương pháp trên, được chạy trong Windows, Max OS X, Linux hoặc máy chủ [Apache HTTP](https://httpd.apache.org/) 
+hoặc [Nginx HTTP server](https://nginx.org/) và PHP phiên bản 5.4 hoặc cao hơn đều có thể được chạy trực tiếp. Yii 2.0 cũng tương thích với HHVM, 
+do [HHVM](https://hhvm.com/)của Facebook và PHP tiêu chuẩn trên các khía cạnh trong một vài nơi một với trường hợp hơi khác nhau, 
 khi sử dụng HHVM đòi hỏi ít thay đổi.
 
-Trong môi trường máy chủ sản xuất, bạn có thể cấu hình máy chủ để ứng dụng có thể truy cập thông qua URL http://www.example.com/index.php 
-thay vì http://www.example.com/basic/web/index.php. Cấu hình này đòi hỏi các thư mục gốc tài liệu của máy chủ Web vào thư mục basic/web. Bạn cũng có thể  ẩn index.php trên URL, 
+Trong môi trường máy chủ sản xuất, bạn có thể cấu hình máy chủ để ứng dụng có thể truy cập thông qua URL https://www.example.com/index.php 
+thay vì https://www.example.com/basic/web/index.php. Cấu hình này đòi hỏi các thư mục gốc tài liệu của máy chủ Web vào thư mục basic/web. Bạn cũng có thể  ẩn index.php trên URL, 
 chi tiết trên URL phân tích và tạo ra một chương trình chiếu, bạn sẽ tìm hiểu làm thế nào để cấu hình Apache hoặc Nginx máy chủ để đạt được những mục tiêu này.
 
 > Lưu ý: Thiết lập `basic/web` như thư mục gốc, bạn có thể ngăn chặn người dùng truy cập vào các dữ liệu cá nhân và các thông tin nhạy cảm được lưu trữ
@@ -161,7 +161,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Các khuyến nghị khi cấu hình Nginx <span id="recommended-nginx-configuration"></span>
 
-Để sử dụng [Nginx](http://wiki.nginx.org/), bạn cần phải cài đặt [FPM SAPI](https://www.php.net/install.fpm).
+Để sử dụng [Nginx](https://wiki.nginx.org/), bạn cần phải cài đặt [FPM SAPI](https://www.php.net/install.fpm).
 Bạn có thể cấu hình Nginx như sau, thay thế đường dẫn `path/to/basic/web` với đường dẫn thực tế ở
 `basic/web` và  `mysite.test` thay thế bằng tên máy chủ thực tế để cung cấp dịch vụ.
 
diff --git a/docs/guide-vi/start-looking-ahead.md b/docs/guide-vi/start-looking-ahead.md
index 3ea700d3fd1..1a170e5a776 100644
--- a/docs/guide-vi/start-looking-ahead.md
+++ b/docs/guide-vi/start-looking-ahead.md
@@ -29,4 +29,4 @@ Trong phần này sẽ tổng hợp những tài nguyên về tìm hiểu Yii fr
     - Facebook: <https://www.facebook.com/groups/yiitalk/>
     - Twitter: <https://twitter.com/yiiframework>
     - LinkedIn: <https://www.linkedin.com/groups/yii-framework-1483367>
-    - Stackoverflow: <http://stackoverflow.com/questions/tagged/yii2>
+    - Stackoverflow: <https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide-vi/start-workflow.md b/docs/guide-vi/start-workflow.md
index 88b89ecd9b6..3fc084296dd 100644
--- a/docs/guide-vi/start-workflow.md
+++ b/docs/guide-vi/start-workflow.md
@@ -1,13 +1,13 @@
 Chạy ứng dụng
 ====================
 
-Sau khi cài đặt Yii, ứng dụng Yii của bạn đã được chạy, tùy thuộc vào cấu hình bạn có thể truy cập qua URL `http://hostname/basic/web/index.php`
-hoặc `http://hostname/index.php`. Bài hướng dẫn này sẽ mô tả chức năng của ứng dụng và cách tổ chức code trong ứng dụng,
+Sau khi cài đặt Yii, ứng dụng Yii của bạn đã được chạy, tùy thuộc vào cấu hình bạn có thể truy cập qua URL `https://hostname/basic/web/index.php`
+hoặc `https://hostname/index.php`. Bài hướng dẫn này sẽ mô tả chức năng của ứng dụng và cách tổ chức code trong ứng dụng,
 và làm thế nào để xử lý các yêu cầu của ứng dụng.
 
 > Lưu ý: Để đơn giản, xuyên suốt các bài hướng dẫn "Getting Started" này, giả sử rằng chúng ta đã thiết lập `basic/web`
   như thư mục gốc trong máy chủ Web, và cấu hình URL dể truy cập vào ứng dụng của ban thành
-  `http://hostname/index.php` hoặc điều tương tự. Tùy theo yêu cầu của bạn, bạn hãy điều chình 
+  `https://hostname/index.php` hoặc điều tương tự. Tùy theo yêu cầu của bạn, bạn hãy điều chình 
   URLs sao cho phù hợp với ứng dụng.
 
 
@@ -16,7 +16,7 @@ Chức năng <span id="functionality"></span>
 
 Mẫu ứng dụng *Basic Application* bao gồm 4 trang cơ bản:
 
-* Trang chủ (homepage), được hiển thị khi bạn truy cập vào URL `http://hostname/index.php`,
+* Trang chủ (homepage), được hiển thị khi bạn truy cập vào URL `https://hostname/index.php`,
 * Trang "About",
 * Trang "Contact", trang hiển thị form contact cho phép user liên hệ với bạn qua email,
 * Trang "Login", trang hiển thị form login cho phép bạn có thể xác thực user. Hãy thử đăng nhập với
@@ -37,7 +37,7 @@ Cấu trúc ứng dụng (Application Structure) <span id="application-structure
 
 Những thư mục và tập tin quan trọng nhất của ứng dụng (giả sử thư mục gốc của ứng dụng tên là `basic`):
 
-```js
+```
 basic/                  Thư mục gốc ứng dụng
     composer.json       Tập tin cấu hình Composer, mô tả thông tin gói
     config/             Chứa các cấu hình ứng dụng và cấu hình khác
@@ -58,7 +58,7 @@ basic/                  Thư mục gốc ứng dụng
 Nói chung, những tập tin trong ứng dụng có thể chia thành hai loại: tập tin nằm trong thư mục `basic/web` và những tập
 tin nằm ở thư mục khác. Trước dây có thể truy cập trực tiếp qua HTTP (chẳng hạn như một trình duyệt), tuy nhiên sau này không thể truy cập và không nên có.
 
-Yii thực thi theo mẫu thiết kế [model-view-controller (MVC)](http://wikipedia.org/wiki/Model-view-controller),
+Yii thực thi theo mẫu thiết kế [model-view-controller (MVC)](https://wikipedia.org/wiki/Model-view-controller),
 Điều này được phản ánh trong cấu trúc đường dẫn ở trên. Thư mục `models` chứa tất cả [lớp dữ liệu (model)](structure-models.md),
 còn thư mục `views` sẽ chứa tất cả [view scripts](structure-views.md), và thư mục `controllers` chứa tất cả
 [lớp điều khiển (controller classes)](structure-controllers.md).
diff --git a/docs/guide-vi/structure-applications.md b/docs/guide-vi/structure-applications.md
index 8aad3d7f622..875d8310299 100644
--- a/docs/guide-vi/structure-applications.md
+++ b/docs/guide-vi/structure-applications.md
@@ -273,7 +273,7 @@ Giá trị của thuộc tính được xác định theo chuẩn [quốc tế h
 bao gồm các thông tin, định dạng ngày giờ, số, vv. Ví dụ, widget [[yii\jui\DatePicker]] 
 sẽ sử dụng các giá trị thuộc tính qua việc xác định ngôn ngữ nào cần được hiển thị và định dạng ngày giờ như thế nào.
 
-Khuyến khích bạn xác định các ngôn ngữ dựa theo [IETF language tag](http://en.wikipedia.org/wiki/IETF_language_tag).
+Khuyến khích bạn xác định các ngôn ngữ dựa theo [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag).
 Ví dụ, `en` là chuẩn cho tiếng anh, trong khi đó `en-US` chuẩn cho tiếng anh ở Mỹ (United States).
 
 Xem thêm thông tin về thuộc tính này tại mục [Internationalization](tutorial-i18n.md).
@@ -345,7 +345,7 @@ Thuộc tính mô tả về ngôn ngữ được sử dụng để viết mã ng
 nghĩa là tiếng Anh Mỹ(United States). Bạn nên cấu hình thuộc tính này nếu nội dung trong mã nguồn của bạn không phải là tiếng Anh.
 
 Giống như thuộc tính [language](#language), you should configure this property in terms of
-an [IETF language tag](http://en.wikipedia.org/wiki/IETF_language_tag). Ví dụ, `en` chuẩn cho tiếng Anh,
+an [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag). Ví dụ, `en` chuẩn cho tiếng Anh,
 trong khi `en-US` chuẩn cho tiếng Anh Mỹ (United States).
 
 Xem thêm trong phần [Quốc tế hóa](tutorial-i18n.md) để hiểu thêm thuộc tính này.
diff --git a/docs/guide-vi/structure-controllers.md b/docs/guide-vi/structure-controllers.md
index bda426f289d..f02b19ea62b 100644
--- a/docs/guide-vi/structure-controllers.md
+++ b/docs/guide-vi/structure-controllers.md
@@ -1,7 +1,7 @@
 Bộ điều khiển (Controller)
 ===========
 
-Controller thuộc một phần trong mẫu thiết kế [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
+Controller thuộc một phần trong mẫu thiết kế [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
 Controller là đối tượng được kế thừa từ class [[yii\base\Controller]] và chịu trách nhiệm xứ lý các yêu cầu và gửi phản hồi
 . Đặc biệt, sau khi tiếp nhận các yêu cầu điều khiển từ [ứng dụng](structure-applications.md),
 controllers sẽ phân tích thông tin yêu cầu được gửi đến, gửi dữ liệu qua [models](structure-models.md) để xử lý, và gán kết quả xử lý từ model
@@ -83,7 +83,7 @@ hoặc có định dạng sau nếu Controller được gán như một Module:
 ModuleID/ControllerID/ActionID
 ```
 
-Như vậy nếu user truy cập vào đường dẫn sau `http://hostname/index.php?r=site/index`, thì hành động `index` nằm trong bộ điều khiển `site`
+Như vậy nếu user truy cập vào đường dẫn sau `https://hostname/index.php?r=site/index`, thì hành động `index` nằm trong bộ điều khiển `site`
 sẽ được thực hiện. Để biết thêm thông tin về cách bộ định tuyến xác định các hành động, vui lòng tham khảo tại mục
 [Routing và URL Generation](runtime-routing.md).
 
@@ -179,7 +179,7 @@ Bạn có thể cấu hình [[yii\base\Application::controllerMap|controller map
 Mỗi ứng dụng đều có một Controller mặc định được mô tả qua thuộc tính [[yii\base\Application::defaultRoute]].
 Khi một yêu cầu không được mô tả cụ thể ở mục [route](#routes), thì route mặc định sẽ được gọi.
 Chẳng hạn [[yii\web\Application|Web applications]], có giá trị là `'site'`, trong khi đó [[yii\console\Application|ứng dụng console]],
-có route mặc định là `help`. Vì vậy, nếu truy cập vào URL sau `http://hostname/index.php`, thì Controller `site` sẽ được gọi và xử lý yêu cầu.
+có route mặc định là `help`. Vì vậy, nếu truy cập vào URL sau `https://hostname/index.php`, thì Controller `site` sẽ được gọi và xử lý yêu cầu.
 
 Bạn có thể thay đổi thông tin Controller mặc định tại mục [cấu hình ứng dung](structure-applications.md#application-configurations) như sau:
 
@@ -322,8 +322,8 @@ một đối tượng):
 ```php
 public function actionForward()
 {
-    // điều hướng tới URL http://example.com
-    return $this->redirect('http://example.com');
+    // điều hướng tới URL https://example.com
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -353,13 +353,13 @@ class PostController extends Controller
 
 Các tham số cho action sẽ được dùng như sau và tương ứng với các yêu cầu khác nhau:
 
-* `http://hostname/index.php?r=post/view&id=123`: biến `$id` sẽ nhận giá trị là
+* `https://hostname/index.php?r=post/view&id=123`: biến `$id` sẽ nhận giá trị là
   `'123'`,  trong khi đó tham số `$version` nhận giá trị null vì không có đối số `version` được truyền lên.
-* `http://hostname/index.php?r=post/view&id=123&version=2`: biến `$id` và `$version` sẽ nhận giá trị tương ứng là
+* `https://hostname/index.php?r=post/view&id=123&version=2`: biến `$id` và `$version` sẽ nhận giá trị tương ứng là
    `'123'` và `'2'`.
-* `http://hostname/index.php?r=post/view`: ngoại lệ [[yii\web\BadRequestHttpException]] sẽ được gửi ra
+* `https://hostname/index.php?r=post/view`: ngoại lệ [[yii\web\BadRequestHttpException]] sẽ được gửi ra
   vì tham số `$id` không được gửi lên.
-* `http://hostname/index.php?r=post/view&id[]=123`: xảy ra ngoại lệ [[yii\web\BadRequestHttpException]] lý do vì
+* `https://hostname/index.php?r=post/view&id[]=123`: xảy ra ngoại lệ [[yii\web\BadRequestHttpException]] lý do vì
   tham số `$id` nhận dữ liệu là một mảng do vậy không hợp lệ `['123']`.
 
 Nếu bạn muốn tham số của action nhận dữ liệu là một mảng, bạn nên khai báo biên là `array`, như sau:
@@ -371,8 +371,8 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-Nếu yêu cầu là `http://hostname/index.php?r=post/view&id[]=123`, thì tham số `$id` sẽ nhận giá trị là
- `['123']`. Nếu yêu cầu là `http://hostname/index.php?r=post/view&id=123`, tham số `$id` sẽ chỉ nhận
+Nếu yêu cầu là `https://hostname/index.php?r=post/view&id[]=123`, thì tham số `$id` sẽ nhận giá trị là
+ `['123']`. Nếu yêu cầu là `https://hostname/index.php?r=post/view&id=123`, tham số `$id` sẽ chỉ nhận
 các giá trị trong mảng là giống nhau bởi vì giá trị `'123'` không là mảng và sẽ tự động chuyển vào mảng.
 
 Ở ví dụ trên sẽ hướng dẫn các tham số trong mỗi action hoạt động trong ứng dụng Web. Với ứng dụng console,
diff --git a/docs/guide-vi/structure-entry-scripts.md b/docs/guide-vi/structure-entry-scripts.md
index d13696b46ad..9ade57eac82 100644
--- a/docs/guide-vi/structure-entry-scripts.md
+++ b/docs/guide-vi/structure-entry-scripts.md
@@ -16,7 +16,7 @@ thông qua dòng lệnh `./yii <route> [arguments] [options]`.
 Entry scripts có chức năng chính như sau:
 
 * Khai báo các hằng số ở phạm vi toàn cục;
-* Đăng ký [Composer autoloader](http://getcomposer.org/doc/01-basic-usage.md#autoloading);
+* Đăng ký [Composer autoloader](https://getcomposer.org/doc/01-basic-usage.md#autoloading);
 * Tải các file class của [[Yii]];
 * Tải cấu hình ứng dụng;
 * Tạo và cấu hình các phiên bản [application](structure-applications.md);
diff --git a/docs/guide-vi/structure-models.md b/docs/guide-vi/structure-models.md
index ab45930cca6..4964b95e11a 100644
--- a/docs/guide-vi/structure-models.md
+++ b/docs/guide-vi/structure-models.md
@@ -1,7 +1,7 @@
 Model
 ======
 
-Model là phần trong mô hình [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
+Model là phần trong mô hình [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
 Là đối tượng đại diện cho phần dữ liệu, phương thức xử lý và nghiệp vụ logic.
 
 Bạn có thể tạo mới các lớp model bằng việc kế thừa từ lớp [[yii\base\Model]] hoặc các lớp con của nó. Lớp cơ sở
diff --git a/docs/guide-vi/structure-modules.md b/docs/guide-vi/structure-modules.md
index 6bfe0e941dd..28885c20970 100644
--- a/docs/guide-vi/structure-modules.md
+++ b/docs/guide-vi/structure-modules.md
@@ -14,7 +14,7 @@ Một module được tổ chức dưới dạng như một thư mục được
 Trong thư mục, còn có các thư mục con, như là `controllers`, `models`, `views`, những thư mục này chứa các controllers,
 models, views, và các đoạn mã khác, giống như trong một ứng dụng. Ví dụ sau đây cho thấy nội dung trong một module:
 
-```js
+```
 forum/
     Module.php                   tập tin lớp module
     controllers/                 chứa các tệp controller
diff --git a/docs/guide-vi/structure-overview.md b/docs/guide-vi/structure-overview.md
index 5e1f52f9ffe..4df6e5edc82 100644
--- a/docs/guide-vi/structure-overview.md
+++ b/docs/guide-vi/structure-overview.md
@@ -1,7 +1,7 @@
 Tổng quan về kiến trúc ứng dụng
 ========
 
-Các ứng dụng Yii được tổ chức dựa theo mẫu thiết kế [model-view-controller (MVC)](http://wikipedia.org/wiki/Model-view-controller)
+Các ứng dụng Yii được tổ chức dựa theo mẫu thiết kế [model-view-controller (MVC)](https://wikipedia.org/wiki/Model-view-controller)
 . [Models](structure-models.md) chứa nghiệp vụ logic, truy xuất database và định nghĩa các quy tắc xác thực dữ liệu; [views](structure-views.md)
 đảm nhận việc hiển thị thôn tin của model; và [controllers](structure-controllers.md) có nhiệm vụ điều hướng các yêu cầu và chuyển các tương tác giữa
 [models](structure-models.md) và [views](structure-views.md).
diff --git a/docs/guide-vi/structure-views.md b/docs/guide-vi/structure-views.md
index 86b2084671d..2dfa278c072 100644
--- a/docs/guide-vi/structure-views.md
+++ b/docs/guide-vi/structure-views.md
@@ -1,7 +1,7 @@
 Views (Giao diện)
 =====
 
-Views là phần trong mô hình [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
+Views là phần trong mô hình [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller).
 Thành phần này chịu trách nhiệm chính trong việc hiển thị dữ liệu tới người dùng. Tại ứng dụng Web, views thường được tạo
 cùng với các *bản mẫu giao diện (view template)* là những file kịch bản của PHP có chứa các mã HTML và mã PHP.
 Các file giao diện được quản lý bởi [[yii\web\View|view]] [là thành phần ứng dụng](structure-application-components.md) thành phần này có chứa các phương thức chung
@@ -50,7 +50,7 @@ hoặc các đối tượng khác được cho vào từ việc [xuất bản vi
 
 Khi tạo views được sinh bởi các trang HTML, điều quan trọng là bạn mã hóa và/hoặc lọc dữ liệu đến từ người dùng
 cuối trước khi hiển thị lên. Nếu không thì, ứng dụng của bạn có thể bị tấn công bởi
-[cross-site scripting](http://en.wikipedia.org/wiki/Cross-site_scripting).
+[cross-site scripting](https://en.wikipedia.org/wiki/Cross-site_scripting).
 
 Để hiển thị các nội dung thuần, hãy encode trước bằng việc gọi phương thức [[yii\helpers\Html::encode()]]. Ví dụ, đoạn mã sau sẽ
 encodes thông tin user name trước khi được hiển thị:
diff --git a/docs/guide-zh-CN/caching-data.md b/docs/guide-zh-CN/caching-data.md
index c31f2964d6e..94516abf01e 100644
--- a/docs/guide-zh-CN/caching-data.md
+++ b/docs/guide-zh-CN/caching-data.md
@@ -57,7 +57,7 @@ $data = $cache->getOrSet($key, function () use ($user_id) {
 
 缓存组件通常注册为应用程序组件，这样它们就可以
 在全局进行配置与访问。如下代码演示了如何配置应用程序组件
-`cache` 使用两个 [memcached](http://memcached.org/) 
+`cache` 使用两个 [memcached](https://memcached.org/) 
 服务器：
 
 ```php
@@ -103,7 +103,7 @@ $data = $cache->getOrSet($key, function () use ($user_id) {
 
 Yii 支持一系列缓存存储器，概况如下：
 
-* [[yii\caching\ApcCache]]：使用 PHP [APC](https://www.php.net/manual/en/book.apc.php) 扩展。
+* [[yii\caching\ApcCache]]：使用 PHP [APC](https://www.php.net/manual/en/book.apcu.php) 扩展。
   这个选项可以认为是集中式应用程序环境中
  （例如：单一服务器，没有独立的负载均衡器等）最快的缓存方案。
 * [[yii\caching\DbCache]]：使用一个数据库的表存储缓存数据。要使用这个缓存，
@@ -124,13 +124,13 @@ Yii 支持一系列缓存存储器，概况如下：
   和 [memcached](https://www.php.net/manual/en/book.memcached.php) 扩展。
   这个选项被看作分布式应用环境中（例如：多台服务器，有负载均衡等）
   最快的缓存方案。
-* [[yii\redis\Cache]]：实现了一个基于 [Redis](http://redis.io/) 键值对存储器的缓存组件
+* [[yii\redis\Cache]]：实现了一个基于 [Redis](https://redis.io/) 键值对存储器的缓存组件
  （需要 redis 2.6.12 及以上版本的支持 ）。
-* [[yii\caching\WinCache]]：使用 PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension)
+* [[yii\caching\WinCache]]：使用 PHP [WinCache](https://iis.net/downloads/microsoft/wincache-extension)
  （[另可参考](https://www.php.net/manual/en/book.wincache.php)）扩展.
-* [[yii\caching\XCache]]：使用 PHP [XCache](http://xcache.lighttpd.net/)扩展。
+* [[yii\caching\XCache]]：使用 PHP [XCache](https://en.wikipedia.org/wiki/List_of_PHP_accelerators#XCache)扩展。
 * [[yii\caching\ZendDataCache]]：使用 
-  [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend- server.htm#data_cache_component.htm) 
+  [Zend Data Cache](https://files.zend.com/help/Zend-Server-6/zend- server.htm#data_cache_component.htm) 
   作为底层缓存媒介。
 
 
@@ -310,7 +310,7 @@ $result = Customer::getDb()->cache(function ($db) {
 });
 ```
 
-> Info: 有些 DBMS （例如：[MySQL](http://dev.mysql.com/doc/refman/5.1/en/query-cache.html)）
+> Info: 有些 DBMS （例如：[MySQL](https://dev.mysql.com/doc/refman/5.6/en/query-cache.html)）
 也支持数据库服务器端的查询缓存。
 你可以选择使用任一查询缓存机制。
 上文所述的查询缓存的好处在于你可以指定更灵活的缓存依赖因此可能更加高效。
@@ -418,7 +418,7 @@ $result = $db->cache(function ($db) {
 则会导致缓存失败。
 
 
-### 缓存冲刷 <span id="cache-flushing">
+### 缓存冲刷 <span id="cache-flushing"></span>
 
 当你想让所有的缓存数据失效时，可以调用 [[yii\caching\Cache::flush()]]。
 
diff --git a/docs/guide-zh-CN/caching-http.md b/docs/guide-zh-CN/caching-http.md
index d457e236080..3722807c8cf 100644
--- a/docs/guide-zh-CN/caching-http.md
+++ b/docs/guide-zh-CN/caching-http.md
@@ -107,7 +107,7 @@ ETag 相比 `Last-Modified` 能实现更复杂和更精确的缓存策略。
 因为响应每一次请求都需要重新计算 Etag。
 请试着找出一个最简单的表达式去触发 Etag 失效。
 
-> Note: 为了遵循 [RFC 7232（HTTP 1.1 协议）](http://tools.ietf.org/html/rfc7232#section-2.4)，
+> Note: 为了遵循 [RFC 7232（HTTP 1.1 协议）](https://datatracker.ietf.org/doc/html/rfc7232#section-2.4)，
 如果同时配置了 `ETag` 和 `Last-Modified` 头，`HttpCache` 将会同时发送它们。
 并且如果客户端同时发送 `If-None-Match` 头和 `If-Modified-Since` 头，
 则只有前者会被接受。
diff --git a/docs/guide-zh-CN/concept-aliases.md b/docs/guide-zh-CN/concept-aliases.md
index e2f1a4214d6..65ea0fc47fb 100644
--- a/docs/guide-zh-CN/concept-aliases.md
+++ b/docs/guide-zh-CN/concept-aliases.md
@@ -18,7 +18,7 @@ Yii 预定义了大量可用的别名。例如，别名 `@yii` 指的是 Yii 框
 Yii::setAlias('@foo', '/path/to/foo');
 
 // URL 的别名
-Yii::setAlias('@bar', 'http://www.example.com');
+Yii::setAlias('@bar', 'https://www.example.com');
 
 // 包含 \foo\Bar 类的具体文件的别名
 Yii::setAlias('@foo/Bar.php', '/definitely/not/foo/Bar.php');
@@ -47,7 +47,7 @@ return [
     // ...
     'aliases' => [
         '@foo' => '/path/to/foo',
-        '@bar' => 'http://www.example.com',
+        '@bar' => 'https://www.example.com',
     ],
 ];
 ```
@@ -61,7 +61,7 @@ return [
 
 ```php
 echo Yii::getAlias('@foo');               // 输出：/path/to/foo
-echo Yii::getAlias('@bar');               // 输出：http://www.example.com
+echo Yii::getAlias('@bar');               // 输出：https://www.example.com
 echo Yii::getAlias('@foo/bar/file.php');  // 输出：/path/to/foo/bar/file.php
 ```
 
@@ -116,7 +116,7 @@ Yii 预定义了一系列别名来简化常用路径和 URL 的使用：
   它是根据包含 [入口脚本](structure-entry-scripts.md) 的目录确定的。
 - `@web`，当前运行的Web应用程序的 base URL。它的值与 [[yii\web\Request::baseUrl]] 相同。
 - `@vendor`，[[yii\base\Application::vendorPath|Composer vendor 目录]]。
-- `@bower`，包含 [bower 包](http://bower.io/) 的根目录。默认为 `@vendor/bower`。
+- `@bower`，包含 [bower 包](https://bower.io/) 的根目录。默认为 `@vendor/bower`。
 - `@npm`，包含 [npm 包](https://www.npmjs.com/) 的根目录。默认为 `@vendor/npm`。
 
 `@yii` 别名是在[入口脚本](structure-entry-scripts.md)里包含 `Yii.php` 文件时定义的，
diff --git a/docs/guide-zh-CN/concept-behaviors.md b/docs/guide-zh-CN/concept-behaviors.md
index 96c84d7bd0a..cd0faa45713 100644
--- a/docs/guide-zh-CN/concept-behaviors.md
+++ b/docs/guide-zh-CN/concept-behaviors.md
@@ -2,7 +2,7 @@
 ===
 
 行为是 [[yii\base\Behavior]] 或其子类的实例。
-行为，也称为 [mixins](http://en.wikipedia.org/wiki/Mixin)，
+行为，也称为 [mixins](https://en.wikipedia.org/wiki/Mixin)，
 可以无须改变类继承关系即可增强一个已有的 [[yii\base\Component|组件]] 类功能。
 当行为附加到组件后，它将“注入”它的方法和属性到组件，
 然后可以像访问组件内定义的方法和属性一样访问它们。
diff --git a/docs/guide-zh-CN/concept-di-container.md b/docs/guide-zh-CN/concept-di-container.md
index 81ebff6bbb5..306af9d2c3a 100644
--- a/docs/guide-zh-CN/concept-di-container.md
+++ b/docs/guide-zh-CN/concept-di-container.md
@@ -2,7 +2,7 @@
 ===========================================
 
 依赖注入（Dependency Injection，DI）容器就是一个对象，它知道怎样初始化并配置对象及其依赖的所有对象。
-[Martin 的文章](http://martinfowler.com/articles/injection.html) 已经解释了 DI 容器为什么很有用。
+[Martin 的文章](https://martinfowler.com/articles/injection.html) 已经解释了 DI 容器为什么很有用。
 这里我们主要讲解 Yii 提供的 DI 容器的使用方法。
 
 
@@ -525,7 +525,7 @@ $reader = $container->get('app\storage\DocumentsReader');
 
 依赖注入和[服务定位器](concept-service-locator.md)都是流行的设计模式，
 它们使你可以用充分解耦且更利于测试的风格构建软件。
-强烈推荐你阅读 [Martin 的文章](http://martinfowler.com/articles/injection.html) ，
+强烈推荐你阅读 [Martin 的文章](https://martinfowler.com/articles/injection.html) ，
 对依赖注入和服务定位器有个更深入的理解。
 
 Yii 在依赖住入（DI）容器之上实现了它的[服务定位器](concept-service-locator.md)。
diff --git a/docs/guide-zh-CN/db-active-record.md b/docs/guide-zh-CN/db-active-record.md
index 6cac68139c0..7aae119d27a 100644
--- a/docs/guide-zh-CN/db-active-record.md
+++ b/docs/guide-zh-CN/db-active-record.md
@@ -1,7 +1,7 @@
 活动记录（Active Record）
 ======================
 
-[Active Record](http://zh.wikipedia.org/wiki/Active_Record) 提供了一个面向对象的接口，
+[Active Record](https://zh.wikipedia.org/wiki/%E4%B8%BB%E5%8A%A8%E8%AE%B0%E5%BD%95) 提供了一个面向对象的接口，
 用以访问和操作数据库中的数据。Active Record 类与数据库表关联，
 Active Record 实例对应于该表的一行，
 Active Record 实例的*属性*表示该行中特定列的值。
diff --git a/docs/guide-zh-CN/db-dao.md b/docs/guide-zh-CN/db-dao.md
index 41db692655f..350f482c103 100644
--- a/docs/guide-zh-CN/db-dao.md
+++ b/docs/guide-zh-CN/db-dao.md
@@ -11,11 +11,11 @@ DAO提供了简单高效的SQL查询，可以用在与数据库交互的各个
 
 Yii DAO 支持下列现成的数据库：
 
-- [MySQL](http://www.mysql.com/)
+- [MySQL](https://www.mysql.com/)
 - [MariaDB](https://mariadb.com/)
-- [SQLite](http://sqlite.org/)
-- [PostgreSQL](http://www.postgresql.org/)：版本 8.4 或更高
-- [CUBRID](http://www.cubrid.org/)：版本 9.3 或更高。
+- [SQLite](https://sqlite.org/)
+- [PostgreSQL](https://www.postgresql.org/)：版本 8.4 或更高
+- [CUBRID](https://www.cubrid.org/)：版本 9.3 或更高。
 - [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx)：版本 2008 或更高。
 
@@ -269,7 +269,7 @@ Yii::$app->db->createCommand()->batchInsert('user', ['name', 'age'], [
 ```php
 Yii::$app->db->createCommand()->upsert('pages', [
     'name' => 'Front page',
-    'url' => 'http://example.com/', // url is unique
+    'url' => 'https://example.com/', // url is unique
     'visits' => 0,
 ], [
     'visits' => new \yii\db\Expression('visits + 1'),
@@ -421,7 +421,7 @@ Yii 为四个最常用的隔离级别提供了常量：
 因此，你不能在开启事务时直接指定隔离级别。
 你必须在事务开始后再调用 [[yii\db\Transaction::setIsolationLevel()]]。
 
-[隔离级别]: http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+[隔离级别]: https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
 
 
 ### 嵌套事务（Nesting Transactions） <span id="nesting-transactions"></span>
@@ -471,7 +471,7 @@ try {
 
 ## 复制和读写分离（Replication and Read-Write Splitting） <span id="read-write-splitting"></span>
 
-许多数据库支持[数据库复制](http://en.wikipedia.org/wiki/Replication_(computing)#Database_replication)来获得更好的数据库可用性，
+许多数据库支持[数据库复制](https://en.wikipedia.org/wiki/Replication_(computing)#Database_replication)来获得更好的数据库可用性，
 以及更快的服务器响应时间。通过数据库复制功能，
 数据从所谓的主服务器被复制到从服务器。所有的写和更新必须发生在主服务器上，
 而读可以发生在从服务器上。
diff --git a/docs/guide-zh-CN/db-migrations.md b/docs/guide-zh-CN/db-migrations.md
index c9b47e10027..fef46add643 100644
--- a/docs/guide-zh-CN/db-migrations.md
+++ b/docs/guide-zh-CN/db-migrations.md
@@ -669,7 +669,7 @@ class m150101_185401_create_news_table extends Migration
 我们首先删除那一行数据，然后才删除那张表。
 
 > Note: 并不是所有的数据库都支持事务。有些数据库查询也是不能被放到事务里面的。
-  在 [implicit commit](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html) 章节当中有相关的例子可以参考。
+  在 [implicit commit](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html) 章节当中有相关的例子可以参考。
   如果遇到这种情况的话，那么你应该使用 `up()` 和 `down()` 方法进行替代。
 
 
diff --git a/docs/guide-zh-CN/db-query-builder.md b/docs/guide-zh-CN/db-query-builder.md
index fb06bfb7946..f6a6a01915c 100644
--- a/docs/guide-zh-CN/db-query-builder.md
+++ b/docs/guide-zh-CN/db-query-builder.md
@@ -297,7 +297,7 @@ $query->where([$column => $value]);
   当使用转义映射（又或者没有提供第三个操作数的时候），第二个操作数的值的前后
   将会被加上百分号。
 
-> Note: 当使用 PostgreSQL 的时候你还可以使用 [`ilike`](http://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE)，
+> Note: 当使用 PostgreSQL 的时候你还可以使用 [`ilike`](https://www.postgresql.org/docs/8.3/functions-matching.html#FUNCTIONS-LIKE)，
 > 该方法对大小写不敏感。
 
 - `or like`：用法和 `like` 操作符类似，区别在于当第二个操作数为数组时，
@@ -539,14 +539,14 @@ $query->limit(10)->offset(20);
 ### [[yii\db\Query::join()|join()]] <span id="join"></span>
 
 [[yii\db\Query::join()|join()]] 是用来指定 SQL 语句当中的 `JOIN` 子句的。例如，
- 
+
 ```php
 // ... LEFT JOIN `post` ON `post`.`user_id` = `user`.`id`
 $query->join('LEFT JOIN', 'post', 'post.user_id = user.id');
 ```
 
 [[yii\db\Query::join()|join()]] 带有四个参数：
- 
+
 - `$type`：连接类型，例如，`'INNER JOIN'`，`'LEFT JOIN'`。
 - `$table`：将要连接的表名称。
 - `$on`：可选的，连接条件，即 `ON` 片段。有关指定条件的详细信息，请参阅 [where()](#where)。
diff --git a/docs/guide-zh-CN/helper-html.md b/docs/guide-zh-CN/helper-html.md
index 83a5fc81a36..263030a0be4 100644
--- a/docs/guide-zh-CN/helper-html.md
+++ b/docs/guide-zh-CN/helper-html.md
@@ -42,7 +42,7 @@ Yii 提供了一系列的静态方法来操作标签配置并基于这些配置
 
 - 如果一个值为 null ，那么对应的属性将不会被渲染。
 - 如果是布尔类型的值的属性，将会被当做 
-  [布尔属性](http://www.w3.org/TR/html5/infrastructure.html#boolean-attributes) 来处理。
+  [布尔属性](https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes) 来处理。
 - 属性的值将会用 [[yii\helpers\Html::encode()|Html::encode()]] 方法进行 HTML 转码处理。
 - 如果一个属性的值是一个数组，那么它将会被如下处理：
     
@@ -349,7 +349,7 @@ Gives you
 generates
 
 <!--[if IE 5]>
-    <link href="http://example.com/css/ie5.css" />
+    <link href="https://example.com/css/ie5.css" />
 <![endif]-->
 ```
 
@@ -399,7 +399,7 @@ generates
 
 generates
 
-<img src="http://example.com/images/logo.png" alt="My logo" />
+<img src="https://example.com/images/logo.png" alt="My logo" />
 ```
 
 除了 [aliases](concept-aliases.md) 之外，第一个参数可以接受 路由，查询，URLs。同 [Url::to()](helper-url.md) 一样。
diff --git a/docs/guide-zh-CN/helper-url.md b/docs/guide-zh-CN/helper-url.md
index 42d01bee2a5..8353a7715f6 100644
--- a/docs/guide-zh-CN/helper-url.md
+++ b/docs/guide-zh-CN/helper-url.md
@@ -78,7 +78,7 @@ echo Url::toRoute(['site/index', 'src' => 'ref1', '#' => 'name']);
 // /index.php?r=post/edit&id=100     假设别名 "@postEdit" 被定义为 "post/edit"
 echo Url::toRoute(['@postEdit', 'id' => 100]);
 
-// http://www.example.com/index.php?r=site/index
+// https://www.example.com/index.php?r=site/index
 echo Url::toRoute('site/index', true);
 
 // https://www.example.com/index.php?r=site/index
@@ -123,7 +123,7 @@ echo Url::to('@web/images/logo.gif');
 // images/logo.gif
 echo Url::to('images/logo.gif');
 
-// http://www.example.com/images/logo.gif
+// https://www.example.com/images/logo.gif
 echo Url::to('@web/images/logo.gif', true);
 
 // https://www.example.com/images/logo.gif
diff --git a/docs/guide-zh-CN/input-forms.md b/docs/guide-zh-CN/input-forms.md
index 5310a0c9455..62314c95b2f 100644
--- a/docs/guide-zh-CN/input-forms.md
+++ b/docs/guide-zh-CN/input-forms.md
@@ -127,7 +127,7 @@ echo $form->field($model, 'items[]')->checkboxList(['a' => 'Item A', 'b' => 'Ite
 > }
 > ```
 
-创建下拉列表 <span id="creating-activeform-dropdownlist"></span>
+创建下拉列表 <span id="creating-activeform-lists"></span>
 ------------
 
 有三种类型的列表：
diff --git a/docs/guide-zh-CN/input-validation.md b/docs/guide-zh-CN/input-validation.md
index 9940f328b99..ed17fff6be4 100644
--- a/docs/guide-zh-CN/input-validation.md
+++ b/docs/guide-zh-CN/input-validation.md
@@ -744,7 +744,7 @@ JS;
 
 ### Deferred 验证 <span id="deferred-validation"></span>
 
-如果你需要执行异步客户端验证，你可以创建 [Deferred objects](http://api.jquery.com/category/deferred-object/)。 
+如果你需要执行异步客户端验证，你可以创建 [Deferred objects](https://api.jquery.com/category/deferred-object/)。 
 比如要执行一段自定义的 AJAX 验证，可以使用下面的代码：
 
 ```php
diff --git a/docs/guide-zh-CN/output-client-scripts.md b/docs/guide-zh-CN/output-client-scripts.md
index 0789119c5e0..7545a90cd6e 100644
--- a/docs/guide-zh-CN/output-client-scripts.md
+++ b/docs/guide-zh-CN/output-client-scripts.md
@@ -35,9 +35,9 @@ $this->registerJs(
 - [[yii\web\View::POS_HEAD|View::POS_HEAD]] 用在 HEAD 部分。
 - [[yii\web\View::POS_BEGIN|View::POS_BEGIN]] 用在 `<body>` 标签的右边。
 - [[yii\web\View::POS_END|View::POS_END]] 用在 `</body>` 标签的左边。
-- [[yii\web\View::POS_READY|View::POS_READY]] 为了在 [`ready` 事件](http://learn.jquery.com/using-jquery-core/document-ready/) 中执行代码。
+- [[yii\web\View::POS_READY|View::POS_READY]] 为了在 [`ready` 事件](https://learn.jquery.com/using-jquery-core/document-ready/) 中执行代码。
   这里将自动注册 [[yii\web\JqueryAsset|jQuery]] 并将代码包装到适当的 jQuery 代码中。这是默认位置。
-- [[yii\web\View::POS_LOAD|View::POS_LOAD]] 为了在 [`load` 事件](http://learn.jquery.com/using-jquery-core/document-ready/) 中执行代码。
+- [[yii\web\View::POS_LOAD|View::POS_LOAD]] 为了在 [`load` 事件](https://learn.jquery.com/using-jquery-core/document-ready/) 中执行代码。
   与上面相同，这也将自动注册 [[yii\web\JqueryAsset|jQuery]]。
 
 最后一个参数是一个唯一的脚本 ID，主要是用于标识一段代码块，在添加一段新的代码块时，如果当前页面已经存在同样 ID 代码块时，那么将会被新的替换。
diff --git a/docs/guide-zh-CN/output-data-widgets.md b/docs/guide-zh-CN/output-data-widgets.md
index 2cbfaf5d06e..0fc2e00d48c 100644
--- a/docs/guide-zh-CN/output-data-widgets.md
+++ b/docs/guide-zh-CN/output-data-widgets.md
@@ -776,4 +776,4 @@ yii gii/crud --controllerClass="backend\\controllers\PostController" \
 延伸阅读
 ---------------
 
-- [Rendering Data in Yii 2 with GridView and ListView](http://www.sitepoint.com/rendering-data-in-yii-2-with-gridview-and-listview/) by Arno Slatius.
+- [Rendering Data in Yii 2 with GridView and ListView](https://www.sitepoint.com/rendering-data-in-yii-2-with-gridview-and-listview/) by Arno Slatius.
diff --git a/docs/guide-zh-CN/output-formatting.md b/docs/guide-zh-CN/output-formatting.md
index d27841da950..725a511248d 100644
--- a/docs/guide-zh-CN/output-formatting.md
+++ b/docs/guide-zh-CN/output-formatting.md
@@ -75,7 +75,7 @@ return [
 - [[yii\i18n\Formatter::asDate()|date]]：这个变量将被格式化为日期 `January 01, 2014`。
 - [[yii\i18n\Formatter::asTime()|time]]：这个变量将被格式化为时间 `14:23`。
 - [[yii\i18n\Formatter::asDatetime()|datetime]]：这个变量将被格式化为日期+时间 `January 01, 2014 14:23`。
-- [[yii\i18n\Formatter::asTimestamp()|timestamp]]：这个变量将被格式化为 UNIX 时间戳 [unix timestamp](http://en.wikipedia.org/wiki/Unix_time)，例如 `1412609982`。
+- [[yii\i18n\Formatter::asTimestamp()|timestamp]]：这个变量将被格式化为 UNIX 时间戳 [unix timestamp](https://en.wikipedia.org/wiki/Unix_time)，例如 `1412609982`。
 - [[yii\i18n\Formatter::asRelativeTime()|relativeTime]]：这个变量将被格式化为人类可读的
   当前相对时间 `1 hour ago`。
 - [[yii\i18n\Formatter::asDuration()|duration]]：这个变量将被格式化为人类可读的时长 `1 day, 2 minutes`。
@@ -85,7 +85,7 @@ return [
 你可以对他们进行一些自己的配置，只需在配置文件里配置 [[yii\i18n\Formatter::dateFormat|dateFormat]], 
 [[yii\i18n\Formatter::timeFormat|timeFormat]], 和 [[yii\i18n\Formatter::datetimeFormat|datetimeFormat]] 即可。
 
-同时，你还可以配置它使用 [ICU syntax](http://userguide.icu-project.org/formatparse/datetime)，
+同时，你还可以配置它使用 [ICU syntax](https://unicode-org.github.io/icu/userguide/format_parse/datetime/)，
 同时你也可以配置它使用 [PHP date() 语法](https://www.php.net/manual/en/function.date.php)，只需要加上 `php:` 前缀即可。
 例如，
 
@@ -150,7 +150,7 @@ echo Yii::$app->formatter->asTime('2014-10-06 14:41:00 CEST'); // 14:41:00
 
 > 不同的政府和地区政策决定不同的时区，
 > 你在你的时区数据库中可能拿不到最新的数据。
-> 这时你可以戳 [ICU manual](http://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data) 来查看如何更新时区。
+> 这时你可以戳 [ICU manual](https://unicode-org.github.io/icu/userguide/datetime/timezone/#updating-the-time-zone-data) 来查看如何更新时区。
 > 同时，这篇也可以作为参考 [Setting up your PHP environment for internationalization](tutorial-i18n.md#setup-environment)。
 
 
diff --git a/docs/guide-zh-CN/rest-authentication.md b/docs/guide-zh-CN/rest-authentication.md
index 41bc24dc1ac..0df63c94606 100644
--- a/docs/guide-zh-CN/rest-authentication.md
+++ b/docs/guide-zh-CN/rest-authentication.md
@@ -10,15 +10,15 @@
 
 下面有几种方式来发送 access token：
 
-* [HTTP 基本认证](http://en.wikipedia.org/wiki/Basic_access_authentication)：access token
+* [HTTP 基本认证](https://en.wikipedia.org/wiki/Basic_access_authentication)：access token
   当作用户名发送，应用在 access token 可安全存在 API 使用端的场景，
   例如，API 使用端是运行在一台服务器上的程序。
 * 请求参数：access token 当作 API URL 请求参数发送，例如
   `https://example.com/users?access-token=xxxxxxxx`，
   由于大多数服务器都会保存请求参数到日志，
   这种方式应主要用于`JSONP` 请求，因为它不能使用HTTP头来发送access token 
-* [OAuth 2](http://oauth.net/2/)：使用者从认证服务器上获取基于 OAuth2 协议的 access token，
-  然后通过 [HTTP Bearer Tokens](http://tools.ietf.org/html/rfc6750) 
+* [OAuth 2](https://oauth.net/2/)：使用者从认证服务器上获取基于 OAuth2 协议的 access token，
+  然后通过 [HTTP Bearer Tokens](https://datatracker.ietf.org/doc/html/rfc6750) 
   发送到 API 服务器。
 
 Yii 支持上述的认证方式，你也可很方便的创建新的认证方式。
diff --git a/docs/guide-zh-CN/rest-controllers.md b/docs/guide-zh-CN/rest-controllers.md
index a1e04641d7f..d202a3a90fc 100644
--- a/docs/guide-zh-CN/rest-controllers.md
+++ b/docs/guide-zh-CN/rest-controllers.md
@@ -80,7 +80,7 @@ public function behaviors()
 将 [Cross-Origin Resource Sharing](structure-filters.md#cors) 过滤器添加到控制器比添加到上述其他过滤器中要复杂一些，
 因为必须在认证方法之前应用 CORS 过滤器，
 因此与其他过滤器相比，需要一些稍微不同的方式来实现。
-并且还要为 [CORS Preflight requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests) 禁用身份验证，
+并且还要为 [CORS Preflight requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests) 禁用身份验证，
 这样浏览器就可以安全地确定是否可以事先做出请求，
 而无需发送身份验证凭据。
 下面显示了将 [[yii\filters\Cors]] 过滤器添加到从 [[yii\rest\ActiveController]] 扩展的控制器所需的代码：
diff --git a/docs/guide-zh-CN/rest-quick-start.md b/docs/guide-zh-CN/rest-quick-start.md
index dd611b9e7e1..339ea9bab81 100644
--- a/docs/guide-zh-CN/rest-quick-start.md
+++ b/docs/guide-zh-CN/rest-quick-start.md
@@ -9,7 +9,7 @@ Yii 提供了一整套用来简化实现 RESTful 风格的 Web Service 服务的
 * 支持可选输出字段的定制对象序列化；
 * 适当的格式的数据采集和验证错误；
 * 集合分页，过滤和排序；
-* 支持 [HATEOAS](http://en.wikipedia.org/wiki/HATEOAS)；
+* 支持 [HATEOAS](https://en.wikipedia.org/wiki/HATEOAS)；
 * 有适当 HTTP 动词检查的高效的路由；
 * 内置 `OPTIONS` 和 `HEAD` 动词的支持；
 * 认证和授权；
diff --git a/docs/guide-zh-CN/rest-resources.md b/docs/guide-zh-CN/rest-resources.md
index 311cae806de..cf5cacd50d1 100644
--- a/docs/guide-zh-CN/rest-resources.md
+++ b/docs/guide-zh-CN/rest-resources.md
@@ -140,7 +140,7 @@ public function extraFields()
 
 ## 链接 <span id="links"></span>
 
-[HATEOAS](http://en.wikipedia.org/wiki/HATEOAS), 
+[HATEOAS](https://en.wikipedia.org/wiki/HATEOAS), 
 是 Hypermedia as the Engine of Application State的缩写,
 提升 RESTful API 应返回允许终端用户访问的资源操作的信息，
 HATEOAS 的目的是在API中返回包含相关链接信息的资源数据。 
diff --git a/docs/guide-zh-CN/rest-response-formatting.md b/docs/guide-zh-CN/rest-response-formatting.md
index e5a9876f037..0c79b3c2dd8 100644
--- a/docs/guide-zh-CN/rest-response-formatting.md
+++ b/docs/guide-zh-CN/rest-response-formatting.md
@@ -5,7 +5,7 @@
 来处理响应格式：
 
 1. 确定可能影响响应格式的各种因素，例如媒介类型，语言，版本，等等。
-   这个过程也被称为 [content negotiation](http://en.wikipedia.org/wiki/Content_negotiation)。
+   这个过程也被称为 [content negotiation](https://en.wikipedia.org/wiki/Content_negotiation)。
 2. 资源对象转换为数组，如在 [Resources](rest-resources.md) 部分中所描述的。
    通过 [[yii\rest\Serializer]] 来完成。
 3. 通过内容协商步骤将数组转换成字符串。
diff --git a/docs/guide-zh-CN/rest-versioning.md b/docs/guide-zh-CN/rest-versioning.md
index a2e3ce631a1..d98b4bc24d1 100644
--- a/docs/guide-zh-CN/rest-versioning.md
+++ b/docs/guide-zh-CN/rest-versioning.md
@@ -5,11 +5,11 @@
 代码，APIs 是为了给超出控制的客户端使用。因此，
 应该尽可能的保持向后兼容性，如果有一些变化不能向后兼容，你应该在新版本的 API 中采用它同时增加版本号。现有客户端可以继续使用旧版本的 API；新的或升级的客户端可以在新的 API 版本中获得新的功能。
 
-> Tip: 可以参考 [Semantic Versioning](http://semver.org/) 
+> Tip: 可以参考 [Semantic Versioning](https://semver.org/) 
 来获取更多关于设计 API 版本号的信息
 
 关于如何实现 API 版本，一个常见的做法是在 API 的 URL 中嵌入版本号。例如，
-`http://example.com/v1/users` 代表 `/users` 版本 1 的 API。
+`https://example.com/v1/users` 代表 `/users` 版本 1 的 API。
 
 另一种 API 版本化的方法，
 最近用的非常多的是把版本号放入 HTTP 请求头，通常是通过 `Accept` 头，如下：
@@ -90,8 +90,8 @@ return [
 ];
 ```
 
-因此，`http://example.com/v1/users` 将返回版本 1 的用户列表，
-而 `http://example.com/v2/users` 将返回版本 2 的用户。
+因此，`https://example.com/v1/users` 将返回版本 1 的用户列表，
+而 `https://example.com/v2/users` 将返回版本 2 的用户。
 
 使用模块， 将不同版本的代码隔离。 通过共用基类和其他类
 跨模块重用代码也是有可能的。
diff --git a/docs/guide-zh-CN/runtime-requests.md b/docs/guide-zh-CN/runtime-requests.md
index 2be3998abf4..71ae2ce4707 100644
--- a/docs/guide-zh-CN/runtime-requests.md
+++ b/docs/guide-zh-CN/runtime-requests.md
@@ -76,13 +76,13 @@ if ($request->isPut)  { /* 请求方法是 PUT */ }
 
 `request` 组件提供了许多方式来检测当前请求的 URL。
 
-假设被请求的 URL 是 `http://example.com/admin/index.php/product?id=100`，
+假设被请求的 URL 是 `https://example.com/admin/index.php/product?id=100`，
 你可以像下面描述的那样获取 URL 的各个部分：
 
 * [[yii\web\Request::url|url]]：返回 `/admin/index.php/product?id=100`, 此 URL 不包括主机信息部分。
-* [[yii\web\Request::absoluteUrl|absoluteUrl]]：返回 `http://example.com/admin/index.php/product?id=100`,
+* [[yii\web\Request::absoluteUrl|absoluteUrl]]：返回 `https://example.com/admin/index.php/product?id=100`,
   包含host infode的整个URL。
-* [[yii\web\Request::hostInfo|hostInfo]]：返回 `http://example.com`, 只有主机信息部分。
+* [[yii\web\Request::hostInfo|hostInfo]]：返回 `https://example.com`, 只有主机信息部分。
 * [[yii\web\Request::pathInfo|pathInfo]]：返回 `/product`，
   这个是入口脚本之后，问号之前（查询字符串）的部分。
 * [[yii\web\Request::queryString|queryString]]：返回 `id=100`，问号之后的部分。
diff --git a/docs/guide-zh-CN/runtime-responses.md b/docs/guide-zh-CN/runtime-responses.md
index 0071079615b..ca0b2c225c8 100644
--- a/docs/guide-zh-CN/runtime-responses.md
+++ b/docs/guide-zh-CN/runtime-responses.md
@@ -169,7 +169,7 @@ Yii提供对它提供了特别的支持。
 ```php
 public function actionOld()
 {
-    return $this->redirect('http://example.com/new', 301);
+    return $this->redirect('https://example.com/new', 301);
 }
 ```
 
@@ -180,7 +180,7 @@ public function actionOld()
 [[yii\web\Response::send()]] 方法来确保没有其他内容追加到响应中。
 
 ```php
-\Yii::$app->response->redirect('http://example.com/new', 301)->send();
+\Yii::$app->response->redirect('https://example.com/new', 301)->send();
 ```
 
 > Info: [[yii\web\Response::redirect()]] 方法默认会设置响应状态码为 302，该状态码会告诉浏览器请求的资源
@@ -230,11 +230,11 @@ Web 应用可在服务器发送文件前结束，为使用该功能，
 可调用 [[yii\web\Response::xSendFile()]]，
 如下简要列出一些常用 Web 服务器如何启用 `X-Sendfile` 功能：
 
-- Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
-- Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Apache: [X-Sendfile](https://tn123.org/mod_xsendfile)
+- Lighttpd v1.4: [X-LIGHTTPD-send-file](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Lighttpd v1.5: [X-Sendfile](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
-- Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
+- Cherokee: [X-Sendfile and X-Accel-Redirect](https://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
 ## 发送响应 <span id="sending-response"></span>
diff --git a/docs/guide-zh-CN/runtime-routing.md b/docs/guide-zh-CN/runtime-routing.md
index f1f2d1a2c9b..b99597e1cba 100644
--- a/docs/guide-zh-CN/runtime-routing.md
+++ b/docs/guide-zh-CN/runtime-routing.md
@@ -156,7 +156,7 @@ echo Url::to(['post/view', 'id' => 100]);
 // 创建一个带锚定的URL：/index.php?r=post%2Fview&id=100#content
 echo Url::to(['post/view', 'id' => 100, '#' => 'content']);
 
-// 创建一个绝对路径URL：http://www.example.com/index.php?r=post%2Findex
+// 创建一个绝对路径URL：https://www.example.com/index.php?r=post%2Findex
 echo Url::to(['post/index'], true);
 
 // 创建一个带https协议的绝对路径URL：https://www.example.com/index.php?r=post%2Findex
@@ -214,11 +214,11 @@ use yii\helpers\Url;
 // 当前请求URL：/index.php?r=admin%2Fpost%2Findex
 echo Url::to();
 
-// 设定了别名的URL：http://example.com
-Yii::setAlias('@example', 'http://example.com/');
+// 设定了别名的URL：https://example.com
+Yii::setAlias('@example', 'https://example.com/');
 echo Url::to('@example');
 
-// 绝对URL：http://example.com/images/logo.gif
+// 绝对URL：https://example.com/images/logo.gif
 echo Url::to('/images/logo.gif', true);
 ```
 
@@ -442,18 +442,18 @@ echo Url::previous();
 ### 带服务名称的规则 <span id="rules-with-server-names"></span>
 
 可以在URL规则中设置Web服务的名称，如果你需要使你的应用程序在不同的Web服务名称下表现不同的话。
-例如，下面的规则将URL`http://admin.example.com/login`解析成路由`admin/user/login`，
-URL`http://www.example.com/login`解析成路由`site/login`。
+例如，下面的规则将URL`https://admin.example.com/login`解析成路由`admin/user/login`，
+URL`https://www.example.com/login`解析成路由`site/login`。
 
 ```php
 [
-    'http://admin.example.com/login' => 'admin/user/login',
-    'http://www.example.com/login' => 'site/login',
+    'https://admin.example.com/login' => 'admin/user/login',
+    'https://www.example.com/login' => 'site/login',
 ]
 ```
 
 你还可以在服务名称中嵌入参数用来动态的提取服务名称。例如，下面的规则
-将URL`http://en.example.com/posts`解析成路由`post/index`且参数`language=en`。
+将URL`https://en.example.com/posts`解析成路由`post/index`且参数`language=en`。
 
 ```php
 [
@@ -464,8 +464,8 @@ URL`http://www.example.com/login`解析成路由`site/login`。
 从版本 2.0.11 开始，你还可以使用不带协议类型的模式来同时匹配 `http` 和 `https`。
 规则语法和上面相比只是忽略掉 `http:` 部分，例如：`'//www.example.com/login' => 'site/login'`。
 
-> Note: 带服务名称的规则**不应该**包含任何子目录。例如，如果程序入口脚本在 `http://www.example.com/sandbox/blog/index.php`，
-  应该使用 `http://www.example.com/posts` 代替 `http://www.example.com/sandbox/blog/posts`。
+> Note: 带服务名称的规则**不应该**包含任何子目录。例如，如果程序入口脚本在 `https://www.example.com/sandbox/blog/index.php`，
+  应该使用 `https://www.example.com/posts` 代替 `https://www.example.com/sandbox/blog/posts`。
   这样才可以将你的应用部署到任何目录而不需要更改 URL 规则。Yii 将会自动的检测应用程序所在的根目录。
 
 
@@ -631,8 +631,8 @@ class CarUrlRule extends BaseObject implements UrlRuleInterface
 ## URL规范化 <span id="url-normalization"></span>
 
 从 2.0.10 版开始[[yii\web\UrlManager|Url管理器]]可以配置用[[yii\web\UrlNormalizer|URL规范器]]来处理
-相同URL的不同格式，例如是否带结束斜线。因为技术上来说 `http://example.com/path`
-和 `http://example.com/path/` 是完全不同的 URL，两个地址返回相同的内容会导致SEO排名降低。
+相同URL的不同格式，例如是否带结束斜线。因为技术上来说 `https://example.com/path`
+和 `https://example.com/path/` 是完全不同的 URL，两个地址返回相同的内容会导致SEO排名降低。
 默认情况下 URL 规范器会合并连续的斜线，根据配置决定是否添加或删除结尾斜线，
 并且会使用[永久重定向](https://en.wikipedia.org/wiki/HTTP_301)将地址重新跳转到规范化后的URL。
 URL规范器可以针对URL管理器全局配置，也可以针对规则单独配置 - 默认每个规则都使用URL管理器中的规范器。
diff --git a/docs/guide-zh-CN/runtime-sessions-cookies.md b/docs/guide-zh-CN/runtime-sessions-cookies.md
index 310afbb2ff9..b825260a24e 100644
--- a/docs/guide-zh-CN/runtime-sessions-cookies.md
+++ b/docs/guide-zh-CN/runtime-sessions-cookies.md
@@ -131,7 +131,7 @@ Yii 提供以下 session 类实现不同的 session 存储方式：
 
 * [[yii\web\DbSession]]：存储 session 数据在数据表中
 * [[yii\web\CacheSession]]：存储 session 数据到缓存中，缓存和配置中的[缓存组件](caching-data.md#cache-components)相关
-* [[yii\redis\Session]]：存储 session 数据到以 [redis](http://redis.io/) 作为存储媒介中
+* [[yii\redis\Session]]：存储 session 数据到以 [redis](https://redis.io/) 作为存储媒介中
 * [[yii\mongodb\Session]]：存储 session 数据到 [MongoDB](https://www.mongodb.com/)。
 
 所有这些 session 类支持相同的 API 方法集，因此，
diff --git a/docs/guide-zh-CN/security-authorization.md b/docs/guide-zh-CN/security-authorization.md
index 3fa0e302826..f86b2d58755 100644
--- a/docs/guide-zh-CN/security-authorization.md
+++ b/docs/guide-zh-CN/security-authorization.md
@@ -157,7 +157,7 @@ class SiteController extends Controller
 
 基于角色的存取控制 （RBAC） 提供了一个简单而强大的集中式存取控制机制。
 详细的关于 RBAC 和诸多传统的存取控制方案对比的详情，请参阅
-[Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control)。
+[Wikipedia](https://en.wikipedia.org/wiki/Role-based_access_control)。
 
 Yii 实现了通用的分层的 RBAC，遵循的模型是 [NIST RBAC model](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf).
 它通过 [[yii\rbac\ManagerInterface|authManager]] [application component](structure-application-components.md) 提供 RBAC 功能。
diff --git a/docs/guide-zh-CN/security-best-practices.md b/docs/guide-zh-CN/security-best-practices.md
index 3864ef9efe2..365d351216e 100644
--- a/docs/guide-zh-CN/security-best-practices.md
+++ b/docs/guide-zh-CN/security-best-practices.md
@@ -161,14 +161,14 @@ CSRF 是跨站请求伪造的缩写。这个攻击思想源自许多应用程序
 而事实并非如此。
 
 例如，网站 `an.example.com` 有一个 `/logout` 网址，当使用简单的 GET 请求访问时, 记录用户退出。
-只要用户的请求一切正常，但是有一天坏人们故意在用户经常访问的论坛上放上 `<img src="http://an.example.com/logout">`。
+只要用户的请求一切正常，但是有一天坏人们故意在用户经常访问的论坛上放上 `<img src="https://an.example.com/logout">`。
 浏览器在请求图像或请求页面之间没有任何区别，
 所以当用户打开一个带有这样一个被操作过的 `<img>` 标签的页面时，
 浏览器将 GET 请求发送到该 URL，用户将从 `an.example.com` 注销。
 
 这是 CSRF 攻击如何运作的基本思路。可以说用户退出并不是一件严重的事情，
 然而这仅仅是一个例子，使用这种方法可以做更多的事情，例如触发付款或者是改变数据。
-想象一下如果某个网站有一个这样的 `http://an.example.com/purse/transfer?to=anotherUser&amount=2000` 网址。 
+想象一下如果某个网站有一个这样的 `https://an.example.com/purse/transfer?to=anotherUser&amount=2000` 网址。 
 使用 GET 请求访问它会导致从授权用户账户转账 $2000 给 `anotherUser`。
 我们知道，浏览器将始终发送 GET 请求来加载图像，
 所以我们可以修改代码以仅接受该 URL 上的 POST 请求。
@@ -321,7 +321,7 @@ Yii 提供依赖 cookie 和/或 PHP 会话的功能。如果您的连接受到
 
 有关于服务器配置的更多信息，请参阅您的 web 服务器的文档：
 
-- Apache 2：<http://httpd.apache.org/docs/trunk/vhosts/examples.html#defaultallports>
+- Apache 2：<https://httpd.apache.org/docs/trunk/vhosts/examples.html#defaultallports>
 - Nginx：<https://www.nginx.com/resources/wiki/start/topics/examples/server_blocks/>
 
 如果您无权访问服务器配置，您可以在应用程序级别设置 [[yii\filters\HostControl]] 过滤器，
diff --git a/docs/guide-zh-CN/start-databases.md b/docs/guide-zh-CN/start-databases.md
index 435fd8494d0..e9e6e18620a 100644
--- a/docs/guide-zh-CN/start-databases.md
+++ b/docs/guide-zh-CN/start-databases.md
@@ -228,7 +228,7 @@ use yii\widgets\LinkPager;
 浏览器访问下面的 URL 看看能否工作：
 
 ```
-http://hostname/index.php?r=country/index
+https://hostname/index.php?r=country/index
 ```
 
 ![国家列表](images/start-country-list.png)
@@ -238,7 +238,7 @@ http://hostname/index.php?r=country/index
 也就是第二页记录。如果观察仔细点你还会看到浏览器的 URL 变成了：
 
 ```
-http://hostname/index.php?r=country/index&page=2
+https://hostname/index.php?r=country/index&page=2
 ```
 
 在这个场景里，[[yii\data\Pagination|Pagination]] 提供了为数据结果集分页的所有功能：
diff --git a/docs/guide-zh-CN/start-forms.md b/docs/guide-zh-CN/start-forms.md
index ec988992286..ca00cda618d 100644
--- a/docs/guide-zh-CN/start-forms.md
+++ b/docs/guide-zh-CN/start-forms.md
@@ -130,7 +130,7 @@ class SiteController extends Controller
 
 > Note: 在这个简单例子里我们只是呈现了有效数据的确认页面。
   实践中你应该考虑使用 [[yii\web\Controller::refresh()|refresh()]] 
-  或 [[yii\web\Controller::redirect()|redirect()]] 去避免[表单重复提交问题](http://en.wikipedia.org/wiki/Post/Redirect/Get)。
+  或 [[yii\web\Controller::redirect()|redirect()]] 去避免[表单重复提交问题](https://en.wikipedia.org/wiki/Post/Redirect/Get)。
 
 
 创建视图 <span id="creating-views"></span>
@@ -187,7 +187,7 @@ use yii\widgets\ActiveForm;
 用浏览器访问下面的 URL 看它能否工作：
 
 ```
-http://hostname/index.php?r=site/entry
+https://hostname/index.php?r=site/entry
 ```
 
 你会看到一个包含两个输入框的表单的页面。每个输入框的前面都有一个标签指明应该输入的数据类型。
diff --git a/docs/guide-zh-CN/start-gii.md b/docs/guide-zh-CN/start-gii.md
index 1412baaf56f..a3db480178e 100644
--- a/docs/guide-zh-CN/start-gii.md
+++ b/docs/guide-zh-CN/start-gii.md
@@ -42,7 +42,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 鉴于这行代码的定义，应用处于开发模式下，按照上面的配置会打开 Gii 模块。你可以直接通过 URL 访问 Gii：
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 > Info: 如果你通过本机以外的机器访问 Gii，请求会被出于安全原因拒绝。
@@ -107,7 +107,7 @@ CRUD 代表增，查，改，删操作，这是绝大多数 Web 站点常用的
 用浏览器访问下面的 URL 查看生成代码的运行：
 
 ```
-http://hostname/index.php?r=country/index
+https://hostname/index.php?r=country/index
 ```
 
 可以看到一个栅格显示着从数据表中读取的国家数据。支持在列头对数据进行排序，
diff --git a/docs/guide-zh-CN/start-hello.md b/docs/guide-zh-CN/start-hello.md
index 0f576ca347d..d0eaf13f541 100644
--- a/docs/guide-zh-CN/start-hello.md
+++ b/docs/guide-zh-CN/start-hello.md
@@ -89,7 +89,7 @@ use yii\helpers\Html;
 注意以上代码，`message` 参数在输出之前被 
 [[yii\helpers\Html::encode()|HTML-encoded]] 方法处理过。
 这很有必要，当参数来自于最终用户时，参数中可能隐含的恶意 JavaScript 代码会导致
-[跨站脚本（XSS）攻击](http://en.wikipedia.org/wiki/Cross-site_scripting)。
+[跨站脚本（XSS）攻击](https://en.wikipedia.org/wiki/Cross-site_scripting)。
 
 当然了，你大概会在 `say` 视图里放入更多内容。内容可以由 HTML 标签，纯文本，
 甚至 PHP 语句组成。实际上 `say` 视图就是一个由 [[yii\web\Controller::render()|render()]] 执行的 PHP 脚本。
@@ -102,7 +102,7 @@ use yii\helpers\Html;
 创建完动作和视图后，你就可以通过下面的 URL 访问新页面了：
 
 ```
-http://hostname/index.php?r=site/say&message=Hello+World
+https://hostname/index.php?r=site/say&message=Hello+World
 ```
 
 ![Hello World](images/start-hello-world.png)
diff --git a/docs/guide-zh-CN/start-installation.md b/docs/guide-zh-CN/start-installation.md
index c505cfdf3a3..ddec50ab4d2 100644
--- a/docs/guide-zh-CN/start-installation.md
+++ b/docs/guide-zh-CN/start-installation.md
@@ -1,7 +1,7 @@
 安装 Yii
 ==============
 
-你可以通过两种方式安装 Yii：使用 [Composer](http://getcomposer.org/) 或下载一个归档文件。
+你可以通过两种方式安装 Yii：使用 [Composer](https://getcomposer.org/) 或下载一个归档文件。
 推荐使用前者，这样只需执行一条简单的命令就可以安装新的[扩展](structure-extensions.md)或更新 Yii 了。
 
 标准安装完Yii之后，框架和一个项目模板两者都下载并安装好了。
@@ -114,7 +114,7 @@ composer create-project --prefer-dist yiisoft/yii2-app-basic basic
 安装 Assets <span id="installing-assets"></span>
 -----------
 
-Yii依靠 [Bower](http://bower.io/) 和/或 [NPM](https://www.npmjs.com/) 软件包来安装 asset（CSS 和 JavaScript）库。
+Yii依靠 [Bower](https://bower.io/) 和/或 [NPM](https://www.npmjs.com/) 软件包来安装 asset（CSS 和 JavaScript）库。
 它使用Composer来获取这些库，允许 PHP 和 CSS/JavaScript 包版本同时解析。
 这可以通过使用 [asset-packagist.org](https://asset-packagist.org) 或 [composer asset plugin](https://github.com/fxpio/composer-asset-plugin) 来实现。
 有关更多详细信息，请参阅 [Assets 文档](structure-assets.md)。
@@ -184,13 +184,13 @@ http://localhost:8080/
   本小节可以跳过。
 
 通过上述方法安装的应用程序在 Windows，Max OS X，
-Linux 中的 [Apache HTTP 服务器](http://httpd.apache.org/)
-或 [Nginx HTTP 服务器](http://nginx.org/)且PHP版本为5.4或更高都可以直接运行。
-Yii 2.0 也兼容 Facebook 公司的 [HHVM](http://hhvm.com/)，
+Linux 中的 [Apache HTTP 服务器](https://httpd.apache.org/)
+或 [Nginx HTTP 服务器](https://nginx.org/)且PHP版本为5.4或更高都可以直接运行。
+Yii 2.0 也兼容 Facebook 公司的 [HHVM](https://hhvm.com/)，
 由于 HHVM 和标准 PHP 在边界案例上有些地方略有不同，在使用 HHVM 时需稍作处理。
 
 在生产环境的服务器上，你可能会想配置服务器让应用程序可以通过
-URL `http://www.example.com/index.php` 访问而不是 `http://www.example.com/basic/web/index.php`。
+URL `https://www.example.com/index.php` 访问而不是 `https://www.example.com/basic/web/index.php`。
 这种配置需要将 Web 服务器的文档根目录(document root)指向 `basic/web` 目录。
 可能你还会想隐藏掉 URL 中的 `index.php`，具体细节在 [URL 解析和生成](runtime-url-handling.md)一章中有介绍，
 你将学到如何配置 Apache 或 Nginx 服务器实现这些目标。
@@ -234,7 +234,7 @@ DocumentRoot "path/to/basic/web"
 
 ### 推荐使用的 Nginx 配置 <span id="recommended-nginx-configuration"></span>
 
-为了使用 [Nginx](http://wiki.nginx.org/)，你应该已经将 PHP 安装为 [FPM SAPI](https://www.php.net/install.fpm) 了。
+为了使用 [Nginx](https://www.nginx.com/resources/wiki/)，你应该已经将 PHP 安装为 [FPM SAPI](https://www.php.net/install.fpm) 了。
 你可以使用如下 Nginx 配置，将 `path/to/basic/web` 替换为实际的 `basic/web` 目录，
 `mysite.local` 替换为实际的主机名以提供服务。
 
diff --git a/docs/guide-zh-CN/start-looking-ahead.md b/docs/guide-zh-CN/start-looking-ahead.md
index f118afc5fca..c8b1b1550b1 100644
--- a/docs/guide-zh-CN/start-looking-ahead.md
+++ b/docs/guide-zh-CN/start-looking-ahead.md
@@ -33,4 +33,4 @@
     - Facebook：<https://www.facebook.com/groups/yiitalk/>
     - Twitter：<https://twitter.com/yiiframework>
     - LinkedIn：<https://www.linkedin.com/groups/yii-framework-1483367>
-    - Stackoverflow：<http://stackoverflow.com/questions/tagged/yii2>
+    - Stackoverflow：<https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide-zh-CN/start-workflow.md b/docs/guide-zh-CN/start-workflow.md
index 2ba8d445c24..4c949212faa 100644
--- a/docs/guide-zh-CN/start-workflow.md
+++ b/docs/guide-zh-CN/start-workflow.md
@@ -2,13 +2,13 @@
 ====================
 
 安装 Yii 后，就有了一个可运行的 Yii 应用，
-根据配置的不同，可以通过 `http://hostname/basic/web/index.php` 或 `http://hostname/index.php` 访问。
+根据配置的不同，可以通过 `https://hostname/basic/web/index.php` 或 `https://hostname/index.php` 访问。
 本章节将介绍应用的内建功能，如何组织代码，
 以及一般情况下应用如何处理请求。
 
 > Info: 为简单起见，在整个“入门”板块都假定你已经把
   `basic/web` 设为 Web 服务器根目录并配置完毕，
-  你访问应用的地址会是 `http://hostname/index.php` 或类似的。
+  你访问应用的地址会是 `https://hostname/index.php` 或类似的。
   请按需调整 URL。
 
 注意项目模板和框架完全不同，安装完之后全都归你了。你可以根据你的需要自由的添加或删除代码和
@@ -20,7 +20,7 @@
 
 一个安装完的基本应用包含四页：
 
-* 主页，当你访问 `http://hostname/index.php` 时显示,
+* 主页，当你访问 `https://hostname/index.php` 时显示,
 * “About”页，
 * “Contact”页， 显示一个联系表单，允许终端用户通过 Email 联系你，
 * “Login”页， 显示一个登录表单，用来验证终端用户。试着用“admin/admin”登录，
@@ -42,7 +42,7 @@
 
 应用中最重要的目录和文件（假设应用根目录是 `basic`）：
 
-```js
+```
 basic/                  应用根目录
     composer.json       Composer 配置文件, 描述包信息
     config/             包含应用配置及其它配置
@@ -63,7 +63,7 @@ basic/                  应用根目录
 一般来说，应用中的文件可被分为两类：在 `basic/web` 下的和在其它目录下的。
 前者可以直接通过 HTTP 访问（例如浏览器），后者不能也不应该被直接访问。
 
-Yii 实现了[模型-视图-控制器 (MVC)](http://wikipedia.org/wiki/Model-view-controller)设计模式，这点在上述目录结构中也得以体现。
+Yii 实现了[模型-视图-控制器 (MVC)](https://wikipedia.org/wiki/Model-view-controller)设计模式，这点在上述目录结构中也得以体现。
 `models` 目录包含了所有[模型类](structure-models.md)，
 `views` 目录包含了所有[视图脚本](structure-views.md)，
 `controllers` 目录包含了所有[控制器类](structure-controllers.md)。
diff --git a/docs/guide-zh-CN/structure-applications.md b/docs/guide-zh-CN/structure-applications.md
index 3fa407b4535..4bd44fcabb0 100644
--- a/docs/guide-zh-CN/structure-applications.md
+++ b/docs/guide-zh-CN/structure-applications.md
@@ -275,7 +275,7 @@ Yii 遵循一个默认的 [规则](#controllerNamespace) 指定控制器 ID 到
 例如 [[yii\jui\DatePicker]] 小部件会根据该属性
 展示对应语言的日历以及日期格式。
 
-推荐遵循 [IETF language tag](http://en.wikipedia.org/wiki/IETF_language_tag) 来设置语言，
+推荐遵循 [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag) 来设置语言，
 例如 `en` 代表英文， `en-US` 代表英文(美国).
 
 该属性的更多信息可参考 [国际化](tutorial-i18n.md) 一节.
@@ -347,7 +347,7 @@ $width = \Yii::$app->params['thumbnail.size'][0];
 如果应用不是英文请修改该属性。
 
 和 [语言](#language) 属性类似，配置该属性需遵循 
-[IETF language tag](http://en.wikipedia.org/wiki/IETF_language_tag).
+[IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag).
 例如 `en` 代表英文， `en-US` 代表英文(美国)。
 
 该属性的更多信息可参考 [国际化](tutorial-i18n.md) 一节.
diff --git a/docs/guide-zh-CN/structure-assets.md b/docs/guide-zh-CN/structure-assets.md
index e7bf7e091be..21f025574ab 100644
--- a/docs/guide-zh-CN/structure-assets.md
+++ b/docs/guide-zh-CN/structure-assets.md
@@ -79,7 +79,7 @@ class AppAsset extends AssetBundle
     [[yii\web\AssetManager::basePath]]，文件实际的 URL
     在该路径前加上 [[yii\web\AssetManager::baseUrl]]。
   - 绝对 URL 地址表示为外部 JavaScript 文件，如
-    `http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` 或 
+    `https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` 或 
     `//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js`。
 * [[yii\web\AssetBundle::depends|depends]]：一个列出该资源包依赖的
   其他资源包（后两节有详细介绍）。
@@ -207,7 +207,7 @@ class FontAwesomeAsset extends AssetBundle
 
 ### Bower 和 NPM 资源安装 <span id="bower-npm-assets"></span>
 
-大多数 JavaScript/CSS 包使用 [Bower](http://bower.io/) 或 [NPM](https://www.npmjs.com/) 来管理。
+大多数 JavaScript/CSS 包使用 [Bower](https://bower.io/) 或 [NPM](https://www.npmjs.com/) 来管理。
 在 PHP 中，我们用 Composer 来管理 PHP 依赖。像 PHP 包一样，
 也可以使用 `composer.json` 管理 Bower 和 NPM 包。
 
@@ -459,10 +459,10 @@ return [
         'assetManager' => [
             'bundles' => [
                 'app\assets\LanguageAssetBundle' => [
-                    'baseUrl' => 'http://some.cdn.com/files/i18n/en' // 这行代码不起作用！
+                    'baseUrl' => 'https://some.cdn.com/files/i18n/en' // 这行代码不起作用！
                 ],
                 'app\assets\LargeFileAssetBundle' => [
-                    'baseUrl' => 'http://some.cdn.com/files/large-files' // 这行代码不起作用！
+                    'baseUrl' => 'https://some.cdn.com/files/large-files' // 这行代码不起作用！
                 ],
             ],
         ],
@@ -577,8 +577,8 @@ Yii框架定义许多资源包，如下资源包是最常用，
 ## 资源转换 <span id="asset-conversion"></span>
 
 除了直接编写 CSS 或 JavaScript 代码，开发人员经常使用扩展语法来编写，再使用特殊的工具将它们转换成 CSS/JavaScript。
-例如，对于 CSS 代码可使用 [LESS](http://lesscss.org/) 或 [SCSS](http://sass-lang.com/)，
-对于 JavaScript 可使用 [TypeScript](http://www.typescriptlang.org/)。
+例如，对于 CSS 代码可使用 [LESS](https://lesscss.org/) 或 [SCSS](https://sass-lang.com/)，
+对于 JavaScript 可使用 [TypeScript](https://www.typescriptlang.org/)。
 
 可将使用扩展语法的资源文件列到资源包的 [[yii\web\AssetBundle::css|css]] 和 [[yii\web\AssetBundle::js|js]] 中，如下所示：
 
@@ -642,7 +642,7 @@ return [
 命令中的标记 `{from}` 和 `{to}` 会分别被源资源文件路径和目标资源文件路径替代。
 
 > Info: 除了以上方式，也有其他的方式来处理扩展语法资源，
-  例如，可使用编译工具如[grunt](http://gruntjs.com/)
+  例如，可使用编译工具如[grunt](https://gruntjs.com/)
   来监控并自动转换扩展语法资源，此时，
   应使用资源包中编译后的CSS/JavaScript文件而不是原始文件。
 
@@ -838,7 +838,7 @@ yii asset assets.php config/assets-prod.php
 
 
 > Info: 使用 `asset` 命令并不是合并和压缩资源的唯一方法。
-  你也可以使用能够自动运行设定任务的项目构建工具 [grunt](http://gruntjs.com/) 来实现同样的目的。
+  你也可以使用能够自动运行设定任务的项目构建工具 [grunt](https://gruntjs.com/) 来实现同样的目的。
 
 
 ### 资源包分组 <span id="grouping-asset-bundles"></span>
diff --git a/docs/guide-zh-CN/structure-controllers.md b/docs/guide-zh-CN/structure-controllers.md
index 93728320d80..634ef142472 100644
--- a/docs/guide-zh-CN/structure-controllers.md
+++ b/docs/guide-zh-CN/structure-controllers.md
@@ -1,7 +1,7 @@
 控制器
 ===========
 
-控制器是 [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) 模式中的一部分，
+控制器是 [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) 模式中的一部分，
 是继承[[yii\base\Controller]]类的对象，负责处理请求和生成响应。
 具体来说，控制器从[应用主体](structure-applications.md)
 接管控制后会分析请求数据并传送到[模型](structure-models.md)，
@@ -83,7 +83,7 @@ ControllerID/ActionID
 ModuleID/ControllerID/ActionID
 ```
 
-如果用户的请求地址为 `http://hostname/index.php?r=site/index`, 
+如果用户的请求地址为 `https://hostname/index.php?r=site/index`, 
 会执行`site` 控制器的`index` 操作。
 更多关于处理路由的详情请参阅 [路由](runtime-routing.md) 一节。
 
@@ -179,7 +179,7 @@ class SiteController extends Controller
 每个应用有一个由[[yii\base\Application::defaultRoute]]属性指定的默认控制器；
 当请求没有指定 [路由](#ids-routes)，该属性值作为路由使用。
 对于[[yii\web\Application|Web applications]]网页应用，它的值为 `'site'`，对于 [[yii\console\Application|console applications]]
-控制台应用，它的值为 `help`，所以URL为 `http://hostname/index.php` 表示由 `site` 控制器来处理。
+控制台应用，它的值为 `help`，所以URL为 `https://hostname/index.php` 表示由 `site` 控制器来处理。
 
 可以在 [应用配置](structure-applications.md#application-configurations) 中修改默认控制器，如下所示：
 
@@ -323,8 +323,8 @@ class HelloWorldAction extends Action
 ```php
 public function actionForward()
 {
-    // 用户浏览器跳转到 http://example.com
-    return $this->redirect('http://example.com');
+    // 用户浏览器跳转到 https://example.com
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -354,13 +354,13 @@ class PostController extends Controller
 
 动作参数会被不同的参数填入，如下所示：
 
-* `http://hostname/index.php?r=post/view&id=123`: `$id` 会填入`'123'`，
+* `https://hostname/index.php?r=post/view&id=123`: `$id` 会填入`'123'`，
   `$version` 仍为 null 空因为没有`version`请求参数;
-* `http://hostname/index.php?r=post/view&id=123&version=2`: 
+* `https://hostname/index.php?r=post/view&id=123&version=2`: 
   $id` 和 `$version` 分别填入 `'123'` 和 `'2'`；
-* `http://hostname/index.php?r=post/view`: 会抛出[[yii\web\BadRequestHttpException]] 异常
+* `https://hostname/index.php?r=post/view`: 会抛出[[yii\web\BadRequestHttpException]] 异常
   因为请求没有提供参数给必须赋值参数`$id`；
-* `http://hostname/index.php?r=post/view&id[]=123`: 会抛出[[yii\web\BadRequestHttpException]] 异常
+* `https://hostname/index.php?r=post/view&id[]=123`: 会抛出[[yii\web\BadRequestHttpException]] 异常
   因为 `$id` 参数收到数组值 `['123']` 而不是字符串.
 
 如果你想要一个动作参数来接受数组值，你应该使用 `array` 来提示它，如下所示：
@@ -372,8 +372,8 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-现在如果请求为 `http://hostname/index.php?r=post/view&id[]=123`, 参数 `$id` 会使用数组值 `['123']`，
-如果请求为 `http://hostname/index.php?r=post/view&id=123`，
+现在如果请求为 `https://hostname/index.php?r=post/view&id[]=123`, 参数 `$id` 会使用数组值 `['123']`，
+如果请求为 `https://hostname/index.php?r=post/view&id=123`，
 参数 `$id` 会获取相同数组值，因为无类型的 `'123'` 会自动转成数组。
 
 上述例子主要描述网页应用的操作参数，对于控制台应用，
diff --git a/docs/guide-zh-CN/structure-entry-scripts.md b/docs/guide-zh-CN/structure-entry-scripts.md
index d89c98809c4..992a81e3452 100644
--- a/docs/guide-zh-CN/structure-entry-scripts.md
+++ b/docs/guide-zh-CN/structure-entry-scripts.md
@@ -16,7 +16,7 @@ Web 应用的入口脚本必须放在终端用户能够访问的目录下，
 入口脚本主要完成以下工作：
 
 * 定义全局常量；
-* 注册 [Composer 自动加载器](http://getcomposer.org/doc/01-basic-usage.md#autoloading)；
+* 注册 [Composer 自动加载器](https://getcomposer.org/doc/01-basic-usage.md#autoloading)；
 * 包含 [[Yii]] 类文件；
 * 加载应用配置；
 * 创建一个[应用](structure-applications.md)实例并配置;
diff --git a/docs/guide-zh-CN/structure-extensions.md b/docs/guide-zh-CN/structure-extensions.md
index 42b725c902c..aefc711f4de 100644
--- a/docs/guide-zh-CN/structure-extensions.md
+++ b/docs/guide-zh-CN/structure-extensions.md
@@ -75,7 +75,7 @@ Image::thumbnail('@webroot/img/test-image.jpg', 120, 120)
 2. 如果有，则安装扩展提供的自动加载器。
 3. 按指导说明下载和安装所有依赖的扩展。
 
-如果扩展没有提供类的自动加载器，但也遵循了 [PSR-4 standard](http://www.php-fig.org/psr/psr-4/) 
+如果扩展没有提供类的自动加载器，但也遵循了 [PSR-4 standard](https://www.php-fig.org/psr/psr-4/) 
 标准，那么你可以使用 Yii 提供的类自动加载器来加载扩展类。
 你需要做的仅仅是为扩展的根目录声明一个 [root alias](concept-aliases.md#defining-aliases)。
 例如，假设在 `vendor/mycompany/myext` 目录中安装了一个扩展，并且扩展类的命名空间为 `myext` ，
@@ -184,7 +184,7 @@ Image::thumbnail('@webroot/img/test-image.jpg', 120, 120)
 确定你也为每一个依赖的包列出了适当的版本约束条件 (比如 `1.*`, `@stable`) 。
 当你发布一个稳定版本时，你所依赖的包也应当使用稳定版本。
 
-大多数 JavaScript/CSS 包是用 [Bower](http://bower.io/) 来管理的，而非 Composer。你可使用 
+大多数 JavaScript/CSS 包是用 [Bower](https://bower.io/) 来管理的，而非 Composer。你可使用 
 [Composer asset 插件](https://github.com/fxpio/composer-asset-plugin) 使之可以
 通过 Composer 来管理这类包。如果你的扩展依赖 Bower 软件包，你可以如下例所示那样简单地
 在 `composer.json` 文件的依赖中列出它。
@@ -240,8 +240,8 @@ Image::thumbnail('@webroot/img/test-image.jpg', 120, 120)
 #### 命名空间 <span id="namespaces"></span>
 
 为避免冲突以及使你的扩展中的类能被自动加载，你的类应当使用命名空间，
-并使类的命名符合 [PSR-4 standard](http://www.php-fig.org/psr/psr-4/) 或者
-[PSR-0 standard](http://www.php-fig.org/psr/psr-0/) 标准。
+并使类的命名符合 [PSR-4 standard](https://www.php-fig.org/psr/psr-4/) 或者
+[PSR-0 standard](https://www.php-fig.org/psr/psr-0/) 标准。
 
 你的类的命名空间应以 `vendorName\extensionName` 起始，其中 `extensionName` 
 和项目名相同，除了它没有 `yii2-` 前缀外。例如，对 `yiisoft/yii2-imagine` 扩展
@@ -351,7 +351,7 @@ Yii 提供了测试支持，使你更容易写单元测试、验收测试和功
 #### 版本控制 <span id="versioning"></span>
 
 你应该为每一个扩展定一个版本号（如 `1.0.1`）。我们推荐你命名版本号时参照
-[semantic versioning](http://semver.org) 决定用什么样的版本号。
+[semantic versioning](https://semver.org) 决定用什么样的版本号。
 
 
 #### 发布 <span id="releasing"></span>
@@ -367,7 +367,7 @@ Yii 提供了测试支持，使你更容易写单元测试、验收测试和功
 帮助其他人了解和使用你的扩展：
 
 * 根目录下的 readme 文件：它描述你的扩展是干什么的以及如何安装和使用。
-  我们推荐你用 [Markdown](http://daringfireball.net/projects/markdown/) 的格式
+  我们推荐你用 [Markdown](https://daringfireball.net/projects/markdown/) 的格式
   来写并将文件命名为 `readme.md`。
 * 根目录下的修改日志文件：它列举每个版本的发布做了哪些更改。该文件可以用 Markdown 根式
   编写并命名为 `changelog.md`。
@@ -398,7 +398,7 @@ Yii 提供了下列核心扩展，由 Yii 开发团队开发和维护。这些
 - [yiisoft/yii2-authclient](https://github.com/yiisoft/yii2-authclient)：
   提供了一套常用的认证客户端，例如 Facebook OAuth2 客户端、GitHub OAuth2 客户端。
 - [yiisoft/yii2-bootstrap](https://github.com/yiisoft/yii2-bootstrap)：
-  提供了一套挂件，封装了 [Bootstrap](http://getbootstrap.com/) 的组件和插件。
+  提供了一套挂件，封装了 [Bootstrap](https://getbootstrap.com/) 的组件和插件。
 - [yiisoft/yii2-debug](https://github.com/yiisoft/yii2-debug)：
   提供了对 Yii 应用的调试支持。当使用该扩展是，
   在每个页面的底部将显示一个调试工具条。
@@ -415,9 +415,9 @@ Yii 提供了下列核心扩展，由 Yii 开发团队开发和维护。这些
 - [yiisoft/yii2-httpclient](https://github.com/yiisoft/yii2-httpclient)：
   提供 HTTP 客户端。
 - [yiisoft/yii2-imagine](https://github.com/yiisoft/yii2-imagine)：
-  提供了基于 [Imagine](http://imagine.readthedocs.org/) 的常用图像处理功能。
+  提供了基于 [Imagine](https://imagine.readthedocs.org/) 的常用图像处理功能。
 - [yiisoft/yii2-jui](https://github.com/yiisoft/yii2-jui)：
-  提供了一套封装 [JQuery UI](http://jqueryui.com/) 的挂件以及它们的交互。
+  提供了一套封装 [JQuery UI](https://jqueryui.com/) 的挂件以及它们的交互。
 - [yiisoft/yii2-mongodb](https://github.com/yiisoft/yii2-mongodb)：
   提供了对 [MongoDB](https://www.mongodb.com/) 的使用支持。它包含基本
   的查询、活动记录、数据迁移、缓存、代码生成等特性。
@@ -425,17 +425,17 @@ Yii 提供了下列核心扩展，由 Yii 开发团队开发和维护。这些
   通过队列异步提供运行任务的支持。
   它支持基于 DB，Redis，RabbitMQ，AMQP，Beanstalk 和 Gearman 的队列。
 - [yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis)：
-  提供了对 [redis](http://redis.io/) 的使用支持。它包含基本的
+  提供了对 [redis](https://redis.io/) 的使用支持。它包含基本的
   查询、活动记录、缓存等特性。
 - [yiisoft/yii2-shell](https://www.yiiframework.com/extension/yiisoft/yii2-shell)：
-  提供基于 [psysh](http://psysh.org/) 的交互式 shell。
+  提供基于 [psysh](https://psysh.org/) 的交互式 shell。
 - [yiisoft/yii2-smarty](https://github.com/yiisoft/yii2-smarty)：
-  提供了一个基于 [Smarty](http://www.smarty.net/) 的模板引擎。
+  提供了一个基于 [Smarty](https://www.smarty.net/) 的模板引擎。
 - [yiisoft/yii2-sphinx](https://github.com/yiisoft/yii2-sphinx)：
-  提供了对 [Sphinx](http://sphinxsearch.com) 的使用支持。它包含基本的
+  提供了对 [Sphinx](https://sphinxsearch.com) 的使用支持。它包含基本的
   查询、活动记录、代码生成等特性。
 - [yiisoft/yii2-swiftmailer](https://github.com/yiisoft/yii2-swiftmailer)：
-  提供了基于 [swiftmailer](http://swiftmailer.org/) 的邮件发送功能。
+  提供了基于 [swiftmailer](https://swiftmailer.symfony.com/) 的邮件发送功能。
 - [yiisoft/yii2-twig](https://github.com/yiisoft/yii2-twig)：
   提供了一个基于 [Twig](https://twig.symfony.com/) 的模板引擎。
 
@@ -447,7 +447,7 @@ Yii 提供了下列核心扩展，由 Yii 开发团队开发和维护。这些
 - [yiisoft/yii2-jquery](https://www.yiiframework.com/extension/yiisoft/yii2-jquery)：
   为 [jQuery](https://jquery.com/) 提供支持。
 - [yiisoft/yii2-maskedinput](https://www.yiiframework.com/extension/yiisoft/yii2-maskedinput)：
-  提供基于 [jQuery Input Mask plugin](http://robinherbots.github.io/Inputmask/) 的格式化输入小部件。
+  提供基于 [jQuery Input Mask plugin](https://robinherbots.github.io/Inputmask/) 的格式化输入小部件。
 - [yiisoft/yii2-mssql](https://www.yiiframework.com/extension/yiisoft/yii2-mssql)：
   提供对使用 [MSSQL](https://www.microsoft.com/sql-server/) 的支持。
 - [yiisoft/yii2-oracle](https://www.yiiframework.com/extension/yiisoft/yii2-oracle)：
diff --git a/docs/guide-zh-CN/structure-filters.md b/docs/guide-zh-CN/structure-filters.md
index 58ed3a58727..ee25adc7bca 100644
--- a/docs/guide-zh-CN/structure-filters.md
+++ b/docs/guide-zh-CN/structure-filters.md
@@ -141,8 +141,8 @@ public function behaviors()
 
 ### 认证方法过滤器 <span id="auth-method-filters"></span>
 
-认证方法过滤器通过 [HTTP Basic Auth](http://en.wikipedia.org/wiki/Basic_access_authentication)
-或 [OAuth 2](http://oauth.net/2/)
+认证方法过滤器通过 [HTTP Basic Auth](https://en.wikipedia.org/wiki/Basic_access_authentication)
+或 [OAuth 2](https://oauth.net/2/)
 来认证一个用户，认证方法过滤器类在 `yii\filters\auth` 命名空间下。
 
 如下示例表示可使用 [[yii\filters\auth\HttpBasicAuth]] 来认证一个用户，
@@ -289,7 +289,7 @@ public function behaviors()
 
 ### [[yii\filters\RateLimiter|RateLimiter]] <span id="rate-limiter"></span>
 
-RateLimiter 根据 [漏桶算法](http://en.wikipedia.org/wiki/Leaky_bucket) 来实现速率限制。
+RateLimiter 根据 [漏桶算法](https://en.wikipedia.org/wiki/Leaky_bucket) 来实现速率限制。
 主要用在实现 RESTful APIs，更多关于该过滤器详情请参阅
 [Rate Limiting](rest-rate-limiting.md) 一节。
 
@@ -350,13 +350,13 @@ public function behaviors()
 
 CROS过滤器可以通过 [[yii\filters\Cors::$cors|$cors]] 属性进行调整。
 
-* `cors['Origin']`：定义允许来源的数组，可为 `['*']`（任何用户）或 `['http://www.myserver.net', 'http://www.myotherserver.com']`。 默认为 `['*']`。
+* `cors['Origin']`：定义允许来源的数组，可为 `['*']`（任何用户）或 `['https://www.myserver.net', 'https://www.myotherserver.com']`。 默认为 `['*']`。
 * `cors['Access-Control-Request-Method']`：允许动作数组如 `['GET', 'OPTIONS', 'HEAD']`。默认为 `['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']`。
 * `cors['Access-Control-Request-Headers']`：允许请求头部数组，可为 `['*']` 所有类型头部 或 `['X-Request-With']` 指定类型头部。默认为 `['*']`。
 * `cors['Access-Control-Allow-Credentials']`：定义当前请求是否使用证书，可为 `true`，`false` 或 `null`（不设置）。默认为 `null`。
 * `cors['Access-Control-Max-Age']`: 定义请求的有效时间，默认为 `86400`。
 
-例如，允许来源为 `http://www.myserver.net` 和方式为 `GET`，`HEAD` 和 `OPTIONS` 的 CORS 如下：
+例如，允许来源为 `https://www.myserver.net` 和方式为 `GET`，`HEAD` 和 `OPTIONS` 的 CORS 如下：
 
 ```php
 use yii\filters\Cors;
@@ -368,7 +368,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
         ],
@@ -389,7 +389,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
             'actions' => [
diff --git a/docs/guide-zh-CN/structure-models.md b/docs/guide-zh-CN/structure-models.md
index 1309d973458..afa8ae7ab38 100644
--- a/docs/guide-zh-CN/structure-models.md
+++ b/docs/guide-zh-CN/structure-models.md
@@ -1,7 +1,7 @@
 模型
 ======
 
-模型是 [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) 模式中的一部分，
+模型是 [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) 模式中的一部分，
 是代表业务数据、规则和逻辑的对象。
 
 可通过继承 [[yii\base\Model]] 或它的子类定义模型类，
diff --git a/docs/guide-zh-CN/structure-modules.md b/docs/guide-zh-CN/structure-modules.md
index 25c4d575c03..7c245fb873c 100644
--- a/docs/guide-zh-CN/structure-modules.md
+++ b/docs/guide-zh-CN/structure-modules.md
@@ -14,7 +14,7 @@
 在该目录中有子目录如 `controllers`，`models`，`views` 分别为对应控制器，模型，视图和其他代码，和应用非常类似。
 如下例子显示一个模型的目录结构：
 
-```js
+```
 forum/
     Module.php                   模块类文件
     controllers/                 包含控制器类文件
diff --git a/docs/guide-zh-CN/structure-overview.md b/docs/guide-zh-CN/structure-overview.md
index 7401f16e5db..186659cfd49 100644
--- a/docs/guide-zh-CN/structure-overview.md
+++ b/docs/guide-zh-CN/structure-overview.md
@@ -1,7 +1,7 @@
 总览
 ========
 
-Yii 应用参照[模型-视图-控制器 （MVC）](http://wikipedia.org/wiki/Model-view-controller)
+Yii 应用参照[模型-视图-控制器 （MVC）](https://wikipedia.org/wiki/Model-view-controller)
 设计模式来组织。 [模型](structure-models.md)代表数据、业务逻辑和规则；
 [视图](structure-views.md)展示模型的输出；[控制器](structure-controllers.md)
 接受出入并将其转换为[模型](structure-models.md)和[视图](structure-views.md)命令。
diff --git a/docs/guide-zh-CN/structure-views.md b/docs/guide-zh-CN/structure-views.md
index 48116649354..7f6fa3d8998 100644
--- a/docs/guide-zh-CN/structure-views.md
+++ b/docs/guide-zh-CN/structure-views.md
@@ -1,7 +1,7 @@
 视图
 =====
 
-视图是 [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) 模式中的一部分。
+视图是 [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) 模式中的一部分。
 它是展示数据到终端用户的代码，在网页应用中，
 根据*视图模板*来创建视图，视图模板为PHP脚本文件，
 主要包含HTML代码和展示类PHP代码，通过[[yii\web\View|view]]应用组件来管理，
@@ -52,7 +52,7 @@ $this->title = 'Login';
 
 当创建生成HTML页面的视图时，在显示之前将用户输入数据进行转码和过滤非常重要，
 否则，你的应用可能会被
-[跨站脚本](http://en.wikipedia.org/wiki/Cross-site_scripting) 攻击。
+[跨站脚本](https://en.wikipedia.org/wiki/Cross-site_scripting) 攻击。
 
 要显示纯文本，先调用 [[yii\helpers\Html::encode()]] 进行转码，
 例如如下代码将用户名在显示前先转码：
diff --git a/docs/guide-zh-CN/test-acceptance.md b/docs/guide-zh-CN/test-acceptance.md
index bd6092340c1..c7ee7eea984 100644
--- a/docs/guide-zh-CN/test-acceptance.md
+++ b/docs/guide-zh-CN/test-acceptance.md
@@ -6,8 +6,8 @@
 
 验证测试是在 Codeception 框架的帮助下实现的，该框架有一个很好的文档：
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception Acceptance Tests](http://codeception.com/docs/03-AcceptanceTests)
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception Acceptance Tests](https://codeception.com/docs/03-AcceptanceTests)
 
 ## 运行基本和高级模板测试
 
diff --git a/docs/guide-zh-CN/test-fixtures.md b/docs/guide-zh-CN/test-fixtures.md
index edaf5fb7710..1f21611c35c 100644
--- a/docs/guide-zh-CN/test-fixtures.md
+++ b/docs/guide-zh-CN/test-fixtures.md
@@ -108,7 +108,7 @@ class UserProfileFixture extends ActiveFixture
 使用 Fixtures
 --------------
 
-如果你使用 [CodeCeption](http://codeception.com/) 作为你的 Yii 代码测试框架，
+如果你使用 [CodeCeption](https://codeception.com/) 作为你的 Yii 代码测试框架，
 你需要考虑使用 `yii2-codeception` 扩展，这个扩展包含内置的机制来支持加载和访问 Fixtures。
 如果你使用其他的测试框架，为了达到加载和访问 Fixture 的目的，
 你需要在你的测试用例中使用 [[yii\test\FixtureTrait]]。
diff --git a/docs/guide-zh-CN/test-functional.md b/docs/guide-zh-CN/test-functional.md
index a0b7e638e29..08191012013 100644
--- a/docs/guide-zh-CN/test-functional.md
+++ b/docs/guide-zh-CN/test-functional.md
@@ -11,8 +11,8 @@
 
 功能测试是借助于具有良好文档的 Codeception 框架来实现的：
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception 的功能测试](http://codeception.com/docs/04-FunctionalTests)
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception 的功能测试](https://codeception.com/docs/04-FunctionalTests)
 
 ## 运行基本模板和高级模板的测试
 
diff --git a/docs/guide-zh-CN/test-unit.md b/docs/guide-zh-CN/test-unit.md
index 15653510deb..dad28883c7f 100644
--- a/docs/guide-zh-CN/test-unit.md
+++ b/docs/guide-zh-CN/test-unit.md
@@ -7,9 +7,9 @@
 
 Yii的单元测试框架 Codeception 基于 PHPUnit，Codeception 建议遵从 PHPUnit 的文档的进行开发：
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception Unit Tests](http://codeception.com/docs/05-UnitTests)
-- [PHPUnit docs starting from chapter 2](http://phpunit.de/manual/current/en/writing-tests-for-phpunit.html)
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception Unit Tests](https://codeception.com/docs/05-UnitTests)
+- [PHPUnit docs starting from chapter 2](https://phpunit.readthedocs.io/en/9.5/writing-tests-for-phpunit.html)
 
 ## 运行基本和高级模板测试
 
diff --git a/docs/guide-zh-CN/tutorial-core-validators.md b/docs/guide-zh-CN/tutorial-core-validators.md
index 3fd8af9e60f..91e684c32bf 100644
--- a/docs/guide-zh-CN/tutorial-core-validators.md
+++ b/docs/guide-zh-CN/tutorial-core-validators.md
@@ -139,7 +139,7 @@ public function rules()
 [[yii\validators\DateValidator::timestampAttribute|timestampAttribute]] 所指定的属性里。
 
 - `format`：被验证值的日期/时间格式。
-   这里的值可以是 [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax) 中定义的日期时间格式。
+   这里的值可以是 [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax) 中定义的日期时间格式。
    另外还可以设置以 `php:` 开头的字符串，用来表示PHP可以识别的日期时间格式。
    `Datetime` 日期时间类。请参考 <https://www.php.net/manual/en/datetime.createfromformat.php> 获取更多支持的格式。
    如果没有设置，默认值将使用 `Yii::$app->formatter->dateFormat` 中的值。
@@ -341,7 +341,7 @@ function foo($model, $attribute) {
   MIME 的字符串 (如 "image/jpeg, image/png")。
   Mime 类型名是大小写不敏感的。默认为 null，
   意味着所有 MIME 类型都被接受。
-  请参考 [common media types](http://en.wikipedia.org/wiki/Internet_media_type#List_of_common_media_types) 获取更多详细内容。
+  请参考 [common media types](https://en.wikipedia.org/wiki/Media_type) 获取更多详细内容。
 - `minSize`：上传文件所需最少多少 Byte 的大小。默认为 null，代表没有下限。
 - `maxSize`：上传文件所需最多多少 Byte 的大小。默认为 null，代表没有上限。
 - `maxFiles`：给定属性最多能承载多少个文件。
diff --git a/docs/guide-zh-CN/tutorial-docker.md b/docs/guide-zh-CN/tutorial-docker.md
index e4fb89a9819..98caa80f9f3 100644
--- a/docs/guide-zh-CN/tutorial-docker.md
+++ b/docs/guide-zh-CN/tutorial-docker.md
@@ -5,14 +5,14 @@ Yii 和 Docker
 
 容器可以解决许多问题，例如在开发人员计算机和服务器上具有相同的软件版本，在开发时快速部署或模拟多服务器体系结构。
 
-您可以在 [docker.com](https://www.docker.com/what-docker) 上阅读有关Docker容器的更多信息。
+您可以在 [docker.com](https://www.docker.com/why-docker) 上阅读有关Docker容器的更多信息。
 
 ## 要求
 
 - `docker`
 - `docker-compose`
 
-访问[下载页面](https://www.docker.com/community-edition)获取 Docker 工具。
+访问[下载页面](https://www.docker.com/products/container-runtime)获取 Docker 工具。
 
 ## 安装
 
diff --git a/docs/guide-zh-CN/tutorial-i18n.md b/docs/guide-zh-CN/tutorial-i18n.md
index 4d855adb0aa..e5f6d179a64 100644
--- a/docs/guide-zh-CN/tutorial-i18n.md
+++ b/docs/guide-zh-CN/tutorial-i18n.md
@@ -19,10 +19,10 @@ Yii 提供的国际化功能支持全方位信息翻译，
 
 在 Yii 应用程序中使用的所有区域 ID 应该规范化为 `ll-CC`，
 其中 `ll` 是根据两个或三个字母的小写字母语言代码
-[ISO-639](http://www.loc.gov/standards/iso639-2/) 和 `CC` 是两个字母的国别代码
-[ISO-3166](http://www.iso.org/iso/en/prods-services/iso3166ma/02iso-3166-code-lists/list-en1.html)。
+[ISO-639](https://www.loc.gov/standards/iso639-2/) 和 `CC` 是两个字母的国别代码
+[ISO-3166](https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes)。
 有关区域设置的更多细节可以看
-[ICU 项目文档](http://userguide.icu-project.org/locale#TOC-The-Locale-Concept)。
+[ICU 项目文档](https://unicode-org.github.io/icu/userguide/locale/#the-locale-concept)。
 
 ### 语言（Language）
 
@@ -246,7 +246,7 @@ full form: {PlaceholderName, ParameterType, ParameterStyle}
 echo Yii::t('app', "Example of string with ''-escaped characters'': '{' '}' '{test}' {count,plural,other{''count'' value is # '#{}'}}", ['count' => 3]);
 ```
 
-请参阅 [ICU 文档](http://icu-project.org/apiref/icu4c/classMessageFormat.html)
+请参阅 [ICU 文档](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classMessageFormat.html)
 关于如何指定这样的占位符的说明。接下来我们会展示一些常用的使用方法。
 
 
@@ -274,7 +274,7 @@ echo \Yii::t('app', 'Balance: {0, number, ,000,000000}', $sum);
 ```
 
 自定义格式中使用的字符可以在“特殊模式字符”一节的
-[ICU API 参考](http://icu-project.org/apiref/icu4c/classicu_1_1DecimalFormat.html)
+[ICU API 参考](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classDecimalFormat.html)
 中找到。
 
 
@@ -302,7 +302,7 @@ echo \Yii::t('app', 'Today is {0, date, short}', time());
 echo \Yii::t('app', 'Today is {0, date, yyyy-MM-dd}', time());
 ```
 
-[格式化参考](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details)。
+[格式化参考](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details)。
 
 
 #### 时间（Time） <span id="time"></span>
@@ -325,7 +325,7 @@ echo \Yii::t('app', 'It is {0, time, short}', time());
 echo \Yii::t('app', 'It is {0, date, HH:mm}', time());
 ```
 
-[格式化参考](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details)。
+[格式化参考](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details)。
 
 
 #### 拼写（Spellout） <span id="spellout"></span>
@@ -347,7 +347,7 @@ echo \Yii::t('app', 'I am {n,spellout,%spellout-ordinal} agent', ['n' => 47]);
 请注意，在 `spellout,` 之后和 `%` 之前不应该有空格。
 
 要获取可用于您正在使用的语言环境的选项列表，请查看
-[http://intl.rmcreative.ru/](http://intl.rmcreative.ru/) 上的“编号模式，拼写”。
+[https://intl.rmcreative.ru/](https://intl.rmcreative.ru/) 上的“编号模式，拼写”。
 
 #### 序数词（Ordinal） <span id="ordinal"></span>
 
@@ -368,7 +368,7 @@ echo \Yii::t('app', '{n,ordinal,%digits-ordinal-feminine}', ['n' => 471]);
 请注意，在 `ordinal,` 之后和 `%` 之前不应该有空格。
 
 要获取可用于您正在使用的语言环境的选项列表，请查看
-[http://intl.rmcreative.ru/](http://intl.rmcreative.ru/) 上的“编号模式，序号”。
+[https://intl.rmcreative.ru/](https://intl.rmcreative.ru/) 上的“编号模式，序号”。
 
 #### 持续时间（Duration） <span id="duration"></span>
 
@@ -389,7 +389,7 @@ echo \Yii::t('app', '{n,duration,%in-numerals}', ['n' => 471227]);
 请注意，在 `duration,` 之后和 `%` 之前不应该有空格。
 
 要获取您正在使用的区域设置的可用选项列表，请查看
-[http://intl.rmcreative.ru/](http://intl.rmcreative.ru/) 上的“编号模式，持续时间”。
+[https://intl.rmcreative.ru/](https://intl.rmcreative.ru/) 上的“编号模式，持续时间”。
 
 #### 复数（Plural） <span id="plural"></span>
 
@@ -441,7 +441,7 @@ echo Yii::t('app', 'You {likeCount,plural,
 // You and one other person liked this
 ```
 
-#### 序数选择（Ordinal selection） <span id="ordinal-selection">
+#### 序数选择（Ordinal selection） <span id="ordinal-selection"></span>
 
 `selectordinal` 的参数类型旨在为您所翻译的语言环境选择一个基于语序规则的字符串：
 一个基于语序规则的字符串：
@@ -460,8 +460,8 @@ echo Yii::t('app', 'You are the {n,selectordinal,one{#st} two{#nd} few{#rd} othe
 ```
 
 格式与复数使用的格式非常接近。 要了解您应为特定语言环境指定哪些参数，请参阅
-[http://intl.rmcreative.ru/](http://intl.rmcreative.ru/) 上的“复数规则，序数”。
-或者，您可以参考 [unicode.org上的规则参考](http://unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html)。
+[https://intl.rmcreative.ru/](https://intl.rmcreative.ru/) 上的“复数规则，序数”。
+或者，您可以参考 [unicode.org上的规则参考](https://unicode-org.github.io/cldr-staging/charts/37/supplemental/language_plural_rules.html)。
 
 #### 选择（Selection） <span id="selection"></span>
 
@@ -744,7 +744,7 @@ Yii 使用 [PHP intl 扩展](https://www.php.net/manual/en/book.intl.php) 来提
 因此，当 I18N 对你来说必不可少时，强烈建议你安装 `intl`。
 
 [PHP intl 扩展](https://www.php.net/manual/en/book.intl.php) 是基于对于所有不同的语言环境
-提供格式化规则的 [ICU库](http://site.icu-project.org/)。
+提供格式化规则的 [ICU库](https://icu.unicode.org/)。
 不同版本的 ICU 中可能会产生不同日期和数值格式的结果。
 为了确保你的网站在所有环境产生相同的结果，
 建议你安装与 `intl` 扩展相同的版本（和 ICU 同一版本）。
@@ -760,10 +760,10 @@ echo "ICU Data: " . INTL_ICU_DATA_VERSION . "\n";
 
 此外，还建议你所使用的 ICU 版本应等于或大于 49 的版本。这确保了可以使用本文档描述的所有功能。例如，
 低于 49 版本的 ICU 不支持使用 `#` 占位符来实现复数规则。
-请参阅 <http://site.icu-project.org/download> 获取可用 ICU 版本的完整列表。
+请参阅 <https://icu.unicode.org/download> 获取可用 ICU 版本的完整列表。
 注意，版本编号在 4.8 之后发生了变化（如 ICU4.8，ICU49，50 ICU 等）。
 
 另外，ICU 库中时区数据库的信息可能过时。要更新时区数据库时详情请参阅
-[ICU 手册](http://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data) 。
+[ICU 手册](https://unicode-org.github.io/icu/userguide/datetime/timezone/#updating-the-time-zone-data) 。
 而对于 ICU 输出格式使用的时区数据库，PHP 用的时区数据库可能跟它有关。
 你可以通过安装 [pecl package `timezonedb`](https://pecl.php.net/package/timezonedb) 的最新版本来更新它。
diff --git a/docs/guide-zh-CN/tutorial-performance-tuning.md b/docs/guide-zh-CN/tutorial-performance-tuning.md
index 8415323a6fb..559270dd7a3 100644
--- a/docs/guide-zh-CN/tutorial-performance-tuning.md
+++ b/docs/guide-zh-CN/tutorial-performance-tuning.md
@@ -12,7 +12,7 @@
 
 - 使用最新稳定版本的 PHP。 PHP 的主要版本可能带来显著的性能提升。
 - 启用字节码缓存 [Opcache](https://www.php.net/opcache)（PHP 5.5或更高版本）
-  或 [APC](https://www.php.net/apc)
+  或 [APC](https://www.php.net/manual/en/book.apcu.php)
   （PHP 5.4或更早版本）。字节码缓存省去了每次解析和加载 PHP 脚本所带来的开销。
 - [Tune `realpath()` cache](https://github.com/samdark/realpath_cache_tuner).
 
@@ -130,9 +130,9 @@ CREATE TABLE session (
 你也可以通过使用缓存来存储会话数据 [[yii\web\CacheSession]] 。
 理论上讲，你可以使用只要支持[数据缓存](caching-data.md#supported-cache-storage)。
 但是请注意，某些缓存的存储当达到存储限制会清除缓存数据。出于这个原因，你应主要在不存在存储限制时才使用这些缓存存储。
-如果你的服务器支持 [Redis](http://redis.io/)，强烈建议你通过使用 [[yii\redis\Session]] 来作为会话存储。
+如果你的服务器支持 [Redis](https://redis.io/)，强烈建议你通过使用 [[yii\redis\Session]] 来作为会话存储。
 
-如果您的服务器上有 [Redis](http://redis.io/)，
+如果您的服务器上有 [Redis](https://redis.io/)，
 强烈建议您使用 [[yii\redis\Session]] 作为会话存储。
 
 
@@ -218,8 +218,8 @@ composer dumpautoload -o
 - [Yii debug toolbar and debugger](https://github.com/yiisoft/yii2-debug/blob/master/docs/guide/README.md)
 - [Blackfire](https://blackfire.io/)
 - [XHProf](https://www.php.net/manual/en/book.xhprof.php)
-- [XDebug profiler](http://xdebug.org/docs/profiler)
+- [XDebug profiler](https://xdebug.org/docs/profiler)
 
 ## 准备扩展应用程序
 
-当没有任何帮助时，您可以尝试使您的应用程序可扩展。[Configuring a Yii2 Application for an Autoscaling Stack](https://github.com/samdark/yii2-cookbook/blob/master/book/scaling.md) 中提供了一个很好的介绍。有关进一步阅读，请参阅 [Web apps performance and scaling](http://thehighload.com/).
+当没有任何帮助时，您可以尝试使您的应用程序可扩展。[Configuring a Yii2 Application for an Autoscaling Stack](https://github.com/samdark/yii2-cookbook/blob/master/book/scaling.md) 中提供了一个很好的介绍。有关进一步阅读，请参阅 [Web apps performance and scaling](https://thehighload.com/).
diff --git a/docs/guide-zh-CN/tutorial-shared-hosting.md b/docs/guide-zh-CN/tutorial-shared-hosting.md
index c15806ab694..8932465d645 100644
--- a/docs/guide-zh-CN/tutorial-shared-hosting.md
+++ b/docs/guide-zh-CN/tutorial-shared-hosting.md
@@ -58,7 +58,7 @@ RewriteRule . index.php
 
 为了运行 Yii，你的 web 服务器必须匹配它的环境要求。最低的要求必须是 PHP 5.4。
 为了检查环境配置，将 `requirements.php` 从你的根目录拷贝到 webroot 目录，
-并通过浏览器输入 URL `http://example.com/requirements.php` 运行它。最后，检查结束后别忘了删除这个文件哦！
+并通过浏览器输入 URL `https://example.com/requirements.php` 运行它。最后，检查结束后别忘了删除这个文件哦！
 
 部署一个高级应用程序模板
 ---------------------------------
diff --git a/docs/guide-zh-CN/tutorial-start-from-scratch.md b/docs/guide-zh-CN/tutorial-start-from-scratch.md
index 76d608ec067..5bac9dd9c68 100644
--- a/docs/guide-zh-CN/tutorial-start-from-scratch.md
+++ b/docs/guide-zh-CN/tutorial-start-from-scratch.md
@@ -42,7 +42,7 @@ git clone git@github.com:yiisoft/yii2-app-basic.git
 --------------------------------
 
 模板调整好后，通过其创建一个 Git 仓库并提交你的代码。
-如果你希望将你的应用程序模板开源，[Github](http://github.com) 将是最好的托管服务。
+如果你希望将你的应用程序模板开源，[Github](https://github.com) 将是最好的托管服务。
 如果你不喜欢其他的人来跟你一起协作，你可以使用任意的 Git 仓库服务。
 
 接下来，你需要为 Composer 注册你的 package。对于公有的模板，你可以将 package 注册到 [Packagist](https://packagist.org/)。对于私有的模板，
diff --git a/docs/guide-zh-CN/tutorial-yii-integration.md b/docs/guide-zh-CN/tutorial-yii-integration.md
index f068f3a951a..6d01116e496 100644
--- a/docs/guide-zh-CN/tutorial-yii-integration.md
+++ b/docs/guide-zh-CN/tutorial-yii-integration.md
@@ -41,7 +41,7 @@ require __DIR__ . '/../vendor/yiisoft/yii2/Yii.php';
 我们推荐你把它的安装代码置于`Yii.php` 的导入之前，
 这样 Yii 的官方自动加载器可以拥有更高的优先级。
 
-若一个类库并没有提供自动加载器，但是他的类库命名方式符合 [PSR-4](http://www.php-fig.org/psr/psr-4/) 标准，
+若一个类库并没有提供自动加载器，但是他的类库命名方式符合 [PSR-4](https://www.php-fig.org/psr/psr-4/) 标准，
 你可以使用 Yii 官方的自动加载器来自动加载这些类。
 你只需给他们的每个根命名空间声明一下[根路径别名](concept-aliases.md#defining-aliases)。
 比如，假设说你已经在目录 `vendor/foo/bar` 里安装了一个类库，且这些类库的根命名空间为 `xyz`。
diff --git a/docs/guide-zh-CN/yii2-redis.md b/docs/guide-zh-CN/yii2-redis.md
deleted file mode 100644
index f7c95f34a60..00000000000
--- a/docs/guide-zh-CN/yii2-redis.md
+++ /dev/null
@@ -1,256 +0,0 @@
-# yii2-redis 扩展详解 
-
-
-## 简介
-
-yii2-redis 扩展为 Yii2 框架提供了 redis 键值存储支持。包括缓存（Cache）、会话存储处理（Session），并实现了 ActiveRecord 模式，允许您将活动记录存储在 redis 中。
-
-#### 相关链接
-- [yii2-redis 扩展网址：https://github.com/yiisoft/yii2-redis](https://github.com/yiisoft/yii2-redis)
-
-
-## 安装扩展
-
-在 Yii2 项目根目录，执行以下命令安装：
-```
-$ composer require yiisoft/yii2-redis
-```
-
-也可以先在 composer.json 文件中声明如下依赖：
-```
-"yiisoft/yii2-redis": "~2.0.0"
-```
-
-再执行下面命令安装：
-```
-$ composer update
-```
-
-
-## 基本使用
-
-继续阅读请确保已安装并开启了 redis 服务，安装请参考[《Redis 安装》](http://mayanlong.com/archives/2016/359.html)。
-
-#### 1. 配置
-
-在组件中添加如下配置：
-```php
-'components' => [
-    'redis' => [
-        'class' => 'yii\redis\Connection',
-        'hostname' => 'localhost',
-        'port' => 6379,
-        'database' => 0,
-    ],
-]  
-```
-
-#### 2. 示例
-
-下面代码演示了 redis 最基本的 string 类型的使用：
-```php
-// 获取 redis 组件
-$redis = Yii::$app->redis;
-
-// 判断 key 为 username 的是否有值，有则打印，没有则赋值
-$key = 'username';
-if ($val = $redis->get($key)) {
-    var_dump($val);
-} else {
-    $redis->set($key, 'marko');
-    $redis->expire($key, 5);
-}
-```
-
-这个类中（`yii\redis\Connection`）提供了操作 redis 所有的数据类型和服务（String、Hash、List、Set、SortedSet、HyperLogLog、GEO、Pub/Sub、Transaction、Script、Connection、Server）所需要的方法，并且和 redis 中的方法同名，如果不清楚可以直接到该类中查看。
-
-
-## 缓存组件
-
-该扩展中的 `yii\redis\Cache` 实现了 Yii2 中的缓存相关接口，所以我们也可以用 redis 来存储缓存，且用法和原来一样。
-
-#### 1. 配置
-
-修改组件中 cache 的 class 为 `yii\redis\Cache` 即可，配置如下：
-```php
-'components' => [
-    'cache' => [
-        // 'class' => 'yii\caching\FileCache',
-        'class' => 'yii\redis\Cache',
-    ],
-],
-```
-
-如果没有配置过 redis 组件，需要在 cache 组件下配置 redis 服务相关参数，完整配置如下：
-```php
-'components' => [
-    'cache' => [
-        // 'class' => 'yii\caching\FileCache',
-        'class' => 'yii\redis\Cache',
-        'redis' => [
-            'hostname' => 'localhost',
-            'port' => 6379,
-            'database' => 0,
-        ],
-    ],
-],
-```
-
-#### 2. 示例
-
-下面代码演示了缓存的基本使用：
-```php
-// 获取 cache 组件
-$cache = Yii::$app->cache;
-
-// 判断 key 为 username 的缓存是否存在，有则打印，没有则赋值
-$key = 'username';
-if ($cache->exists($key)) {
-    var_dump($cache->get($key));
-} else {
-    $cache->set($key, 'marko', 60);
-}
-```
-
-使用文件缓存（FileCache）时，缓存是存储在 runtime/cache 目录下；使用 redis 缓存后，缓存将存储在 redis 数据库中，性能将大大提高。
-
-
-## 会话组件
-
-该扩展中的 `yii\redis\Session` 实现了 Yii2 中的会话相关接口，所以我们也可以用 redis 来存储会话信息，且用法和原来一样。
-
-#### 1. 配置
-
-修改组件 session 的配置，指定 class 为 `yii\redis\Session` 即可，配置如下：
-```php
-'components' => [
-    'session' => [
-        'name' => 'advanced-frontend',
-        'class' => 'yii\redis\Session'
-    ],
-],
-```
-
-如果没有配置过 redis 组件，需要在 session 组件下配置 redis 服务相关参数，完整配置如下：
-```php
-'components' => [
-    'session' => [
-        'name' => 'advanced-frontend',
-        'class' => 'yii\redis\Session',
-        'redis' => [
-            'hostname' => 'localhost',
-            'port' => 6379,
-            'database' => 0,
-        ],
-    ],
-],
-```
-
-#### 2. 使用
-
-在开发过程中，切记一定不要使用 PHP 原生的 $_SESSION 去操作，而要使用 Yii 提供的 session 组件，获取方式如下：
-```php
-$session = Yii::$app->session;
-```
-
-
-## ActiveRecord
-
-该扩展中的 `yii\redis\ActiveRecord` 实现了 Yii2 中的 ActiveRecord 相关接口，所以我们可以使用 AR 的方式操作 redis 数据库。关于如何使用 Yii 的 ActiveRecord，请阅读权威指南中有关 [ActiveRecord](http://www.yiichina.com/doc/guide/2.0/db-active-record) 的基础文档。 
-
-定义 redis ActiveRecord 类，我们的模型需要继承 `yii\redis\ActiveRecord`，并至少实现 `attributes()` 方法来定义模型的属性。 
-
-主键可以通过 `yii\redis\ActiveRecord::primaryKey()` 定义，如果未指定，则默认为 id。 primaryKey 必须在 attributes() 方法定义的属性中，如果没有指定主键，请确保 id 在属性中。
-
-下面定义一个 Customer 模型来演示：
-```php
-class Customer extends \yii\redis\ActiveRecord
-{
-    /**
-     * 主键 默认为 id
-     *
-     * @return array|string[]
-     */
-    public static function primaryKey()
-    {
-        return ['id'];
-    }
-
-    /**
-     * 模型对应记录的属性列表
-     *
-     * @return array
-     */
-    public function attributes()
-    {
-        return ['id', 'name', 'age', 'phone', 'status', 'created_at', 'updated_at'];
-    }
-
-    /**
-     * 定义和其它模型的关系
-     *
-     * @return \yii\db\ActiveQueryInterface
-     */
-    public function getOrders()
-    {
-         return $this->hasMany(Order::class, ['customer_id' => 'id']);
-    }
-
-}
-```
-
-使用示例：
-```php
-// 使用 AR 方式新增一条记录
-$customer = new Customer();
-$customer->name = 'marko';
-$customer->age = 18;
-$customer->phone = 13888888888;
-$customer->status = 1;
-$customer->save();
-echo $customer->id;
-
-// 使用 AR 查询
-$customer = Customer::findOne($customer->id);
-$customer = Customer::find()->where(['status' => 1])->all();
-```
-
-redis ActiveRecord 的一般用法与权威指南中数据库的 ActiveRecord 用法非常相似。它们支持相同的接口和方法，除了以下限制：
-- 由于 redis 不支持 sql，查询方法仅限于使用以下方法：where()，limit()，offset()，orderBy() 和 indexBy()。 【 orderBy() 尚未实现：[＃1305](https://github.com/yiisoft/yii2/issues/1305)）】
-- 由于 redis 没有表的概念，因此不能通过表定义关联关系，只能通过其它记录来定义关系。
-
-
-## 直接使用命令
-
-直接使用 redis 连接，就可以使用 redis 提供的很多有用的命令。配置好 redis 后，用以下方式获取 redis 组件：
-
-```php
-$redis = Yii::$app->redis;
-```
-
-然后就可以执行命令了，最通用的方法是使用 executeCommand 方法：
-
-```php
-$result = $redis->executeCommand('hmset', ['test_collection', 'key1', 'val1', 'key2', 'val2']);
-```
-
-支持的每个命令都有一些快捷方式，可以按照如下方式使用：
-
-```php
-$result = $redis->hmset('test_collection', 'key1', 'val1', 'key2', 'val2');
-```
-
-有关可用命令及其参数的列表，请参阅 redis 命令： 
-- [redis 命令英文版：http://redis.io/commands](http://redis.io/commands)
-- [redis 命令中文版：http://redisdoc.com](http://redisdoc.com)
-
-
-
-
-
-
-
-
-
-
-
diff --git a/docs/guide/README.md b/docs/guide/README.md
index 87edd6d4f73..92fe901fb4c 100644
--- a/docs/guide/README.md
+++ b/docs/guide/README.md
@@ -136,6 +136,7 @@ RESTful Web Services
 * [Quick Start](rest-quick-start.md)
 * [Resources](rest-resources.md)
 * [Controllers](rest-controllers.md)
+* [Filtering Collections](rest-filtering-collections.md)
 * [Routing](rest-routing.md)
 * [Response Formatting](rest-response-formatting.md)
 * [Authentication](rest-authentication.md)
diff --git a/docs/guide/caching-data.md b/docs/guide/caching-data.md
index f8fbd63116e..f17b4a07c8c 100644
--- a/docs/guide/caching-data.md
+++ b/docs/guide/caching-data.md
@@ -58,7 +58,7 @@ such as memory, files, databases.
 Cache components are usually registered as [application components](structure-application-components.md) so
 that they can be globally configurable
 and accessible. The following code shows how to configure the `cache` application component to use
-[memcached](http://memcached.org/) with two cache servers:
+[memcached](https://memcached.org/) with two cache servers:
 
 ```php
 'components' => [
@@ -103,7 +103,7 @@ For example, you can modify the above configuration to use [[yii\caching\ApcCach
 
 Yii supports a wide range of cache storage. The following is a summary:
 
-* [[yii\caching\ApcCache]]: uses PHP [APC](https://www.php.net/manual/en/book.apc.php) extension. This option can be
+* [[yii\caching\ApcCache]]: uses PHP [APC](https://www.php.net/manual/en/book.apcu.php) extension. This option can be
   considered as the fastest one when dealing with cache for a centralized thick application (e.g. one
   server, no dedicated load balancers, etc.).
 * [[yii\caching\DbCache]]: uses a database table to store cached data. To use this cache, you must
@@ -124,13 +124,13 @@ Yii supports a wide range of cache storage. The following is a summary:
   and [memcached](https://www.php.net/manual/en/book.memcached.php) extensions. This option can be considered as
   the fastest one when dealing with cache in a distributed applications (e.g. with several servers, load
   balancers, etc.)
-* [[yii\redis\Cache]]: implements a cache component based on [Redis](http://redis.io/) key-value store
+* [[yii\redis\Cache]]: implements a cache component based on [Redis](https://redis.io/) key-value store
   (redis version 2.6.12 or higher is required).
-* [[yii\caching\WinCache]]: uses PHP [WinCache](http://iis.net/downloads/microsoft/wincache-extension)
+* [[yii\caching\WinCache]]: uses PHP [WinCache](https://iis.net/downloads/microsoft/wincache-extension)
   ([see also](https://www.php.net/manual/en/book.wincache.php)) extension.
-* [[yii\caching\XCache]] _(deprecated)_: uses PHP [XCache](http://xcache.lighttpd.net/) extension.
+* [[yii\caching\XCache]] _(deprecated)_: uses PHP [XCache](https://en.wikipedia.org/wiki/List_of_PHP_accelerators#XCache) extension.
 * [[yii\caching\ZendDataCache]] _(deprecated)_: uses
-  [Zend Data Cache](http://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
+  [Zend Data Cache](https://files.zend.com/help/Zend-Server-6/zend-server.htm#data_cache_component.htm)
   as the underlying caching medium.
 
 
@@ -310,7 +310,7 @@ $result = Customer::getDb()->cache(function ($db) {
 });
 ```
 
-> Info: Some DBMS (e.g. [MySQL](http://dev.mysql.com/doc/refman/5.1/en/query-cache.html))
+> Info: Some DBMS (e.g. [MySQL](https://dev.mysql.com/doc/refman/5.6/en/query-cache.html))
   also support query caching on the DB server-side. You may choose to use either query caching mechanism.
   The query caching described above has the advantage that you may specify flexible cache dependencies
   and are potentially more efficient.
@@ -418,7 +418,7 @@ of each entry to be 1MB. Therefore, if the size of a query result exceeds this l
 the caching will fail.
 
 
-## Cache Flushing <span id="cache-flushing">
+## Cache Flushing <span id="cache-flushing"></span>
 
 When you need to invalidate all the stored cache data, you can call [[yii\caching\Cache::flush()]].
 
diff --git a/docs/guide/caching-http.md b/docs/guide/caching-http.md
index 31964c12afe..58dfb88f810 100644
--- a/docs/guide/caching-http.md
+++ b/docs/guide/caching-http.md
@@ -107,7 +107,7 @@ Expensive ETag generation may defeat the purpose of using `HttpCache` and introd
 since they need to be re-evaluated on every request. Try to find a simple expression that invalidates
 the cache if the page content has been modified.
 
-> Note: In compliance to [RFC 7232](http://tools.ietf.org/html/rfc7232#section-2.4),
+> Note: In compliance to [RFC 7232](https://datatracker.ietf.org/doc/html/rfc7232#section-2.4),
   `HttpCache` will send out both `ETag` and `Last-Modified` headers if they are both configured.
   And if the client sends both of the `If-None-Match` header and the `If-Modified-Since` header, only the former
   will be respected.
diff --git a/docs/guide/concept-aliases.md b/docs/guide/concept-aliases.md
index 381ee86c696..c80ab7a09c4 100644
--- a/docs/guide/concept-aliases.md
+++ b/docs/guide/concept-aliases.md
@@ -18,7 +18,7 @@ You can define an alias for a file path or URL by calling [[Yii::setAlias()]]:
 Yii::setAlias('@foo', '/path/to/foo');
 
 // an alias of a URL
-Yii::setAlias('@bar', 'http://www.example.com');
+Yii::setAlias('@bar', 'https://www.example.com');
 
 // an alias of a concrete file that contains a \foo\Bar class
 Yii::setAlias('@foo/Bar.php', '/definitely/not/foo/Bar.php');
@@ -47,7 +47,7 @@ return [
     // ...
     'aliases' => [
         '@foo' => '/path/to/foo',
-        '@bar' => 'http://www.example.com',
+        '@bar' => 'https://www.example.com',
     ],
 ];
 ```
@@ -61,7 +61,7 @@ The same method can also resolve a derived alias into the corresponding file pat
 
 ```php
 echo Yii::getAlias('@foo');               // displays: /path/to/foo
-echo Yii::getAlias('@bar');               // displays: http://www.example.com
+echo Yii::getAlias('@bar');               // displays: https://www.example.com
 echo Yii::getAlias('@foo/bar/file.php');  // displays: /path/to/foo/bar/file.php
 ```
 
@@ -116,7 +116,7 @@ Yii predefines a set of aliases to easily reference commonly used file paths and
   containing the [entry script](structure-entry-scripts.md).
 - `@web`, the base URL of the currently running Web application. It has the same value as [[yii\web\Request::baseUrl]].
 - `@vendor`, the [[yii\base\Application::vendorPath|Composer vendor directory]]. Defaults to `@app/vendor`.
-- `@bower`, the root directory that contains [bower packages](http://bower.io/). Defaults to `@vendor/bower`.
+- `@bower`, the root directory that contains [bower packages](https://bower.io/). Defaults to `@vendor/bower`.
 - `@npm`, the root directory that contains [npm packages](https://www.npmjs.com/). Defaults to `@vendor/npm`.
 
 The `@yii` alias is defined when you include the `Yii.php` file in your [entry script](structure-entry-scripts.md).
diff --git a/docs/guide/concept-behaviors.md b/docs/guide/concept-behaviors.md
index e89813310ab..ea085c80b6c 100644
--- a/docs/guide/concept-behaviors.md
+++ b/docs/guide/concept-behaviors.md
@@ -2,7 +2,7 @@ Behaviors
 =========
 
 Behaviors are instances of [[yii\base\Behavior]], or of a child class. Behaviors, also known
-as [mixins](http://en.wikipedia.org/wiki/Mixin), allow you to enhance the functionality
+as [mixins](https://en.wikipedia.org/wiki/Mixin), allow you to enhance the functionality
 of an existing [[yii\base\Component|component]] class without needing to change the class's inheritance.
 Attaching a behavior to a component "injects" the behavior's methods and properties into the component, making those methods and properties accessible as if they were defined in the component class itself. Moreover, a behavior
 can respond to the [events](concept-events.md) triggered by the component, which allows behaviors to also customize the normal
diff --git a/docs/guide/concept-di-container.md b/docs/guide/concept-di-container.md
index 0493bae853e..b48790a647b 100644
--- a/docs/guide/concept-di-container.md
+++ b/docs/guide/concept-di-container.md
@@ -2,7 +2,7 @@ Dependency Injection Container
 ==============================
 
 A dependency injection (DI) container is an object that knows how to instantiate and configure objects and
-all their dependent objects. [Martin Fowler's article](http://martinfowler.com/articles/injection.html) has well
+all their dependent objects. [Martin Fowler's article](https://martinfowler.com/articles/injection.html) has well
 explained why DI container is useful. Here we will mainly explain the usage of the DI container provided by Yii.
 
 
@@ -544,7 +544,7 @@ Summary <span id="summary"></span>
 
 Both dependency injection and [service locator](concept-service-locator.md) are popular design patterns
 that allow building software in a loosely-coupled and more testable fashion. We highly recommend you to read
-[Martin's article](http://martinfowler.com/articles/injection.html) to get a deeper understanding of
+[Martin's article](https://martinfowler.com/articles/injection.html) to get a deeper understanding of
 dependency injection and service locator.
 
 Yii implements its [service locator](concept-service-locator.md) on top of the dependency injection (DI) container.
diff --git a/docs/guide/db-active-record.md b/docs/guide/db-active-record.md
index 8dfa6ec2628..e87727469bb 100644
--- a/docs/guide/db-active-record.md
+++ b/docs/guide/db-active-record.md
@@ -1,7 +1,7 @@
 Active Record
 =============
 
-[Active Record](http://en.wikipedia.org/wiki/Active_record_pattern) provides an object-oriented interface
+[Active Record](https://en.wikipedia.org/wiki/Active_record_pattern) provides an object-oriented interface
 for accessing and manipulating data stored in databases. An Active Record class is associated with a database table,
 an Active Record instance corresponds to a row of that table, and an *attribute* of an Active Record
 instance represents the value of a particular column in that row. Instead of writing raw SQL statements,
@@ -532,7 +532,7 @@ that will be encoded by [QueryBuilder](db-query-builder.md) to an PgSQL string r
 You can also use conditions for JSON columns:
 
 ```php
-$query->andWhere(['=', 'json', new ArrayExpression(['foo' => 'bar'])
+$query->andWhere(['=', 'json', new ArrayExpression(['foo' => 'bar'])])
 ```
 
 To learn more about expressions building system read the [Query Builder – Adding custom Conditions and Expressions](db-query-builder.md#adding-custom-conditions-and-expressions)
diff --git a/docs/guide/db-dao.md b/docs/guide/db-dao.md
index 1edf54188e8..7e47102c55e 100644
--- a/docs/guide/db-dao.md
+++ b/docs/guide/db-dao.md
@@ -11,11 +11,11 @@ you have to take extra effort to create a database-agnostic application.
 
 In Yii 2.0, DAO supports the following databases out of the box:
 
-- [MySQL](http://www.mysql.com/)
+- [MySQL](https://www.mysql.com/)
 - [MariaDB](https://mariadb.com/)
-- [SQLite](http://sqlite.org/)
-- [PostgreSQL](http://www.postgresql.org/): version 8.4 or higher
-- [CUBRID](http://www.cubrid.org/): version 9.3 or higher.
+- [SQLite](https://sqlite.org/)
+- [PostgreSQL](https://www.postgresql.org/): version 8.4 or higher
+- [CUBRID](https://www.cubrid.org/): version 9.3 or higher.
 - [Oracle](https://www.oracle.com/database/)
 - [MSSQL](https://www.microsoft.com/en-us/sqlserver/default.aspx): version 2008 or higher.
 
@@ -275,7 +275,7 @@ a database table if they do not already exist (matching unique constraints), or
 ```php
 Yii::$app->db->createCommand()->upsert('pages', [
     'name' => 'Front page',
-    'url' => 'http://example.com/', // url is unique
+    'url' => 'https://example.com/', // url is unique
     'visits' => 0,
 ], [
     'visits' => new \yii\db\Expression('visits + 1'),
@@ -427,7 +427,7 @@ Usage of other levels will result in an exception being thrown.
 specify the isolation level directly when starting the transaction.
 You have to call [[yii\db\Transaction::setIsolationLevel()]] in this case after the transaction has started.
 
-[isolation levels]: http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+[isolation levels]: https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
 
 
 ### Nesting Transactions <span id="nesting-transactions"></span>
@@ -477,7 +477,7 @@ try {
 
 ## Replication and Read-Write Splitting <span id="read-write-splitting"></span>
 
-Many DBMS support [database replication](http://en.wikipedia.org/wiki/Replication_(computing)#Database_replication)
+Many DBMS support [database replication](https://en.wikipedia.org/wiki/Replication_(computing)#Database_replication)
 to get better database availability and faster server response time. With database replication, data are replicated
 from the so-called *master servers* to *slave servers*. All writes and updates must take place on the master servers,
 while reads may also take place on the slave servers.
diff --git a/docs/guide/db-migrations.md b/docs/guide/db-migrations.md
index 326e0f55914..44f87aa7893 100644
--- a/docs/guide/db-migrations.md
+++ b/docs/guide/db-migrations.md
@@ -685,7 +685,7 @@ in `safeDown()`. In the above example we first create the table and then insert
 in `safeDown()` we first delete the row and then drop the table.
 
 > Note: Not all DBMS support transactions. And some DB queries cannot be put into a transaction. For some examples,
-  please refer to [implicit commit](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). If this is the case,
+  please refer to [implicit commit](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). If this is the case,
   you should still implement `up()` and `down()`, instead.
 
 
diff --git a/docs/guide/db-query-builder.md b/docs/guide/db-query-builder.md
index 5d9b6e02c17..f2d4248479c 100644
--- a/docs/guide/db-query-builder.md
+++ b/docs/guide/db-query-builder.md
@@ -298,7 +298,7 @@ the operator can be one of the following:
   should be applied. Note that when using an escape mapping (or the third operand is not provided),
   the values will be automatically enclosed within a pair of percentage characters.
 
-  > Note: When using PostgreSQL you may also use [`ilike`](http://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE)
+  > Note: When using PostgreSQL you may also use [`ilike`](https://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE)
   > instead of `like` for case-insensitive matching.
 
 - `or like`: similar to the `like` operator except that `OR` is used to concatenate the `LIKE`
diff --git a/docs/guide/helper-html.md b/docs/guide/helper-html.md
index 3a0b28efad8..40757cc3af5 100644
--- a/docs/guide/helper-html.md
+++ b/docs/guide/helper-html.md
@@ -42,7 +42,7 @@ know about:
 
 - If a value is `null`, the corresponding attribute will not be rendered.
 - Attributes whose values are of boolean type will be treated as
-  [boolean attributes](http://www.w3.org/TR/html5/infrastructure.html#boolean-attributes).
+  [boolean attributes](https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributess).
 - The values of attributes will be HTML-encoded using [[yii\helpers\Html::encode()|Html::encode()]].
 - If the value of an attribute is an array, it will be handled as follows:
  
@@ -349,7 +349,7 @@ If you want to use an external style in a CSS file:
 generates
 
 <!--[if IE 5]>
-    <link href="http://example.com/css/ie5.css" />
+    <link href="https://example.com/css/ie5.css" />
 <![endif]-->
 ```
 
@@ -399,7 +399,7 @@ In order to generate an image tag, use the following:
 
 generates
 
-<img src="http://example.com/images/logo.png" alt="My logo" />
+<img src="https://example.com/images/logo.png" alt="My logo" />
 ```
 
 Besides [aliases](concept-aliases.md), the first argument can accept routes, parameters and URLs, in the same way [Url::to()](helper-url.md) does.
diff --git a/docs/guide/helper-url.md b/docs/guide/helper-url.md
index dd6978f9c7a..110226cefbb 100644
--- a/docs/guide/helper-url.md
+++ b/docs/guide/helper-url.md
@@ -78,7 +78,7 @@ echo Url::toRoute(['site/index', 'src' => 'ref1', '#' => 'name']);
 // /index.php?r=post%2Fedit&id=100     assume the alias "@postEdit" is defined as "post/edit"
 echo Url::toRoute(['@postEdit', 'id' => 100]);
 
-// http://www.example.com/index.php?r=site%2Findex
+// https://www.example.com/index.php?r=site%2Findex
 echo Url::toRoute('site/index', true);
 
 // https://www.example.com/index.php?r=site%2Findex
@@ -123,7 +123,7 @@ echo Url::to('@web/images/logo.gif');
 // images/logo.gif
 echo Url::to('images/logo.gif');
 
-// http://www.example.com/images/logo.gif
+// https://www.example.com/images/logo.gif
 echo Url::to('@web/images/logo.gif', true);
 
 // https://www.example.com/images/logo.gif
diff --git a/docs/guide/input-tabular-input.md b/docs/guide/input-tabular-input.md
index 8bfee0d83c6..44c9ffea1d5 100644
--- a/docs/guide/input-tabular-input.md
+++ b/docs/guide/input-tabular-input.md
@@ -30,8 +30,6 @@ Let's start with the controller action:
 
 namespace app\controllers;
 
-use Yii;
-use yii\base\Model;
 use yii\web\Controller;
 use app\models\Setting;
 
@@ -43,11 +41,13 @@ class SettingsController extends Controller
     {
         $settings = Setting::find()->indexBy('id')->all();
 
-        if (Model::loadMultiple($settings, Yii::$app->request->post()) && Model::validateMultiple($settings)) {
-            foreach ($settings as $setting) {
-                $setting->save(false);
+        if ($this->request->isPost) {
+            if (Setting::loadMultiple($settings, $this->request->post()) && Setting::validateMultiple($settings)) {
+                foreach ($settings as $setting) {
+                    $setting->save(false);
+                }
+                return $this->redirect('index');
             }
-            return $this->redirect('index');
         }
 
         return $this->render('update', ['settings' => $settings]);
@@ -71,10 +71,12 @@ use yii\widgets\ActiveForm;
 
 $form = ActiveForm::begin();
 
-foreach ($settings as $index => $setting) {
-    echo $form->field($setting, "[$index]value")->label($setting->name);
+foreach ($settings as $id => $setting) {
+    echo $form->field($setting, "[$id]value")->label($setting->name);
 }
 
+echo Html::submitButton('Save');
+
 ActiveForm::end();
 ```
 
@@ -88,20 +90,29 @@ Creating new records is similar to updating, except the part, where we instantia
 ```php
 public function actionCreate()
 {
-    $count = count(Yii::$app->request->post('Setting', []));
-    $settings = [new Setting()];
-    for($i = 1; $i < $count; $i++) {
-        $settings[] = new Setting();
+    $settings = [];
+    if ($this->request->isPost) {
+        $count = count($this->request->post($setting->tableName()));
+        for ($i = 0; $i < $count; $i++) {
+            $settings[$i] = new Setting();
+        }
+        if (Setting::loadMultiple($settings, $this->request->post()) && Setting::validateMultiple($settings)) {
+            foreach ($settings as $setting) {
+                $setting->save(false);
+            }
+            return $this->redirect('index');
+        }
     }
+    $settings[] = new Setting();
 
-    // ...
+    return $this->render('create', ['settings' => $settings]);
 }
 ```
 
 Here we create an initial `$settings` array containing one model by default so that always at least one text field will be
 visible in the view. Additionally we add more models for each line of input we may have received.
 
-In the view you can use javascript to add new input lines dynamically.
+In the view you can use JavaScript to add new input lines dynamically.
 
 ### Combining Update, Create and Delete on one page
 
diff --git a/docs/guide/input-validation.md b/docs/guide/input-validation.md
index a77e873a4fe..f02ffd2bfee 100644
--- a/docs/guide/input-validation.md
+++ b/docs/guide/input-validation.md
@@ -748,7 +748,7 @@ JS;
 
 ### Deferred Validation <span id="deferred-validation"></span>
 
-If you need to perform asynchronous client-side validation, you can create [Deferred objects](http://api.jquery.com/category/deferred-object/).
+If you need to perform asynchronous client-side validation, you can create [Deferred objects](https://api.jquery.com/category/deferred-object/).
 For example, to perform a custom AJAX validation, you can use the following code:
 
 ```php
diff --git a/docs/guide/intro-yii.md b/docs/guide/intro-yii.md
index 6a15660cc3f..ea493cf2b8d 100644
--- a/docs/guide/intro-yii.md
+++ b/docs/guide/intro-yii.md
@@ -50,7 +50,7 @@ This guide is mainly about version 2.0.
 Requirements and Prerequisites
 ------------------------------
 
-Yii 2.0 requires PHP 5.4.0 or above and runs best with the latest version of PHP 7. You can find more detailed
+Yii 2.0 requires PHP 5.4.0 or above and runs best with the latest version of PHP. You can find more detailed
 requirements for individual features by running the requirement checker included in every Yii release.
 
 Using Yii requires basic knowledge of object-oriented programming (OOP), as Yii is a pure OOP-based framework.
diff --git a/docs/guide/output-client-scripts.md b/docs/guide/output-client-scripts.md
index d12e3e3c28c..8d12a5ad1fb 100644
--- a/docs/guide/output-client-scripts.md
+++ b/docs/guide/output-client-scripts.md
@@ -35,10 +35,10 @@ determines at which position the script should be inserted into the page. Possib
 - [[yii\web\View::POS_HEAD|View::POS_HEAD]] for head section.
 - [[yii\web\View::POS_BEGIN|View::POS_BEGIN]] for right after opening `<body>`.
 - [[yii\web\View::POS_END|View::POS_END]] for right before closing `</body>`.
-- [[yii\web\View::POS_READY|View::POS_READY]] for executing code on the [document `ready` event](http://learn.jquery.com/using-jquery-core/document-ready/).
+- [[yii\web\View::POS_READY|View::POS_READY]] for executing code on the [document `ready` event](https://learn.jquery.com/using-jquery-core/document-ready/).
   This will automatically register [[yii\web\JqueryAsset|jQuery]] and wrap the code into the appropriate jQuery code. This is the default position.
 - [[yii\web\View::POS_LOAD|View::POS_LOAD]] for executing code on the
-  [document `load` event](http://learn.jquery.com/using-jquery-core/document-ready/). Same as the above, this will also register [[yii\web\JqueryAsset|jQuery]] automatically.
+  [document `load` event](https://learn.jquery.com/using-jquery-core/document-ready/). Same as the above, this will also register [[yii\web\JqueryAsset|jQuery]] automatically.
 
 The last argument is a unique script ID that is used to identify the script code block and replace an existing one with the same ID
 instead of adding a new one. If you don't provide it, the JS code itself will be used as the ID. It is used to avoid registration of the same code muliple times.
diff --git a/docs/guide/output-data-widgets.md b/docs/guide/output-data-widgets.md
index ea9c253aa95..da43b234d88 100644
--- a/docs/guide/output-data-widgets.md
+++ b/docs/guide/output-data-widgets.md
@@ -777,4 +777,4 @@ Which generates a [[yii\widgets\Pjax|Pjax]] widget wrapping the
 Further reading
 ---------------
 
-- [Rendering Data in Yii 2 with GridView and ListView](http://www.sitepoint.com/rendering-data-in-yii-2-with-gridview-and-listview/) by Arno Slatius.
+- [Rendering Data in Yii 2 with GridView and ListView](https://www.sitepoint.com/rendering-data-in-yii-2-with-gridview-and-listview/) by Arno Slatius.
diff --git a/docs/guide/output-formatting.md b/docs/guide/output-formatting.md
index de8497a8e86..53996820771 100644
--- a/docs/guide/output-formatting.md
+++ b/docs/guide/output-formatting.md
@@ -75,7 +75,7 @@ The formatter supports the following output formats that are related with date a
 - [[yii\i18n\Formatter::asDate()|date]]: the value is formatted as a date, e.g. `January 01, 2014`.
 - [[yii\i18n\Formatter::asTime()|time]]: the value is formatted as a time, e.g. `14:23`.
 - [[yii\i18n\Formatter::asDatetime()|datetime]]: the value is formatted as date and time, e.g. `January 01, 2014 14:23`.
-- [[yii\i18n\Formatter::asTimestamp()|timestamp]]: the value is formatted as a [unix timestamp](http://en.wikipedia.org/wiki/Unix_time), e.g. `1412609982`.
+- [[yii\i18n\Formatter::asTimestamp()|timestamp]]: the value is formatted as a [unix timestamp](https://en.wikipedia.org/wiki/Unix_time), e.g. `1412609982`.
 - [[yii\i18n\Formatter::asRelativeTime()|relativeTime]]: the value is formatted as the time interval between a date
   and now in human readable form e.g. `1 hour ago`.
 - [[yii\i18n\Formatter::asDuration()|duration]]: the value is formatted as a duration in human readable format. e.g. `1 day, 2 minutes`.
@@ -85,7 +85,7 @@ and [[yii\i18n\Formatter::asDatetime()|datetime]] methods can be customized glob
 [[yii\i18n\Formatter::dateFormat|dateFormat]], [[yii\i18n\Formatter::timeFormat|timeFormat]], and
 [[yii\i18n\Formatter::datetimeFormat|datetimeFormat]].
 
-You can specify date and time formats using the [ICU syntax](http://userguide.icu-project.org/formatparse/datetime).
+You can specify date and time formats using the [ICU syntax](https://unicode-org.github.io/icu/userguide/format_parse/datetime/).
 You can also use the [PHP date() syntax](https://www.php.net/manual/en/function.date.php) with a prefix `php:` to differentiate
 it from ICU syntax. For example,
 
@@ -150,7 +150,7 @@ as set in the PHP configuration.
 
 > Note: As time zones are subject to rules made by the governments around the world and may change frequently, it is
 > likely that you do not have the latest information in the time zone database installed on your system.
-> You may refer to the [ICU manual](http://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data)
+> You may refer to the [ICU manual](https://unicode-org.github.io/icu/userguide/datetime/timezone/#updating-the-time-zone-data)
 > for details on updating the time zone database. Please also read
 > [Setting up your PHP environment for internationalization](tutorial-i18n.md#setup-environment).  
 
diff --git a/docs/guide/rest-authentication.md b/docs/guide/rest-authentication.md
index cd7e5d19af0..87487b52e70 100644
--- a/docs/guide/rest-authentication.md
+++ b/docs/guide/rest-authentication.md
@@ -10,15 +10,15 @@ via HTTPS to prevent man-in-the-middle (MitM) attacks**.
 
 There are different ways to send an access token:
 
-* [HTTP Basic Auth](http://en.wikipedia.org/wiki/Basic_access_authentication): the access token
+* [HTTP Basic Auth](https://en.wikipedia.org/wiki/Basic_access_authentication): the access token
   is sent as the username. This should only be used when an access token can be safely stored
   on the API consumer side. For example, the API consumer is a program running on a server.
 * Query parameter: the access token is sent as a query parameter in the API URL, e.g.,
   `https://example.com/users?access-token=xxxxxxxx`. Because most Web servers will keep query
   parameters in server logs, this approach should be mainly used to serve `JSONP` requests which
   cannot use HTTP headers to send access tokens.
-* [OAuth 2](http://oauth.net/2/): the access token is obtained by the consumer from an authorization
-  server and sent to the API server via [HTTP Bearer Tokens](http://tools.ietf.org/html/rfc6750),
+* [OAuth 2](https://oauth.net/2/): the access token is obtained by the consumer from an authorization
+  server and sent to the API server via [HTTP Bearer Tokens](https://datatracker.ietf.org/doc/html/rfc6750),
   according to the OAuth2 protocol.
 
 Yii supports all of the above authentication methods. You can also easily create new authentication methods.
diff --git a/docs/guide/rest-controllers.md b/docs/guide/rest-controllers.md
index 3bf8e1dc871..8de69c32291 100644
--- a/docs/guide/rest-controllers.md
+++ b/docs/guide/rest-controllers.md
@@ -80,7 +80,7 @@ public function behaviors()
 Adding the [Cross-Origin Resource Sharing](structure-filters.md#cors) filter to a controller is a bit more complicated
 than adding other filters described above, because the CORS filter has to be applied before authentication methods
 and thus needs a slightly different approach compared to other filters. Also authentication has to be disabled for the
-[CORS Preflight requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS#Preflighted_requests)
+[CORS Preflight requests](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#preflighted_requests)
 so that a browser can safely determine whether a request can be made beforehand without the need for sending
 authentication credentials. The following shows the code that is needed to add the [[yii\filters\Cors]] filter
 to an existing controller that extends from [[yii\rest\ActiveController]]:
diff --git a/docs/guide/rest-filtering-collections.md b/docs/guide/rest-filtering-collections.md
new file mode 100644
index 00000000000..ab9c7b92ead
--- /dev/null
+++ b/docs/guide/rest-filtering-collections.md
@@ -0,0 +1,191 @@
+Filtering Collections
+=====================
+
+Resource collection can be filtered using [[yii\data\DataFilter]] component since 2.0.13. It allows validating and 
+building the filter conditions passed via request, and, with the help of its extended version [[yii\data\ActiveDataFilter]], 
+using them in a format suitable for [[yii\db\QueryInterface::where()]].
+
+
+## Configuring Data Provider For Filtering <span id="configuring-data-provider-for-filtering"></span>
+
+As mentioned in the [Collections](rest-resources.md#collections) section, we can use 
+[Data Provider](output-data-providers#data-providers) to output sorted and paginated list of resources. We can also use 
+it to filter that list.
+
+```php
+$filter = new ActiveDataFilter([
+    'searchModel' => 'app\models\PostSearch',
+]);
+
+$filterCondition = null;
+// You may load filters from any source. For example,
+// if you prefer JSON in request body,
+// use Yii::$app->request->getBodyParams() below:
+if ($filter->load(Yii::$app->request->get())) { 
+    $filterCondition = $filter->build();
+    if ($filterCondition === false) {
+        // Serializer would get errors out of it
+        return $filter;
+    }
+}
+
+$query = Post::find();
+if ($filterCondition !== null) {
+    $query->andWhere($filterCondition);
+}
+
+return new ActiveDataProvider([
+    'query' => $query,
+]);
+```
+
+`PostSearch` model serves the purpose of defining which properties and values are allowed for filtering:
+
+```php
+use yii\base\Model;
+
+class PostSearch extends Model 
+{
+    public $id;
+    public $title;
+    
+    public function rules()
+    {
+        return [
+            ['id', 'integer'],
+            ['title', 'string', 'min' => 2, 'max' => 200],            
+        ];
+    }
+}
+```
+
+Instead of preparing the standalone model for search rules you can use [[yii\base\DynamicModel]] if you don't need any 
+special business logic there.
+
+```php
+$filter = new ActiveDataFilter([
+    'searchModel' => (new DynamicModel(['id', 'title']))
+        ->addRule(['id'], 'integer')
+        ->addRule(['title'], 'string', ['min' => 2, 'max' => 200]),
+]);
+```
+
+Defining `searchModel` is required in order to control the filter conditions allowed to the end user.
+
+
+## Filtering Request <span id="filtering-request"></span>
+
+End user is usually expected to provide optional filtering conditions in the request by one or more of the allowed 
+methods (which should be explicitly stated in the API documentation). For example, if filtering is handled via POST 
+method using JSON it can be something similar to:
+
+```json
+{
+    "filter": {
+        "id": {"in": [2, 5, 9]},
+        "title": {"like": "cheese"}
+    }
+}
+```
+
+The above conditions are:
+- `id` must be either 2, 5, or 9 **AND**
+- `title` must contain the word `cheese`.
+
+The same conditions sent as a part of GET query are:
+
+```
+?filter[id][in][]=2&filter[id][in][]=5&filter[id][in][]=9&filter[title][like]=cheese
+```
+
+You can change the default `filter` key word by setting [[yii\data\DataFilter::$filterAttributeName]].
+
+
+## Filter Control Keywords <span id="filter-control-keywords"></span>
+
+The default list of allowed filter control keywords is as the following:
+
+| filter control | translates to |
+|:--------------:|:-------------:|
+|     `and`      |     `AND`     |
+|      `or`      |     `OR`      |
+|     `not`      |     `NOT`     |
+|      `lt`      |      `<`      |
+|      `gt`      |      `>`      |
+|     `lte`      |     `<=`      |
+|     `gte`      |     `>=`      |
+|      `eq`      |      `=`      |
+|     `neq`      |     `!=`      |
+|      `in`      |     `IN`      |
+|     `nin`      |   `NOT IN`    |
+|     `like`     |    `LIKE`     |
+
+You can expand that list by expanding option [[yii\data\DataFilter::$filterControls]], for example you could provide
+several keywords for the same filter build key, creating multiple aliases like:
+
+```php
+[
+    'eq' => '=',
+    '=' => '=',
+    '==' => '=',
+    '===' => '=',
+    // ...
+]
+```
+
+Keep in mind that any unspecified keyword will not be recognized as a filter control and will be treated as an attribute 
+name - you should avoid conflicts between control keywords and attribute names (for example: in case you have control 
+keyword `like` and an attribute named `like`, specifying condition for such attribute will be impossible).
+
+> Note: while specifying filter controls take actual data exchange format, which your API uses, in mind.
+  Make sure each specified control keyword is valid for the format. For example, in XML tag name can start
+  only with a letter character, thus controls like `>`, `=`, or `$gt` will break the XML schema.
+
+> Note: When adding new filter control word make sure to check whether you need also to update 
+  [[yii\data\DataFilter::$conditionValidators]] and/or [[yii\data\DataFilter::$operatorTypes]] in order to achieve
+  expected query result based on the complication of the operator and the way it should work.
+
+
+## Handling The Null Values <span id="handling-the-null-values"></span>
+
+While it is easy to use `null` inside the JSON statement, it is not possible to send it using the GET query without 
+confusing the literal `null` with the string `"null"`. Since 2.0.40 you can use [[yii\data\DataFilter::$nullValue]] 
+option to configure the word that will be used as a replacement for literal `null` (by default it's `"NULL"`).
+
+
+## Aliasing Attributes <span id="aliasing-attributes"></span>
+
+Whether you want to alias the attribute with another name or to filter the joined DB table you can use
+[[yii\data\DataFilter::$attributeMap]] to set the map of aliases:
+
+```php
+[
+    'carPart' => 'car_part', // carPart will be used to filter car_part property
+    'authorName' => '{{author}}.[[name]]', // authorName will be used to filter name property of joined author table
+]
+```
+
+## Configuring Filters For `ActiveController` <span id="configuring-filters-for-activecontroller"></span>
+
+[[yii\rest\ActiveController]] comes with the handy set of common REST actions that you can easily configure to use 
+filters as well through [[yii\rest\IndexAction::$dataFilter]] property. One of the possible ways of doing so is to use
+[[yii\rest\ActiveController::actions()]]:
+
+```php
+public function actions()
+{
+    $actions = parent::actions();
+    
+    $actions['index']['dataFilter'] = [
+        'class' => \yii\data\ActiveDataFilter::class,
+        'attributeMap' => [
+            'clockIn' => 'clock_in',
+        ],
+        'searchModel' => (new DynamicModel(['id', 'clockIn']))->addRule(['id', 'clockIn'], 'integer', ['min' => 1]),
+    ];
+    
+    return $actions;
+}
+```
+
+Now your collection (accessed through `index` action) can be filtered by `id` and `clockIn` properties.
diff --git a/docs/guide/rest-quick-start.md b/docs/guide/rest-quick-start.md
index e04121cf560..32ccd6ad68a 100644
--- a/docs/guide/rest-quick-start.md
+++ b/docs/guide/rest-quick-start.md
@@ -9,7 +9,7 @@ In particular, Yii supports the following features about RESTful APIs:
 * Customizable object serialization with support for selectable output fields;
 * Proper formatting of collection data and validation errors;
 * Collection pagination, filtering and sorting;
-* Support for [HATEOAS](http://en.wikipedia.org/wiki/HATEOAS);
+* Support for [HATEOAS](https://en.wikipedia.org/wiki/HATEOAS);
 * Efficient routing with proper HTTP verb check;
 * Built-in support for the `OPTIONS` and `HEAD` verbs;
 * Authentication and authorization;
@@ -193,8 +193,44 @@ For example, the URL `http://localhost/users?fields=id,email` will only return t
 Additionally, you can sort collections like `http://localhost/users?sort=email` or
 `http://localhost/users?sort=-email`. Filtering collections like `http://localhost/users?filter[id]=10` or
 `http://localhost/users?filter[email][like]=gmail.com` could be implemented using
-data filters. See [Resources](rest-resources.md#filtering-collections) section for details.
+data filters. See [Filtering Collections](rest-filtering-collections.md) section for details.
 
+## Customizing Pagination and Sorting in the list<span id="customizing-pagination-and-sorting"></span>
+
+In order to change the default [pagination](output-pagination.md) and [sorting](output-sorting.md) of the model list
+you can configure the [[yii\rest\IndexAction]] in your controller. For example:
+
+```php
+<?php
+namespace app\controllers;
+
+use yii\rest\ActiveController;
+use yii\helpers\ArrayHelper;
+
+class UserController extends ActiveController
+{
+    public $modelClass = 'app\models\User';
+    
+    public function actions()
+    {
+        return ArrayHelper::merge(parent::actions(), [
+            'index' => [
+                'pagination' => [
+                    'pageSize' => 10,
+                ],
+                'sort' => [
+                    'defaultOrder' => [
+                        'created_at' => SORT_DESC,
+                    ],
+                ],
+            ],
+        ]);
+    }
+}
+```
+
+Please see [Extending ActiveController](rest-controllers#extending-active-controller) for more information on how to 
+configure actions of the ActiveController.
 
 ## Summary <span id="summary"></span>
 
diff --git a/docs/guide/rest-resources.md b/docs/guide/rest-resources.md
index 164cbf5429b..c681e4d2385 100644
--- a/docs/guide/rest-resources.md
+++ b/docs/guide/rest-resources.md
@@ -140,7 +140,7 @@ the request with `http://localhost/users?fields=id,email&expand=profile` may ret
 
 ## Links <span id="links"></span>
 
-[HATEOAS](http://en.wikipedia.org/wiki/HATEOAS), an abbreviation for Hypermedia as the Engine of Application State,
+[HATEOAS](https://en.wikipedia.org/wiki/HATEOAS), an abbreviation for Hypermedia as the Engine of Application State,
 promotes that RESTful APIs should return information that allows clients to discover actions supported for the returned
 resources. The key of HATEOAS is to return a set of hyperlinks with relation information when resource data are served
 by the APIs.
@@ -251,11 +251,3 @@ will also include the pagination information by the following HTTP headers:
 Since collection in REST APIs is a data provider, it shares all data provider features i.e. pagination and sorting.
 
 An example may be found in the [Quick Start](rest-quick-start.md#trying-it-out) section.
-
-### Filtering collections <span id="filtering-collections"></span>
-
-Since version 2.0.13 Yii provides a facility to filter collections. An example can be found in the
-[Quick Start](rest-quick-start.md#trying-it-out) guide. In case you're implementing an endpoint yourself,
-filtering could be done as described in
-[Filtering Data Providers using Data Filters](output-data-providers.md#filtering-data-providers-using-data-filters)
-section of Data Providers guide.
diff --git a/docs/guide/rest-response-formatting.md b/docs/guide/rest-response-formatting.md
index bfc5955744a..f6c4a23d6bf 100644
--- a/docs/guide/rest-response-formatting.md
+++ b/docs/guide/rest-response-formatting.md
@@ -5,7 +5,7 @@ When handling a RESTful API request, an application usually takes the following
 with response formatting:
 
 1. Determine various factors that may affect the response format, such as media type, language, version, etc.
-   This process is also known as [content negotiation](http://en.wikipedia.org/wiki/Content_negotiation).
+   This process is also known as [content negotiation](https://en.wikipedia.org/wiki/Content_negotiation).
 2. Convert resource objects into arrays, as described in the [Resources](rest-resources.md) section.
    This is done by [[yii\rest\Serializer]].
 3. Convert arrays into a string in the format as determined by the content negotiation step. This is
diff --git a/docs/guide/rest-versioning.md b/docs/guide/rest-versioning.md
index 946f2f901a3..c35628f80bb 100644
--- a/docs/guide/rest-versioning.md
+++ b/docs/guide/rest-versioning.md
@@ -5,11 +5,11 @@ A good API is *versioned*: changes and new features are implemented in new versi
 code, APIs are meant to be used by clients beyond your control. For this reason, backward
 compatibility (BC) of the APIs should be maintained whenever possible. If a change that may break BC is necessary, you should introduce it in new version of the API, and bump up the version number. Existing clients can continue to use the old, working version of the API; and new or upgraded clients can get the new functionality in the new API version. 
 
-> Tip: Refer to [Semantic Versioning](http://semver.org/)
+> Tip: Refer to [Semantic Versioning](https://semver.org/)
 for more information on designing API version numbers.
 
 One common way to implement API versioning is to embed the version number in the API URLs.
-For example, `http://example.com/v1/users` stands for the `/users` endpoint of API version 1. 
+For example, `https://example.com/v1/users` stands for the `/users` endpoint of API version 1. 
 
 Another method of API versioning,
 which has gained momentum recently, is to put the version number in the HTTP request headers. This is typically done through the `Accept` header:
@@ -90,8 +90,8 @@ return [
 ];
 ```
 
-As a result of the above code, `http://example.com/v1/users` will return the list of users in version 1, while
-`http://example.com/v2/users` will return version 2 users.
+As a result of the above code, `https://example.com/v1/users` will return the list of users in version 1, while
+`https://example.com/v2/users` will return version 2 users.
 
 Thanks to modules, the code for different major versions can be well isolated. But modules make it still possible
 to reuse code across the modules via common base classes and other shared resources.
diff --git a/docs/guide/runtime-requests.md b/docs/guide/runtime-requests.md
index c11d52a78ce..d134f1863fd 100644
--- a/docs/guide/runtime-requests.md
+++ b/docs/guide/runtime-requests.md
@@ -76,13 +76,13 @@ if ($request->isPut)  { /* the request method is PUT */ }
 
 The `request` component provides many ways of inspecting the currently requested URL. 
 
-Assuming the URL being requested is `http://example.com/admin/index.php/product?id=100`, you can get various
+Assuming the URL being requested is `https://example.com/admin/index.php/product?id=100`, you can get various
 parts of this URL as summarized in the following:
 
 * [[yii\web\Request::url|url]]: returns `/admin/index.php/product?id=100`, which is the URL without the host info part. 
-* [[yii\web\Request::absoluteUrl|absoluteUrl]]: returns `http://example.com/admin/index.php/product?id=100`,
+* [[yii\web\Request::absoluteUrl|absoluteUrl]]: returns `https://example.com/admin/index.php/product?id=100`,
   which is the whole URL including the host info part.
-* [[yii\web\Request::hostInfo|hostInfo]]: returns `http://example.com`, which is the host info part of the URL.
+* [[yii\web\Request::hostInfo|hostInfo]]: returns `https://example.com`, which is the host info part of the URL.
 * [[yii\web\Request::pathInfo|pathInfo]]: returns `/product`, which is the part after the entry script and 
   before the question mark (query string).
 * [[yii\web\Request::queryString|queryString]]: returns `id=100`, which is the part after the question mark. 
@@ -151,8 +151,9 @@ You should not blindly trust headers provided by proxies unless you explicitly t
 Since 2.0.13 Yii supports configuring trusted proxies via the 
 [[yii\web\Request::trustedHosts|trustedHosts]],
 [[yii\web\Request::secureHeaders|secureHeaders]], 
-[[yii\web\Request::ipHeaders|ipHeaders]] and
-[[yii\web\Request::secureProtocolHeaders|secureProtocolHeaders]]
+[[yii\web\Request::ipHeaders|ipHeaders]],
+[[yii\web\Request::secureProtocolHeaders|secureProtocolHeaders]] and
+[[yii\web\Request::portHeaders|portHeaders]] (since 2.0.46)
 properties of the `request` component.
 
 The following is a request config for an application that runs behind an array of reverse proxies,
@@ -184,6 +185,7 @@ In case your proxies are using different headers you can use the request configu
         'X-Forwarded-For',
         'X-Forwarded-Host',
         'X-Forwarded-Proto',
+        'X-Forwarded-Port',
         'X-Proxy-User-Ip',
         'Front-End-Https',
     ],
diff --git a/docs/guide/runtime-responses.md b/docs/guide/runtime-responses.md
index 9934ca3d40b..0ac6e1af164 100644
--- a/docs/guide/runtime-responses.md
+++ b/docs/guide/runtime-responses.md
@@ -169,7 +169,7 @@ you can call its shortcut version [[yii\web\Controller::redirect()]]. For exampl
 ```php
 public function actionOld()
 {
-    return $this->redirect('http://example.com/new', 301);
+    return $this->redirect('https://example.com/new', 301);
 }
 ```
 
@@ -180,7 +180,7 @@ In places other than an action method, you should call [[yii\web\Response::redir
 a chained call to the [[yii\web\Response::send()]] method to ensure no extra content will be appended to the response.
 
 ```php
-\Yii::$app->response->redirect('http://example.com/new', 301)->send();
+\Yii::$app->response->redirect('https://example.com/new', 301)->send();
 ```
 
 > Info: By default, the [[yii\web\Response::redirect()]] method sets the response status code to be 302 which instructs
@@ -230,11 +230,11 @@ can terminate earlier while the Web server is sending the file. To use this feat
 the [[yii\web\Response::xSendFile()]]. The following list summarizes how to enable the `X-Sendfile` feature
 for some popular Web servers:
 
-- Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
-- Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-- Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Apache: [X-Sendfile](https://tn123.org/mod_xsendfile)
+- Lighttpd v1.4: [X-LIGHTTPD-send-file](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+- Lighttpd v1.5: [X-Sendfile](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
 - Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/start/topics/examples/xsendfile/)
-- Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
+- Cherokee: [X-Sendfile and X-Accel-Redirect](https://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
 
 
 ## Sending Response <span id="sending-response"></span>
diff --git a/docs/guide/runtime-routing.md b/docs/guide/runtime-routing.md
index 80a9ea24075..8cb24bf8366 100644
--- a/docs/guide/runtime-routing.md
+++ b/docs/guide/runtime-routing.md
@@ -156,7 +156,7 @@ echo Url::to(['post/view', 'id' => 100]);
 // creates an anchored URL: /index.php?r=post%2Fview&id=100#content
 echo Url::to(['post/view', 'id' => 100, '#' => 'content']);
 
-// creates an absolute URL: http://www.example.com/index.php?r=post%2Findex
+// creates an absolute URL: https://www.example.com/index.php?r=post%2Findex
 echo Url::to(['post/index'], true);
 
 // creates an absolute URL using the https scheme: https://www.example.com/index.php?r=post%2Findex
@@ -214,11 +214,11 @@ use yii\helpers\Url;
 // currently requested URL: /index.php?r=admin%2Fpost%2Findex
 echo Url::to();
 
-// an aliased URL: http://example.com
-Yii::setAlias('@example', 'http://example.com/');
+// an aliased URL: https://example.com
+Yii::setAlias('@example', 'https://example.com/');
 echo Url::to('@example');
 
-// an absolute URL: http://example.com/images/logo.gif
+// an absolute URL: https://example.com/images/logo.gif
 echo Url::to('/images/logo.gif', true);
 ```
 
@@ -443,29 +443,29 @@ Without using optional parameters, you would have to create 4 rules to achieve t
 
 It is possible to include Web server names in the patterns of URL rules. This is mainly useful when your application
 should behave differently for different Web server names. For example, the following rules will parse the URL
-`http://admin.example.com/login` into the route `admin/user/login` and `http://www.example.com/login` into `site/login`.
+`https://admin.example.com/login` into the route `admin/user/login` and `https://www.example.com/login` into `site/login`.
 
 ```php
 'rules' => [
-    'http://admin.example.com/login' => 'admin/user/login',
-    'http://www.example.com/login' => 'site/login',
+    'https://admin.example.com/login' => 'admin/user/login',
+    'https://www.example.com/login' => 'site/login',
 ]
 ```
 
 You can also embed parameters in the server names to extract dynamic information from them. For example, the following rule
-will parse the URL `http://en.example.com/posts` into the route `post/index` and the parameter `language=en`.
+will parse the URL `https://en.example.com/posts` into the route `post/index` and the parameter `language=en`.
 
 ```php
 'rules' => [
-    'http://<language:\w+>.example.com/posts' => 'post/index',
+    'https://<language:\w+>.example.com/posts' => 'post/index',
 ]
 ```
 
 Since version 2.0.11, you may also use protocol relative patterns that work for both, `http` and `https`.
 The syntax is the same as above but skipping the `http:` part, e.g.: `'//www.example.com/login' => 'site/login'`.
 
-> Note: Rules with server names should **not** include the subfolder of the entry script in their patterns. For example, if the applications entry script is at `http://www.example.com/sandbox/blog/index.php`, then you should use the pattern
-  `http://www.example.com/posts` instead of `http://www.example.com/sandbox/blog/posts`. This will allow your application
+> Note: Rules with server names should **not** include the subfolder of the entry script in their patterns. For example, if the applications entry script is at `https://www.example.com/sandbox/blog/index.php`, then you should use the pattern
+  `https://www.example.com/posts` instead of `https://www.example.com/sandbox/blog/posts`. This will allow your application
   to be deployed under any directory without the need to change your url rules. Yii will automatically detect the base url of the application.
 
 
@@ -631,8 +631,8 @@ And use the new rule class in the [[yii\web\UrlManager::rules]] configuration:
 ## URL normalization <span id="url-normalization"></span>
 
 Since version 2.0.10 [[yii\web\UrlManager|UrlManager]] can be configured to use [[yii\web\UrlNormalizer|UrlNormalizer]] for dealing
-with variations of the same URL, for example with and without a trailing slash. Because technically `http://example.com/path`
-and `http://example.com/path/` are different URLs, serving the same content for both of them can degrade SEO ranking.
+with variations of the same URL, for example with and without a trailing slash. Because technically `https://example.com/path`
+and `https://example.com/path/` are different URLs, serving the same content for both of them can degrade SEO ranking.
 By default normalizer collapses consecutive slashes, adds or removes trailing slashes depending on whether the
 suffix has a trailing slash or not, and redirects to the normalized version of the URL using [permanent redirection](https://en.wikipedia.org/wiki/HTTP_301).
 The normalizer can be configured globally for the URL manager or individually for each rule - by default each rule will use the normalizer
diff --git a/docs/guide/runtime-sessions-cookies.md b/docs/guide/runtime-sessions-cookies.md
index e53adc96ab1..4d7c2678fe5 100644
--- a/docs/guide/runtime-sessions-cookies.md
+++ b/docs/guide/runtime-sessions-cookies.md
@@ -131,7 +131,7 @@ session classes implementing different session storage:
 
 * [[yii\web\DbSession]]: stores session data in a database table.
 * [[yii\web\CacheSession]]: stores session data in a cache with the help of a configured [cache component](caching-data.md#cache-components).
-* [[yii\redis\Session]]: stores session data using [redis](http://redis.io/) as the storage medium.
+* [[yii\redis\Session]]: stores session data using [redis](https://redis.io/) as the storage medium.
 * [[yii\mongodb\Session]]: stores session data in a [MongoDB](https://www.mongodb.com/).
 
 All these session classes support the same set of API methods. As a result, you can switch to a different
diff --git a/docs/guide/security-authorization.md b/docs/guide/security-authorization.md
index 83563e4e61f..52ebc4be3fe 100644
--- a/docs/guide/security-authorization.md
+++ b/docs/guide/security-authorization.md
@@ -156,7 +156,7 @@ class SiteController extends Controller
 ## Role Based Access Control (RBAC) <span id="rbac"></span>
 
 Role-Based Access Control (RBAC) provides a simple yet powerful centralized access control. Please refer to
-the [Wikipedia](http://en.wikipedia.org/wiki/Role-based_access_control) for details about comparing RBAC
+the [Wikipedia](https://en.wikipedia.org/wiki/Role-based_access_control) for details about comparing RBAC
 with other more traditional access control schemes.
 
 Yii implements a General Hierarchical RBAC, following the [NIST RBAC model](https://csrc.nist.gov/CSRC/media/Publications/conference-paper/1992/10/13/role-based-access-controls/documents/ferraiolo-kuhn-92.pdf).
diff --git a/docs/guide/security-best-practices.md b/docs/guide/security-best-practices.md
index 2724ce7f45b..81578ca915f 100644
--- a/docs/guide/security-best-practices.md
+++ b/docs/guide/security-best-practices.md
@@ -162,14 +162,14 @@ from a user browser are made by the user themselves. This assumption could be fa
 
 For example, the website `an.example.com` has a `/logout` URL that, when accessed using a simple GET request, logs the user out. As long
 as it's requested by the user themselves everything is OK, but one day bad guys are somehow posting
-`<img src="http://an.example.com/logout">` on a forum the user visits frequently. The browser doesn't make any difference between
+`<img src="https://an.example.com/logout">` on a forum the user visits frequently. The browser doesn't make any difference between
 requesting an image or requesting a page so when the user opens a page with such a manipulated `<img>` tag,
 the browser will send the GET request to that URL and the user will be logged out from `an.example.com`.
 
 That's the basic idea of how a CSRF attack works. One can say that logging out a user is not a serious thing,
 however this was just an example, there are much more things one could do using this approach, for example triggering payments
 or changing data. Imagine that some website has an URL
-`http://an.example.com/purse/transfer?to=anotherUser&amount=2000`. Accessing it using GET request, causes transfer of $2000
+`https://an.example.com/purse/transfer?to=anotherUser&amount=2000`. Accessing it using GET request, causes transfer of $2000
 from authorized user account to user `anotherUser`. We know, that the browser will always send GET request to load an image,
 so we can modify code to accept only POST requests on that URL. Unfortunately, this will not save us, because an attacker
 can put some JavaScript code instead of `<img>` tag, which allows to send POST requests to that URL as well.
@@ -330,7 +330,7 @@ or explicitly set or filter the value by setting the [[yii\web\Request::setHostI
 
 For more information about the server configuration, please refer to the documentation of your webserver:
 
-- Apache 2: <http://httpd.apache.org/docs/trunk/vhosts/examples.html#defaultallports>
+- Apache 2: <https://httpd.apache.org/docs/trunk/vhosts/examples.html#defaultallports>
 - Nginx: <https://www.nginx.com/resources/wiki/start/topics/examples/server_blocks/>
 
 If you don't have access to the server configuration, you can setup [[yii\filters\HostControl]] filter at
diff --git a/docs/guide/start-databases.md b/docs/guide/start-databases.md
index 4b0c41ca281..3dc6bd2e14b 100644
--- a/docs/guide/start-databases.md
+++ b/docs/guide/start-databases.md
@@ -231,7 +231,7 @@ Trying it Out <span id="trying-it-out"></span>
 To see how all of the above code works, use your browser to access the following URL:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 ![Country List](images/start-country-list.png)
@@ -241,7 +241,7 @@ If you click on the button "2", you will see the page display another five count
 Observe more carefully and you will find that the URL in the browser also changes to
 
 ```
-http://hostname/index.php?r=country%2Findex&page=2
+https://hostname/index.php?r=country%2Findex&page=2
 ```
 
 Behind the scenes, [[yii\data\Pagination|Pagination]] is providing all of the necessary functionality to paginate a data set:
diff --git a/docs/guide/start-forms.md b/docs/guide/start-forms.md
index 3cba0c56a7b..93612c7e232 100644
--- a/docs/guide/start-forms.md
+++ b/docs/guide/start-forms.md
@@ -130,7 +130,7 @@ be rendered, wherein the HTML form will be shown, along with any validation erro
 
 > Note: In this very simple example we just render the confirmation page upon valid data submission. In practice,
   you should consider using [[yii\web\Controller::refresh()|refresh()]] or [[yii\web\Controller::redirect()|redirect()]]
-  to avoid [form resubmission problems](http://en.wikipedia.org/wiki/Post/Redirect/Get).
+  to avoid [form resubmission problems](https://en.wikipedia.org/wiki/Post/Redirect/Get).
 
 
 Creating Views <span id="creating-views"></span>
@@ -187,7 +187,7 @@ Trying it Out <span id="trying-it-out"></span>
 To see how it works, use your browser to access the following URL:
 
 ```
-http://hostname/index.php?r=site%2Fentry
+https://hostname/index.php?r=site%2Fentry
 ```
 
 You will see a page displaying a form with two input fields. In front of each input field, a label indicates what data is to be entered. If you click the submit button without
diff --git a/docs/guide/start-gii.md b/docs/guide/start-gii.md
index e4adf4590bc..17814997aff 100644
--- a/docs/guide/start-gii.md
+++ b/docs/guide/start-gii.md
@@ -42,7 +42,7 @@ defined('YII_ENV') or define('YII_ENV', 'dev');
 Thanks to that line, your application is in development mode, and will have already enabled Gii, per the above configuration. You can now access Gii via the following URL:
 
 ```
-http://hostname/index.php?r=gii
+https://hostname/index.php?r=gii
 ```
 
 > Note: If you are accessing Gii from a machine other than localhost, the access will be denied by default
@@ -107,7 +107,7 @@ Trying it Out <span id="trying-it-out"></span>
 To see how it works, use your browser to access the following URL:
 
 ```
-http://hostname/index.php?r=country%2Findex
+https://hostname/index.php?r=country%2Findex
 ```
 
 You will see a data grid showing the countries from the database table. You may sort the grid,
diff --git a/docs/guide/start-hello.md b/docs/guide/start-hello.md
index c99bf55630a..579735f20d3 100644
--- a/docs/guide/start-hello.md
+++ b/docs/guide/start-hello.md
@@ -88,7 +88,7 @@ is called in an action, it will look for a PHP file named as `views/ControllerID
 
 Note that in the above code, the `message` parameter is [[yii\helpers\Html::encode()|HTML-encoded]]
 before being printed. This is necessary as the parameter comes from an end user, making it vulnerable to
-[cross-site scripting (XSS) attacks](http://en.wikipedia.org/wiki/Cross-site_scripting) by embedding
+[cross-site scripting (XSS) attacks](https://en.wikipedia.org/wiki/Cross-site_scripting) by embedding
 malicious JavaScript code in the parameter.
 
 Naturally, you may put more content in the `say` view. The content can consist of HTML tags, plain text, and even PHP statements.
@@ -102,7 +102,7 @@ Trying it Out <span id="trying-it-out"></span>
 After creating the action and the view, you may access the new page by accessing the following URL:
 
 ```
-http://hostname/index.php?r=site%2Fsay&message=Hello+World
+https://hostname/index.php?r=site%2Fsay&message=Hello+World
 ```
 
 ![Hello World](images/start-hello-world.png)
diff --git a/docs/guide/start-installation.md b/docs/guide/start-installation.md
index 7a1c43d0e05..030af28951e 100644
--- a/docs/guide/start-installation.md
+++ b/docs/guide/start-installation.md
@@ -114,7 +114,7 @@ But there are other installation options available:
 Installing Assets <span id="installing-assets"></span>
 -----------------
 
-Yii relies on [Bower](http://bower.io/) and/or [NPM](https://www.npmjs.com/) packages for the asset (CSS and JavaScript) libraries installation.
+Yii relies on [Bower](https://bower.io/) and/or [NPM](https://www.npmjs.com/) packages for the asset (CSS and JavaScript) libraries installation.
 It uses Composer to obtain these libraries, allowing PHP and CSS/JavaScript package versions to resolve at the same time.
 This can be achieved either by usage of [asset-packagist.org](https://asset-packagist.org) or [composer asset plugin](https://github.com/fxpio/composer-asset-plugin).
 Please refer to [Assets documentation](structure-assets.md) for more details.
@@ -184,13 +184,13 @@ Configuring Web Servers <span id="configuring-web-servers"></span>
   of deploying it to a production server.
 
 The application installed according to the above instructions should work out of box with either
-an [Apache HTTP server](http://httpd.apache.org/) or an [Nginx HTTP server](http://nginx.org/), on
+an [Apache HTTP server](https://httpd.apache.org/) or an [Nginx HTTP server](https://nginx.org/), on
 Windows, Mac OS X, or Linux running PHP 5.4 or higher. Yii 2.0 is also compatible with facebook's
-[HHVM](http://hhvm.com/). However, there are some edge cases where HHVM behaves different than native
+[HHVM](https://hhvm.com/). However, there are some edge cases where HHVM behaves different than native
 PHP, so you have to take some extra care when using HHVM.
 
 On a production server, you may want to configure your Web server so that the application can be accessed
-via the URL `http://www.example.com/index.php` instead of `http://www.example.com/basic/web/index.php`. Such configuration
+via the URL `https://www.example.com/index.php` instead of `https://www.example.com/basic/web/index.php`. Such configuration
 requires pointing the document root of your Web server to the `basic/web` folder. You may also
 want to hide `index.php` from the URL, as described in the [Routing and URL Creation](runtime-routing.md) section.
 In this subsection, you'll learn how to configure your Apache or Nginx server to achieve these goals.
@@ -236,7 +236,7 @@ DocumentRoot "path/to/basic/web"
 
 ### Recommended Nginx Configuration <span id="recommended-nginx-configuration"></span>
 
-To use [Nginx](http://wiki.nginx.org/), you should install PHP as an [FPM SAPI](https://www.php.net/install.fpm).
+To use [Nginx](https://wiki.nginx.org/), you should install PHP as an [FPM SAPI](https://www.php.net/install.fpm).
 You may use the following Nginx configuration, replacing `path/to/basic/web` with the actual path for 
 `basic/web` and `mysite.test` with the actual hostname to serve.
 
diff --git a/docs/guide/start-looking-ahead.md b/docs/guide/start-looking-ahead.md
index 621d91d6279..e8c732f71c5 100644
--- a/docs/guide/start-looking-ahead.md
+++ b/docs/guide/start-looking-ahead.md
@@ -33,4 +33,4 @@ This section will summarize the Yii resources available to help you be more prod
     - Facebook: <https://www.facebook.com/groups/yiitalk/>
     - Twitter: <https://twitter.com/yiiframework>
     - LinkedIn: <https://www.linkedin.com/groups/yii-framework-1483367>
-    - Stackoverflow: <http://stackoverflow.com/questions/tagged/yii2>
+    - Stackoverflow: <https://stackoverflow.com/questions/tagged/yii2>
diff --git a/docs/guide/start-workflow.md b/docs/guide/start-workflow.md
index 202841cdc81..8784211b0df 100644
--- a/docs/guide/start-workflow.md
+++ b/docs/guide/start-workflow.md
@@ -2,13 +2,13 @@ Running Applications
 ====================
 
 After installing Yii, you have a working Yii application that can be accessed via
-the URL `http://hostname/basic/web/index.php` or `http://hostname/index.php`, depending
+the URL `https://hostname/basic/web/index.php` or `https://hostname/index.php`, depending
 upon your configuration. This section will introduce the application's built-in functionality,
 how the code is organized, and how the application handles requests in general.
 
 > Info: For simplicity, throughout this "Getting Started" tutorial, it's assumed that you have set `basic/web`
   as the document root of your Web server, and configured the URL for accessing
-  your application to be `http://hostname/index.php` or something similar.
+  your application to be `https://hostname/index.php` or something similar.
   For your needs, please adjust the URLs in our descriptions accordingly.
   
 Note that unlike framework itself, after project template is installed it's all yours. You're free to add or delete
@@ -20,7 +20,7 @@ Functionality <span id="functionality"></span>
 
 The basic application installed contains four pages:
 
-* the homepage, displayed when you access the URL `http://hostname/index.php`,
+* the homepage, displayed when you access the URL `https://hostname/index.php`,
 * the "About" page,
 * the "Contact" page, which displays a contact form that allows end users to contact you via email,
 * and the "Login" page, which displays a login form that can be used to authenticate end users. Try logging in
@@ -42,7 +42,7 @@ Application Structure <span id="application-structure"></span>
 
 The most important directories and files in your application are (assuming the application's root directory is `basic`):
 
-```js
+```
 basic/                  application base path
     composer.json       used by Composer, describes package information
     config/             contains application and other configurations
@@ -63,7 +63,7 @@ basic/                  application base path
 In general, the files in the application can be divided into two types: those under `basic/web` and those
 under other directories. The former can be directly accessed via HTTP (i.e., in a browser), while the latter can not and should not be.
 
-Yii implements the [model-view-controller (MVC)](http://wikipedia.org/wiki/Model-view-controller) architectural pattern,
+Yii implements the [model-view-controller (MVC)](https://wikipedia.org/wiki/Model-view-controller) architectural pattern,
 which is reflected in the above directory organization. The `models` directory contains all [model classes](structure-models.md),
 the `views` directory contains all [view scripts](structure-views.md), and the `controllers` directory contains
 all [controller classes](structure-controllers.md).
diff --git a/docs/guide/structure-applications.md b/docs/guide/structure-applications.md
index 748b667299d..1f0eaf457d8 100644
--- a/docs/guide/structure-applications.md
+++ b/docs/guide/structure-applications.md
@@ -275,7 +275,7 @@ including message translation, date formatting, number formatting, etc. For exam
 will use this property value by default to determine in which language the calendar should be displayed and how
 the date should be formatted.
 
-It is recommended that you specify a language in terms of an [IETF language tag](http://en.wikipedia.org/wiki/IETF_language_tag).
+It is recommended that you specify a language in terms of an [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag).
 For example, `en` stands for English, while `en-US` stands for English (United States).
 
 More details about this property can be found in the [Internationalization](tutorial-i18n.md) section.
@@ -347,7 +347,7 @@ This property specifies the language that the application code is written in. Th
 meaning English (United States). You should configure this property if the text content in your code is not in English.
 
 Like the [language](#language) property, you should configure this property in terms of
-an [IETF language tag](http://en.wikipedia.org/wiki/IETF_language_tag). For example, `en` stands for English,
+an [IETF language tag](https://en.wikipedia.org/wiki/IETF_language_tag). For example, `en` stands for English,
 while `en-US` stands for English (United States).
 
 More details about this property can be found in the [Internationalization](tutorial-i18n.md) section.
diff --git a/docs/guide/structure-assets.md b/docs/guide/structure-assets.md
index 336c135cf21..25b4b8fdfd3 100644
--- a/docs/guide/structure-assets.md
+++ b/docs/guide/structure-assets.md
@@ -79,7 +79,7 @@ explanation about the properties of [[yii\web\AssetBundle]] can be found in the
     can be determined by prepending [[yii\web\AssetManager::basePath]] to the relative path, and the actual URL
     of the file can be determined by prepending [[yii\web\AssetManager::baseUrl]] to the relative path.
   - an absolute URL representing an external JavaScript file. For example,
-    `http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` or
+    `https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` or
     `//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js`.
 * [[yii\web\AssetBundle::depends|depends]]: an array listing the names of the asset bundles that this bundle depends on
   (to be explained shortly).
@@ -207,7 +207,7 @@ the `only` publishing option, only the `fonts` and `css` subdirectories will be
 
 ### Bower and NPM Assets installation <span id="bower-npm-assets"></span>
 
-Most JavaScript/CSS packages are managed by [Bower](http://bower.io/) and/or [NPM](https://www.npmjs.com/) package 
+Most JavaScript/CSS packages are managed by [Bower](https://bower.io/) and/or [NPM](https://www.npmjs.com/) package 
 managers. In PHP world we have Composer, that manages PHP dependencies, but it is possible to load
 both Bower and NPM packages using `composer.json` just as PHP packages.
 
@@ -461,10 +461,10 @@ return [
         'assetManager' => [
             'bundles' => [
                 'app\assets\LanguageAssetBundle' => [
-                    'baseUrl' => 'http://some.cdn.com/files/i18n/en' // makes NO effect!
+                    'baseUrl' => 'https://some.cdn.com/files/i18n/en' // makes NO effect!
                 ],
                 'app\assets\LargeFileAssetBundle' => [
-                    'baseUrl' => 'http://some.cdn.com/files/large-files' // makes NO effect!
+                    'baseUrl' => 'https://some.cdn.com/files/large-files' // makes NO effect!
                 ],
             ],
         ],
@@ -579,8 +579,8 @@ as described in the [Customizing Asset Bundle](#customizing-asset-bundles) subse
 ## Asset Conversion <span id="asset-conversion"></span>
 
 Instead of directly writing CSS and/or JavaScript code, developers often write them in some extended syntax and
-use special tools to convert it into CSS/JavaScript. For example, for CSS code you may use [LESS](http://lesscss.org/)
-or [SCSS](http://sass-lang.com/); and for JavaScript you may use [TypeScript](http://www.typescriptlang.org/).
+use special tools to convert it into CSS/JavaScript. For example, for CSS code you may use [LESS](https://lesscss.org/)
+or [SCSS](https://sass-lang.com/); and for JavaScript you may use [TypeScript](https://www.typescriptlang.org/).
 
 You can list the asset files in extended syntax in the [[yii\web\AssetBundle::css|css]] and [[yii\web\AssetBundle::js|js]] properties of an asset bundle. For example,
 
@@ -644,7 +644,7 @@ asset file extension names and the commands for performing the asset conversion.
 in the commands will be replaced with the source asset file paths and the target asset file paths.
 
 > Info: There are other ways of working with assets in extended syntax, besides the one described above.
-  For example, you can use build tools such as [grunt](http://gruntjs.com/) to monitor and automatically
+  For example, you can use build tools such as [grunt](https://gruntjs.com/) to monitor and automatically
   convert assets in extended syntax. In this case, you should list the resulting CSS/JavaScript files in
   asset bundles rather than the original files.
 
@@ -840,7 +840,7 @@ the last subsection.
 
 
 > Info: Using the `asset` command is not the only option to automate the asset combining and compressing process.
-  You can use the excellent task runner tool [grunt](http://gruntjs.com/) to achieve the same goal.
+  You can use the excellent task runner tool [grunt](https://gruntjs.com/) to achieve the same goal.
 
 
 ### Grouping Asset Bundles <span id="grouping-asset-bundles"></span>
diff --git a/docs/guide/structure-controllers.md b/docs/guide/structure-controllers.md
index ee1708b317c..d7a8b9b917d 100644
--- a/docs/guide/structure-controllers.md
+++ b/docs/guide/structure-controllers.md
@@ -1,7 +1,7 @@
 Controllers
 ===========
 
-Controllers are part of the [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) architecture.
+Controllers are part of the [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) architecture.
 They are objects of classes extending from [[yii\base\Controller]] and are responsible for processing requests and
 generating responses. In particular, after taking over the control from [applications](structure-applications.md),
 controllers will analyze incoming request data, pass them to [models](structure-models.md), inject model results
@@ -83,7 +83,7 @@ or the following format if the controller belongs to a module:
 ModuleID/ControllerID/ActionID
 ```
 
-So if a user requests with the URL `http://hostname/index.php?r=site/index`, the `index` action in the `site` controller
+So if a user requests with the URL `https://hostname/index.php?r=site/index`, the `index` action in the `site` controller
 will be executed. For more details on how routes are resolved into actions, please refer to
 the [Routing and URL Creation](runtime-routing.md) section.
 
@@ -179,7 +179,7 @@ You may configure the [[yii\base\Application::controllerMap|controller map]] in
 Each application has a default controller specified via the [[yii\base\Application::defaultRoute]] property.
 When a request does not specify a [route](#routes), the route specified by this property will be used.
 For [[yii\web\Application|Web applications]], its value is `'site'`, while for [[yii\console\Application|console applications]],
-it is `help`. Therefore, if a URL is `http://hostname/index.php`, then the `site` controller will handle the request.
+it is `help`. Therefore, if a URL is `https://hostname/index.php`, then the `site` controller will handle the request.
 
 You may change the default controller with the following [application configuration](structure-applications.md#application-configurations):
 
@@ -323,8 +323,8 @@ a response object):
 ```php
 public function actionForward()
 {
-    // redirect the user browser to http://example.com
-    return $this->redirect('http://example.com');
+    // redirect the user browser to https://example.com
+    return $this->redirect('https://example.com');
 }
 ```
 
@@ -354,13 +354,13 @@ class PostController extends Controller
 
 The action parameters will be populated as follows for different requests:
 
-* `http://hostname/index.php?r=post/view&id=123`: the `$id` parameter will be filled with the value
+* `https://hostname/index.php?r=post/view&id=123`: the `$id` parameter will be filled with the value
   `'123'`,  while `$version` is still `null` because there is no `version` query parameter.
-* `http://hostname/index.php?r=post/view&id=123&version=2`: the `$id` and `$version` parameters will
+* `https://hostname/index.php?r=post/view&id=123&version=2`: the `$id` and `$version` parameters will
   be filled with `'123'` and `'2'`, respectively.
-* `http://hostname/index.php?r=post/view`: a [[yii\web\BadRequestHttpException]] exception will be thrown
+* `https://hostname/index.php?r=post/view`: a [[yii\web\BadRequestHttpException]] exception will be thrown
   because the required `$id` parameter is not provided in the request.
-* `http://hostname/index.php?r=post/view&id[]=123`: a [[yii\web\BadRequestHttpException]] exception will be thrown
+* `https://hostname/index.php?r=post/view&id[]=123`: a [[yii\web\BadRequestHttpException]] exception will be thrown
   because `$id` parameter is receiving an unexpected array value `['123']`.
 
 If you want an action parameter to accept array values, you should type-hint it with `array`, like the following:
@@ -372,8 +372,8 @@ public function actionView(array $id, $version = null)
 }
 ```
 
-Now if the request is `http://hostname/index.php?r=post/view&id[]=123`, the `$id` parameter will take the value
-of `['123']`. If the request is `http://hostname/index.php?r=post/view&id=123`, the `$id` parameter will still
+Now if the request is `https://hostname/index.php?r=post/view&id[]=123`, the `$id` parameter will take the value
+of `['123']`. If the request is `https://hostname/index.php?r=post/view&id=123`, the `$id` parameter will still
 receive the same array value because the scalar value `'123'` will be automatically turned into an array.
 
 The above examples mainly show how action parameters work for Web applications. For console applications,
diff --git a/docs/guide/structure-extensions.md b/docs/guide/structure-extensions.md
index 6409c91cc0d..dc10b3d2673 100644
--- a/docs/guide/structure-extensions.md
+++ b/docs/guide/structure-extensions.md
@@ -75,7 +75,7 @@ To do so, you should:
 2. install the class autoloaders provided by the extensions, if any.
 3. download and install all dependent extensions as instructed.
 
-If an extension does not have a class autoloader but follows the [PSR-4 standard](http://www.php-fig.org/psr/psr-4/),
+If an extension does not have a class autoloader but follows the [PSR-4 standard](https://www.php-fig.org/psr/psr-4/),
 you may use the class autoloader provided by Yii to autoload the extension classes. All you need to do is just to
 declare a [root alias](concept-aliases.md#defining-aliases) for the extension root directory. For example,
 assuming you have installed an extension in the directory `vendor/mycompany/myext`, and the extension classes
@@ -184,7 +184,7 @@ If your extension also depends on other extensions or third-party libraries, you
 Make sure you also list appropriate version constraints (e.g. `1.*`, `@stable`) for each dependent package. Use stable
 dependencies when your extension is released in a stable version.
 
-Most JavaScript/CSS packages are managed using [Bower](http://bower.io/) and/or [NPM](https://www.npmjs.com/),
+Most JavaScript/CSS packages are managed using [Bower](https://bower.io/) and/or [NPM](https://www.npmjs.com/),
 instead of Composer. Yii uses the [Composer asset plugin](https://github.com/fxpio/composer-asset-plugin)
 to enable managing these kinds of packages through Composer. If your extension depends on a Bower package, you can
 simply list the dependency in `composer.json` like the following:
@@ -240,8 +240,8 @@ we introduce some common and recommended practices in creating high quality exte
 #### Namespaces <span id="namespaces"></span>
 
 To avoid name collisions and make the classes in your extension autoloadable, you should use namespaces and
-name the classes in your extension by following the [PSR-4 standard](http://www.php-fig.org/psr/psr-4/) or
-[PSR-0 standard](http://www.php-fig.org/psr/psr-0/).
+name the classes in your extension by following the [PSR-4 standard](https://www.php-fig.org/psr/psr-4/) or
+[PSR-0 standard](https://www.php-fig.org/psr/psr-0/).
 
 Your class namespaces should start with `vendorName\extensionName`, where `extensionName` is similar to the project name
 in the package name except that it should not contain the `yii2-` prefix. For example, for the `yiisoft/yii2-imagine`
@@ -351,7 +351,7 @@ acceptance tests and functionality tests. For more details, please refer to the
 #### Versioning <span id="versioning"></span>
 
 You should give each release of your extension a version number (e.g. `1.0.1`). We recommend you follow the
-[semantic versioning](http://semver.org) practice when determining what version numbers should be used.
+[semantic versioning](https://semver.org) practice when determining what version numbers should be used.
 
 
 #### Releasing <span id="releasing"></span>
@@ -367,7 +367,7 @@ In the releases of your extension, in addition to code files, you should also co
 help other people learn about and use your extension:
 
 * A readme file in the package root directory: it describes what your extension does and how to install and use it.
-  We recommend you write it in [Markdown](http://daringfireball.net/projects/markdown/) format and name the file
+  We recommend you write it in [Markdown](https://daringfireball.net/projects/markdown/) format and name the file
   as `readme.md`.
 * A changelog file in the package root directory: it lists what changes are made in each release. The file
   may be written in Markdown format and named as `changelog.md`.
@@ -398,7 +398,7 @@ registered on [Packagist](https://packagist.org/) and can be easily installed as
 - [yiisoft/yii2-authclient](https://www.yiiframework.com/extension/yiisoft/yii2-authclient):
   provides a set of commonly used auth clients, such as Facebook OAuth2 client, GitHub OAuth2 client.
 - [yiisoft/yii2-bootstrap](https://www.yiiframework.com/extension/yiisoft/yii2-bootstrap):
-  provides a set of widgets that encapsulate the [Bootstrap](http://getbootstrap.com/) components and plugins.
+  provides a set of widgets that encapsulate the [Bootstrap](https://getbootstrap.com/) components and plugins.
 - [yiisoft/yii2-debug](https://www.yiiframework.com/extension/yiisoft/yii2-debug):
   provides debugging support for Yii applications. When this extension is used, a debugger toolbar will appear
   at the bottom of every page. The extension also provides a set of standalone pages to display more detailed
@@ -415,9 +415,9 @@ registered on [Packagist](https://packagist.org/) and can be easily installed as
 - [yiisoft/yii2-httpclient](https://www.yiiframework.com/extension/yiisoft/yii2-httpclient):
   provides an HTTP client.
 - [yiisoft/yii2-imagine](https://www.yiiframework.com/extension/yiisoft/yii2-imagine):
-  provides commonly used image manipulation functions based on [Imagine](http://imagine.readthedocs.org/).
+  provides commonly used image manipulation functions based on [Imagine](https://imagine.readthedocs.org/).
 - [yiisoft/yii2-jui](https://www.yiiframework.com/extension/yiisoft/yii2-jui):
-  provides a set of widgets that encapsulate the [JQuery UI](http://jqueryui.com/) interactions and widgets.
+  provides a set of widgets that encapsulate the [JQuery UI](https://jqueryui.com/) interactions and widgets.
 - [yiisoft/yii2-mongodb](https://www.yiiframework.com/extension/yiisoft/yii2-mongodb):
   provides the support for using [MongoDB](https://www.mongodb.com/). It includes features such as basic query,
   Active Record, migrations, caching, code generation, etc.
@@ -425,17 +425,17 @@ registered on [Packagist](https://packagist.org/) and can be easily installed as
   provides the supports for running tasks asynchronously via queues.
   It supports queues based on DB, Redis, RabbitMQ, AMQP, Beanstalk and Gearman.
 - [yiisoft/yii2-redis](https://www.yiiframework.com/extension/yiisoft/yii2-redis):
-  provides the support for using [redis](http://redis.io/). It includes features such as basic query,
+  provides the support for using [redis](https://redis.io/). It includes features such as basic query,
   Active Record, caching, etc.
 - [yiisoft/yii2-shell](https://www.yiiframework.com/extension/yiisoft/yii2-shell):
-  provides an interactive shell based on [psysh](http://psysh.org/).
+  provides an interactive shell based on [psysh](https://psysh.org/).
 - [yiisoft/yii2-smarty](https://www.yiiframework.com/extension/yiisoft/yii2-smarty):
-  provides a template engine based on [Smarty](http://www.smarty.net/).
+  provides a template engine based on [Smarty](https://www.smarty.net/).
 - [yiisoft/yii2-sphinx](https://www.yiiframework.com/extension/yiisoft/yii2-sphinx):
-  provides the support for using [Sphinx](http://sphinxsearch.com). It includes features such as basic query,
+  provides the support for using [Sphinx](https://sphinxsearch.com/). It includes features such as basic query,
   Active Record, code generation, etc.
 - [yiisoft/yii2-swiftmailer](https://www.yiiframework.com/extension/yiisoft/yii2-swiftmailer):
-  provides email sending features based on [swiftmailer](http://swiftmailer.org/).
+  provides email sending features based on [swiftmailer](https://swiftmailer.symfony.com/).
 - [yiisoft/yii2-twig](https://www.yiiframework.com/extension/yiisoft/yii2-twig):
   provides a template engine based on [Twig](https://twig.symfony.com/).
 
@@ -447,7 +447,7 @@ You don't need to install them for Yii 2.0, since they are included in the core
 - [yiisoft/yii2-jquery](https://www.yiiframework.com/extension/yiisoft/yii2-jquery):
   provides a support for [jQuery](https://jquery.com/).
 - [yiisoft/yii2-maskedinput](https://www.yiiframework.com/extension/yiisoft/yii2-maskedinput):
-  provides a masked input widget based on [jQuery Input Mask plugin](http://robinherbots.github.io/Inputmask/).
+  provides a masked input widget based on [jQuery Input Mask plugin](https://robinherbots.github.io/Inputmask/).
 - [yiisoft/yii2-mssql](https://www.yiiframework.com/extension/yiisoft/yii2-mssql):
   provides the support for using [MSSQL](https://www.microsoft.com/sql-server/).
 - [yiisoft/yii2-oracle](https://www.yiiframework.com/extension/yiisoft/yii2-oracle):
diff --git a/docs/guide/structure-filters.md b/docs/guide/structure-filters.md
index 2ede0f02dd7..165d444d3ee 100644
--- a/docs/guide/structure-filters.md
+++ b/docs/guide/structure-filters.md
@@ -142,7 +142,7 @@ For more details about access control in general, please refer to the [Authoriza
 ### Authentication Method Filters <span id="auth-method-filters"></span>
 
 Authentication method filters are used to authenticate a user using various methods, such as
-[HTTP Basic Auth](http://en.wikipedia.org/wiki/Basic_access_authentication), [OAuth 2](http://oauth.net/2/).
+[HTTP Basic Auth](https://en.wikipedia.org/wiki/Basic_access_authentication), [OAuth 2](https://oauth.net/2/).
 These filter classes are all under the `yii\filters\auth` namespace.
 
 The following example shows how you can use [[yii\filters\auth\HttpBasicAuth]] to authenticate a user using
@@ -289,7 +289,7 @@ Please refer to the [Page Caching](caching-page.md) section for more details abo
 
 ### [[yii\filters\RateLimiter|RateLimiter]] <span id="rate-limiter"></span>
 
-RateLimiter implements a rate limiting algorithm based on the [leaky bucket algorithm](http://en.wikipedia.org/wiki/Leaky_bucket).
+RateLimiter implements a rate limiting algorithm based on the [leaky bucket algorithm](https://en.wikipedia.org/wiki/Leaky_bucket).
 It is primarily used in implementing RESTful APIs. Please refer to the [Rate Limiting](rest-rate-limiting.md) section
 for details about using this filter.
 
@@ -350,13 +350,13 @@ Also check the section on [REST Controllers](rest-controllers.md#cors) if you wa
 
 The Cors filtering could be tuned using the [[yii\filters\Cors::$cors|$cors]] property.
 
-* `cors['Origin']`: array used to define allowed origins. Can be `['*']` (everyone) or `['http://www.myserver.net', 'http://www.myotherserver.com']`. Default to `['*']`.
+* `cors['Origin']`: array used to define allowed origins. Can be `['*']` (everyone) or `['https://www.myserver.net', 'https://www.myotherserver.com']`. Default to `['*']`.
 * `cors['Access-Control-Request-Method']`: array of allowed verbs like `['GET', 'OPTIONS', 'HEAD']`.  Default to `['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS']`.
 * `cors['Access-Control-Request-Headers']`: array of allowed headers. Can be `['*']` all headers or specific ones `['X-Request-With']`. Default to `['*']`.
 * `cors['Access-Control-Allow-Credentials']`: define if current request can be made using credentials. Can be `true`, `false` or `null` (not set). Default to `null`.
 * `cors['Access-Control-Max-Age']`: define lifetime of pre-flight request. Default to `86400`.
 
-For example, allowing CORS for origin : `http://www.myserver.net` with method `GET`, `HEAD` and `OPTIONS` :
+For example, allowing CORS for origin : `https://www.myserver.net` with method `GET`, `HEAD` and `OPTIONS` :
 
 ```php
 use yii\filters\Cors;
@@ -368,7 +368,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
         ],
@@ -389,7 +389,7 @@ public function behaviors()
         [
             'class' => Cors::class,
             'cors' => [
-                'Origin' => ['http://www.myserver.net'],
+                'Origin' => ['https://www.myserver.net'],
                 'Access-Control-Request-Method' => ['GET', 'HEAD', 'OPTIONS'],
             ],
             'actions' => [
diff --git a/docs/guide/structure-models.md b/docs/guide/structure-models.md
index 4fb65e16666..928df70ab62 100644
--- a/docs/guide/structure-models.md
+++ b/docs/guide/structure-models.md
@@ -1,7 +1,7 @@
 Models
 ======
 
-Models are part of the [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) architecture.
+Models are part of the [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) architecture.
 They are objects representing business data, rules and logic.
 
 You can create model classes by extending [[yii\base\Model]] or its child classes. The base class
diff --git a/docs/guide/structure-modules.md b/docs/guide/structure-modules.md
index 3567a1443e2..35ca09b8f1f 100644
--- a/docs/guide/structure-modules.md
+++ b/docs/guide/structure-modules.md
@@ -14,7 +14,7 @@ A module is organized as a directory which is called the [[yii\base\Module::base
 Within the directory, there are sub-directories, such as `controllers`, `models`, `views`, which hold controllers,
 models, views, and other code, just like in an application. The following example shows the content within a module:
 
-```js
+```
 forum/
     Module.php                   the module class file
     controllers/                 containing controller class files
diff --git a/docs/guide/structure-overview.md b/docs/guide/structure-overview.md
index 3c535d50b32..1110f61dc9d 100644
--- a/docs/guide/structure-overview.md
+++ b/docs/guide/structure-overview.md
@@ -1,7 +1,7 @@
 Overview
 ========
 
-Yii applications are organized according to the [model-view-controller (MVC)](http://wikipedia.org/wiki/Model-view-controller)
+Yii applications are organized according to the [model-view-controller (MVC)](https://wikipedia.org/wiki/Model-view-controller)
 architectural pattern. [Models](structure-models.md) represent data, business logic and rules; [views](structure-views.md)
 are output representation of models; and [controllers](structure-controllers.md) take input and convert
 it to commands for [models](structure-models.md) and [views](structure-views.md).
diff --git a/docs/guide/structure-views.md b/docs/guide/structure-views.md
index 9e37a892edd..12254cedf7d 100644
--- a/docs/guide/structure-views.md
+++ b/docs/guide/structure-views.md
@@ -1,7 +1,7 @@
 Views
 =====
 
-Views are part of the [MVC](http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) architecture.
+Views are part of the [MVC](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) architecture.
 They are code responsible for presenting data to end users. In a Web application, views are usually created
 in terms of *view templates* which are PHP script files containing mainly HTML code and presentational PHP code.
 They are managed by the [[yii\web\View|view]] [application component](structure-application-components.md) which provides commonly used methods
@@ -52,7 +52,7 @@ or other objects which trigger the [view rendering](#rendering-views).
 
 When creating views that generate HTML pages, it is important that you encode and/or filter the data coming
 from end users before presenting them. Otherwise, your application may be subject to
-[cross-site scripting](http://en.wikipedia.org/wiki/Cross-site_scripting) attacks.
+[cross-site scripting](https://en.wikipedia.org/wiki/Cross-site_scripting) attacks.
 
 To display a plain text, encode it first by calling [[yii\helpers\Html::encode()]]. For example, the following code
 encodes the user name before displaying it:
diff --git a/docs/guide/test-acceptance.md b/docs/guide/test-acceptance.md
index 9f5fb1bc726..189486d533b 100644
--- a/docs/guide/test-acceptance.md
+++ b/docs/guide/test-acceptance.md
@@ -6,8 +6,8 @@ a real browser. In both cases the browsers are communicating via HTTP so applica
 
 Acceptance testing is implemented with the help of Codeception framework which has a nice documentation about it:
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception Acceptance Tests](http://codeception.com/docs/03-AcceptanceTests)
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception Acceptance Tests](https://codeception.com/docs/03-AcceptanceTests)
 
 ## Running basic and advanced template tests
 
diff --git a/docs/guide/test-fixtures.md b/docs/guide/test-fixtures.md
index 73d140321aa..85a191c0f59 100644
--- a/docs/guide/test-fixtures.md
+++ b/docs/guide/test-fixtures.md
@@ -107,7 +107,7 @@ In the above, we have shown how to define a fixture about a DB table. To define
 
 ## Using Fixtures
 
-If you are using [Codeception](http://codeception.com/) to test your code, you can use the built-in support for loading
+If you are using [Codeception](https://codeception.com/) to test your code, you can use the built-in support for loading
 and accessing fixtures.
 
 If you are using other testing frameworks, you may use [[yii\test\FixtureTrait]] in your
diff --git a/docs/guide/test-functional.md b/docs/guide/test-functional.md
index 0c300fb65d7..908762f862a 100644
--- a/docs/guide/test-functional.md
+++ b/docs/guide/test-functional.md
@@ -11,8 +11,8 @@ JavaScript.
 
 Functional testing is implemented with the help of Codeception framework which has a nice documentation about it:
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception Functional Tests](http://codeception.com/docs/04-FunctionalTests)
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception Functional Tests](https://codeception.com/docs/04-FunctionalTests)
 
 ## Running basic and advanced template tests
 
diff --git a/docs/guide/test-unit.md b/docs/guide/test-unit.md
index 0159d4915fc..d9481474584 100644
--- a/docs/guide/test-unit.md
+++ b/docs/guide/test-unit.md
@@ -7,9 +7,9 @@ classes being tested.
 
 Unit testing in Yii is built on top of PHPUnit and, optionally, Codeception so it's recommended to go through their docs:
 
-- [Codeception for Yii framework](http://codeception.com/for/yii)
-- [Codeception Unit Tests](http://codeception.com/docs/05-UnitTests)
-- [PHPUnit docs starting from chapter 2](http://phpunit.de/manual/current/en/writing-tests-for-phpunit.html)
+- [Codeception for Yii framework](https://codeception.com/for/yii)
+- [Codeception Unit Tests](https://codeception.com/docs/05-UnitTests)
+- [PHPUnit docs starting from chapter 2](https://phpunit.de/manual/current/en/writing-tests-for-phpunit.html)
 
 ## Running basic and advanced template tests
 
diff --git a/docs/guide/tutorial-core-validators.md b/docs/guide/tutorial-core-validators.md
index 6fa31c45cf5..3b63fa2689d 100644
--- a/docs/guide/tutorial-core-validators.md
+++ b/docs/guide/tutorial-core-validators.md
@@ -139,7 +139,7 @@ Optionally, it can convert the input value into a UNIX timestamp or other machin
 specified via [[yii\validators\DateValidator::timestampAttribute|timestampAttribute]].
 
 - `format`: the date/time format that the value being validated should be in.
-   This can be a date time pattern as described in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
+   This can be a date time pattern as described in the [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax).
    Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the PHP
    `Datetime` class. Please refer to <https://www.php.net/manual/en/datetime.createfromformat.php> on supported formats.
    If this is not set, it will take the value of `Yii::$app->formatter->dateFormat`.
@@ -376,7 +376,7 @@ This validator checks if the input is a valid uploaded file.
   The wildcard mask with the special character `*` can be used to match groups of mime types.
   For example `image/*` will pass all mime types, that begin with `image/` (e.g. `image/jpeg`, `image/png`).
   Mime type names are case-insensitive. Defaults to `null`, meaning all MIME types are allowed.
-  For more details, please refer to [common media types](http://en.wikipedia.org/wiki/Internet_media_type#List_of_common_media_types).
+  For more details, please refer to [common media types](https://en.wikipedia.org/wiki/Media_type).
 - `minSize`: the minimum number of bytes required for the uploaded file. Defaults to `null`, meaning no lower limit.
 - `maxSize`: the maximum number of bytes allowed for the uploaded file. Defaults to `null`, meaning no upper limit.
 - `maxFiles`: the maximum number of files that the given attribute can hold. Defaults to 1, meaning
diff --git a/docs/guide/tutorial-docker.md b/docs/guide/tutorial-docker.md
index 61cad4ee4a0..1ad01b07212 100644
--- a/docs/guide/tutorial-docker.md
+++ b/docs/guide/tutorial-docker.md
@@ -5,14 +5,14 @@ For development and deployments Yii applications can be run as Docker containers
 
 Containers can solve many issues such as having identical software versions at developer's computer and the server, fast deployments or simulating multi-server architecture while developing.
 
-You can read more about Docker containers on [docker.com](https://www.docker.com/what-docker).
+You can read more about Docker containers on [docker.com](https://www.docker.com/why-docker).
 
 ## Requirements
 
 - `docker`
 - `docker-compose`
 
-Visit the [download page](https://www.docker.com/community-edition) to get the Docker tooling.
+Visit the [download page](https://www.docker.com/products/container-runtime) to get the Docker tooling.
 
 ## Installation
 
diff --git a/docs/guide/tutorial-i18n.md b/docs/guide/tutorial-i18n.md
index 2123f57d911..1bfbb566272 100644
--- a/docs/guide/tutorial-i18n.md
+++ b/docs/guide/tutorial-i18n.md
@@ -19,10 +19,10 @@ For example, the ID `en-US` stands for the locale of "English and the United Sta
 
 For consistency reasons, all locale IDs used in Yii applications should be canonicalized to the format of
 `ll-CC`, where `ll` is a two- or three-letter lowercase language code according to
-[ISO-639](http://www.loc.gov/standards/iso639-2/) and `CC` is a two-letter country code according to
+[ISO-639](https://www.loc.gov/standards/iso639-2/) and `CC` is a two-letter country code according to
 [ISO-3166](https://en.wikipedia.org/wiki/ISO_3166-1#Current_codes).
 More details about locale can be found in the
-[documentation of the ICU project](http://userguide.icu-project.org/locale#TOC-The-Locale-Concept).
+[documentation of the ICU project](https://unicode-org.github.io/icu/userguide/locale/#the-locale-concept).
 
 ### Language
 
@@ -246,7 +246,7 @@ full form: {name,type,style}
 echo Yii::t('app', "Example of string with ''-escaped characters'': '{' '}' '{test}' {count,plural,other{''count'' value is # '#{}'}}", ['count' => 3]);
 ```
 
-Complete format is described in the [ICU documentation](http://icu-project.org/apiref/icu4c/classMessageFormat.html).
+Complete format is described in the [ICU documentation](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classMessageFormat.html).
 In the following we will show some common usages.
 
 
@@ -274,7 +274,7 @@ echo \Yii::t('app', 'Balance: {0,number,,000,000000}', $sum);
 ```
 
 Characters used in the custom format could be found in
-[ICU API reference](http://icu-project.org/apiref/icu4c/classicu_1_1DecimalFormat.html) under "Special Pattern Characters"
+[ICU API reference](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classDecimalFormat.html) under "Special Pattern Characters"
 section.
  
  
@@ -302,7 +302,7 @@ You can also specify a custom pattern to format the date value:
 echo \Yii::t('app', 'Today is {0,date,yyyy-MM-dd}', time());
 ```
 
-[Formatting reference](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details).
+[Formatting reference](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details).
 
 
 #### Time <span id="time"></span>
@@ -325,7 +325,7 @@ You can also specify a custom pattern to format the time value:
 echo \Yii::t('app', 'It is {0,date,HH:mm}', time());
 ```
 
-[Formatting reference](http://icu-project.org/apiref/icu4c/classicu_1_1SimpleDateFormat.html#details).
+[Formatting reference](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classicu_1_1SimpleDateFormat.html#details).
 
 
 #### Spellout <span id="spellout"></span>
@@ -347,7 +347,7 @@ echo \Yii::t('app', 'I am {n,spellout,%spellout-ordinal} agent', ['n' => 47]);
 Note that there should be no space after `spellout,` and before `%`.
 
 To get a list of options available for locale you're using check 
-"Numbering schemas, Spellout" at [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/).
+"Numbering schemas, Spellout" at [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/).
 
 #### Ordinal <span id="ordinal"></span>
 
@@ -368,7 +368,7 @@ echo \Yii::t('app', '{n,ordinal,%digits-ordinal-feminine}', ['n' => 471]);
 Note that there should be no space after `ordinal,` and before `%`.
 
 To get a list of options available for locale you're using check 
-"Numbering schemas, Ordinal" at [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/).
+"Numbering schemas, Ordinal" at [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/).
 
 #### Duration <span id="duration"></span>
 
@@ -389,7 +389,7 @@ echo \Yii::t('app', '{n,duration,%in-numerals}', ['n' => 471227]);
 Note that there should be no space after `duration,` and before `%`.
 
 To get a list of options available for locale you're using check 
-"Numbering schemas, Duration" at [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/).
+"Numbering schemas, Duration" at [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/).
 
 #### Plural <span id="plural"></span>
 
@@ -415,8 +415,8 @@ while `one` matches `21` or `101`:
 ```
 
 These `other`, `few`, `many` and other special argument names vary depending on language. To learn which ones you should
-specify for a particular locale, please refer to "Plural Rules, Cardinal" at [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/). 
-Alternatively you can refer to [rules reference at unicode.org](http://cldr.unicode.org/index/cldr-spec/plural-rules).
+specify for a particular locale, please refer to "Plural Rules, Cardinal" at [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/). 
+Alternatively you can refer to [rules reference at unicode.org](https://cldr.unicode.org/index/cldr-spec/plural-rules).
 
 > Note: The above example Russian message is mainly used as a translated message, not an original message, unless you set
 > the [[yii\base\Application::$sourceLanguage|source language]] of your application as `ru-RU` and translating from Russian.
@@ -441,7 +441,7 @@ echo Yii::t('app', 'You {likeCount,plural,
 // You and one other person liked this
 ```
 
-#### Ordinal selection <span id="ordinal-selection">
+#### Ordinal selection <span id="ordinal-selection"></span>
 
 The parameter type of `selectordinal` is meant to choose a string based on language rules for ordinals for the
 locale you are translating to:
@@ -460,8 +460,8 @@ echo Yii::t('app', 'You are the {n,selectordinal,one{#st} two{#nd} few{#rd} othe
 ```
 
 The format is very close to what's used for plurals. To learn which arguments you should specify for a particular locale,
-please refer to "Plural Rules, Ordinal" at [http://intl.rmcreative.ru/](http://intl.rmcreative.ru/). 
-Alternatively you can refer to [rules reference at unicode.org](http://unicode.org/repos/cldr-tmp/trunk/diff/supplemental/language_plural_rules.html).
+please refer to "Plural Rules, Ordinal" at [https://intl.rmcreative.ru/](https://intl.rmcreative.ru/). 
+Alternatively you can refer to [rules reference at unicode.org](https://unicode-org.github.io/cldr-staging/charts/37/supplemental/language_plural_rules.html).
 
 #### Selection <span id="selection"></span>
 
@@ -743,7 +743,7 @@ such as the date and number formatting of the [[yii\i18n\Formatter]] class and t
 Both classes provide a fallback mechanism when the `intl` extension is not installed. However, the fallback implementation
 only works well for English target language. So it is highly recommended that you install `intl` when I18N is needed.
 
-The [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is based on the [ICU library](http://site.icu-project.org/) which
+The [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is based on the [ICU library](https://icu.unicode.org/) which
 provides the knowledge and formatting rules for all different locales. Different versions of ICU may produce different
 formatting result of date and number values. To ensure your website produces the same results across all environments,
 it is recommended that you install the same version of the `intl` extension (and thus the same version of ICU)
@@ -760,10 +760,10 @@ echo "ICU Data: " . INTL_ICU_DATA_VERSION . "\n";
 
 It is also recommended that you use an ICU version equal or greater than version 49. This will ensure you can use all the features
 described in this document. For example, an ICU version below 49 does not support using `#` placeholders in plural rules.
-Please refer to <http://site.icu-project.org/download> for a complete list of available ICU versions. Note that the version 
+Please refer to <https://icu.unicode.org/download> for a complete list of available ICU versions. Note that the version 
 numbering has changed after the 4.8 release (e.g., ICU 4.8, ICU 49, ICU 50, etc.)
 
 Additionally the information in the time zone database shipped with the ICU library may be outdated. Please refer
-to the [ICU manual](http://userguide.icu-project.org/datetime/timezone#TOC-Updating-the-Time-Zone-Data) for details
+to the [ICU manual](https://unicode-org.github.io/icu/userguide/datetime/timezone/#updating-the-time-zone-data) for details
 on updating the time zone database. While for output formatting the ICU timezone database is used, the time zone database
 used by PHP may be relevant too. You can update it by installing the latest version of the [pecl package `timezonedb`](https://pecl.php.net/package/timezonedb).
diff --git a/docs/guide/tutorial-performance-tuning.md b/docs/guide/tutorial-performance-tuning.md
index 9578948fdc2..be2b86f474a 100644
--- a/docs/guide/tutorial-performance-tuning.md
+++ b/docs/guide/tutorial-performance-tuning.md
@@ -11,7 +11,7 @@ factors and explain how you can improve your application performance by adjustin
 A well configured PHP environment is very important. In order to get maximum performance,
 
 - Use the latest stable PHP version. Major releases of PHP may bring significant performance improvements.
-- Enable bytecode caching with [Opcache](https://www.php.net/opcache) (PHP 5.5 or later) or [APC](https://www.php.net/apc) 
+- Enable bytecode caching with [Opcache](https://www.php.net/opcache) (PHP 5.5 or later) or [APC](https://www.php.net/manual/en/book.apcu.php) 
   (PHP 5.4). Bytecode caching avoids the time spent in parsing and including PHP scripts for every
   incoming request.
 - [Tune `realpath()` cache](https://github.com/samdark/realpath_cache_tuner).
@@ -132,7 +132,7 @@ You may also store session data in a cache by using [[yii\web\CacheSession]]. In
 when the storage limit is reached. For this reason, you should mainly use those cache storage that do not enforce
 storage limit.
 
-If you have [Redis](http://redis.io/) on your server, it is highly recommended you use it as session storage by using
+If you have [Redis](https://redis.io/) on your server, it is highly recommended you use it as session storage by using
 [[yii\redis\Session]].
 
 
@@ -218,7 +218,7 @@ The following profiling tools may be useful:
 - [Yii debug toolbar and debugger](https://github.com/yiisoft/yii2-debug/blob/master/docs/guide/README.md)
 - [Blackfire](https://blackfire.io/)
 - [XHProf](https://www.php.net/manual/en/book.xhprof.php)
-- [XDebug profiler](http://xdebug.org/docs/profiler)
+- [XDebug profiler](https://xdebug.org/docs/profiler)
 
 ## Prepare application for scaling
 
diff --git a/docs/guide/tutorial-shared-hosting.md b/docs/guide/tutorial-shared-hosting.md
index 5e93fdd2a5f..9b3109a15ff 100644
--- a/docs/guide/tutorial-shared-hosting.md
+++ b/docs/guide/tutorial-shared-hosting.md
@@ -58,7 +58,7 @@ In case of nginx you should not need any extra config files.
 
 In order to run Yii, your webserver must meet its requirements. The very minimum requirement is PHP 5.4. In order to
 check the requirements copy `requirements.php` from your root directory into the webroot directory and run it via
-browser using `http://example.com/requirements.php` URL. Don't forget to delete the file afterwards.
+browser using `https://example.com/requirements.php` URL. Don't forget to delete the file afterwards.
 
 ## Deploying an advanced project template
 
diff --git a/docs/guide/tutorial-start-from-scratch.md b/docs/guide/tutorial-start-from-scratch.md
index 9249331e290..033d01a53de 100644
--- a/docs/guide/tutorial-start-from-scratch.md
+++ b/docs/guide/tutorial-start-from-scratch.md
@@ -42,7 +42,7 @@ Make a Package
 --------------
 
 With the template defined, create a Git repository from it, and push your files there. If you're going to open source 
-your template, [Github](http://github.com) is the best place to host it. If you intend to keep your template 
+your template, [Github](https://github.com) is the best place to host it. If you intend to keep your template 
 non-collaborative, any Git repository site will do.
 
 Next, you need to register your package for Composer's sake. For public templates, the package should be registered 
diff --git a/docs/guide/tutorial-yii-integration.md b/docs/guide/tutorial-yii-integration.md
index f00d8e05376..e1bd6d5f08e 100644
--- a/docs/guide/tutorial-yii-integration.md
+++ b/docs/guide/tutorial-yii-integration.md
@@ -41,7 +41,7 @@ If a library carries its own class autoloader, you may install it in the [entry
 of your application. It is recommended the installation is done before you include the `Yii.php` file so that
 the Yii class autoloader can take precedence in autoloading classes.
 
-If a library does not provide a class autoloader, but its class naming follows [PSR-4](http://www.php-fig.org/psr/psr-4/),
+If a library does not provide a class autoloader, but its class naming follows [PSR-4](https://www.php-fig.org/psr/psr-4/),
 you may use the Yii class autoloader to autoload the classes. All you need to do is just to declare a
 [root alias](concept-aliases.md#defining-aliases) for each root namespace used in its classes. For example,
 assume you have installed a library in the directory `vendor/foo/bar`, and the library classes are under
diff --git a/docs/internals-es/translation-workflow.md b/docs/internals-es/translation-workflow.md
index 2896bc8b24d..105dab3326f 100644
--- a/docs/internals-es/translation-workflow.md
+++ b/docs/internals-es/translation-workflow.md
@@ -13,7 +13,7 @@ que en realidad son visibles para el usuario final, tales como errores de valida
 El orden para comenzar con la traducción de mensajes:
 
 1. Comprobar que en `framework/messages/config.php` su idioma aparece en `languages`. Si no, añade tu idioma allí (recuerda que debes mantener la lista en orden alfabético).
-El formato de código de idioma debe seguir el [Código de Idiomas IETF](http://es.wikipedia.org/wiki/C%C3%B3digo_de_idioma_IETF), por ejemplo, `es`.
+El formato de código de idioma debe seguir el [Código de Idiomas IETF](https://es.wikipedia.org/wiki/C%C3%B3digo_de_idioma_IETF), por ejemplo, `es`.
 2. Ir al directorio `framework` y ejecutar el comando `yii message/extract @yii/messages/config.php --languages=<tu-idioma>`.
 3. Traducir los mensajes en `framework/messages/tu-idioma/yii.php`. Asegúrate de guardar el archivo con codificación UTF-8.
 4. [Crear un pull request](https://github.com/yiisoft/yii2/blob/master/docs/internals-es/git-workflow.md).
diff --git a/docs/internals-fa/core-code-style.md b/docs/internals-fa/core-code-style.md
index e1abe931d62..e63e2b77951 100644
--- a/docs/internals-fa/core-code-style.md
+++ b/docs/internals-fa/core-code-style.md
@@ -331,7 +331,7 @@ $mul = array_reduce($numbers, function($r, $x) use($n) {
 مستند نویسی 
 -------------
 
-<p dir='rtl' align='right'> [phpDoc](http://phpdoc.org/) رو بخونید و موارد اونُ رعایت کنید.</p>
+<p dir='rtl' align='right'> [phpDoc](https://phpdoc.org/) رو بخونید و موارد اونُ رعایت کنید.</p>
 <p dir='rtl' align='right'> کد بدون مستندات مجاز نیست.</p>
 <p dir='rtl' align='right'> تمام کلاس ها باید شامل بلاک مستندات در ابتدای فایل باشند.</p>
 <p dir='rtl' align='right'> نیازی به نوشتن return@ ندارید اگر متد شما اگر چیزی را برنمیگرداند.</p>
diff --git a/docs/internals-ja/core-code-style.md b/docs/internals-ja/core-code-style.md
index 6879a8f097c..359d697cbb1 100644
--- a/docs/internals-ja/core-code-style.md
+++ b/docs/internals-ja/core-code-style.md
@@ -281,7 +281,7 @@ if (!$model && null === $event)
 ```
 
 そうしても意味が通じる場合は、`return` の後の `else` は避けてください。
-[ガード条件](http://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html) を使用しましょう。
+[ガード条件](https://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html) を使用しましょう。
 
 ```php
 $result = $this->getResult();
@@ -362,7 +362,7 @@ $mul = array_reduce($numbers, function($r, $x) use($n) {
 ドキュメント
 ------------
 
-- ドキュメントの文法については [phpDoc](http://phpdoc.org/) を参照してください。
+- ドキュメントの文法については [phpDoc](https://phpdoc.org/) を参照してください。
 - ドキュメントの無いコードは許容されません。
 - 全てのクラス・ファイルは、ファイル・レベルの doc ブロックを各ファイルの先頭に持ち、
   クラス・レベルの doc ブロックを各クラスの直前に持たなければなりません。
diff --git a/docs/internals-ja/git-workflow.md b/docs/internals-ja/git-workflow.md
index 8eed24504ed..903ad246269 100644
--- a/docs/internals-ja/git-workflow.md
+++ b/docs/internals-ja/git-workflow.md
@@ -3,8 +3,8 @@ Yii 2 寄稿者のための Git ワークフロー
 
 で、Yii の開発に貢献したい、と。すばらしい。 
 でも、あなたの修正案が速やかに採用されるチャンスを増やすために、以下のステップを踏むようにしてください。
-あなたが git と github については初めてだという場合は、最初に [github help](http://help.github.com/) や [try git](https://try.github.com) を精査したり、
-[git internal data model](http://nfarina.com/post/9868516270/git-is-simpler) についていくらか学習したりする必要があるかもしれません。
+あなたが git と github については初めてだという場合は、最初に [github help](https://help.github.com/) や [try git](https://try.github.com) を精査したり、
+[git internal data model](https://nfarina.com/post/9868516270/git-is-simpler) についていくらか学習したりする必要があるかもしれません。
 
 あなたの開発環境を準備する
 --------------------------
@@ -12,14 +12,14 @@ Yii 2 寄稿者のための Git ワークフロー
 以下のステップを踏むと Yii の開発環境を作成し、それを使って Yii フレームワークのコア・コードに取り組むことが出来るようになります。
 これらのステップは、あなたが最初に寄稿するときにだけ必要になります。
 
-### 1. github で Yii リポジトリを [Fork](http://help.github.com/fork-a-repo/) し、あなたのフォークをあなたの開発環境にクローンする
+### 1. github で Yii リポジトリを [Fork](https://help.github.com/fork-a-repo/) し、あなたのフォークをあなたの開発環境にクローンする
 
 ```
 git clone git@github.com:YOUR-GITHUB-USERNAME/yii2.git
 ```
 
 Linux において、GitHub で GIT を設定するのに問題が生じたり、"Permission Denied (publickey)" のようなエラーが発生したりする場合は、
-[setup your GIT installation to work with GitHub](http://help.github.com/linux-set-up-git/) に従ってください。
+[setup your GIT installation to work with GitHub](https://help.github.com/linux-set-up-git/) に従ってください。
 
 > Tip: あなたが Git に精通していない場合は、素晴らしい無料の [プロ Git ブック](https://git-scm.com/book/en/v2) を読むことをお勧めします。
 
@@ -154,7 +154,7 @@ Enh #999: 機能拡張の内容説明 (あなたの名前)
 
 ### 6. 修正をコミットする
 
-以下のコマンドを使って、コミットしたいファイルや変更を [staging area](http://git.github.io/git-reference/basic/#add) に追加します。
+以下のコマンドを使って、コミットしたいファイルや変更を [staging area](https://git.github.io/git-reference/basic/#add) に追加します。
 
 ```
 git add path/to/my/file.php
@@ -217,7 +217,7 @@ git push origin --delete 999-name-of-your-branch-goes-here
 
 ### 注意:
 
-退行 (regression) を早期に発見するために、github 上の Yii コード・ベースへのマージは、すべて [Travis CI](http://travis-ci.com) に取り上げられて、自動化されたテストにかけられます。
+退行 (regression) を早期に発見するために、github 上の Yii コード・ベースへのマージは、すべて [Travis CI](https://travis-ci.com) に取り上げられて、自動化されたテストにかけられます。
 コア・チームとしては、このサービスに過大な負担をかけたくないために、以下の場合にはマージの説明に 
 [`[ci skip]`](https://docs.travis-ci.com/user/customizing-the-build/#Skipping-a-build) が含まれるようにしてください。
 すなわち、プル・リクエストが下記のものである場合がそうです。
diff --git a/docs/internals-ja/translation-workflow.md b/docs/internals-ja/translation-workflow.md
index fdeecb73c3e..5bf01838d8a 100644
--- a/docs/internals-ja/translation-workflow.md
+++ b/docs/internals-ja/translation-workflow.md
@@ -15,7 +15,7 @@ Yii は国際的なアプリケーションと開発者にとって役に立つ
 1. `framework/messages/config.php` をチェックして、あなたの言語が `languages` のリストに載っていることを確認してください。
    もし無ければ、あなたの言語をそこに追加します (リストをアルファベット順に保つことを忘れないでください)。
    言語コードの形式は、例えば `ru` や `zh-CN` のように、
-   [IETF言語タグ](http://ja.wikipedia.org/wiki/IETF%E8%A8%80%E8%AA%9E%E3%82%BF%E3%82%B0) に従うべきです。
+   [IETF言語タグ](https://ja.wikipedia.org/wiki/IETF%E8%A8%80%E8%AA%9E%E3%82%BF%E3%82%B0) に従うべきです。
 2. `framework` に入って、`./yii message/extract @yii/messages/config.php --languages=<your_language>` を走らせます。
 3. `framework/messages/your_language/yii.php` のメッセージを翻訳します。ファイルは必ず UTF-8 エンコーディングを使って保存してください。
 4. [プル・リクエスト](git-workflow.md) をします。
diff --git a/docs/internals-ja/versions.md b/docs/internals-ja/versions.md
index 2a85d5d47cb..51e2eed85a3 100644
--- a/docs/internals-ja/versions.md
+++ b/docs/internals-ja/versions.md
@@ -2,7 +2,7 @@ Yii バージョン規約
 ==================
 
 この文書は Yii のバージョン付与ポリシーを要約するものです。
-私たちの現在のバージョン付与戦略は、[Semantic Versioning](http://semver.org/) の一変種です。
+私たちの現在のバージョン付与戦略は、[Semantic Versioning](https://semver.org/) の一変種です。
 
 コア開発者チームの内部では、2.0.x リリースを後方互換に保つことが重要であることが、何度も強調されました。
 しかし、これは理想としての計画です。現実の世界では達成することは困難です。
diff --git a/docs/internals-pl/core-code-style.md b/docs/internals-pl/core-code-style.md
index e2077ab58f8..d55bae539e9 100644
--- a/docs/internals-pl/core-code-style.md
+++ b/docs/internals-pl/core-code-style.md
@@ -279,7 +279,7 @@ if (!$model && null === $event)
 ```
 
 Należy unikać stosowania `else` po `return`, kiedy ma to sens.
-Należy używać [guard conditions](http://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html).
+Należy używać [guard conditions](https://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html).
 
 ```php
 $result = $this->getResult();
@@ -360,7 +360,7 @@ $mul = array_reduce($numbers, function($r, $x) use($n) {
 Dokumentacja
 ------------
 
-- Należy stosować dokumentację zgodnie ze składnią [phpDoc](http://phpdoc.org/).
+- Należy stosować dokumentację zgodnie ze składnią [phpDoc](https://phpdoc.org/).
 - Kod bez dokumentacji jest niedozwolony.
 - Każdy plik klasy musi zawierać blok dokumentacji "poziomu pliku" na początku pliku i blok dokumentacji "poziomu klasy"
   zaraz nad klasą.
diff --git a/docs/internals-pl/git-workflow.md b/docs/internals-pl/git-workflow.md
index 7dc2c5726a2..9bb88fba70d 100644
--- a/docs/internals-pl/git-workflow.md
+++ b/docs/internals-pl/git-workflow.md
@@ -3,8 +3,8 @@ Cykl produkcyjny Git dla kontrybutorów Yii 2
 
 Zatem chcesz współtworzyć Yii? Świetnie! Aby przyspieszyć proces akceptacji Twoich modyfikacji, pamiętaj o przestrzeganiu poniższych 
 wskazówek. Jeśli pierwszy raz masz do czynienia z repozytorium Git lub GitHubem, zapoznaj się najpierw z 
-[dokumentacją pomocy GitHub](http://help.github.com/), witryną [sprawdź Gita](https://try.github.com) lub też poczytaj o 
-[wewnętrznym modelu danych Git](http://nfarina.com/post/9868516270/git-is-simpler).
+[dokumentacją pomocy GitHub](https://help.github.com/), witryną [sprawdź Gita](https://try.github.com) lub też poczytaj o 
+[wewnętrznym modelu danych Git](https://nfarina.com/post/9868516270/git-is-simpler).
 
 Przygotuj swoje środowisko deweloperskie
 ----------------------------------------
@@ -12,7 +12,7 @@ Przygotuj swoje środowisko deweloperskie
 Poniższe instrukcje pomogą Ci w tworzeniu środowiska deweloperskiego dla Yii, którego możesz użyć podczas pracy nad bazowym kodem 
 frameworka Yii. Wykonać je należy tylko raz, przed pierwszą kontrybucją.
 
-### 1. [Sforkuj (zduplikuj własną wersję)](http://help.github.com/fork-a-repo/) repozytorium Yii w serwisie GitHub i sklonuj swojego forka do środowiska deweloperskiego
+### 1. [Sforkuj (zduplikuj własną wersję)](https://help.github.com/fork-a-repo/) repozytorium Yii w serwisie GitHub i sklonuj swojego forka do środowiska deweloperskiego
 
 ```
 git clone git@github.com:TWOJA-NAZWA-UZYTKOWNIKA-GITHUB/yii2.git
@@ -20,7 +20,7 @@ git clone git@github.com:TWOJA-NAZWA-UZYTKOWNIKA-GITHUB/yii2.git
 
 Jeśli napotkasz na problemy związane z Gitem i GitHubem na systemie operacyjnym Linux lub też otrzymujesz błędy typu 
 "Permission Denied (publickey)" ("Odmowa dostępu (klucz publiczny)"), musisz odpowiednio 
-[skonfigurować instalację Gita do pracy z GitHubem](http://help.github.com/linux-set-up-git/).
+[skonfigurować instalację Gita do pracy z GitHubem](https://help.github.com/linux-set-up-git/).
 
 > Tip: jeśli nie jesteś biegły w używaniu Gita, polecamy doskonałą darmową książkę [Pro Git](https://git-scm.com/book/en/v2) (z polskim tłumaczeniem dla [poprzedniej edycji](https://git-scm.com/book/pl/v1).
 
@@ -158,7 +158,7 @@ W przypadku drobnych zmian, np. literówek i poprawek dokumentacji, nie ma potrz
 
 ### 6. Zatwierdź swoje modyfikacje
 
-Dodaj swoje pliki/zmiany, które chcesz zatwierdzić do [kolejki oczekujących](http://git.github.io/git-reference/basic/#add) za pomocą
+Dodaj swoje pliki/zmiany, które chcesz zatwierdzić do [kolejki oczekujących](https://git.github.io/git-reference/basic/#add) za pomocą
 
 ```
 git add sciezka/do/mojego/pliku.php
@@ -224,7 +224,7 @@ git push origin --delete 999-nazwa-twojej-galezi-w-tym-miejscu
 ### Note:
 
 W celu wczesnego wykrycia ewentualnych problemów z integracją, każde żądanie scalenia głównego kodu Yii na GitHubie jest 
-weryfikowane przez automatyczne testy [Travis CI](http://travis-ci.com). Ponieważ ekipa głównych programistów stara się nie 
+weryfikowane przez automatyczne testy [Travis CI](https://travis-ci.com). Ponieważ ekipa głównych programistów stara się nie 
 nadużywać tej usługi, [`[ci skip]`](https://docs.travis-ci.com/user/customizing-the-build/#Skipping-a-build) jest dodawane przy komentarzu 
 scalenia kodu, jeśli żądanie:
 
diff --git a/docs/internals-pl/translation-workflow.md b/docs/internals-pl/translation-workflow.md
index 40d5deaf57b..c0fd426deba 100644
--- a/docs/internals-pl/translation-workflow.md
+++ b/docs/internals-pl/translation-workflow.md
@@ -14,7 +14,7 @@ Aby rozpocząć tłumaczenie komunikatów:
 
 1. Sprawdź plik `framework/messages/config.php` i upewnij się, że Twój język jest wymieniony w sekcji `languages`. 
    Jeśli nie, dodaj go tam (pamiętaj, że lista powinna być posortowana alfabetycznie). Format kodu języka powinien być zgodny 
-   ze [specyfikacją IETF](http://en.wikipedia.org/wiki/IETF_language_tag) (przykładowo `ru`, `zh-CN`).
+   ze [specyfikacją IETF](https://en.wikipedia.org/wiki/IETF_language_tag) (przykładowo `ru`, `zh-CN`).
 2. Przejdź do folderu `framework` i uruchom `./yii message/extract @yii/messages/config.php --languages=<twoj_jezyk>`.
 3. Przetłumacz komunikaty w pliku `framework/messages/twoj_jezyk/yii.php`. Upewnij się, że zapisujesz plik z kodowaniem UTF-8.
 4. [Wyślij prośbę o dołączenie kodu](git-workflow.md).
diff --git a/docs/internals-pl/versions.md b/docs/internals-pl/versions.md
index f60484d8190..50c0ccea181 100644
--- a/docs/internals-pl/versions.md
+++ b/docs/internals-pl/versions.md
@@ -1,7 +1,7 @@
 Wersjonowanie Yii
 =================
 
-Ten dokument podsumowuje politykę wersjonowania Yii. Naszą aktualną strategię wersjonowania jest wariant [wersjonowania semantycznego](http://semver.org/).
+Ten dokument podsumowuje politykę wersjonowania Yii. Naszą aktualną strategię wersjonowania jest wariant [wersjonowania semantycznego](https://semver.org/).
 
 Główni programiści Yii wiele razy już zgadzali się i podkreślali, że ważnym jest utrzymanie wydań 2.0.x kompatybilnych 
 wstecznie. To jednak idealna teoria, którą w praktyce nie zawsze udaje się osiągnąć. Zapoznaj się z sekcją [Wsteczna kompatybilność](bc.md), 
diff --git a/docs/internals-pt-BR/translation-workflow.md b/docs/internals-pt-BR/translation-workflow.md
index b381abc6659..ec0ff565531 100644
--- a/docs/internals-pt-BR/translation-workflow.md
+++ b/docs/internals-pt-BR/translation-workflow.md
@@ -68,7 +68,7 @@ Regras e Observações
   *itálico*, isso ajudará na revisão.
 - Para reduzir erros de digitação você pode utilizar um editor de texto como o
   MS Word para escrever pequenos blocos textos e em seguida copiar estes blocos
-  para um editor visual de Markdown como o http://dillinger.io/.
+  para um editor visual de Markdown como o https://dillinger.io/.
 
 ### Convenções Para Tradução
 
diff --git a/docs/internals-ru/core-code-style.md b/docs/internals-ru/core-code-style.md
index fb3414065a3..94e344ea4cf 100644
--- a/docs/internals-ru/core-code-style.md
+++ b/docs/internals-ru/core-code-style.md
@@ -335,7 +335,7 @@ $mul = array_reduce($numbers, function($r, $x) use($n) {
 Документация
 -------------
 
-- Для получения информации по синтаксису документации обратитесь к первоисточнику [PHPDoc](http://phpdoc.org/);
+- Для получения информации по синтаксису документации обратитесь к первоисточнику [PHPDoc](https://phpdoc.org/);
 - Код без документации недопустим;
 - Все файлы классов должны содержать блок документации в начале файла и блок документации непосредственно перед каждым классом;
 - Нет необходимости использовать тег `@return` если метод не возвращает значение;
diff --git a/docs/internals-ru/git-workflow.md b/docs/internals-ru/git-workflow.md
index 1c0e74138ca..2bc32c44a29 100644
--- a/docs/internals-ru/git-workflow.md
+++ b/docs/internals-ru/git-workflow.md
@@ -3,8 +3,8 @@
 
 Итак, вы хотите разрабатывать Yii? Хорошо! Но для того, чтобы увеличить шанс принятия ваших изменений,
 пожалуйста, следуйте следующим шагам. Если вы новичок в git и Github, вы можете сначала проверить
-[Github help](http://help.github.com/), [try git](https://try.github.com) или прочитать о
-[внутренней модели данных git](http://nfarina.com/post/9868516270/git-is-simpler).
+[Github help](https://help.github.com/), [try git](https://try.github.com) или прочитать о
+[внутренней модели данных git](https://nfarina.com/post/9868516270/git-is-simpler).
 
 Подготовка вашего рабочего окружения
 ------------------------------------
@@ -12,14 +12,14 @@
 Следующие шаги создадут рабочее окружение для Yii, которое вы можете использовать для работы над основным кодом
 фреймворка. *Эти шаги будут нужны только в первый раз*.
 
-### 1. [Сделайте форк](http://help.github.com/fork-a-repo/) репозитория Yii на Github и клонируйте этот форк в ваше рабочее окружение.
+### 1. [Сделайте форк](https://help.github.com/fork-a-repo/) репозитория Yii на Github и клонируйте этот форк в ваше рабочее окружение.
 
 ```
 git clone git@github.com:YOUR-GITHUB-USERNAME/yii2.git
 ```
 
 Если у вас есть проблемы с настройкой Git для работы с GitHub в Linux, или вы получаете ошибку похожую на "Permission Denied
-(publickey)", тогда вы должны настроить ваш Git по [этой инструкции](http://help.github.com/linux-set-up-git/)
+(publickey)", тогда вы должны настроить ваш Git по [этой инструкции](https://help.github.com/linux-set-up-git/)
 
 ### 2. Добавьте главный репозиторий Yii как дополнительный внешний git репозиторий называемый "upstream"
 
@@ -157,7 +157,7 @@ Enh #999: a description of the enhancement (Your Name)
 
 ### 6. Зафиксируйте изменения
 
-Добавляем файлы/изменения которые вы хотите зафиксировать в [staging area](http://git.github.io/git-reference/basic/#add):
+Добавляем файлы/изменения которые вы хотите зафиксировать в [staging area](https://git.github.io/git-reference/basic/#add):
 
 ```
 git add path/to/my/file.php
@@ -221,7 +221,7 @@ git push origin --delete 999-name-of-your-branch-goes-here
 ### Примечание
 
 Для обнаружения регрессии как можно раньше, каждое слияние кодовой базы Yii на Github будет подхвачено
-[Travis CI](http://travis-ci.com) для автоматического запуска тестов. Люди из *core team* не хотят нагружать
+[Travis CI](https://travis-ci.com) для автоматического запуска тестов. Люди из *core team* не хотят нагружать
 этот сервис, поэтому добавляют текст [`[ci skip]`](https://docs.travis-ci.com/user/customizing-the-build/#Skipping-a-build) в описание
 запроса на слияние, в следующих ситуациях:
 
diff --git a/docs/internals-ru/translation-workflow.md b/docs/internals-ru/translation-workflow.md
index 677495852ba..2ee10673443 100644
--- a/docs/internals-ru/translation-workflow.md
+++ b/docs/internals-ru/translation-workflow.md
@@ -54,7 +54,7 @@ php build translation "../docs/guide" "../docs/guide-ru" "Russian guide translat
 - При переводе избегайте фактических ошибок! 
 - В тексте встречаются ссылки на внешние источники, если ссылка ведет на статью, определение термина и т.п., то при
   наличии русского варианта на этом же ресурсе или ином авторитетном ресурсе, даем ссылку на русский вариант.
-  Например `http://en.wikipedia.org/wiki/Captcha` → `http://ru.wikipedia.org/wiki/Captcha`. 
+  Например `https://en.wikipedia.org/wiki/Captcha` → `https://ru.wikipedia.org/wiki/Captcha`. 
 - Комментарии в коде переводятся, если не искажают первоначального смысла; временные комментарии в тексте желательно
   использовать только локально! иначе есть вероятность попадания в релиз; 
 - При переводе названий разделов придерживаемся перевода в `README.md`; 
@@ -86,7 +86,7 @@ php build translation "../docs/guide" "../docs/guide-ru" "Russian guide translat
 
 ### Перевод рисунков
 
-Рисунки к документации содержатся в подпапке `images`. Все они созданы в [yED](http://www.yworks.com/en/products_yed_about.html).
+Рисунки к документации содержатся в подпапке `images`. Все они созданы в [yED](https://www.yworks.com/en/products_yed_about.html).
 При необходимости перевода исходный файл копируется в директорию `images` перевода, переводится и сохраняется в формате png.
 
 Подписи к рисункам переводятся.
diff --git a/docs/internals-sr-Latn/git-workflow.md b/docs/internals-sr-Latn/git-workflow.md
index 08ae802b49f..4025813570e 100644
--- a/docs/internals-sr-Latn/git-workflow.md
+++ b/docs/internals-sr-Latn/git-workflow.md
@@ -3,8 +3,8 @@ Git proces rada za Yii 2 saradnike
 
 Želite da doprinesete Yii razvoju? Divno! Kako bi povećali šanse da vaše izmene budu prihvaćene što pre, molimo da 
 ispratite sledeće korake. Ako ste novi sa Git-om
-i GitHub-om, možda bi želeli da prvo pogledate [GitHub pomoć](http://help.github.com/), [probate Git](https://try.github.com)
-ili naučite nešto novo o [Git internom modelu podataka](http://nfarina.com/post/9868516270/git-is-simpler).
+i GitHub-om, možda bi želeli da prvo pogledate [GitHub pomoć](https://help.github.com/), [probate Git](https://try.github.com)
+ili naučite nešto novo o [Git internom modelu podataka](https://nfarina.com/post/9868516270/git-is-simpler).
 
 Pripremite vaše razvojno okruženje
 ------------------------------------
@@ -12,14 +12,14 @@ Pripremite vaše razvojno okruženje
 Sledeći koraci će napraviti razvojno okruženje za Yii, koje možete koristiti kako bi radili
 na baznom kodu Yii frejmvorka. Ovi se koraci trebaju uraditi samo jednom.
 
-### 1. [Forkujte](http://help.github.com/fork-a-repo/) Yii repozitorijum na GitHub-u i klonirajte vaš fork na vašem razvojnom okruženju
+### 1. [Forkujte](https://help.github.com/fork-a-repo/) Yii repozitorijum na GitHub-u i klonirajte vaš fork na vašem razvojnom okruženju
 
 ```
 git clone git@github.com:VASE-GITHUB-KORISNICKO-IME/yii2.git
 ```
 
 Ako imate problema sa podešavanjem Git-a sa GitHub-om na Linux-u ili dobijate greške tipa "Permission Denied (publickey)",
-onda morate [podesiti vašu Git instalaciju da radi sa GitHub-om](http://help.github.com/linux-set-up-git/)
+onda morate [podesiti vašu Git instalaciju da radi sa GitHub-om](https://help.github.com/linux-set-up-git/)
 
 ### 2. Dodajte glavni Yii repozitorijum kao dodatni git repozitorijum sa nazivom "upstream"
 
@@ -121,7 +121,7 @@ Za veoma male izmene, na primer, greške u tekstu, izmene na dokumentaciji, nije
 
 ### 6. Komitujte promene
 
-dodajte fajlove/promene koje želite da [komitujete](http://git.github.io/git-reference/basic/#add) sa
+dodajte fajlove/promene koje želite da [komitujete](https://git.github.io/git-reference/basic/#add) sa
 
 ```
 git add path/to/my/file.php
@@ -173,7 +173,7 @@ git push origin --delete 999-IME-VASE-GRANE
 
 ### Napomena:
 
-Kako bi rano otkrili regresije u Yii kodu prilikom svake integracije na GitHub-u pokreće se [Travis CI](http://travis-ci.com) kako bi se radilo testiranje. Pošto Yii tim ne želi da preoptereti ovaj servis,
+Kako bi rano otkrili regresije u Yii kodu prilikom svake integracije na GitHub-u pokreće se [Travis CI](https://travis-ci.com) kako bi se radilo testiranje. Pošto Yii tim ne želi da preoptereti ovaj servis,
 [`[ci skip]`](https://docs.travis-ci.com/user/customizing-the-build/#Skipping-a-build) će biti uključen prilikom svake integracije ako pull zahtev:
 
 * utiče samo na javascript, css i slike,
diff --git a/docs/internals-sr-Latn/translation-workflow.md b/docs/internals-sr-Latn/translation-workflow.md
index 8cbf9cab1c4..52ab760ffe4 100644
--- a/docs/internals-sr-Latn/translation-workflow.md
+++ b/docs/internals-sr-Latn/translation-workflow.md
@@ -12,7 +12,7 @@ Da bi započeli rad sa prevodom poruka potrebno je da:
 
 1. Otvorite `framework/messages/config.php` i proverite da li je vaš jezik naveden u `languages`. Ako nije,
    dodajte tu vaš jezik (ne zaboravite da zadržite alfabetički rapored). Format koda jezika treba da prati 
-   [IETF jezičku tag specifikaciju](http://en.wikipedia.org/wiki/IETF_language_tag), na primer, `ru`, `zh-CN`.
+   [IETF jezičku tag specifikaciju](https://en.wikipedia.org/wiki/IETF_language_tag), na primer, `ru`, `zh-CN`.
 2. Uđite u `framework` direktorijum i pokrenite `./yii message/extract @yii/messages/config.php --languages=<your_language>`.
 3. Prevedite poruke unutar `framework/messages/your_language/yii.php` fajla. Pobrinite se da se fajl sačuva sa UTF-8 enkodingom.
 4. [Napravite pull zahtev](https://github.com/yiisoft/yii2/blob/master/docs/internals-sr-Latn/git-workflow.md).
diff --git a/docs/internals-uk/core-code-style.md b/docs/internals-uk/core-code-style.md
index 6075a1bfddb..4eaac14c6ec 100644
--- a/docs/internals-uk/core-code-style.md
+++ b/docs/internals-uk/core-code-style.md
@@ -251,7 +251,7 @@ if (!$model && null === $event)
 ```
 
 Краще уникайте використання `else` після `return`, де це має сенс.
-Використовуйте [вартові умови](http://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html).
+Використовуйте [вартові умови](https://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html).
 
 ```php
 $result = $this->getResult();
@@ -332,7 +332,7 @@ $mul = array_reduce($numbers, function($r, $x) use($n) {
 Документація
 ------------
 
-- Див. [PHPDoc](http://phpdoc.org/) для довідки про синтаксис документації.
+- Див. [PHPDoc](https://phpdoc.org/) для довідки про синтаксис документації.
 - Код без документації не допускається.
 - Усі файли класів повинні містити файловий ("file-level") doc-блок на початку
   та класовий ("class-level") doc-блок безпосередньо над кожним класом.
diff --git a/docs/internals-uk/git-workflow.md b/docs/internals-uk/git-workflow.md
index 140d9a57106..d8e4ee475e7 100644
--- a/docs/internals-uk/git-workflow.md
+++ b/docs/internals-uk/git-workflow.md
@@ -3,9 +3,9 @@
 
 Ви бажаєте взяти участь в розробці Yii? Чудово! Але, щоб підвищити шанси швидкого прийняття ваших змін, будь ласка,
 дотримуйтесь наступних кроків. Якщо ви новачок у Git та GitHub, спершу можете ознайомитись із
-[довідкою GitHub](http://help.github.com/), [тренером Git](https://try.github.com), [інтерактивним туром Git How To](http://githowto.com/)
-або почитати книгу [Магія Git](http://www-cs-students.stanford.edu/~blynn/gitmagic/intl/uk/)
-чи [Розділ Git у Вікіпідручнику](http://uk.wikibooks.org/wiki/Git), щоб краще зрозуміти внутрішню структуру Git.
+[довідкою GitHub](https://help.github.com/), [тренером Git](https://try.github.com), [інтерактивним туром Git How To](https://githowto.com/)
+або почитати книгу [Магія Git](https://www-cs-students.stanford.edu/~blynn/gitmagic/intl/uk/)
+чи [Розділ Git у Вікіпідручнику](https://uk.wikibooks.org/wiki/Git), щоб краще зрозуміти внутрішню структуру Git.
 
 Підготовка вашого середовища розробки
 -------------------------------------
@@ -13,7 +13,7 @@
 Наступні кроки створять середовище розробки для Yii, яке ви зможете використовувати для роботи
 над основним кодом фреймворку Yii. Ці кроки необхідні лише тоді, коли ви вперше долучаєтесь до співпраці.
 
-### 1. [Створіть форк](http://help.github.com/fork-a-repo/) репозиторію Yii на GitHub та клонуйте свій форк у своє середовище розробки
+### 1. [Створіть форк](https://help.github.com/fork-a-repo/) репозиторію Yii на GitHub та клонуйте свій форк у своє середовище розробки
 
 ```
 git clone git@github.com:ВАШЕ-ІМ’Я-НА-GITHUB/yii2.git
@@ -138,7 +138,7 @@ Enh #999: a description of the enhancement (Your Name)
 
 ### 6. Створіть комміт ваших змін
 
-Додайте файли/зміни, призначені для комміту, в [буферну зону](http://git.github.io/git-reference/basic/#add) за допомогою команди:
+Додайте файли/зміни, призначені для комміту, в [буферну зону](https://git.github.io/git-reference/basic/#add) за допомогою команди:
 
 ```
 git add path/to/my/file.php
@@ -202,7 +202,7 @@ git push origin --delete 999-name-of-your-branch-goes-here
 ### Примітка:
 
 Для виявлення регресу на ранніх стадіях кожне поєднання з кодовою базою Yii на GitHub опрацьовується у
-[Travis CI](http://travis-ci.com) для автоматичного запуску тестів. Оскільки основна команда розробників не бажає
+[Travis CI](https://travis-ci.com) для автоматичного запуску тестів. Оскільки основна команда розробників не бажає
 перевантажувати сервіс, додавайте [`[ci skip]`](https://docs.travis-ci.com/user/customizing-the-build/#Skipping-a-build) до
 опису поєднання, якщо ваш "pull request":
 
diff --git a/docs/internals-uk/translation-workflow.md b/docs/internals-uk/translation-workflow.md
index 28059a02417..fddf3c143f8 100644
--- a/docs/internals-uk/translation-workflow.md
+++ b/docs/internals-uk/translation-workflow.md
@@ -57,7 +57,7 @@ php build translation "../docs/guide" "../docs/guide-uk" "Ukrainian guide transl
 
 ### Переклад зображень
 
-Зображення до документації знаходяться у вкладеній директорії `images`. Усі вони створенні програмою [yED](http://www.yworks.com/en/products/yfiles/yed/).
+Зображення до документації знаходяться у вкладеній директорії `images`. Усі вони створенні програмою [yED](https://www.yworks.com/en/products/yfiles/yed/).
 При необхідності перекладу оригінальний файл копіюється в директорію `images` перекладу, перекладається та зберігається у форматі png.
 
 Перелік зображень, що потребують перекладу, можна знайти за нижченаведеним посиланням:
@@ -73,7 +73,7 @@ php build translation "../docs/guide" "../docs/guide-uk" "Ukrainian guide transl
 
 ### Список термінів
 
-[Англійсько-українські словники](http://e2u.org.ua)
+[Англійсько-українські словники](https://e2u.org.ua)
 
 - action — дія;
 - Active Record — (не перекладається);
diff --git a/docs/internals-uk/versions.md b/docs/internals-uk/versions.md
index eba65117a0e..1e4ca155bb6 100644
--- a/docs/internals-uk/versions.md
+++ b/docs/internals-uk/versions.md
@@ -3,7 +3,7 @@
 
 Цей документ описує політику призначення версій Yii. Поточна стратегія призначення версій
 базується на [ferver](https://github.com/jonathanong/ferver), це за думкою розробників є більш практичним
-та розумним рішенням, ніж використання [semver](http://semver.org/) (див. [#7408](https://github.com/yiisoft/yii2/issues/7408) для довідки).
+та розумним рішенням, ніж використання [semver](https://semver.org/) (див. [#7408](https://github.com/yiisoft/yii2/issues/7408) для довідки).
 
 У колі головних розробників неодноразово підкреслювалась важливість зберігати зворотну сумісність релізів 2.0.x на 100%.
 Але це ідеалістичний план. Стаття про ferver доводить, що досягнути цього на практиці дуже важко,
diff --git a/docs/internals-uz/translation-workflow.md b/docs/internals-uz/translation-workflow.md
index b535fb7ab8a..a0d817c5c22 100644
--- a/docs/internals-uz/translation-workflow.md
+++ b/docs/internals-uz/translation-workflow.md
@@ -48,7 +48,7 @@ Barcha o'zgarishlarni quyidagi ko'rinishda olib boramiz [pull request](https://g
 - Tarjima vaqtida fakt xatoliklarni qilmang! 
 - Matnda tashqi manbalarga murojaatlar uchraydi, agar murojaat terminni izohlash maqolasiga olib boradigan bo'lsa, u holda 
   o'zbekchada tarjimasi bo'r bo'lgan vaziyatda o'zbekchasiga murojaat qilinadi.
-  Masalan `http://en.wikipedia.org/wiki/Captcha` → `http://uz.wikipedia.org/wiki/Captcha`.
+  Masalan `https://en.wikipedia.org/wiki/Captcha` → `https://uz.wikipedia.org/wiki/Captcha`.
 - Sharhlar kodda tarjima qilinadi, agarda birinchi holatdagi mazmunini o'zgartirmasa; Matndagi vaqtinchalik sharhlarni 
   imkon qadar faqat *lokal*da ishlatish kerak! Aks holda uni reliz ga tushib qolish ehtimoli bor; 
 - Bo'limlarni tarjima qilish vaqtida `README.md` dagi tarjimani olib ketamiz; 
@@ -79,7 +79,7 @@ Tarjima qilish vaqtida hujjatning struktura birligini to'g'ri nomlash muhim. Quy
 
 ### Rasmlarni tarjima qilish
 
-Qo'llanma uchun rasmlar `images` qism katalogida joylashgan. Ularning barchasi [yED](http://www.yworks.com/en/products_yed_about.html) da yaratilgan.
+Qo'llanma uchun rasmlar `images` qism katalogida joylashgan. Ularning barchasi [yED](https://www.yworks.com/en/products_yed_about.html) da yaratilgan.
 Zarurat tug'ilgan vaqtda fayl tarjima qilinayotgan katalogning `images` katalogiga nusxalanadi va tarjima qilinib png formatida saqlanadi.
 
 Rasmlardagi yozuvlar tarjima qilinadi.
diff --git a/docs/internals/core-code-style.md b/docs/internals/core-code-style.md
index 78199c4b81b..0396b28b703 100644
--- a/docs/internals/core-code-style.md
+++ b/docs/internals/core-code-style.md
@@ -281,7 +281,7 @@ if (!$model && null === $event)
 ```
 
 Prefer avoiding `else` after `return` where it makes sense.
-Use [guard conditions](http://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html).
+Use [guard conditions](https://refactoring.com/catalog/replaceNestedConditionalWithGuardClauses.html).
 
 ```php
 $result = $this->getResult();
@@ -362,7 +362,7 @@ $mul = array_reduce($numbers, function($r, $x) use($n) {
 Documentation
 -------------
 
-- Refer to [phpDoc](http://phpdoc.org/) for documentation syntax.
+- Refer to [phpDoc](https://phpdoc.org/) for documentation syntax.
 - Code without documentation is not allowed.
 - All class files must contain a "file-level" docblock at the top of each file
   and a "class-level" docblock immediately above each class.
diff --git a/docs/internals/git-workflow.md b/docs/internals/git-workflow.md
index f61a306eccc..681b7c71b1f 100644
--- a/docs/internals/git-workflow.md
+++ b/docs/internals/git-workflow.md
@@ -3,8 +3,8 @@ Git workflow for Yii 2 contributors
 
 So you want to contribute to Yii? Great! But to increase the chances of your changes being accepted quickly, please
 follow the following steps. If you are new to Git
-and GitHub, you might want to first check out [GitHub help](http://help.github.com/), [try Git](https://try.github.com)
-or learn something about [Git internal data model](http://nfarina.com/post/9868516270/git-is-simpler).
+and GitHub, you might want to first check out [GitHub help](https://help.github.com/), [try Git](https://try.github.com)
+or learn something about [Git internal data model](https://nfarina.com/post/9868516270/git-is-simpler).
 
 Prepare your development environment
 ------------------------------------
@@ -12,14 +12,14 @@ Prepare your development environment
 The following steps will create a development environment for Yii, which you can use to work
 on the core code of Yii framework. These steps only need to be done the first time you contribute.
 
-### 1. [Fork](http://help.github.com/fork-a-repo/) the Yii repository on GitHub and clone your fork to your development environment
+### 1. [Fork](https://help.github.com/fork-a-repo/) the Yii repository on GitHub and clone your fork to your development environment
 
 ```
 git clone git@github.com:YOUR-GITHUB-USERNAME/yii2.git
 ```
 
 If you have trouble setting up Git with GitHub in Linux, or are getting errors like "Permission Denied (publickey)",
-then you must [setup your Git installation to work with GitHub](http://help.github.com/linux-set-up-git/)
+then you must [setup your Git installation to work with GitHub](https://help.github.com/linux-set-up-git/)
 
 > Tip: if you're not fluent with Git, we recommend reading excellent free [Pro Git book](https://git-scm.com/book/en/v2).
 
@@ -154,7 +154,7 @@ For very small fixes, e.g. typos and documentation changes, there is no need to
 
 ### 6. Commit your changes
 
-add the files/changes you want to commit to the [staging area](http://git.github.io/git-reference/basic/#add) with
+add the files/changes you want to commit to the [staging area](https://git.github.io/git-reference/basic/#add) with
 
 ```
 git add path/to/my/file.php
@@ -218,7 +218,7 @@ git push origin --delete 999-name-of-your-branch-goes-here
 ### Note:
 
 To detect regressions early every merge to the Yii codebase on GitHub will be picked up by
-[Travis CI](http://travis-ci.com) for an automated testrun. As core team doesn't wish to overtax this service,
+[Travis CI](https://travis-ci.com) for an automated testrun. As core team doesn't wish to overtax this service,
 [`[ci skip]`](https://docs.travis-ci.com/user/customizing-the-build/#Skipping-a-build) will be included to the merge description if
 the pull request:
 
diff --git a/docs/internals/translation-workflow.md b/docs/internals/translation-workflow.md
index 88ceee66c5c..a7c71328972 100644
--- a/docs/internals/translation-workflow.md
+++ b/docs/internals/translation-workflow.md
@@ -14,7 +14,7 @@ In order to start with message translation:
 
 1. Check `framework/messages/config.php` and make sure your language is listed in `languages`. If not,
    add your language there (remember to keep the list in alphabetical order). The format of language code
-   should follow [IETF language tag spec](http://en.wikipedia.org/wiki/IETF_language_tag), for example,
+   should follow [IETF language tag spec](https://en.wikipedia.org/wiki/IETF_language_tag), for example,
    `ru`, `zh-CN`.
 2. Go to `framework` and run `./yii message/extract @yii/messages/config.php --languages=<your_language>`.
 3. Translate messages in `framework/messages/your_language/yii.php`. Make sure file is saved using UTF-8 encoding.
diff --git a/docs/internals/versions.md b/docs/internals/versions.md
index 78aaf6d22be..4ae3a228184 100644
--- a/docs/internals/versions.md
+++ b/docs/internals/versions.md
@@ -2,7 +2,7 @@ Yii Versioning
 ==============
 
 This document summarizes the versioning policy of Yii. Our current versioning strategy is
-a variant of [Semantic Versioning](http://semver.org/).
+a variant of [Semantic Versioning](https://semver.org/).
 
 Within the core developer team, we have emphasized several times that it is important to keep 2.0.x releases backwards
 compatible. But this is an ideal plan. In a real world this is hard to achieve. See [Backwards Compatibility](bc.md)
diff --git a/framework/BaseYii.php b/framework/BaseYii.php
index 002b0f61ed8..1195b2349a0 100644
--- a/framework/BaseYii.php
+++ b/framework/BaseYii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii;
@@ -93,7 +93,7 @@ class BaseYii
      */
     public static function getVersion()
     {
-        return '2.0.44-dev';
+        return '2.0.46-dev';
     }
 
     /**
@@ -130,7 +130,7 @@ public static function getVersion()
      */
     public static function getAlias($alias, $throwException = true)
     {
-        if (strncmp($alias, '@', 1) !== 0) {
+        if (strncmp((string)$alias, '@', 1) !== 0) {
             // not an alias
             return $alias;
         }
@@ -203,11 +203,11 @@ public static function getRootAlias($alias)
      * @param string $alias the alias name (e.g. "@yii"). It must start with a '@' character.
      * It may contain the forward-slash '/' which serves as a boundary character when performing
      * alias translation by [[getAlias()]].
-     * @param string $path the path corresponding to the alias. If this is null, the alias will
+     * @param string|null $path the path corresponding to the alias. If this is null, the alias will
      * be removed. Trailing '/' and '\' characters will be trimmed. This can be
      *
      * - a directory or a file path (e.g. `/tmp`, `/tmp/main.txt`)
-     * - a URL (e.g. `http://www.yiiframework.com`)
+     * - a URL (e.g. `https://www.yiiframework.com`)
      * - a path alias (e.g. `@yii/base`). In this case, the path alias will be converted into the
      *   actual path first by calling [[getAlias()]].
      *
@@ -262,7 +262,7 @@ public static function setAlias($alias, $path)
      *    to include the file associated with the corresponding path alias
      *    (e.g. `@yii/base/Component.php`);
      *
-     * This autoloader allows loading classes that follow the [PSR-4 standard](http://www.php-fig.org/psr/psr-4/)
+     * This autoloader allows loading classes that follow the [PSR-4 standard](https://www.php-fig.org/psr/psr-4/)
      * and have its top-level namespace or sub-namespaces defined as path aliases.
      *
      * Example: When aliases `@yii` and `@yii/bootstrap` are defined, classes in the `yii\bootstrap` namespace
@@ -384,7 +384,7 @@ public static function getLogger()
 
     /**
      * Sets the logger object.
-     * @param Logger $logger the logger object.
+     * @param Logger|null $logger the logger object.
      */
     public static function setLogger($logger)
     {
@@ -502,7 +502,7 @@ public static function endProfile($token, $category = 'application')
     public static function powered()
     {
         return \Yii::t('yii', 'Powered by {yii}', [
-            'yii' => '<a href="http://www.yiiframework.com/" rel="external">' . \Yii::t('yii',
+            'yii' => '<a href="https://www.yiiframework.com/" rel="external">' . \Yii::t('yii',
                     'Yii Framework') . '</a>',
         ]);
     }
@@ -528,7 +528,7 @@ public static function powered()
      * @param string $category the message category.
      * @param string $message the message to be translated.
      * @param array $params the parameters that will be used to replace the corresponding placeholders in the message.
-     * @param string $language the language code (e.g. `en-US`, `en`). If this is null, the current
+     * @param string|null $language the language code (e.g. `en-US`, `en`). If this is null, the current
      * [[\yii\base\Application::language|application language]] will be used.
      * @return string the translated message.
      */
diff --git a/framework/CHANGELOG.md b/framework/CHANGELOG.md
index da783b578fe..5750f041f53 100644
--- a/framework/CHANGELOG.md
+++ b/framework/CHANGELOG.md
@@ -1,36 +1,106 @@
 Yii Framework 2 Change Log
 ==========================
 
-2.0.44 under development
+2.0.46 under development
 ------------------------
 
-- Enh #13105: Add yiiActiveForm validate_only property for skipping form auto-submission (ptolomaues)
-- Enh #18967: Use proper attribute names for tabular data in `yii\widgets\ActiveField::addAriaAttributes()` (AnkIF)
-- Bug #18798: Fix `StringHelper::dirname()` when passing string with a trailing slash (perlexed)
-- Enh #18328: Raise warning when trying to register a file after `View::endPage()` has been called (perlexed)
-- Enh #18812: Added error messages and optimized "error" methods in `yii\helpers\BaseJson` (WinterSilence, samdark)
-- Chg #18823: Rollback changes #18806 in `yii\validators\ExistValidator::checkTargetRelationExistence()` (WinterSilence)
-- Enh #18826: Add ability to turn the sorting off for a clicked column in GridView with multisort (ditibal)
+- Bug #19467: Revert changes in `Inflector::camel2words()` introduced in #19204 (samdark)
+- Bug #19471: Enable console commands on hostings with disabled `exec()` function (WinterSilence, lubosdz)
+- Bug #19469: Fix a virtual relation not working because of new isset checks in `\yii\db\ActiveRelationTrait` (wvanheumen)
+- Bug #19380: Fix PHP 8.1 passing non string to trim() in `yii\db\Query` (wa1kb0y)
+- Bug #19272: Fix bug in dirty attributes check on multidimensional array (speedplli)
+- Bug #19349: Fix PHP 8.1 error when attribute and label of `yii\grid\DataColumn` are empty (githubjeka)
+- Bug #19243: Handle `finfo_open` for tar.xz as `application/octet-stream` on PHP 8.1 (longthanhtran)
+- Bug #19235: Fix return type compatibility of `yii\web\SessionIterator` class methods for PHP 8.1 (virtual-designer)
+- Bug #19256: Pass missed `$view` to user's callback in `yii\validators\InlineValidator::clientValidateAttribute()` (WinterSilence)
+- Enh #19270: Replace deprecated `scss` converter in `yii\web\AssetConverter::$commands` (WinterSilence)
+- Enh #19254: Support specifying custom characters for `yii.validation.trim()` and replace deprecated `jQuery.trim()` (WinterSilence)
+- Bug #19291: Reset errors and validators in `yii\base\Model::__clone()` (WinterSilence)
+- Enh #19295: Added alias `text/rtf` for mime-type `application/rtf` (lesha724)
+- Enh #19308: Add `yii\web\UploadedFile::$fullPath` represents 'full_path' key added in PHP 8.1 (WinterSilence)
+- Bug #19303: Fix serialization in `yii\caching\Dependency::generateReusableHash()` (WinterSilence)
+- Enh #19304: Add filtering validator `yii\validators\TrimValidator` (WinterSilence)
+- Enh #19309: Optimize `yii\base\Model::attributes()` (WinterSilence)
+- Bug #19322: Revert force setting value to empty string in case it's `null` in `yii\validators\FilterValidator::validateAttribute()` (bizley)
+- Bug #19324: Fix `yii\helpers\BaseHtml::renderSelectOptions()` giving wrong selection for boolean attributes (adnandautovic)
+- Bug #19329: Fix `yii\web\GroupUrlRule` to properly normalize prefix (bizley)
+- Bug #19328: Passing null to parameter #1 ($string) of type string is deprecated in `yii\db\oci\Schema` (Arkeins)
+- Enh #19318: Add support for typecasting PHP 8.1 enums (EtienneBruines)
+- Bug #19237: Fix OCI PHP 8.1 passing `null` to trim() (longthanhtran)
+- Bug #19312: Fix PHP 8.1 error when passing null to `yii\helpers\BaseInflector` (WinterSilence)
+- Bug #19368: Fix PHP 8.1 error when `$fileMimeType` is `null` in `yii\validators\FileValidator::validateMimeType()` (bizley)
+- Enh #19384: Normalize `setBodyParams()` and `getBodyParam()` in `yii\web\Request` (WinterSilence, albertborsos)
+- Bug #19386: Fix recursive calling `yii\helpers\BaseArrayHelper::htmlDecode()` (WinterSilence)
+- Bug #19407: Fix `yii\validators\UniqueValidator` and `yii\validators\ExistValidator` to respect `skipOnError` option for target attributes (bizley)
+- Bug #19418: Fix `yii\filters\auth\CompositeAuth` ignoring `only` and `except` options (lesha724)
+- Enh #19401: Delay `exit(1)` in `yii\base\ErrorHandler::handleFatalError` (arrilot)
+- Bug #19402: Add shutdown event and fix working directory in `yii\base\ErrorHandler` (WinterSilence)
+- Enh #19416: Update and improve configurations for `yii\console\controllers\MessageController` (WinterSilence)
+- Bug #19403: Fix types in `yii\web\SessionIterator` (WinterSilence)
+- Enh #19420: Update list of JS callbacks in `yii\widgets\MaskedInput` (WinterSilence)
+- Bug #19400: Fix passing null in `yii\web\Response::redirect()` (bizley)
+- Enh #19437: Add support to specify request port by trusted proxies in `\yii\web\Request::getServerPort()` (rhertogh)
+- Bug #19445: Fix caching in `yii\i18n\Formatter::getUnitMessage()` (WinterSilence)
+- Bug #19454: Fix PDO exception code not properly passed to `yii\db\Exception` (Roguyt)
+- Bug #19477: cast shell_exec() output to string (schmunk42)
+- Bug #19481: Exception is always empty in ErrorHandler when handling fatal error (Renkas)
+- Bug #19462: Fix validator client options to encode HTML tags (bizley)
+- Bug #19259: Fix `yii\log\FileTarget` locking and always rotate files only by copy (bizley, mikehaertl)
+
+2.0.45 February 11, 2022
+------------------------
+
+- Bug #19004: Container::resolveCallableDependencies() unable to handle union and intersection types (sartor)
+- Bug #19041: Fix PHP 8.1 issues (longthanhtran, samdark, pamparam83, sartor, githubjeka)
+- Bug #19047: Fix deprecated preg_match() passing null parameters #2 in db\mysql\Schema.php (longthanhtran)
+- Bug #19130: Fix DbSession breaks in some case (longthanhtran)
+- Bug #19138: Allow digits in language code (ntesic)
+- Bug #19148: Fix undefined array key errors in `yii\db\ActiveRelationTrait` (stevekr)
+- Bug #19182: RBAC Migration failed when use oracle with oci8 (Murolike)
+- Bug #19187: Fix `yii\filters\PageCache` to store original headers names instead of normalized ones (bizley)
+- Bug #19191: Change `\Exception` to `\Throwable` in `BadRequestHttpException` and `HttpException` (Dmitrijlin)
+- Bug #19204: Support numbers in Inflector::camel2words (longthanhtran)
+- Enh #18821: Allow `yii\db\ExpressionInterface` as column in `yii\db\conditions\InBuilder` (ntesic)
+- Enh #19171: Added `$pagination` and `$sort` to `\yii\rest\IndexAction` for easy configuration (rhertogh)
+
+
+2.0.44 December 30, 2021
+------------------------
+
+- Bug #17119: Fix `yii\caching\Cache::multiSet()` to use `yii\caching\Cache::$defaultDuration` when no duration is passed (OscarBarrett)
 - Bug #18646: Remove stale identity data from session if `IdentityInterface::findIdentity()` returns `null` (mikehaertl)
+- Bug #18660: Fix database migration template does not work with namespaced migrations when migration name does not include namespace (iridance)
+- Bug #18798: Fix `StringHelper::dirname()` when passing string with a trailing slash (perlexed)
 - Bug #18832: Fix `Inflector::camel2words()` adding extra spaces (brandonkelly)
-- Enh #18762: Added `yii\helpers\Json::$keepObjectType` and `yii\web\JsonResponseFormatter::$keepObjectType` in order to avoid changing zero-indexed objects to array in `yii\helpers\Json::encode()` (zebraf1)
-- Enh #18783: Add support for URI namespaced tags in `XmlResponseFormatter` (WinterSilence, samdark)
-- Enh #18783: Add `XmlResponseFormatter::$objectTagToLowercase` option to lowercase object tags (WinterSilence, samdark)
-- Bug #18845: Fix duplicating `id` in `MigrateController::addDefaultPrimaryKey()` (WinterSilence, samdark)
-- Bug #17119: Fix `yii\caching\Cache::multiSet()` to use `yii\caching\Cache::$defaultDuration` when no duration is passed (OscarBarrett)
 - Bug #18842: Fix `yii\base\Controller::bindInjectedParams()` to not throw error when argument of `ReflectionUnionType` type is passed (bizley)
-- Enh #18858: Reduce memory usage in `yii\base\View::afterRender` method (LeoOnTheEarth)
+- Bug #18845: Fix duplicating `id` in `MigrateController::addDefaultPrimaryKey()` (WinterSilence, samdark)
 - Bug #18880: Fix `yii\helpers\ArrayHelper::toArray()` for `DateTime` objects in PHP >= 7.4 (rhertogh)
 - Bug #18883: Fix `yii\web\HeaderCollection::fromArray()` now ensures lower case keys (rhertogh)
-- Enh #18899: Replace usages of `strpos` with `strncmp` and remove redundant usage of `array_merge` and `array_values` (AlexGx)
 - Bug #18898: Fix `yii\helpers\Inflector::camel2words()` to work with words ending with 0 (michaelarnauts)
-- Enh #18904: Improve Captcha client-side validation (hexkir)
-- Bug #18913: Add filename validation for `MessageSource::getMessageFilePath()` (uaoleg)
 - Bug #18909: Fix bug with binding default action parameters for controllers (bizley)
+- Bug #18913: Add filename validation for `MessageSource::getMessageFilePath()` (uaoleg)
 - Bug #18955: Check `yiisoft/yii2-swiftmailer` before using as default mailer in `yii\base\Application` (WinterSilence)
 - Bug #18988: Fix default value of `yii\console\controllers\MessageController::$translator` (WinterSilence)
 - Bug #18993: Load defaults by `attributes()` in `yii\db\ActiveRecord::loadDefaultValues()` (WinterSilence)
 - Bug #19021: Fix return type in PhpDoc `yii\db\Migration` functions `up()`, `down()`, `safeUp()` and `safeDown()` (WinterSilence, rhertogh)
+- Bug #19030: Add DI container usage to `yii\base\Widget::end()` (papppeter)
+- Bug #19031: Fix displaying console help for parameters with declared types (WinterSilence)
+- Bug #19096: Fix `Request::getIsConsoleRequest()` may return erroneously when testing a Web application in Codeception (WinterSilence)
+- Enh #13105: Add yiiActiveForm `validate_only` property for skipping form auto-submission (ptolomaues)
+- Enh #18328: Raise warning when trying to register a file after `View::endPage()` has been called (perlexed)
+- Enh #18762: Add `yii\helpers\Json::$keepObjectType` and `yii\web\JsonResponseFormatter::$keepObjectType` in order to avoid changing zero-indexed objects to array in `yii\helpers\Json::encode()` (zebraf1)
+- Enh #18783: Add support for URI namespaced tags in `XmlResponseFormatter` (WinterSilence, samdark)
+- Enh #18783: Add `XmlResponseFormatter::$objectTagToLowercase` option to lowercase object tags (WinterSilence, samdark)
+- Enh #18812: Add error messages and optimize "error" methods in `yii\helpers\BaseJson` (WinterSilence, samdark)
+- Enh #18826: Add ability to turn the sorting off for a clicked column in GridView with multisort (ditibal)
+- Enh #18858: Reduce memory usage in `yii\base\View::afterRender` method (LeoOnTheEarth)
+- Enh #18899: Replace usages of `strpos` with `strncmp` and remove redundant usage of `array_merge` and `array_values` (AlexGx)
+- Enh #18904: Improve Captcha client-side validation (hexkir)
+- Enh #18967: Use proper attribute names for tabular data in `yii\widgets\ActiveField::addAriaAttributes()` (AnkIF)
+- Enh #19005: Add `yii\base\Module::setControllerPath()` (WinterSilence)
+- Enh #19098: Add `yii\helper\BaseHtml::$normalizeClassAttribute` to fix duplicate classes (WinterSilence)
+- Enh #19108: Optimize `Component::hasEventHandlers()` and `Component::trigger()` (WinterSilence)
+- Chg #18823: Rollback changes from #18806 in `yii\validators\ExistValidator::checkTargetRelationExistence()` (WinterSilence)
 
 
 2.0.43 August 09, 2021
@@ -2555,14 +2625,14 @@ Yii Framework 2 Change Log
 - Bug: `yii\helpers\Json::encode()`` did not handle objects that implement `JsonSerializable` interface correctly (cebe)
 - Bug: Fixed issue with tabular input on `yii\widgets\ActiveField::radio()` and `yii\widgets\ActiveField::checkbox()` (jom)
 - Bug: Fixed the issue that query cache returns the same data for the same SQL but different query methods (qiangxue)
-- Bug: Fixed URL parsing so it's now properly giving 404 for URLs like `http://example.com//////site/about` (samdark)
+- Bug: Fixed URL parsing so it's now properly giving 404 for URLs like `https://example.com//////site/about` (samdark)
 - Bug: Fixed `yii\console\controllers\HelpController::getModuleCommands()` issue where it attempts to scan a module's controller directory when it doesn't exist (jom)
 - Bug: Fixed an issue with FileHelper and not accessible directories which resulted in endless loop (cebe)
 - Bug: Fixed `yii\base\Model::load()` returned `true` if `$data` and `formName` were empty (samdark)
 - Bug: Fixed issue with `yii\db\ActiveRelationTrait` preventing `yii\db\ActiveQuery` from clearing events and behaviors on clone (jom)
 - Bug: `yii\db\Query::queryScalar()` wasn't making `SELECT DISTINCT` queries subqueries (jom)
 - Bug: Fixed use `$files` instead of `self::$_files[$key]` to allow inheritance (pgaultier)
-- Enh #46: Added Image extension based on [Imagine library](http://imagine.readthedocs.org) (tonydspaniard)
+- Enh #46: Added Image extension based on [Imagine library](https://imagine.readthedocs.io/) (tonydspaniard)
 - Enh #364: Improve `yii\helpers\Inflector::slug()` with `intl` transliteration. Improved transliteration char map. (tonydspaniard)
 - Enh #497: Removed `yii\log\Target::logUser` and added `yii\log\Target::prefix` to support customizing message prefix (qiangxue)
 - Enh #499: Decoupled `Rule` from RBAC `Item` (samdark, qiangxue)
diff --git a/framework/README.md b/framework/README.md
index 161f8d13a01..4ff5e6d5a28 100644
--- a/framework/README.md
+++ b/framework/README.md
@@ -10,7 +10,7 @@ For license information check the [LICENSE](LICENSE.md)-file.
 Installation
 ------------
 
-The preferred way to install the Yii framework is through [composer](http://getcomposer.org/download/).
+The preferred way to install the Yii framework is through [composer](https://getcomposer.org/download/).
 
 Refer to [Bower and NPM Assets installation](https://www.yiiframework.com/doc/guide/2.0/en/structure-assets#bower-npm-assets) to select an asset installation method.
 
diff --git a/framework/UPGRADE.md b/framework/UPGRADE.md
index 8a9a20a4737..5ae7f63efc4 100644
--- a/framework/UPGRADE.md
+++ b/framework/UPGRADE.md
@@ -12,7 +12,7 @@ Upgrading in general is as simple as updating your dependency in your composer.j
 running `composer update`. In a big application however there may be more things to consider,
 which are explained in the following.
 
-> Note: This document assumes you have composer [installed globally](http://www.yiiframework.com/doc-2.0/guide-start-installation.html#installing-composer)
+> Note: This document assumes you have composer [installed globally](https://www.yiiframework.com/doc-2.0/guide-start-installation.html#installing-composer)
 so that you can run the `composer` command. If you have a `composer.phar` file inside of your project you need to
 replace `composer` with `php composer.phar` in the following.
 
@@ -51,10 +51,26 @@ if you want to upgrade from version A to version C and there is
 version B between A and C, you need to follow the instructions
 for both A and B.
 
+Upgrade from Yii 2.0.45
+-----------------------
+
+* Changes in `Inflector::camel2words()` introduced in 2.0.45 were reverted so it works as in pre-2.0.45. If you need
+  2.0.45 behavior, [introduce your own method](https://github.com/yiisoft/yii2/pull/19495/files).
+* `yii\log\FileTarget::$rotateByCopy` is now deprecated and setting it to `false` has no effect since rotating of 
+  the files is done only by copy.
+
+Upgrade from Yii 2.0.44
+-----------------------
+
+* `yii\filters\PageCache::$cacheHeaders` now takes a case-sensitive list of header names since PageCache is no longer 
+  storing the normalized (lowercase) versions of them so make sure this list is properly updated and your page cache 
+  is recreated.
+
 Upgrade from Yii 2.0.43
 -----------------------
 
-* `Json::encode()` can now handle zero-indexed objects in same way as `json_encode()` and keep them as objects. In order to avoid breaking backwards compatibility this behavior could be enabled by a new option flag but is disabled by default.
+* `Json::encode()` can now handle zero-indexed objects in same way as `json_encode()` and keep them as objects. In order 
+  to avoid breaking backwards compatibility this behavior could be enabled by a new option flag but is disabled by default.
   * Set `yii/helpers/Json::$keepObjectType = true` anywhere in your application code
   * Or configure json response formatter to enable it for all JSON responses:
       ```php
@@ -68,7 +84,8 @@ Upgrade from Yii 2.0.43
         ],
       ],
       ```
-* `yii\caching\Cache::multiSet()` now uses the default cache duration (`yii\caching\Cache::$defaultDuration`) when no duration is provided. A duration of 0 should be explicitly passed if items should not expire.
+* `yii\caching\Cache::multiSet()` now uses the default cache duration (`yii\caching\Cache::$defaultDuration`) when no 
+  duration is provided. A duration of 0 should be explicitly passed if items should not expire.
 
 Upgrade from Yii 2.0.42
 -----------------------
@@ -450,7 +467,7 @@ Upgrade from Yii 2.0.13
 * `yii\db\QueryBuilder::conditionBuilders` property and method-based condition builders are no longer used. 
   Class-based conditions and builders are introduced instead to provide more flexibility, extensibility and
   space to customization. In case you rely on that property or override any of default condition builders, follow the 
-  special [guide article](http://www.yiiframework.com/doc-2.0/guide-db-query-builder.html#adding-custom-conditions-and-expressions)
+  special [guide article](https://www.yiiframework.com/doc-2.0/guide-db-query-builder.html#adding-custom-conditions-and-expressions)
   to update your code.
 
 * Protected method `yii\db\ActiveQueryTrait::createModels()` does not apply indexes as defined in `indexBy` property anymore.  
@@ -481,7 +498,7 @@ Upgrade from Yii 2.0.12
   was insecure as the header could have been set by a malicious client on a non-HTTPS connection.
   With 2.0.13 Yii adds support for configuring trusted proxies. If your application runs behind a reverse proxy and relies on
   `getIsSecureConnection()` to return the value form the `X-Forwarded-Proto` header you need to explicitly allow
-  this in the Request configuration. See the [guide](http://www.yiiframework.com/doc-2.0/guide-runtime-requests.html#trusted-proxies) for more information.
+  this in the Request configuration. See the [guide](https://www.yiiframework.com/doc-2.0/guide-runtime-requests.html#trusted-proxies) for more information.
 
   This setting also affects you when Yii is running on IIS webserver, which sets the `X-Rewrite-Url` header.
   This header is now filtered by default and must be listed in trusted hosts to be detected by Yii:
@@ -674,7 +691,7 @@ Upgrade from Yii 2.0.6
   initialization to support wider range of allowed characters. Because of this change:
 
   - You are required to flush your application cache to remove outdated `UrlRule` serialized objects.
-    See the [Cache Flushing Guide](http://www.yiiframework.com/doc-2.0/guide-caching-data.html#cache-flushing)
+    See the [Cache Flushing Guide](https://www.yiiframework.com/doc-2.0/guide-caching-data.html#cache-flushing)
   - If you implement `parseRequest()` or `createUrl()` and rely on parameter names, call `substitutePlaceholderNames()`
     in order to replace temporary IDs with parameter names after doing matching.
 
@@ -750,7 +767,7 @@ If you've extended `yii\base\Security` to override any of the config constants y
 Upgrade from Yii 2.0.0
 ----------------------
 
-* Upgraded Twitter Bootstrap to [version 3.3.x](http://blog.getbootstrap.com/2014/10/29/bootstrap-3-3-0-released/).
+* Upgraded Twitter Bootstrap to [version 3.3.x](https://blog.getbootstrap.com/2014/10/29/bootstrap-3-3-0-released/).
   If you need to use an older version (i.e. stick with 3.2.x) you can specify that in your `composer.json` by
   adding the following line in the `require` section:
 
diff --git a/framework/Yii.php b/framework/Yii.php
index 4226770df37..d02b95a231a 100644
--- a/framework/Yii.php
+++ b/framework/Yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 require __DIR__ . '/BaseYii.php';
diff --git a/framework/assets/yii.activeForm.js b/framework/assets/yii.activeForm.js
index 671f6dcc9f6..b12f812c37d 100644
--- a/framework/assets/yii.activeForm.js
+++ b/framework/assets/yii.activeForm.js
@@ -3,9 +3,9 @@
  *
  * This is the JavaScript widget used by the yii\widgets\ActiveForm widget.
  *
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
diff --git a/framework/assets/yii.captcha.js b/framework/assets/yii.captcha.js
index 7293183e76d..930d43d7e83 100644
--- a/framework/assets/yii.captcha.js
+++ b/framework/assets/yii.captcha.js
@@ -3,9 +3,9 @@
  *
  * This is the JavaScript widget used by the yii\captcha\Captcha widget.
  *
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
diff --git a/framework/assets/yii.gridView.js b/framework/assets/yii.gridView.js
index 25ff9600e10..825ff5044db 100644
--- a/framework/assets/yii.gridView.js
+++ b/framework/assets/yii.gridView.js
@@ -3,9 +3,9 @@
  *
  * This is the JavaScript widget used by the yii\grid\GridView widget.
  *
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
diff --git a/framework/assets/yii.js b/framework/assets/yii.js
index b22c364c6fc..6384d07d172 100644
--- a/framework/assets/yii.js
+++ b/framework/assets/yii.js
@@ -1,9 +1,9 @@
 /**
  * Yii JavaScript module.
  *
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
@@ -511,7 +511,7 @@ window.yii = (function ($) {
         return false;
     }
 
-    // http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex
+    // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex/6969486#6969486
     function escapeRegExp(str) {
         return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
     }
diff --git a/framework/assets/yii.validation.js b/framework/assets/yii.validation.js
index 2f1e06039b1..2cae037e3c1 100644
--- a/framework/assets/yii.validation.js
+++ b/framework/assets/yii.validation.js
@@ -3,9 +3,9 @@
  *
  * This JavaScript module provides the validation methods for the built-in validators.
  *
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
@@ -24,7 +24,7 @@ yii.validation = (function ($) {
             var valid = false;
             if (options.requiredValue === undefined) {
                 var isString = typeof value == 'string' || value instanceof String;
-                if (options.strict && value !== undefined || !options.strict && !pub.isEmpty(isString ? $.trim(value) : value)) {
+                if (options.strict && value !== undefined || !options.strict && !pub.isEmpty(isString ? trimString(value) : value)) {
                     valid = true;
                 }
             } else if (!options.strict && value == options.requiredValue || options.strict && value === options.requiredValue) {
@@ -243,8 +243,17 @@ yii.validation = (function ($) {
             }
 
             value = $input.val();
-            if (!options.skipOnEmpty || !pub.isEmpty(value)) {
-                value = $.trim(value);
+            if (
+                (!options.skipOnEmpty || !pub.isEmpty(value))
+                && (!options.skipOnArray || !Array.isArray(value))
+            ) {
+                if (Array.isArray(value)) {
+                    for (var i = 0; i < value.length; i++) {
+                        value[i] = trimString(value[i], options);
+                    }
+                } else {
+                    value = trimString(value, options);
+                }
                 $input.val(value);
             }
 
@@ -467,5 +476,25 @@ yii.validation = (function ($) {
         }
     }
 
+    /**
+     * PHP: `trim($path, ' /')`, JS: `yii.helpers.trim(path, {chars: ' /'})`
+     */
+    function trimString(value, options = {skipOnEmpty: true, chars: null}) {
+        if (options.skipOnEmpty !== false && pub.isEmpty(value)) {
+            return value;
+        }
+
+        value = new String(value);
+        if (options.chars || !String.prototype.trim) {
+            var chars = !options.chars
+                ? ' \\s\xA0'
+                : options.chars.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g, '\$1');
+
+            return value.replace(new RegExp('^[' + chars + ']+|[' + chars + ']+$', 'g'), '');
+        }
+
+        return value.trim();
+    }
+
     return pub;
 })(jQuery);
diff --git a/framework/base/Action.php b/framework/base/Action.php
index 5a9413cf296..45d95c59cbf 100644
--- a/framework/base/Action.php
+++ b/framework/base/Action.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -30,8 +30,7 @@
  *
  * For more details and usage information on Action, see the [guide article on actions](guide:structure-controllers).
  *
- * @property-read string $uniqueId The unique ID of this action among the whole application. This property is
- * read-only.
+ * @property-read string $uniqueId The unique ID of this action among the whole application.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
diff --git a/framework/base/ActionEvent.php b/framework/base/ActionEvent.php
index 54a9f6ef640..ab03d7366f1 100644
--- a/framework/base/ActionEvent.php
+++ b/framework/base/ActionEvent.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/ActionFilter.php b/framework/base/ActionFilter.php
index 10d745a3b2e..83f00574d14 100644
--- a/framework/base/ActionFilter.php
+++ b/framework/base/ActionFilter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -36,7 +36,7 @@ class ActionFilter extends Behavior
      *
      * @see except
      */
-    public $only;
+    public $only = [];
     /**
      * @var array list of action IDs that this filter should not apply to.
      * @see only
diff --git a/framework/base/Application.php b/framework/base/Application.php
index 3e095447c17..380f3a2017a 100644
--- a/framework/base/Application.php
+++ b/framework/base/Application.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -14,40 +14,32 @@
  *
  * For more details and usage information on Application, see the [guide article on applications](guide:structure-applications).
  *
- * @property-read \yii\web\AssetManager $assetManager The asset manager application component. This property
- * is read-only.
- * @property-read \yii\rbac\ManagerInterface $authManager The auth manager application component. Null is
- * returned if auth manager is not configured. This property is read-only.
+ * @property-read \yii\web\AssetManager $assetManager The asset manager application component.
+ * @property-read \yii\rbac\ManagerInterface|null $authManager The auth manager application component or null
+ * if it's not configured.
  * @property string $basePath The root directory of the application.
  * @property-read \yii\caching\CacheInterface $cache The cache application component. Null if the component is
- * not enabled. This property is read-only.
- * @property-write array $container Values given in terms of name-value pairs. This property is write-only.
- * @property-read \yii\db\Connection $db The database connection. This property is read-only.
+ * not enabled.
+ * @property-write array $container Values given in terms of name-value pairs.
+ * @property-read \yii\db\Connection $db The database connection.
  * @property-read \yii\web\ErrorHandler|\yii\console\ErrorHandler $errorHandler The error handler application
- * component. This property is read-only.
- * @property-read \yii\i18n\Formatter $formatter The formatter application component. This property is
- * read-only.
- * @property-read \yii\i18n\I18N $i18n The internationalization application component. This property is
- * read-only.
- * @property-read \yii\log\Dispatcher $log The log dispatcher application component. This property is
- * read-only.
- * @property-read \yii\mail\MailerInterface $mailer The mailer application component. This property is
- * read-only.
- * @property-read \yii\web\Request|\yii\console\Request $request The request component. This property is
- * read-only.
- * @property-read \yii\web\Response|\yii\console\Response $response The response component. This property is
- * read-only.
+ * component.
+ * @property-read \yii\i18n\Formatter $formatter The formatter application component.
+ * @property-read \yii\i18n\I18N $i18n The internationalization application component.
+ * @property-read \yii\log\Dispatcher $log The log dispatcher application component.
+ * @property-read \yii\mail\MailerInterface $mailer The mailer application component.
+ * @property-read \yii\web\Request|\yii\console\Request $request The request component.
+ * @property-read \yii\web\Response|\yii\console\Response $response The response component.
  * @property string $runtimePath The directory that stores runtime files. Defaults to the "runtime"
  * subdirectory under [[basePath]].
- * @property-read \yii\base\Security $security The security application component. This property is read-only.
+ * @property-read \yii\base\Security $security The security application component.
  * @property string $timeZone The time zone used by this application.
- * @property-read string $uniqueId The unique ID of the module. This property is read-only.
- * @property-read \yii\web\UrlManager $urlManager The URL manager for this application. This property is
- * read-only.
+ * @property-read string $uniqueId The unique ID of the module.
+ * @property-read \yii\web\UrlManager $urlManager The URL manager for this application.
  * @property string $vendorPath The directory that stores vendor files. Defaults to "vendor" directory under
  * [[basePath]].
  * @property-read View|\yii\web\View $view The view application component that is used to render various view
- * files. This property is read-only.
+ * files.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -109,7 +101,7 @@ abstract class Application extends Module
     public $charset = 'UTF-8';
     /**
      * @var string the language that is meant to be used for end users. It is recommended that you
-     * use [IETF language tags](http://en.wikipedia.org/wiki/IETF_language_tag). For example, `en` stands
+     * use [IETF language tags](https://en.wikipedia.org/wiki/IETF_language_tag). For example, `en` stands
      * for English, while `en-US` stands for English (United States).
      * @see sourceLanguage
      */
@@ -134,7 +126,7 @@ abstract class Application extends Module
      */
     public $requestedRoute;
     /**
-     * @var Action the requested Action. If null, it means the request cannot be resolved into an action.
+     * @var Action|null the requested Action. If null, it means the request cannot be resolved into an action.
      */
     public $requestedAction;
     /**
@@ -142,7 +134,7 @@ abstract class Application extends Module
      */
     public $requestedParams;
     /**
-     * @var array list of installed Yii extensions. Each array element represents a single extension
+     * @var array|null list of installed Yii extensions. Each array element represents a single extension
      * with the following structure:
      *
      * ```php
@@ -525,7 +517,7 @@ public function getErrorHandler()
 
     /**
      * Returns the cache component.
-     * @return \yii\caching\CacheInterface the cache application component. Null if the component is not enabled.
+     * @return \yii\caching\CacheInterface|null the cache application component. Null if the component is not enabled.
      */
     public function getCache()
     {
@@ -651,7 +643,7 @@ public function coreComponents()
      * This method replaces the `exit()` function by ensuring the application life cycle is completed
      * before terminating the application.
      * @param int $status the exit status (value 0 means normal exit while other values mean abnormal exit).
-     * @param Response $response the response to be sent. If not set, the default application [[response]] component will be used.
+     * @param Response|null $response the response to be sent. If not set, the default application [[response]] component will be used.
      * @throws ExitException if the application is in testing mode
      */
     public function end($status = 0, $response = null)
diff --git a/framework/base/ArrayAccessTrait.php b/framework/base/ArrayAccessTrait.php
index 87a1db1d61c..177894e5549 100644
--- a/framework/base/ArrayAccessTrait.php
+++ b/framework/base/ArrayAccessTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -26,6 +26,7 @@ trait ArrayAccessTrait
      * It will be implicitly called when you use `foreach` to traverse the collection.
      * @return \ArrayIterator an iterator for traversing the cookies in the collection.
      */
+    #[\ReturnTypeWillChange]
     public function getIterator()
     {
         return new \ArrayIterator($this->data);
@@ -36,6 +37,7 @@ public function getIterator()
      * This method is required by Countable interface.
      * @return int number of data elements.
      */
+    #[\ReturnTypeWillChange]
     public function count()
     {
         return count($this->data);
@@ -46,6 +48,7 @@ public function count()
      * @param mixed $offset the offset to check on
      * @return bool
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($offset)
     {
         return isset($this->data[$offset]);
@@ -56,6 +59,7 @@ public function offsetExists($offset)
      * @param int $offset the offset to retrieve element.
      * @return mixed the element at the offset, null if no element is found at the offset
      */
+    #[\ReturnTypeWillChange]
     public function offsetGet($offset)
     {
         return isset($this->data[$offset]) ? $this->data[$offset] : null;
@@ -66,6 +70,7 @@ public function offsetGet($offset)
      * @param int $offset the offset to set element
      * @param mixed $item the element value
      */
+    #[\ReturnTypeWillChange]
     public function offsetSet($offset, $item)
     {
         $this->data[$offset] = $item;
@@ -75,6 +80,7 @@ public function offsetSet($offset, $item)
      * This method is required by the interface [[\ArrayAccess]].
      * @param mixed $offset the offset to unset element
      */
+    #[\ReturnTypeWillChange]
     public function offsetUnset($offset)
     {
         unset($this->data[$offset]);
diff --git a/framework/base/Arrayable.php b/framework/base/Arrayable.php
index 97dabf4ad88..c278f61ee16 100644
--- a/framework/base/Arrayable.php
+++ b/framework/base/Arrayable.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/ArrayableTrait.php b/framework/base/ArrayableTrait.php
index d2093fd8592..310c007486e 100644
--- a/framework/base/ArrayableTrait.php
+++ b/framework/base/ArrayableTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/BaseObject.php b/framework/base/BaseObject.php
index e5d4e1001c8..174fcd1e998 100644
--- a/framework/base/BaseObject.php
+++ b/framework/base/BaseObject.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Behavior.php b/framework/base/Behavior.php
index 034d7114385..4e72f489c7a 100644
--- a/framework/base/Behavior.php
+++ b/framework/base/Behavior.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/BootstrapInterface.php b/framework/base/BootstrapInterface.php
index ed55ecdd135..3775fcac9fd 100644
--- a/framework/base/BootstrapInterface.php
+++ b/framework/base/BootstrapInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Component.php b/framework/base/Component.php
index 32f714cbcba..d6121705fa4 100644
--- a/framework/base/Component.php
+++ b/framework/base/Component.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -93,8 +93,7 @@
  *
  * For more details and usage information on Component, see the [guide article on components](guide:concept-components).
  *
- * @property-read Behavior[] $behaviors List of behaviors attached to this component. This property is
- * read-only.
+ * @property-read Behavior[] $behaviors List of behaviors attached to this component.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -465,13 +464,17 @@ public function hasEventHandlers($name)
     {
         $this->ensureBehaviors();
 
+        if (!empty($this->_events[$name])) {
+            return true;
+        }
+
         foreach ($this->_eventWildcards as $wildcard => $handlers) {
             if (!empty($handlers) && StringHelper::matchWildcard($wildcard, $name)) {
                 return true;
             }
         }
 
-        return !empty($this->_events[$name]) || Event::hasHandlers($this, $name);
+        return Event::hasHandlers($this, $name);
     }
 
     /**
@@ -541,7 +544,7 @@ public function on($name, $handler, $data = null, $append = true)
      * wildcard will be removed, while handlers registered with plain names matching this wildcard will remain.
      *
      * @param string $name event name
-     * @param callable $handler the event handler to be removed.
+     * @param callable|null $handler the event handler to be removed.
      * If it is null, all handlers attached to the named event will be removed.
      * @return bool if a handler is found and detached
      * @see on()
@@ -594,10 +597,12 @@ public function off($name, $handler = null)
 
     /**
      * Triggers an event.
-     * This method represents the happening of an event. It invokes
-     * all attached handlers for the event including class-level handlers.
+     *
+     * This method represents the happening of an event. It invokes all attached handlers for the event
+     * including class-level handlers.
+     *
      * @param string $name the event name
-     * @param Event $event the event parameter. If not set, a default [[Event]] object will be created.
+     * @param Event|null $event the event instance. If not set, a default [[Event]] object will be created.
      */
     public function trigger($name, Event $event = null)
     {
@@ -606,15 +611,15 @@ public function trigger($name, Event $event = null)
         $eventHandlers = [];
         foreach ($this->_eventWildcards as $wildcard => $handlers) {
             if (StringHelper::matchWildcard($wildcard, $name)) {
-                $eventHandlers = array_merge($eventHandlers, $handlers);
+                $eventHandlers[] = $handlers;
             }
         }
-
         if (!empty($this->_events[$name])) {
-            $eventHandlers = array_merge($eventHandlers, $this->_events[$name]);
+            $eventHandlers[] = $this->_events[$name];
         }
 
         if (!empty($eventHandlers)) {
+            $eventHandlers = call_user_func_array('array_merge', $eventHandlers);
             if ($event === null) {
                 $event = new Event();
             }
@@ -640,7 +645,7 @@ public function trigger($name, Event $event = null)
     /**
      * Returns the named behavior object.
      * @param string $name the behavior name
-     * @return null|Behavior the behavior object, or null if the behavior does not exist
+     * @return Behavior|null the behavior object, or null if the behavior does not exist
      */
     public function getBehavior($name)
     {
@@ -698,7 +703,7 @@ public function attachBehaviors($behaviors)
      * Detaches a behavior from the component.
      * The behavior's [[Behavior::detach()]] method will be invoked.
      * @param string $name the behavior's name.
-     * @return null|Behavior the detached behavior. Null if the behavior does not exist.
+     * @return Behavior|null the detached behavior. Null if the behavior does not exist.
      */
     public function detachBehavior($name)
     {
diff --git a/framework/base/Configurable.php b/framework/base/Configurable.php
index e934079c440..9982d6f627c 100644
--- a/framework/base/Configurable.php
+++ b/framework/base/Configurable.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Controller.php b/framework/base/Controller.php
index 0c79060ceff..2205712fb28 100644
--- a/framework/base/Controller.php
+++ b/framework/base/Controller.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -16,12 +16,9 @@
  *
  * For more details and usage information on Controller, see the [guide article on controllers](guide:structure-controllers).
  *
- * @property-read Module[] $modules All ancestor modules that this controller is located within. This property
- * is read-only.
+ * @property-read Module[] $modules All ancestor modules that this controller is located within.
  * @property-read string $route The route (module ID, controller ID and action ID) of the current request.
- * This property is read-only.
- * @property-read string $uniqueId The controller ID that is prefixed with the module ID (if any). This
- * property is read-only.
+ * @property-read string $uniqueId The controller ID that is prefixed with the module ID (if any).
  * @property View|\yii\web\View $view The view object that can be used to render views or view files.
  * @property string $viewPath The directory containing the view files for this controller.
  *
@@ -54,7 +51,7 @@ class Controller extends Component implements ViewContextInterface
      */
     public $defaultAction = 'index';
     /**
-     * @var null|string|false the name of the layout to be applied to this controller's views.
+     * @var string|null|false the name of the layout to be applied to this controller's views.
      * This property mainly affects the behavior of [[render()]].
      * Defaults to null, meaning the actual layout value should inherit that from [[module]]'s layout value.
      * If false, no layout will be applied.
diff --git a/framework/base/DynamicContentAwareInterface.php b/framework/base/DynamicContentAwareInterface.php
index 2367f0837be..58e2625c550 100644
--- a/framework/base/DynamicContentAwareInterface.php
+++ b/framework/base/DynamicContentAwareInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/DynamicContentAwareTrait.php b/framework/base/DynamicContentAwareTrait.php
index b19382e93ea..8496c8973b8 100644
--- a/framework/base/DynamicContentAwareTrait.php
+++ b/framework/base/DynamicContentAwareTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/DynamicModel.php b/framework/base/DynamicModel.php
index 4510596d95a..027da6d1982 100644
--- a/framework/base/DynamicModel.php
+++ b/framework/base/DynamicModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -10,7 +10,9 @@
 use yii\validators\Validator;
 
 /**
- * DynamicModel is a model class primarily used to support ad hoc data validation.
+ * DynamicModel is a model class that supports defining attributes at run-time (the so-called
+ * "dynamic attributes") using its constructor or [[defineAttribute()]]. DynamicModel can be used
+ * to support ad hoc data validation.
  *
  * The typical usage of DynamicModel is as follows,
  *
@@ -33,7 +35,7 @@
  * The [[validateData()]] method creates an instance of DynamicModel, defines the attributes
  * using the given data (`name` and `email` in this example), and then calls [[Model::validate()]].
  *
- * You can check the validation result by [[hasErrors()]], like you do with a normal model.
+ * You can check the validation result using [[hasErrors()]], like you do with a normal model.
  * You may also access the dynamic attributes defined through the model instance, e.g.,
  * `$model->name` and `$model->email`.
  *
@@ -46,31 +48,26 @@
  *     ->validate();
  * ```
  *
- * DynamicModel implements the above ad-hoc data validation feature by supporting the so-called
- * "dynamic attributes". It basically allows an attribute to be defined dynamically through its constructor
- * or [[defineAttribute()]].
- *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
 class DynamicModel extends Model
 {
+    /**
+     * @var mixed[] dynamic attribute values (name => value).
+     */
     private $_attributes = [];
     /**
-     * Array of the dynamic attribute labels.
-     * Used to as form field labels and in validation errors.
-     *
-     * @see attributeLabels()
-     * @see setAttributeLabels()
-     * @see setAttributeLabel()
+     * @var string[] dynamic attribute labels (name => label).
+     * Used as form field labels and in validation error messages.
      * @since 2.0.35
      */
     private $_attributeLabels = [];
 
 
     /**
-     * Constructors.
-     * @param array $attributes the dynamic attributes (name-value pairs, or names) being defined
+     * Constructor.
+     * @param array $attributes the attributes (name-value pairs, or names) being defined.
      * @param array $config the configuration array to be applied to this object.
      */
     public function __construct(array $attributes = [], $config = [])
@@ -151,7 +148,7 @@ public function canSetProperty($name, $checkVars = true, $checkBehaviors = true)
 
     /**
      * Returns a value indicating whether the model has an attribute with the specified name.
-     * @param string $name the name of the attribute
+     * @param string $name the name of the attribute.
      * @return bool whether the model has an attribute with the specified name.
      * @since 2.0.16
      */
@@ -162,8 +159,8 @@ public function hasAttribute($name)
 
     /**
      * Defines an attribute.
-     * @param string $name the attribute name
-     * @param mixed $value the attribute value
+     * @param string $name the attribute name.
+     * @param mixed $value the attribute value.
      */
     public function defineAttribute($name, $value = null)
     {
@@ -172,7 +169,7 @@ public function defineAttribute($name, $value = null)
 
     /**
      * Undefines an attribute.
-     * @param string $name the attribute name
+     * @param string $name the attribute name.
      */
     public function undefineAttribute($name)
     {
@@ -183,15 +180,15 @@ public function undefineAttribute($name)
      * Adds a validation rule to this model.
      * You can also directly manipulate [[validators]] to add or remove validation rules.
      * This method provides a shortcut.
-     * @param string|array $attributes the attribute(s) to be validated by the rule
+     * @param string|array $attributes the attribute(s) to be validated by the rule.
      * @param string|Validator|\Closure $validator the validator. This can be either:
      *  * a built-in validator name listed in [[builtInValidators]];
      *  * a method name of the model class;
      *  * an anonymous function;
      *  * a validator class name.
      *  * a Validator.
-     * @param array $options the options (name-value pairs) to be applied to the validator
-     * @return $this the model itself
+     * @param array $options the options (name-value pairs) to be applied to the validator.
+     * @return $this
      */
     public function addRule($attributes, $validator, $options = [])
     {
@@ -212,9 +209,9 @@ public function addRule($attributes, $validator, $options = [])
      * Validates the given data with the specified validation rules.
      * This method will create a DynamicModel instance, populate it with the data to be validated,
      * create the specified validation rules, and then validate the data using these rules.
-     * @param array $data the data (name-value pairs) to be validated
+     * @param array $data the data (name-value pairs) to be validated.
      * @param array $rules the validation rules. Please refer to [[Model::rules()]] on the format of this parameter.
-     * @return static the model instance that contains the data being validated
+     * @return static the model instance that contains the data being validated.
      * @throws InvalidConfigException if a validation rule is not specified correctly.
      */
     public static function validateData(array $data, $rules = [])
@@ -249,13 +246,10 @@ public function attributes()
     }
 
     /**
-     * Sets the attribute labels in a massive way.
-     *
-     * @see attributeLabels()
-     * @since 2.0.35
-     *
-     * @param array $labels Array of attribute labels
+     * Sets the labels for all attributes.
+     * @param string[] $labels attribute labels.
      * @return $this
+     * @since 2.0.35
      */
     public function setAttributeLabels(array $labels = [])
     {
@@ -265,14 +259,11 @@ public function setAttributeLabels(array $labels = [])
     }
 
     /**
-     * Sets a label for an attribute.
-     *
-     * @see attributeLabels()
-     * @since 2.0.35
-     *
-     * @param string $attribute Attribute name
-     * @param string $label Attribute label value
+     * Sets a label for a single attribute.
+     * @param string $attribute attribute name.
+     * @param string $label attribute label value.
      * @return $this
+     * @since 2.0.35
      */
     public function setAttributeLabel($attribute, $label)
     {
@@ -282,10 +273,10 @@ public function setAttributeLabel($attribute, $label)
     }
 
     /**
-     * {@inheritDoc}
+     * {@inheritdoc}
      */
     public function attributeLabels()
     {
-        return array_merge(parent::attributeLabels(), $this->_attributeLabels);
+        return $this->_attributeLabels;
     }
 }
diff --git a/framework/base/ErrorException.php b/framework/base/ErrorException.php
index 657b8e390b8..8f051a57e1c 100644
--- a/framework/base/ErrorException.php
+++ b/framework/base/ErrorException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -38,7 +38,7 @@ class ErrorException extends \ErrorException
      * @param int $severity [optional]
      * @param string $filename [optional]
      * @param int $lineno [optional]
-     * @param \Throwable|\Exception $previous [optional]
+     * @param \Throwable|null $previous [optional]
      */
     public function __construct($message = '', $code = 0, $severity = 1, $filename = __FILE__, $lineno = __LINE__, $previous = null)
     {
@@ -54,7 +54,7 @@ public function __construct($message = '', $code = 0, $severity = 1, $filename =
                     $frame['function'] = 'unknown';
                 }
 
-                // Xdebug < 2.1.1: http://bugs.xdebug.org/view.php?id=695
+                // Xdebug < 2.1.1: https://bugs.xdebug.org/view.php?id=695
                 if (!isset($frame['type']) || $frame['type'] === 'static') {
                     $frame['type'] = '::';
                 } elseif ($frame['type'] === 'dynamic') {
diff --git a/framework/base/ErrorHandler.php b/framework/base/ErrorHandler.php
index 4b36d481ec3..81a20f0a3c9 100644
--- a/framework/base/ErrorHandler.php
+++ b/framework/base/ErrorHandler.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -26,6 +26,12 @@
  */
 abstract class ErrorHandler extends Component
 {
+    /**
+     * @event Event an event that is triggered when the handler is called by shutdown function via [[handleFatalError()]].
+     * @since 2.0.46
+     */
+    const EVENT_SHUTDOWN = 'shutdown';
+
     /**
      * @var bool whether to discard any existing page output before error display. Defaults to true.
      */
@@ -38,7 +44,7 @@ abstract class ErrorHandler extends Component
      */
     public $memoryReserveSize = 262144;
     /**
-     * @var \Exception|null the exception that is being handled currently.
+     * @var \Throwable|null the exception that is being handled currently.
      */
     public $exception;
     /**
@@ -53,13 +59,17 @@ abstract class ErrorHandler extends Component
      */
     private $_memoryReserve;
     /**
-     * @var \Exception from HHVM error that stores backtrace
+     * @var \Throwable from HHVM error that stores backtrace
      */
     private $_hhvmException;
     /**
      * @var bool whether this instance has been registered using `register()`
      */
     private $_registered = false;
+    /**
+     * @var string the current working directory
+     */
+    private $_workingDirectory;
 
 
     public function init()
@@ -70,6 +80,7 @@ public function init()
 
     /**
      * Register this error handler.
+     *
      * @since 2.0.32 this will not do anything if the error handler was already registered
      */
     public function register()
@@ -83,7 +94,11 @@ public function register()
                 set_error_handler([$this, 'handleError']);
             }
             if ($this->memoryReserveSize > 0) {
-                $this->_memoryReserve = str_repeat('x', $this->memoryReserveSize);
+                $this->_memoryReserve = str_pad('', $this->memoryReserveSize, 'x');
+            }
+            // to restore working directory in shutdown handler
+            if (PHP_SAPI !== 'cli') {
+                $this->_workingDirectory = getcwd();
             }
             register_shutdown_function([$this, 'handleFatalError']);
             $this->_registered = true;
@@ -97,6 +112,8 @@ public function register()
     public function unregister()
     {
         if ($this->_registered) {
+            $this->_memoryReserve = null;
+            $this->_workingDirectory = null;
             restore_error_handler();
             restore_exception_handler();
             $this->_registered = false;
@@ -108,7 +125,7 @@ public function unregister()
      *
      * This method is implemented as a PHP exception handler.
      *
-     * @param \Exception $exception the exception that is not caught
+     * @param \Throwable $exception the exception that is not caught
      */
     public function handleException($exception)
     {
@@ -153,8 +170,8 @@ public function handleException($exception)
 
     /**
      * Handles exception thrown during exception processing in [[handleException()]].
-     * @param \Exception|\Throwable $exception Exception that was thrown during main exception processing.
-     * @param \Exception $previousException Main exception processed in [[handleException()]].
+     * @param \Throwable $exception Exception that was thrown during main exception processing.
+     * @param \Throwable $previousException Main exception processed in [[handleException()]].
      * @since 2.0.11
      */
     protected function handleFallbackExceptionMessage($exception, $previousException)
@@ -264,47 +281,70 @@ public function handleFatalError()
     {
         unset($this->_memoryReserve);
 
+        if (isset($this->_workingDirectory)) {
+            // fix working directory for some Web servers e.g. Apache
+            chdir($this->_workingDirectory);
+            // flush memory
+            unset($this->_workingDirectory);
+        }
+
+        $error = error_get_last();
+        if ($error === null) {
+            return;
+        }
+
         // load ErrorException manually here because autoloading them will not work
         // when error occurs while autoloading a class
         if (!class_exists('yii\\base\\ErrorException', false)) {
             require_once __DIR__ . '/ErrorException.php';
         }
+        if (!ErrorException::isFatalError($error)) {
+            return;
+        }
 
-        $error = error_get_last();
+        if (!empty($this->_hhvmException)) {
+            $this->exception = $this->_hhvmException;
+        } else {
+            $this->exception = new ErrorException(
+                $error['message'],
+                $error['type'],
+                $error['type'],
+                $error['file'],
+                $error['line']
+            );
+        }
+        unset($error);
 
-        if (ErrorException::isFatalError($error)) {
-            if (!empty($this->_hhvmException)) {
-                $exception = $this->_hhvmException;
-            } else {
-                $exception = new ErrorException($error['message'], $error['type'], $error['type'], $error['file'], $error['line']);
-            }
-            $this->exception = $exception;
+        $this->logException($this->exception);
 
-            $this->logException($exception);
+        if ($this->discardExistingOutput) {
+            $this->clearOutput();
+        }
+        $this->renderException($this->exception);
 
-            if ($this->discardExistingOutput) {
-                $this->clearOutput();
-            }
-            $this->renderException($exception);
+        // need to explicitly flush logs because exit() next will terminate the app immediately
+        Yii::getLogger()->flush(true);
+        if (defined('HHVM_VERSION')) {
+            flush();
+        }
 
-            // need to explicitly flush logs because exit() next will terminate the app immediately
-            Yii::getLogger()->flush(true);
-            if (defined('HHVM_VERSION')) {
-                flush();
-            }
+        $this->trigger(static::EVENT_SHUTDOWN);
+
+        // ensure it is called after user-defined shutdown functions
+        register_shutdown_function(function () {
             exit(1);
-        }
+        });
     }
 
     /**
      * Renders the exception.
-     * @param \Exception|\Error|\Throwable $exception the exception to be rendered.
+     * @param \Throwable $exception the exception to be rendered.
      */
     abstract protected function renderException($exception);
 
     /**
      * Logs the given exception.
-     * @param \Exception $exception the exception to be logged
+     * @param \Throwable $exception the exception to be logged
      * @since 2.0.3 this method is now public.
      */
     public function logException($exception)
@@ -336,7 +376,8 @@ public function clearOutput()
      *
      * This method can be used to convert exceptions inside of methods like `__toString()`
      * to PHP errors because exceptions cannot be thrown inside of them.
-     * @param \Exception|\Throwable $exception the exception to convert to a PHP error.
+     * @param \Throwable $exception the exception to convert to a PHP error.
+     * @return never
      */
     public static function convertExceptionToError($exception)
     {
@@ -345,7 +386,7 @@ public static function convertExceptionToError($exception)
 
     /**
      * Converts an exception into a simple string.
-     * @param \Exception|\Error|\Throwable $exception the exception being converted
+     * @param \Throwable $exception the exception being converted
      * @return string the string representation of the exception.
      */
     public static function convertExceptionToString($exception)
@@ -363,7 +404,7 @@ public static function convertExceptionToString($exception)
 
     /**
      * Converts an exception into a string that has verbose information about the exception and its trace.
-     * @param \Exception|\Error|\Throwable $exception the exception being converted
+     * @param \Throwable $exception the exception being converted
      * @return string the string representation of the exception.
      *
      * @since 2.0.14
diff --git a/framework/base/Event.php b/framework/base/Event.php
index 3cb85dce018..ac2fdc43466 100644
--- a/framework/base/Event.php
+++ b/framework/base/Event.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -34,7 +34,7 @@ class Event extends BaseObject
      */
     public $name;
     /**
-     * @var object the sender of this event. If not set, this property will be
+     * @var object|null the sender of this event. If not set, this property will be
      * set as the object whose `trigger()` method is called.
      * This property may also be a `null` when this event is a
      * class-level event which is triggered in a static context.
@@ -130,7 +130,7 @@ public static function on($class, $name, $handler, $data = null, $append = true)
      *
      * @param string $class the fully qualified class name from which the event handler needs to be detached.
      * @param string $name the event name.
-     * @param callable $handler the event handler to be removed.
+     * @param callable|null $handler the event handler to be removed.
      * If it is `null`, all handlers attached to the named event will be removed.
      * @return bool whether a handler is found and detached.
      * @see on()
@@ -257,7 +257,7 @@ class_implements($class, true)
      * for the specified class and all its parent classes.
      * @param string|object $class the object or the fully qualified class name specifying the class-level event.
      * @param string $name the event name.
-     * @param Event $event the event parameter. If not set, a default [[Event]] object will be created.
+     * @param Event|null $event the event parameter. If not set, a default [[Event]] object will be created.
      */
     public static function trigger($class, $name, $event = null)
     {
diff --git a/framework/base/Exception.php b/framework/base/Exception.php
index 040225bf5e3..2a9bfe6eb1e 100644
--- a/framework/base/Exception.php
+++ b/framework/base/Exception.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/ExitException.php b/framework/base/ExitException.php
index 4fde6a8e800..de7eb65f0a0 100644
--- a/framework/base/ExitException.php
+++ b/framework/base/ExitException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -28,11 +28,15 @@ class ExitException extends \Exception
      * @param int $status the exit status code
      * @param string $message error message
      * @param int $code error code
-     * @param \Throwable|\Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
     public function __construct($status = 0, $message = null, $code = 0, $previous = null)
     {
         $this->statusCode = $status;
-        parent::__construct($message, $code, $previous);
+        if ($previous === null) {
+            parent::__construct((string)$message, $code);
+        } else {
+            parent::__construct((string)$message, $code, $previous);
+        }
     }
 }
diff --git a/framework/base/InlineAction.php b/framework/base/InlineAction.php
index b55f6b026ec..73804dd3eb8 100644
--- a/framework/base/InlineAction.php
+++ b/framework/base/InlineAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/InvalidArgumentException.php b/framework/base/InvalidArgumentException.php
index 7f96d3494d5..20a7c6c759e 100644
--- a/framework/base/InvalidArgumentException.php
+++ b/framework/base/InvalidArgumentException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/InvalidCallException.php b/framework/base/InvalidCallException.php
index 1710946e1e4..b33f1239662 100644
--- a/framework/base/InvalidCallException.php
+++ b/framework/base/InvalidCallException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/InvalidConfigException.php b/framework/base/InvalidConfigException.php
index 953675f9303..1279c94220e 100644
--- a/framework/base/InvalidConfigException.php
+++ b/framework/base/InvalidConfigException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/InvalidParamException.php b/framework/base/InvalidParamException.php
index e67ccc69525..0024602eca5 100644
--- a/framework/base/InvalidParamException.php
+++ b/framework/base/InvalidParamException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/InvalidRouteException.php b/framework/base/InvalidRouteException.php
index 43bed6ef923..50f994f89b1 100644
--- a/framework/base/InvalidRouteException.php
+++ b/framework/base/InvalidRouteException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/InvalidValueException.php b/framework/base/InvalidValueException.php
index a4786e297eb..7f7fcf9b9b1 100644
--- a/framework/base/InvalidValueException.php
+++ b/framework/base/InvalidValueException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Model.php b/framework/base/Model.php
index 204242143c1..774b5513eee 100644
--- a/framework/base/Model.php
+++ b/framework/base/Model.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -38,19 +38,18 @@
  * For more details and usage information on Model, see the [guide article on models](guide:structure-models).
  *
  * @property-read \yii\validators\Validator[] $activeValidators The validators applicable to the current
- * [[scenario]]. This property is read-only.
+ * [[scenario]].
  * @property array $attributes Attribute values (name => value).
- * @property-read array $errors An array of errors for all attributes. Empty array is returned if no error.
- * The result is a two-dimensional array. See [[getErrors()]] for detailed description. This property is
- * read-only.
+ * @property-read array $errors Errors for all attributes or the specified attribute. Empty array is returned
+ * if no error. See [[getErrors()]] for detailed description. Note that when returning errors for all attributes,
+ * the result is a two-dimensional array, like the following: ```php [ 'username' => [ 'Username is required.',
+ * 'Username must contain only word characters.', ], 'email' => [ 'Email address is invalid.', ] ] ``` .
  * @property-read array $firstErrors The first errors. The array keys are the attribute names, and the array
- * values are the corresponding error messages. An empty array will be returned if there is no error. This
- * property is read-only.
- * @property-read ArrayIterator $iterator An iterator for traversing the items in the list. This property is
- * read-only.
+ * values are the corresponding error messages. An empty array will be returned if there is no error.
+ * @property-read ArrayIterator $iterator An iterator for traversing the items in the list.
  * @property string $scenario The scenario that this model is in. Defaults to [[SCENARIO_DEFAULT]].
  * @property-read ArrayObject|\yii\validators\Validator[] $validators All the validators declared in the
- * model. This property is read-only.
+ * model.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -261,21 +260,15 @@ public function formName()
 
     /**
      * Returns the list of attribute names.
+     *
      * By default, this method returns all public non-static properties of the class.
      * You may override this method to change the default behavior.
-     * @return array list of attribute names.
+     *
+     * @return string[] list of attribute names.
      */
     public function attributes()
     {
-        $class = new ReflectionClass($this);
-        $names = [];
-        foreach ($class->getProperties(\ReflectionProperty::IS_PUBLIC) as $property) {
-            if (!$property->isStatic()) {
-                $names[] = $property->getName();
-            }
-        }
-
-        return $names;
+        return array_keys(Yii::getObjectVars($this));
     }
 
     /**
@@ -561,7 +554,7 @@ public function hasErrors($attribute = null)
 
     /**
      * Returns the errors for all attributes or a single attribute.
-     * @param string|null $attribute attribute name. Use null to retrieve errors for all attributes. 
+     * @param string|null $attribute attribute name. Use null to retrieve errors for all attributes.
      * @return array errors for all attributes or the specified attribute. Empty array is returned if no error.
      * See [[getErrors()]] for detailed description.
      * Note that when returning errors for all attributes, the result is a two-dimensional array, like the following:
@@ -996,6 +989,7 @@ public function fields()
      * This method is required by the interface [[\IteratorAggregate]].
      * @return ArrayIterator an iterator for traversing the items in the list.
      */
+    #[\ReturnTypeWillChange]
     public function getIterator()
     {
         $attributes = $this->getAttributes();
@@ -1009,6 +1003,7 @@ public function getIterator()
      * @param string $offset the offset to check on.
      * @return bool whether or not an offset exists.
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($offset)
     {
         return isset($this->$offset);
@@ -1021,6 +1016,7 @@ public function offsetExists($offset)
      * @param string $offset the offset to retrieve element.
      * @return mixed the element at the offset, null if no element is found at the offset
      */
+    #[\ReturnTypeWillChange]
     public function offsetGet($offset)
     {
         return $this->$offset;
@@ -1033,6 +1029,7 @@ public function offsetGet($offset)
      * @param string $offset the offset to set element
      * @param mixed $value the element value
      */
+    #[\ReturnTypeWillChange]
     public function offsetSet($offset, $value)
     {
         $this->$offset = $value;
@@ -1044,8 +1041,20 @@ public function offsetSet($offset, $value)
      * It is implicitly called when you use something like `unset($model[$offset])`.
      * @param string $offset the offset to unset element
      */
+    #[\ReturnTypeWillChange]
     public function offsetUnset($offset)
     {
         $this->$offset = null;
     }
+
+    /**
+     * {@inheritdoc}
+     */
+    public function __clone()
+    {
+        parent::__clone();
+
+        $this->_errors = null;
+        $this->_validators = null;
+    }
 }
diff --git a/framework/base/ModelEvent.php b/framework/base/ModelEvent.php
index fffcfe19994..7e45bfb49b6 100644
--- a/framework/base/ModelEvent.php
+++ b/framework/base/ModelEvent.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Module.php b/framework/base/Module.php
index 2562f0ca1fa..06671edc087 100644
--- a/framework/base/Module.php
+++ b/framework/base/Module.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -25,13 +25,12 @@
  *
  * @property-write array $aliases List of path aliases to be defined. The array keys are alias names (must
  * start with `@`) and the array values are the corresponding paths or aliases. See [[setAliases()]] for an
- * example. This property is write-only.
+ * example.
  * @property string $basePath The root directory of the module.
- * @property-read string $controllerPath The directory that contains the controller classes. This property is
- * read-only.
+ * @property string $controllerPath The directory that contains the controller classes.
  * @property string $layoutPath The root directory of layout files. Defaults to "[[viewPath]]/layouts".
  * @property array $modules The modules (indexed by their IDs).
- * @property-read string $uniqueId The unique ID of the module. This property is read-only.
+ * @property-read string $uniqueId The unique ID of the module.
  * @property string $version The version of this module. Note that the type of this property differs in getter
  * and setter. See [[getVersion()]] and [[setVersion()]] for details.
  * @property string $viewPath The root directory of view files. Defaults to "[[basePath]]/views".
@@ -115,6 +114,10 @@ class Module extends ServiceLocator
      * @var string the root directory of the module.
      */
     private $_basePath;
+    /**
+     * @var string The root directory that contains the controller classes for this module.
+     */
+    private $_controllerPath;
     /**
      * @var string the root directory that contains view files for this module
      */
@@ -128,7 +131,7 @@ class Module extends ServiceLocator
      */
     private $_modules = [];
     /**
-     * @var string|callable the version of this module.
+     * @var string|callable|null the version of this module.
      * Version can be specified as a PHP callback, which can accept module instance as an argument and should
      * return the actual version. For example:
      *
@@ -148,7 +151,7 @@ class Module extends ServiceLocator
     /**
      * Constructor.
      * @param string $id the ID of this module.
-     * @param Module $parent the parent module (if any).
+     * @param Module|null $parent the parent module (if any).
      * @param array $config name-value pairs that will be used to initialize the object properties.
      */
     public function __construct($id, $parent = null, $config = [])
@@ -254,7 +257,22 @@ public function setBasePath($path)
      */
     public function getControllerPath()
     {
-        return Yii::getAlias('@' . str_replace('\\', '/', $this->controllerNamespace));
+        if ($this->_controllerPath === null) {
+            $this->_controllerPath = Yii::getAlias('@' . str_replace('\\', '/', $this->controllerNamespace));
+        }
+
+        return $this->_controllerPath;
+    }
+
+    /**
+     * Sets the directory that contains the controller classes.
+     * @param string $path the root directory that contains the controller classes.
+     * @throws InvalidArgumentException if the directory is invalid.
+     * @since 2.0.44
+     */
+    public function setControllerPath($path)
+    {
+        $this->_controllerPath = Yii::getAlias($path);
     }
 
     /**
@@ -324,7 +342,7 @@ public function getVersion()
 
     /**
      * Sets current module version.
-     * @param string|callable $version the version of this module.
+     * @param string|callable|null $version the version of this module.
      * Version can be specified as a PHP callback, which can accept module instance as an argument and should
      * return the actual version. For example:
      *
diff --git a/framework/base/NotSupportedException.php b/framework/base/NotSupportedException.php
index d5832c62209..4161fb737f4 100644
--- a/framework/base/NotSupportedException.php
+++ b/framework/base/NotSupportedException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Object.php b/framework/base/Object.php
index 52e354ec387..20b68f16958 100644
--- a/framework/base/Object.php
+++ b/framework/base/Object.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Request.php b/framework/base/Request.php
index 1271ae6629f..3f7f5aaed16 100644
--- a/framework/base/Request.php
+++ b/framework/base/Request.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Response.php b/framework/base/Response.php
index 2508319835c..6429df6a884 100644
--- a/framework/base/Response.php
+++ b/framework/base/Response.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Security.php b/framework/base/Security.php
index 6276bf5a584..e8281b2a6c8 100644
--- a/framework/base/Security.php
+++ b/framework/base/Security.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -146,7 +146,7 @@ public function encryptByPassword($data, $password)
      * to hash input or output data.
      * @param string $data the data to encrypt
      * @param string $inputKey the input to use for encryption and authentication
-     * @param string $info optional context and application specific information, see [[hkdf()]]
+     * @param string|null $info optional context and application specific information, see [[hkdf()]]
      * @return string the encrypted data as byte string
      * @see decryptByKey()
      * @see encryptByPassword()
@@ -172,7 +172,7 @@ public function decryptByPassword($data, $password)
      * Verifies and decrypts data encrypted with [[encryptByKey()]].
      * @param string $data the encrypted data to decrypt
      * @param string $inputKey the input to use for encryption and authentication
-     * @param string $info optional context and application specific information, see [[hkdf()]]
+     * @param string|null $info optional context and application specific information, see [[hkdf()]]
      * @return bool|string the decrypted data or false on authentication failure
      * @see encryptByKey()
      */
@@ -286,8 +286,8 @@ protected function decrypt($data, $passwordBased, $secret, $info)
      * Recommend use one of the SHA-2 hash algorithms: sha224, sha256, sha384 or sha512.
      * @param string $algo a hash algorithm supported by `hash_hmac()`, e.g. 'SHA-256'
      * @param string $inputKey the source key
-     * @param string $salt the random salt
-     * @param string $info optional info to bind the derived key material to application-
+     * @param string|null $salt the random salt
+     * @param string|null $info optional info to bind the derived key material to application-
      * and context-specific information, e.g. a user ID or API version, see
      * [RFC 5869](https://tools.ietf.org/html/rfc5869)
      * @param int $length length of the output key in bytes. If 0, the output key is
@@ -298,7 +298,7 @@ protected function decrypt($data, $passwordBased, $secret, $info)
     public function hkdf($algo, $inputKey, $salt = null, $info = null, $length = 0)
     {
         if (function_exists('hash_hkdf')) {
-            $outputKey = hash_hkdf($algo, $inputKey, $length, $info, $salt);
+            $outputKey = hash_hkdf((string)$algo, (string)$inputKey, $length, (string)$info, (string)$salt);
             if ($outputKey === false) {
                 throw new InvalidArgumentException('Invalid parameters to hash_hkdf()');
             }
@@ -340,7 +340,7 @@ public function hkdf($algo, $inputKey, $salt = null, $info = null, $length = 0)
 
     /**
      * Derives a key from the given password using the standard PBKDF2 algorithm.
-     * Implements HKDF2 specified in [RFC 2898](http://tools.ietf.org/html/rfc2898#section-5.2)
+     * Implements HKDF2 specified in [RFC 2898](https://datatracker.ietf.org/doc/html/rfc2898#section-5.2)
      * Recommend use one of the SHA-2 hash algorithms: sha224, sha256, sha384 or sha512.
      * @param string $algo a hash algorithm supported by `hash_hmac()`, e.g. 'SHA-256'
      * @param string $password the source password
@@ -529,7 +529,7 @@ public function generateRandomString($length = 32)
      * ```
      *
      * @param string $password The password to be hashed.
-     * @param int $cost Cost parameter used by the Blowfish hash algorithm.
+     * @param int|null $cost Cost parameter used by the Blowfish hash algorithm.
      * The higher the value of cost,
      * the longer it takes to generate the hash and to verify a password against it. Higher cost
      * therefore slows down a brute-force attack. For best protection against brute-force attacks,
@@ -627,7 +627,7 @@ protected function generateSalt($cost = 13)
 
     /**
      * Performs string comparison using timing attack resistant approach.
-     * @see http://codereview.stackexchange.com/questions/13512
+     * @see https://codereview.stackexchange.com/q/13512
      * @param string $expected string to compare.
      * @param string $actual user-supplied string.
      * @return bool whether strings are equal.
diff --git a/framework/base/StaticInstanceInterface.php b/framework/base/StaticInstanceInterface.php
index 67883479591..12cce4bfbc8 100644
--- a/framework/base/StaticInstanceInterface.php
+++ b/framework/base/StaticInstanceInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/StaticInstanceTrait.php b/framework/base/StaticInstanceTrait.php
index 106ba8620ff..17e1241e6f9 100644
--- a/framework/base/StaticInstanceTrait.php
+++ b/framework/base/StaticInstanceTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Theme.php b/framework/base/Theme.php
index b50334426eb..2f9669071eb 100644
--- a/framework/base/Theme.php
+++ b/framework/base/Theme.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -74,7 +74,7 @@
 class Theme extends Component
 {
     /**
-     * @var array the mapping between view directories and their corresponding themed versions.
+     * @var array|null the mapping between view directories and their corresponding themed versions.
      * This property is used by [[applyTo()]] when a view is trying to apply the theme.
      * [Path aliases](guide:concept-aliases) can be used when specifying directories.
      * If this property is empty or not set, a mapping [[Application::basePath]] to [[basePath]] will be used.
diff --git a/framework/base/UnknownClassException.php b/framework/base/UnknownClassException.php
index 8f25353cdd5..eaa03ee87bc 100644
--- a/framework/base/UnknownClassException.php
+++ b/framework/base/UnknownClassException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/UnknownMethodException.php b/framework/base/UnknownMethodException.php
index 6e334903150..f4b510133ff 100644
--- a/framework/base/UnknownMethodException.php
+++ b/framework/base/UnknownMethodException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/UnknownPropertyException.php b/framework/base/UnknownPropertyException.php
index 8f7eeaaa841..884bd0254fa 100644
--- a/framework/base/UnknownPropertyException.php
+++ b/framework/base/UnknownPropertyException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/UserException.php b/framework/base/UserException.php
index 01ca602f141..7d293e6d53f 100644
--- a/framework/base/UserException.php
+++ b/framework/base/UserException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/View.php b/framework/base/View.php
index 1cb79cfcf92..159b2dbe2e0 100644
--- a/framework/base/View.php
+++ b/framework/base/View.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -21,7 +21,7 @@
  * For more details and usage information on View, see the [guide article on views](guide:structure-views).
  *
  * @property-read string|bool $viewFile The view file currently being rendered. False if no view file is being
- * rendered. This property is read-only.
+ * rendered.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -54,7 +54,7 @@ class View extends Component implements DynamicContentAwareInterface
      */
     public $params = [];
     /**
-     * @var array a list of available renderers indexed by their corresponding supported file extensions.
+     * @var array|null a list of available renderers indexed by their corresponding supported file extensions.
      * Each renderer may be a view renderer object or the configuration for creating the renderer object.
      * For example, the following configuration enables both Smarty and Twig view renderers:
      *
@@ -74,7 +74,7 @@ class View extends Component implements DynamicContentAwareInterface
      */
     public $defaultExtension = 'php';
     /**
-     * @var Theme|array|string the theme object or the configuration for creating the theme object.
+     * @var Theme|array|string|null the theme object or the configuration for creating the theme object.
      * If not set, it means theming is not enabled.
      */
     public $theme;
@@ -142,7 +142,7 @@ public function init()
      *
      * @param string $view the view name.
      * @param array $params the parameters (name-value pairs) that will be extracted and made available in the view file.
-     * @param object $context the context to be assigned to the view and can later be accessed via [[context]]
+     * @param object|null $context the context to be assigned to the view and can later be accessed via [[context]]
      * in the view. If the context implements [[ViewContextInterface]], it may also be used to locate
      * the view file corresponding to a relative view name.
      * @return string the rendering result
@@ -160,7 +160,7 @@ public function render($view, $params = [], $context = null)
      * Finds the view file based on the given view name.
      * @param string $view the view name or the [path alias](guide:concept-aliases) of the view file. Please refer to [[render()]]
      * on how to specify this parameter.
-     * @param object $context the context to be assigned to the view and can later be accessed via [[context]]
+     * @param object|null $context the context to be assigned to the view and can later be accessed via [[context]]
      * in the view. If the context implements [[ViewContextInterface]], it may also be used to locate
      * the view file corresponding to a relative view name.
      * @return string the view file path. Note that the file may not exist.
@@ -215,7 +215,7 @@ protected function findViewFile($view, $context = null)
      *
      * @param string $viewFile the view file. This can be either an absolute file path or an alias of it.
      * @param array $params the parameters (name-value pairs) that will be extracted and made available in the view file.
-     * @param object $context the context that the view should use for rendering the view. If null,
+     * @param object|null $context the context that the view should use for rendering the view. If null,
      * existing [[context]] will be used.
      * @return string the rendering result
      * @throws ViewNotFoundException if the view file does not exist
@@ -335,7 +335,7 @@ public function afterRender($viewFile, $params, &$output)
      * @param string $_file_ the view file.
      * @param array $_params_ the parameters (name-value pairs) that will be extracted and made available in the view file.
      * @return string the rendering result
-     * @throws \Exception
+     * @throws \Throwable
      */
     public function renderPhpFile($_file_, $_params_ = [])
     {
diff --git a/framework/base/ViewContextInterface.php b/framework/base/ViewContextInterface.php
index f6d26e0abca..df2834c0d5c 100644
--- a/framework/base/ViewContextInterface.php
+++ b/framework/base/ViewContextInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/ViewEvent.php b/framework/base/ViewEvent.php
index a06fa0770d6..2a63eaaf188 100644
--- a/framework/base/ViewEvent.php
+++ b/framework/base/ViewEvent.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/ViewNotFoundException.php b/framework/base/ViewNotFoundException.php
index d1b9c8c2026..ece5a00db6e 100644
--- a/framework/base/ViewNotFoundException.php
+++ b/framework/base/ViewNotFoundException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/ViewRenderer.php b/framework/base/ViewRenderer.php
index dcee8022ad6..7cbcb702815 100644
--- a/framework/base/ViewRenderer.php
+++ b/framework/base/ViewRenderer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/base/Widget.php b/framework/base/Widget.php
index a43a5652bb6..450caac9c9b 100644
--- a/framework/base/Widget.php
+++ b/framework/base/Widget.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
@@ -19,8 +19,7 @@
  * setter. See [[getId()]] and [[setId()]] for details.
  * @property \yii\web\View $view The view object that can be used to render views or view files. Note that the
  * type of this property differs in getter and setter. See [[getView()]] and [[setView()]] for details.
- * @property-read string $viewPath The directory containing the view files for this widget. This property is
- * read-only.
+ * @property-read string $viewPath The directory containing the view files for this widget.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -104,7 +103,13 @@ public static function end()
     {
         if (!empty(self::$stack)) {
             $widget = array_pop(self::$stack);
-            if (get_class($widget) === get_called_class()) {
+
+            $calledClass = get_called_class();
+            if (Yii::$container->has($calledClass) && isset(Yii::$container->getDefinitions()[$calledClass]['class'])) {
+                $calledClass = Yii::$container->getDefinitions()[$calledClass]['class'];
+            }
+
+            if (get_class($widget) === $calledClass) {
                 /* @var $widget Widget */
                 if ($widget->beforeRun()) {
                     $result = $widget->run();
@@ -126,7 +131,7 @@ public static function end()
      * The widget rendering result is returned by this method.
      * @param array $config name-value pairs that will be used to initialize the object properties
      * @return string the rendering result of the widget.
-     * @throws \Exception
+     * @throws \Throwable
      */
     public static function widget($config = [])
     {
@@ -147,6 +152,12 @@ public static function widget($config = [])
                 ob_end_clean();
             }
             throw $e;
+        } catch (\Throwable $e) {
+            // close the output buffer opened above if it has not been closed already
+            if (ob_get_level() > 0) {
+                ob_end_clean();
+            }
+            throw $e;
         }
 
         return ob_get_clean() . $out;
@@ -206,7 +217,8 @@ public function setView($view)
 
     /**
      * Executes the widget.
-     * @return string the result of widget execution to be outputted.
+     *
+     * @return string|void the rendering result may be directly "echoed" or returned as a string
      */
     public function run()
     {
diff --git a/framework/base/WidgetEvent.php b/framework/base/WidgetEvent.php
index 6ec5ae8b282..eaa1850b85b 100644
--- a/framework/base/WidgetEvent.php
+++ b/framework/base/WidgetEvent.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\base;
diff --git a/framework/behaviors/AttributeBehavior.php b/framework/behaviors/AttributeBehavior.php
index 0b4ba8b3a62..8cad0edf74d 100644
--- a/framework/behaviors/AttributeBehavior.php
+++ b/framework/behaviors/AttributeBehavior.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\behaviors;
diff --git a/framework/behaviors/AttributeTypecastBehavior.php b/framework/behaviors/AttributeTypecastBehavior.php
index 33520bde3bc..541f4f95cad 100644
--- a/framework/behaviors/AttributeTypecastBehavior.php
+++ b/framework/behaviors/AttributeTypecastBehavior.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\behaviors;
@@ -121,7 +121,7 @@ class AttributeTypecastBehavior extends Behavior
      */
     public $owner;
     /**
-     * @var array attribute typecast map in format: attributeName => type.
+     * @var array|null attribute typecast map in format: attributeName => type.
      * Type can be set via PHP callable, which accept raw value as an argument and should return
      * typecast result.
      * For example:
@@ -214,7 +214,7 @@ public function attach($owner)
 
     /**
      * Typecast owner attributes according to [[attributeTypes]].
-     * @param array $attributeNames list of attribute names that should be type-casted.
+     * @param array|null $attributeNames list of attribute names that should be type-casted.
      * If this parameter is empty, it means any attribute listed in the [[attributeTypes]]
      * should be type-casted.
      */
diff --git a/framework/behaviors/AttributesBehavior.php b/framework/behaviors/AttributesBehavior.php
index e1b0f874ea5..df093864a34 100644
--- a/framework/behaviors/AttributesBehavior.php
+++ b/framework/behaviors/AttributesBehavior.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\behaviors;
diff --git a/framework/behaviors/BlameableBehavior.php b/framework/behaviors/BlameableBehavior.php
index b4c7ab07882..f83b8b3f28c 100755
--- a/framework/behaviors/BlameableBehavior.php
+++ b/framework/behaviors/BlameableBehavior.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\behaviors;
diff --git a/framework/behaviors/CacheableWidgetBehavior.php b/framework/behaviors/CacheableWidgetBehavior.php
index c6d4cd32c5c..2ac37517c5a 100644
--- a/framework/behaviors/CacheableWidgetBehavior.php
+++ b/framework/behaviors/CacheableWidgetBehavior.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\behaviors;
diff --git a/framework/behaviors/OptimisticLockBehavior.php b/framework/behaviors/OptimisticLockBehavior.php
index b3fd6a405b3..92243f5c71e 100644
--- a/framework/behaviors/OptimisticLockBehavior.php
+++ b/framework/behaviors/OptimisticLockBehavior.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\behaviors;
diff --git a/framework/behaviors/SluggableBehavior.php b/framework/behaviors/SluggableBehavior.php
index b62ade8ea2c..c18bd4fa2dd 100644
--- a/framework/behaviors/SluggableBehavior.php
+++ b/framework/behaviors/SluggableBehavior.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\behaviors;
@@ -111,7 +111,7 @@ class SluggableBehavior extends AttributeBehavior
      */
     public $uniqueValidator = [];
     /**
-     * @var callable slug unique value generator. It is used in case [[ensureUnique]] enabled and generated
+     * @var callable|null slug unique value generator. It is used in case [[ensureUnique]] enabled and generated
      * slug is not unique. This should be a PHP callable with following signature:
      *
      * ```php
diff --git a/framework/behaviors/TimestampBehavior.php b/framework/behaviors/TimestampBehavior.php
index 7f79fe3bc9d..bb0d6ca273b 100644
--- a/framework/behaviors/TimestampBehavior.php
+++ b/framework/behaviors/TimestampBehavior.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\behaviors;
diff --git a/framework/caching/ApcCache.php b/framework/caching/ApcCache.php
index 32b74eb5fbb..8e30ea43c83 100644
--- a/framework/caching/ApcCache.php
+++ b/framework/caching/ApcCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/ArrayCache.php b/framework/caching/ArrayCache.php
index aabbb966f39..d8fdaf61b18 100644
--- a/framework/caching/ArrayCache.php
+++ b/framework/caching/ArrayCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/Cache.php b/framework/caching/Cache.php
index a4afaee5eb4..5e1828ef850 100644
--- a/framework/caching/Cache.php
+++ b/framework/caching/Cache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
@@ -62,7 +62,7 @@ abstract class Cache extends Component implements CacheInterface
      */
     public $keyPrefix;
     /**
-     * @var null|array|false the functions used to serialize and unserialize cached data. Defaults to null, meaning
+     * @var array|null|false the functions used to serialize and unserialize cached data. Defaults to null, meaning
      * using the default PHP `serialize()` and `unserialize()` functions. If you want to use some more efficient
      * serializer (e.g. [igbinary](https://pecl.php.net/package/igbinary)), you may configure this property with
      * a two-element array. The first element specifies the serialization function, and the second the deserialization
@@ -135,7 +135,7 @@ public function get($key)
         if ($value === false || $this->serializer === false) {
             return $value;
         } elseif ($this->serializer === null) {
-            $value = unserialize($value);
+            $value = unserialize((string)$value);
         } else {
             $value = call_user_func($this->serializer[1], $value);
         }
@@ -229,9 +229,9 @@ public function multiGet($keys)
      * @param mixed $key a key identifying the value to be cached. This can be a simple string or
      * a complex data structure consisting of factors representing the key.
      * @param mixed $value the value to be cached
-     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * @param int|null $duration default duration in seconds before the cache will expire. If not set,
      * default [[defaultDuration]] value is used.
-     * @param Dependency $dependency dependency of the cached item. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached item. If the dependency changes,
      * the corresponding value in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return bool whether the value is successfully stored into cache
@@ -261,9 +261,9 @@ public function set($key, $value, $duration = null, $dependency = null)
      * expiration time will be replaced with the new ones, respectively.
      *
      * @param array $items the items to be cached, as key-value pairs.
-     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * @param int|null $duration default duration in seconds before the cache will expire. If not set,
      * default [[defaultDuration]] value is used.
-     * @param Dependency $dependency dependency of the cached items. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached items. If the dependency changes,
      * the corresponding values in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return array array of failed keys
@@ -280,9 +280,9 @@ public function mset($items, $duration = null, $dependency = null)
      * expiration time will be replaced with the new ones, respectively.
      *
      * @param array $items the items to be cached, as key-value pairs.
-     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * @param int|null $duration default duration in seconds before the cache will expire. If not set,
      * default [[defaultDuration]] value is used.
-     * @param Dependency $dependency dependency of the cached items. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached items. If the dependency changes,
      * the corresponding values in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return array array of failed keys
@@ -319,7 +319,7 @@ public function multiSet($items, $duration = null, $dependency = null)
      *
      * @param array $items the items to be cached, as key-value pairs.
      * @param int $duration default number of seconds in which the cached values will expire. 0 means never expire.
-     * @param Dependency $dependency dependency of the cached items. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached items. If the dependency changes,
      * the corresponding values in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return array array of failed keys
@@ -336,7 +336,7 @@ public function madd($items, $duration = 0, $dependency = null)
      *
      * @param array $items the items to be cached, as key-value pairs.
      * @param int $duration default number of seconds in which the cached values will expire. 0 means never expire.
-     * @param Dependency $dependency dependency of the cached items. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached items. If the dependency changes,
      * the corresponding values in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return array array of failed keys
@@ -370,7 +370,7 @@ public function multiAdd($items, $duration = 0, $dependency = null)
      * a complex data structure consisting of factors representing the key.
      * @param mixed $value the value to be cached
      * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.
-     * @param Dependency $dependency dependency of the cached item. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached item. If the dependency changes,
      * the corresponding value in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return bool whether the value is successfully stored into cache
@@ -526,6 +526,7 @@ protected function addValues($data, $duration)
      * @param string $key a key identifying the cached value
      * @return bool
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($key)
     {
         return $this->get($key) !== false;
@@ -537,6 +538,7 @@ public function offsetExists($key)
      * @param string $key a key identifying the cached value
      * @return mixed the value stored in cache, false if the value is not in the cache or expired.
      */
+    #[\ReturnTypeWillChange]
     public function offsetGet($key)
     {
         return $this->get($key);
@@ -550,6 +552,7 @@ public function offsetGet($key)
      * @param string $key the key identifying the value to be cached
      * @param mixed $value the value to be cached
      */
+    #[\ReturnTypeWillChange]
     public function offsetSet($key, $value)
     {
         $this->set($key, $value);
@@ -560,6 +563,7 @@ public function offsetSet($key, $value)
      * This method is required by the interface [[\ArrayAccess]].
      * @param string $key the key of the value to be deleted
      */
+    #[\ReturnTypeWillChange]
     public function offsetUnset($key)
     {
         $this->delete($key);
@@ -586,9 +590,9 @@ public function offsetUnset($key)
      * If you use $callable that can return `false`, then keep in mind that [[getOrSet()]] may work inefficiently
      * because the [[yii\caching\Cache::get()]] method uses `false` return value to indicate the data item is not found
      * in the cache. Thus, caching of `false` value will lead to unnecessary internal calls.
-     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * @param int|null $duration default duration in seconds before the cache will expire. If not set,
      * [[defaultDuration]] value will be used.
-     * @param Dependency $dependency dependency of the cached item. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached item. If the dependency changes,
      * the corresponding value in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is `false`.
      * @return mixed result of $callable execution
diff --git a/framework/caching/CacheInterface.php b/framework/caching/CacheInterface.php
index 2b14c25e397..0ff387eff1c 100644
--- a/framework/caching/CacheInterface.php
+++ b/framework/caching/CacheInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
@@ -97,9 +97,9 @@ public function multiGet($keys);
      * @param mixed $key a key identifying the value to be cached. This can be a simple string or
      * a complex data structure consisting of factors representing the key.
      * @param mixed $value the value to be cached
-     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * @param int|null $duration default duration in seconds before the cache will expire. If not set,
      * default [[defaultDuration]] value is used.
-     * @param Dependency $dependency dependency of the cached item. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached item. If the dependency changes,
      * the corresponding value in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return bool whether the value is successfully stored into cache
@@ -112,9 +112,9 @@ public function set($key, $value, $duration = null, $dependency = null);
      * expiration time will be replaced with the new ones, respectively.
      *
      * @param array $items the items to be cached, as key-value pairs.
-     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * @param int|null $duration default duration in seconds before the cache will expire. If not set,
      * default [[defaultDuration]] value is used.
-     * @param Dependency $dependency dependency of the cached items. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached items. If the dependency changes,
      * the corresponding values in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return array array of failed keys
@@ -128,7 +128,7 @@ public function multiSet($items, $duration = null, $dependency = null);
      * a complex data structure consisting of factors representing the key.
      * @param mixed $value the value to be cached
      * @param int $duration the number of seconds in which the cached value will expire. 0 means never expire.
-     * @param Dependency $dependency dependency of the cached item. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached item. If the dependency changes,
      * the corresponding value in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return bool whether the value is successfully stored into cache
@@ -141,7 +141,7 @@ public function add($key, $value, $duration = 0, $dependency = null);
      *
      * @param array $items the items to be cached, as key-value pairs.
      * @param int $duration default number of seconds in which the cached values will expire. 0 means never expire.
-     * @param Dependency $dependency dependency of the cached items. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached items. If the dependency changes,
      * the corresponding values in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is false.
      * @return array array of failed keys
@@ -182,9 +182,9 @@ public function flush();
      * a complex data structure consisting of factors representing the key.
      * @param callable|\Closure $callable the callable or closure that will be used to generate a value to be cached.
      * In case $callable returns `false`, the value will not be cached.
-     * @param int $duration default duration in seconds before the cache will expire. If not set,
+     * @param int|null $duration default duration in seconds before the cache will expire. If not set,
      * [[defaultDuration]] value will be used.
-     * @param Dependency $dependency dependency of the cached item. If the dependency changes,
+     * @param Dependency|null $dependency dependency of the cached item. If the dependency changes,
      * the corresponding value in the cache will be invalidated when it is fetched via [[get()]].
      * This parameter is ignored if [[serializer]] is `false`.
      * @return mixed result of $callable execution
diff --git a/framework/caching/ChainedDependency.php b/framework/caching/ChainedDependency.php
index ecacb90be0a..b318ea8516a 100644
--- a/framework/caching/ChainedDependency.php
+++ b/framework/caching/ChainedDependency.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/DbCache.php b/framework/caching/DbCache.php
index 3cd211ec013..5bf3b02dedd 100644
--- a/framework/caching/DbCache.php
+++ b/framework/caching/DbCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/DbDependency.php b/framework/caching/DbDependency.php
index f16ef4a1be0..43a51d9266e 100644
--- a/framework/caching/DbDependency.php
+++ b/framework/caching/DbDependency.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/DbQueryDependency.php b/framework/caching/DbQueryDependency.php
index 3aafd0f457e..ac358292809 100644
--- a/framework/caching/DbQueryDependency.php
+++ b/framework/caching/DbQueryDependency.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
@@ -41,7 +41,7 @@ class DbQueryDependency extends Dependency
      */
     public $query;
     /**
-     * @var string|callable method which should be invoked in over the [[query]] object.
+     * @var string|callable|null method which should be invoked in over the [[query]] object.
      *
      * If specified as a string an own query method with such name will be invoked, passing [[db]] value as its
      * first argument. For example: `exists`, `all`.
diff --git a/framework/caching/Dependency.php b/framework/caching/Dependency.php
index 9093e8ef196..e558bfef8c4 100644
--- a/framework/caching/Dependency.php
+++ b/framework/caching/Dependency.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
@@ -99,16 +99,28 @@ public static function resetReusableData()
 
     /**
      * Generates a unique hash that can be used for retrieving reusable dependency data.
+     *
      * @return string a unique hash value for this cache dependency.
      * @see reusable
      */
     protected function generateReusableHash()
     {
-        $data = $this->data;
-        $this->data = null;  // https://github.com/yiisoft/yii2/issues/3052
-        $key = sha1(serialize($this));
-        $this->data = $data;
-        return $key;
+        $clone = clone $this;
+        $clone->data = null; // https://github.com/yiisoft/yii2/issues/3052
+
+        try {
+            $serialized = serialize($clone);
+        } catch (\Exception $e) {
+            // unserializable properties are nulled
+            foreach ($clone as $name => $value) {
+                if (is_object($value) && $value instanceof \Closure) {
+                    $clone->{$name} = null;
+                }
+            }
+            $serialized = serialize($clone);
+        }
+
+        return sha1($serialized);
     }
 
     /**
diff --git a/framework/caching/DummyCache.php b/framework/caching/DummyCache.php
index b8db22bc389..8530712ddf5 100644
--- a/framework/caching/DummyCache.php
+++ b/framework/caching/DummyCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/ExpressionDependency.php b/framework/caching/ExpressionDependency.php
index 09d6756bf83..c0ec1e1d5e4 100644
--- a/framework/caching/ExpressionDependency.php
+++ b/framework/caching/ExpressionDependency.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/FileCache.php b/framework/caching/FileCache.php
index 52a80c67b35..053d04f295c 100644
--- a/framework/caching/FileCache.php
+++ b/framework/caching/FileCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
@@ -57,7 +57,7 @@ class FileCache extends Cache
      */
     public $gcProbability = 10;
     /**
-     * @var int the permission to be set for newly created cache files.
+     * @var int|null the permission to be set for newly created cache files.
      * This value will be used by PHP chmod() function. No umask will be applied.
      * If not set, the permission will be determined by the current environment.
      */
diff --git a/framework/caching/FileDependency.php b/framework/caching/FileDependency.php
index b3e94fcc410..7b9cfb66432 100644
--- a/framework/caching/FileDependency.php
+++ b/framework/caching/FileDependency.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/MemCache.php b/framework/caching/MemCache.php
index 9c1e1791a3f..a1918c90f58 100644
--- a/framework/caching/MemCache.php
+++ b/framework/caching/MemCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
@@ -56,7 +56,7 @@
  * For more details and usage information on Cache, see the [guide article on caching](guide:caching-overview).
  *
  * @property-read \Memcache|\Memcached $memcache The memcache (or memcached) object used by this cache
- * component. This property is read-only.
+ * component.
  * @property MemCacheServer[] $servers List of memcache server configurations. Note that the type of this
  * property differs in getter and setter. See [[getServers()]] and [[setServers()]] for details.
  *
diff --git a/framework/caching/MemCacheServer.php b/framework/caching/MemCacheServer.php
index 96d10c46ad7..4701db12c81 100644
--- a/framework/caching/MemCacheServer.php
+++ b/framework/caching/MemCacheServer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/TagDependency.php b/framework/caching/TagDependency.php
index 9e484e9dd55..99dae2fb670 100644
--- a/framework/caching/TagDependency.php
+++ b/framework/caching/TagDependency.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/WinCache.php b/framework/caching/WinCache.php
index 3201311b15a..d89935411c6 100644
--- a/framework/caching/WinCache.php
+++ b/framework/caching/WinCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
@@ -10,7 +10,7 @@
 /**
  * WinCache provides Windows Cache caching in terms of an application component.
  *
- * To use this application component, the [WinCache PHP extension](http://www.iis.net/expand/wincacheforphp)
+ * To use this application component, the [WinCache PHP extension](https://www.iis.net/downloads/microsoft/wincache-extension)
  * must be loaded. Also note that "wincache.ucenabled" should be set to "On" in your php.ini file.
  *
  * See [[Cache]] manual for common cache operations that are supported by WinCache.
diff --git a/framework/caching/XCache.php b/framework/caching/XCache.php
index 9d084fe630b..19d1bec9c00 100644
--- a/framework/caching/XCache.php
+++ b/framework/caching/XCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/ZendDataCache.php b/framework/caching/ZendDataCache.php
index 24a9ce6365d..ed2eac0c0a7 100644
--- a/framework/caching/ZendDataCache.php
+++ b/framework/caching/ZendDataCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
diff --git a/framework/caching/migrations/m150909_153426_cache_init.php b/framework/caching/migrations/m150909_153426_cache_init.php
index 0e3e0b8383d..714178cd89b 100644
--- a/framework/caching/migrations/m150909_153426_cache_init.php
+++ b/framework/caching/migrations/m150909_153426_cache_init.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\base\InvalidConfigException;
@@ -41,7 +41,7 @@ public function up()
 
         $tableOptions = null;
         if ($this->db->driverName === 'mysql') {
-            // http://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
+            // https://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
             $tableOptions = 'CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE=InnoDB';
         }
 
diff --git a/framework/caching/migrations/schema-mssql.sql b/framework/caching/migrations/schema-mssql.sql
index fc6670fe613..1ef982b1e6b 100644
--- a/framework/caching/migrations/schema-mssql.sql
+++ b/framework/caching/migrations/schema-mssql.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 if object_id('[cache]', 'U') is not null
diff --git a/framework/caching/migrations/schema-mysql.sql b/framework/caching/migrations/schema-mysql.sql
index b1ba454a038..b45b033bcde 100644
--- a/framework/caching/migrations/schema-mysql.sql
+++ b/framework/caching/migrations/schema-mysql.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 
diff --git a/framework/caching/migrations/schema-oci.sql b/framework/caching/migrations/schema-oci.sql
index bc5178008a9..6c4e9447cc8 100644
--- a/framework/caching/migrations/schema-oci.sql
+++ b/framework/caching/migrations/schema-oci.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 
diff --git a/framework/caching/migrations/schema-pgsql.sql b/framework/caching/migrations/schema-pgsql.sql
index 8d510b9af0a..2d699e67453 100644
--- a/framework/caching/migrations/schema-pgsql.sql
+++ b/framework/caching/migrations/schema-pgsql.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 
diff --git a/framework/caching/migrations/schema-sqlite.sql b/framework/caching/migrations/schema-sqlite.sql
index 63349d3d026..59d44f4c9e1 100644
--- a/framework/caching/migrations/schema-sqlite.sql
+++ b/framework/caching/migrations/schema-sqlite.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 
diff --git a/framework/captcha/Captcha.php b/framework/captcha/Captcha.php
index b85843f4422..a86fd188ec1 100644
--- a/framework/captcha/Captcha.php
+++ b/framework/captcha/Captcha.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\captcha;
@@ -17,7 +17,7 @@
 /**
  * Captcha renders a CAPTCHA image and an input field that takes user-entered verification code.
  *
- * Captcha is used together with [[CaptchaAction]] to provide [CAPTCHA](http://en.wikipedia.org/wiki/Captcha) - a way
+ * Captcha is used together with [[CaptchaAction]] to provide [CAPTCHA](https://en.wikipedia.org/wiki/CAPTCHA) - a way
  * of preventing website spamming.
  *
  * The image element rendered by Captcha will display a CAPTCHA image generated by
diff --git a/framework/captcha/CaptchaAction.php b/framework/captcha/CaptchaAction.php
index c3b9c420e27..1518d0904d1 100644
--- a/framework/captcha/CaptchaAction.php
+++ b/framework/captcha/CaptchaAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\captcha;
@@ -17,7 +17,7 @@
  * CaptchaAction renders a CAPTCHA image.
  *
  * CaptchaAction is used together with [[Captcha]] and [[\yii\captcha\CaptchaValidator]]
- * to provide the [CAPTCHA](http://en.wikipedia.org/wiki/Captcha) feature.
+ * to provide the [CAPTCHA](https://en.wikipedia.org/wiki/CAPTCHA) feature.
  *
  * By configuring the properties of CaptchaAction, you may customize the appearance of
  * the generated CAPTCHA images, such as the font color, the background color, etc.
@@ -31,7 +31,7 @@
  *    to be validated by the 'captcha' validator.
  * 3. In the controller view, insert a [[Captcha]] widget in the form.
  *
- * @property-read string $verifyCode The verification code. This property is read-only.
+ * @property-read string $verifyCode The verification code.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -91,7 +91,7 @@ class CaptchaAction extends Action
      */
     public $fontFile = '@yii/captcha/SpicyRice.ttf';
     /**
-     * @var string the fixed verification code. When this property is set,
+     * @var string|null the fixed verification code. When this property is set,
      * [[getVerifyCode()]] will always return the value of this property.
      * This is mainly used in automated tests where we want to be able to reproduce
      * the same verification code each time we run the tests.
@@ -99,7 +99,7 @@ class CaptchaAction extends Action
      */
     public $fixedVerifyCode;
     /**
-     * @var string the rendering library to use. Currently supported only 'gd' and 'imagick'.
+     * @var string|null the rendering library to use. Currently supported only 'gd' and 'imagick'.
      * If not set, library will be determined automatically.
      * @since 2.0.7
      */
diff --git a/framework/captcha/CaptchaAsset.php b/framework/captcha/CaptchaAsset.php
index 8af07e17a9f..e028b455305 100644
--- a/framework/captcha/CaptchaAsset.php
+++ b/framework/captcha/CaptchaAsset.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\captcha;
diff --git a/framework/captcha/CaptchaValidator.php b/framework/captcha/CaptchaValidator.php
index 9bcedca4497..c84f199c50c 100644
--- a/framework/captcha/CaptchaValidator.php
+++ b/framework/captcha/CaptchaValidator.php
@@ -1,14 +1,15 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\captcha;
 
 use Yii;
 use yii\base\InvalidConfigException;
+use yii\helpers\Json;
 use yii\validators\ValidationAsset;
 use yii\validators\Validator;
 
@@ -89,7 +90,7 @@ public function clientValidateAttribute($model, $attribute, $view)
         ValidationAsset::register($view);
         $options = $this->getClientOptions($model, $attribute);
 
-        return 'yii.validation.captcha(value, messages, ' . json_encode($options, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE) . ');';
+        return 'yii.validation.captcha(value, messages, ' . Json::htmlEncode($options) . ');';
     }
 
     /**
diff --git a/framework/classes.php b/framework/classes.php
index 028210c63d4..439f757ce0b 100644
--- a/framework/classes.php
+++ b/framework/classes.php
@@ -5,9 +5,9 @@
  * This file is automatically generated by the "build classmap" command under the "build" folder.
  * Do not modify it directly.
  *
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return [
@@ -347,6 +347,7 @@
   'yii\validators\StringValidator' => YII2_PATH . '/validators/StringValidator.php',
   'yii\validators\UniqueValidator' => YII2_PATH . '/validators/UniqueValidator.php',
   'yii\validators\UrlValidator' => YII2_PATH . '/validators/UrlValidator.php',
+  'yii\validators\TrimValidator' => YII2_PATH . '/validators/TrimValidator.php',
   'yii\validators\ValidationAsset' => YII2_PATH . '/validators/ValidationAsset.php',
   'yii\validators\Validator' => YII2_PATH . '/validators/Validator.php',
   'yii\web\Application' => YII2_PATH . '/web/Application.php',
diff --git a/framework/composer.json b/framework/composer.json
index 2875edb6657..aaafa056878 100644
--- a/framework/composer.json
+++ b/framework/composer.json
@@ -29,7 +29,7 @@
         {
             "name": "Carsten Brandt",
             "email": "mail@cebe.cc",
-            "homepage": "https://cebe.cc/",
+            "homepage": "https://www.cebe.cc/",
             "role": "Core framework development"
         },
         {
@@ -57,8 +57,8 @@
     ],
     "support": {
         "issues": "https://github.com/yiisoft/yii2/issues?state=open",
-        "forum": "http://www.yiiframework.com/forum/",
-        "wiki": "http://www.yiiframework.com/wiki/",
+        "forum": "https://forum.yiiframework.com/",
+        "wiki": "https://www.yiiframework.com/wiki",
         "irc": "ircs://irc.libera.chat:6697/yii",
         "source": "https://github.com/yiisoft/yii2"
     },
diff --git a/framework/console/Application.php b/framework/console/Application.php
index 4ee2535249d..1ec070a55d2 100644
--- a/framework/console/Application.php
+++ b/framework/console/Application.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console;
@@ -50,10 +50,9 @@
  * yii help
  * ```
  *
- * @property-read ErrorHandler $errorHandler The error handler application component. This property is
- * read-only.
- * @property-read Request $request The request component. This property is read-only.
- * @property-read Response $response The response component. This property is read-only.
+ * @property-read ErrorHandler $errorHandler The error handler application component.
+ * @property-read Request $request The request component.
+ * @property-read Response $response The response component.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -171,7 +170,7 @@ public function handleRequest($request)
      *
      * @param string $route the route that specifies the action.
      * @param array $params the parameters to be passed to the action
-     * @return int|Response the result of the action. This can be either an exit code or Response object.
+     * @return int|Response|null the result of the action. This can be either an exit code or Response object.
      * Exit code 0 means normal, and other values mean abnormal. Exit code of `null` is treated as `0` as well.
      * @throws Exception if the route is invalid
      */
diff --git a/framework/console/Controller.php b/framework/console/Controller.php
index 6fb573db946..64ba3682508 100644
--- a/framework/console/Controller.php
+++ b/framework/console/Controller.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console;
@@ -28,12 +28,10 @@
  * where `<route>` is a route to a controller action and the params will be populated as properties of a command.
  * See [[options()]] for details.
  *
- * @property-read string $help This property is read-only.
- * @property-read string $helpSummary This property is read-only.
- * @property-read array $passedOptionValues The properties corresponding to the passed options. This property
- * is read-only.
- * @property-read array $passedOptions The names of the options passed during execution. This property is
- * read-only.
+ * @property-read string $help The help information for this controller.
+ * @property-read string $helpSummary The one-line short summary describing this controller.
+ * @property-read array $passedOptionValues The properties corresponding to the passed options.
+ * @property-read array $passedOptions The names of the options passed during execution.
  * @property Request $request
  * @property Response $response
  *
@@ -545,60 +543,69 @@ public function getActionHelp($action)
      * The returned value should be an array. The keys are the argument names, and the values are
      * the corresponding help information. Each value must be an array of the following structure:
      *
-     * - required: boolean, whether this argument is required.
-     * - type: string, the PHP type of this argument.
-     * - default: string, the default value of this argument
-     * - comment: string, the comment of this argument
+     * - required: bool, whether this argument is required
+     * - type: string|null, the PHP type(s) of this argument
+     * - default: mixed, the default value of this argument
+     * - comment: string, the description of this argument
      *
-     * The default implementation will return the help information extracted from the doc-comment of
-     * the parameters corresponding to the action method.
+     * The default implementation will return the help information extracted from the Reflection or
+     * DocBlock of the parameters corresponding to the action method.
      *
-     * @param Action $action
+     * @param Action $action the action instance
      * @return array the help information of the action arguments
      */
     public function getActionArgsHelp($action)
     {
         $method = $this->getActionMethodReflection($action);
+
         $tags = $this->parseDocCommentTags($method);
-        $params = isset($tags['param']) ? (array) $tags['param'] : [];
+        $tags['param'] = isset($tags['param']) ? (array) $tags['param'] : [];
+        $phpDocParams = [];
+        foreach ($tags['param'] as $i => $tag) {
+            if (preg_match('/^(?<type>\S+)(\s+\$(?<name>\w+))?(?<comment>.*)/us', $tag, $matches) === 1) {
+                $key = empty($matches['name']) ? $i : $matches['name'];
+                $phpDocParams[$key] = ['type' => $matches['type'], 'comment' => $matches['comment']];
+            }
+        }
+        unset($tags);
 
         $args = [];
 
-        /** @var \ReflectionParameter $reflection */
-        foreach ($method->getParameters() as $i => $reflection) {
-            if (PHP_VERSION_ID >= 80000) {
-                $class = $reflection->getType();
-            } else {
-                $class = $reflection->getClass();
-            }
-
-            if ($class !== null) {
-                continue;
+        /** @var \ReflectionParameter $parameter */
+        foreach ($method->getParameters() as $i => $parameter) {
+            $type = null;
+            $comment = '';
+            if (PHP_MAJOR_VERSION > 5 && $parameter->hasType()) {
+                $reflectionType = $parameter->getType();
+                if (PHP_VERSION_ID >= 70100) {
+                    $types = method_exists($reflectionType, 'getTypes') ? $reflectionType->getTypes() : [$reflectionType];
+                    foreach ($types as $key => $reflectionType) {
+                        $types[$key] = $reflectionType->getName();
+                    }
+                    $type = implode('|', $types);
+                } else {
+                    $type = (string) $reflectionType;
+                }
             }
-            $name = $reflection->getName();
-            $tag = isset($params[$i]) ? $params[$i] : '';
-            if (preg_match('/^(\S+)\s+(\$\w+\s+)?(.*)/s', $tag, $matches)) {
-                $type = $matches[1];
-                $comment = $matches[3];
-            } else {
-                $type = null;
-                $comment = $tag;
+            // find PhpDoc tag by property name or position
+            $key = isset($phpDocParams[$parameter->name]) ? $parameter->name : (isset($phpDocParams[$i]) ? $i : null);
+            if ($key !== null) {
+                $comment = $phpDocParams[$key]['comment'];
+                if ($type === null && !empty($phpDocParams[$key]['type'])) {
+                    $type = $phpDocParams[$key]['type'];
+                }
             }
-            if ($reflection->isDefaultValueAvailable()) {
-                $args[$name] = [
-                    'required' => false,
-                    'type' => $type,
-                    'default' => $reflection->getDefaultValue(),
-                    'comment' => $comment,
-                ];
-            } else {
-                $args[$name] = [
-                    'required' => true,
-                    'type' => $type,
-                    'default' => null,
-                    'comment' => $comment,
-                ];
+            // if type still not detected, then using type of default value
+            if ($type === null && $parameter->isDefaultValueAvailable() && $parameter->getDefaultValue() !== null) {
+                $type = gettype($parameter->getDefaultValue());
             }
+
+            $args[$parameter->name] = [
+                'required' => !$parameter->isOptional(),
+                'type' => $type,
+                'default' => $parameter->isDefaultValueAvailable() ? $parameter->getDefaultValue() : null,
+                'comment' => $comment,
+            ];
         }
 
         return $args;
@@ -673,7 +680,7 @@ public function getActionOptionsHelp($action)
 
     /**
      * @param Action $action
-     * @return \ReflectionMethod
+     * @return \ReflectionFunctionAbstract
      */
     protected function getActionMethodReflection($action)
     {
@@ -690,7 +697,7 @@ protected function getActionMethodReflection($action)
 
     /**
      * Parses the comment block into tags.
-     * @param \Reflector $reflection the comment block
+     * @param \ReflectionClass|\ReflectionProperty|\ReflectionFunctionAbstract $reflection the comment block
      * @return array the parsed tags
      */
     protected function parseDocCommentTags($reflection)
@@ -718,7 +725,7 @@ protected function parseDocCommentTags($reflection)
     /**
      * Returns the first line of docblock.
      *
-     * @param \Reflector $reflection
+     * @param \ReflectionClass|\ReflectionProperty|\ReflectionFunctionAbstract $reflection
      * @return string
      */
     protected function parseDocCommentSummary($reflection)
@@ -734,7 +741,7 @@ protected function parseDocCommentSummary($reflection)
     /**
      * Returns full description from the docblock.
      *
-     * @param \Reflector $reflection
+     * @param \ReflectionClass|\ReflectionProperty|\ReflectionFunctionAbstract $reflection
      * @return string
      */
     protected function parseDocCommentDetail($reflection)
diff --git a/framework/console/ErrorHandler.php b/framework/console/ErrorHandler.php
index 526de75dfac..c2a976d0429 100644
--- a/framework/console/ErrorHandler.php
+++ b/framework/console/ErrorHandler.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console;
@@ -25,7 +25,7 @@ class ErrorHandler extends \yii\base\ErrorHandler
 {
     /**
      * Renders an exception using ansi format for console output.
-     * @param \Exception $exception the exception to be rendered.
+     * @param \Throwable $exception the exception to be rendered.
      */
     protected function renderException($exception)
     {
diff --git a/framework/console/Exception.php b/framework/console/Exception.php
index 41a01e475a0..59ee7d71acb 100644
--- a/framework/console/Exception.php
+++ b/framework/console/Exception.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console;
diff --git a/framework/console/ExitCode.php b/framework/console/ExitCode.php
index 50ee57a5594..311f5027d54 100644
--- a/framework/console/ExitCode.php
+++ b/framework/console/ExitCode.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console;
@@ -10,7 +10,7 @@
 /**
  * This class provides constants for defining console command exit codes.
  *
- * The exit codes follow the codes defined in the [FreeBSD sysexits(3)](http://man.openbsd.org/sysexits) manual page.
+ * The exit codes follow the codes defined in the [FreeBSD sysexits(3)](https://man.openbsd.org/sysexits) manual page.
  *
  * These constants can be used in console controllers for example like this:
  *
@@ -30,7 +30,7 @@
  *
  * @author Tom Worster <fsb@thefsb.org>
  * @author Alexander Makarov <sam@rmcreative.ru>
- * @see http://man.openbsd.org/sysexits
+ * @see https://man.openbsd.org/sysexits
  * @since 2.0.13
  */
 class ExitCode
diff --git a/framework/console/Markdown.php b/framework/console/Markdown.php
index 0e62a812279..c67626affac 100644
--- a/framework/console/Markdown.php
+++ b/framework/console/Markdown.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console;
diff --git a/framework/console/Request.php b/framework/console/Request.php
index be76ff4cf46..eee35ca6edb 100644
--- a/framework/console/Request.php
+++ b/framework/console/Request.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console;
diff --git a/framework/console/Response.php b/framework/console/Response.php
index eff85c601e9..b3a99799784 100644
--- a/framework/console/Response.php
+++ b/framework/console/Response.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console;
diff --git a/framework/console/UnknownCommandException.php b/framework/console/UnknownCommandException.php
index 29d00799b42..917887c86be 100644
--- a/framework/console/UnknownCommandException.php
+++ b/framework/console/UnknownCommandException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console;
@@ -34,9 +34,9 @@ class UnknownCommandException extends Exception
      * @param string $route the route of the command that could not be found.
      * @param Application $application the console application instance involved.
      * @param int $code the Exception code.
-     * @param \Exception $previous the previous exception used for the exception chaining.
+     * @param \Throwable|null $previous the previous exception used for the exception chaining.
      */
-    public function __construct($route, $application, $code = 0, \Exception $previous = null)
+    public function __construct($route, $application, $code = 0, $previous = null)
     {
         $this->command = $route;
         $this->application = $application;
diff --git a/framework/console/controllers/AssetController.php b/framework/console/controllers/AssetController.php
index 4f2e492dcea..cd9c3aeaffa 100644
--- a/framework/console/controllers/AssetController.php
+++ b/framework/console/controllers/AssetController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console\controllers;
@@ -544,7 +544,7 @@ protected function compressCssFiles($inputFiles, $outputFile)
         if (is_string($this->cssCompressor)) {
             $tmpFile = $outputFile . '.tmp';
             $this->combineCssFiles($inputFiles, $tmpFile);
-            $this->stdout(shell_exec(strtr($this->cssCompressor, [
+            $this->stdout((string)shell_exec(strtr($this->cssCompressor, [
                 '{from}' => escapeshellarg($tmpFile),
                 '{to}' => escapeshellarg($outputFile),
             ])));
diff --git a/framework/console/controllers/BaseMigrateController.php b/framework/console/controllers/BaseMigrateController.php
index 24280c36e7c..88792516a27 100644
--- a/framework/console/controllers/BaseMigrateController.php
+++ b/framework/console/controllers/BaseMigrateController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console\controllers;
@@ -85,14 +85,14 @@ abstract class BaseMigrateController extends Controller
      */
     public $templateFile;
     /**
-     * @var int the permission to be set for newly generated migration files.
+     * @var int|null the permission to be set for newly generated migration files.
      * This value will be used by PHP chmod() function. No umask will be applied.
      * If not set, the permission will be determined by the current environment.
      * @since 2.0.43
      */
     public $newFileMode;
     /**
-     * @var string|int the user and/or group ownership to be set for newly generated migration files.
+     * @var string|int|null the user and/or group ownership to be set for newly generated migration files.
      * If not set, the ownership will be determined by the current environment.
      * @since 2.0.43
      * @see FileHelper::changeOwnership()
@@ -992,7 +992,7 @@ protected function getMigrationNameLimit()
 
     /**
      * Returns the migration history.
-     * @param int $limit the maximum number of records in the history to be returned. `null` for "no limit".
+     * @param int|null $limit the maximum number of records in the history to be returned. `null` for "no limit".
      * @return array the migration history
      */
     abstract protected function getMigrationHistory($limit);
diff --git a/framework/console/controllers/CacheController.php b/framework/console/controllers/CacheController.php
index 8675c53410c..d5d0a756e4c 100644
--- a/framework/console/controllers/CacheController.php
+++ b/framework/console/controllers/CacheController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console\controllers;
@@ -38,7 +38,7 @@
  * Flushing web cache could be either done by:
  *
  * - Putting a php file under web root and calling it via HTTP
- * - Using [Cachetool](http://gordalina.github.io/cachetool/)
+ * - Using [Cachetool](https://gordalina.github.io/cachetool/)
  *
  * @author Alexander Makarov <sam@rmcreative.ru>
  * @author Mark Jebri <mark.github@yandex.ru>
diff --git a/framework/console/controllers/FixtureController.php b/framework/console/controllers/FixtureController.php
index 667c2a56bcf..d13c4b7bd3b 100644
--- a/framework/console/controllers/FixtureController.php
+++ b/framework/console/controllers/FixtureController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console\controllers;
diff --git a/framework/console/controllers/HelpController.php b/framework/console/controllers/HelpController.php
index 712fa76028a..b7d5db7a936 100644
--- a/framework/console/controllers/HelpController.php
+++ b/framework/console/controllers/HelpController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console\controllers;
@@ -30,7 +30,7 @@
  * In the above, if the command name is not provided, all
  * available commands will be displayed.
  *
- * @property-read array $commands All available command names. This property is read-only.
+ * @property-read array $commands All available command names.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -41,7 +41,7 @@ class HelpController extends Controller
      * Displays available commands or the detailed information
      * about a particular command.
      *
-     * @param string $command The name of the command to show help about.
+     * @param string|null $command The name of the command to show help about.
      * If not provided, all available commands will be displayed.
      * @return int the exit status
      * @throws Exception if the command for help is unknown
@@ -473,8 +473,8 @@ protected function getSubCommandHelp($controller, $actionID)
      */
     protected function formatOptionHelp($name, $required, $type, $defaultValue, $comment)
     {
-        $comment = trim($comment);
-        $type = trim($type);
+        $comment = trim((string)$comment);
+        $type = trim((string)$type);
         if (strncmp($type, 'bool', 4) === 0) {
             $type = 'boolean, 0 or 1';
         }
diff --git a/framework/console/controllers/MessageController.php b/framework/console/controllers/MessageController.php
index 5eb1e312a08..e1a73576903 100644
--- a/framework/console/controllers/MessageController.php
+++ b/framework/console/controllers/MessageController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console\controllers;
@@ -84,7 +84,7 @@ class MessageController extends \yii\console\Controller
      */
     public $markUnused = true;
     /**
-     * @var array list of patterns that specify which files/directories should NOT be processed.
+     * @var array|null list of patterns that specify which files/directories should NOT be processed.
      * If empty or not set, all files/directories will be processed.
      * See helpers/FileHelper::findFiles() description for pattern matching rules.
      * If a file/directory matches both a pattern in "only" and "except", it will NOT be processed.
@@ -99,7 +99,7 @@ class MessageController extends \yii\console\Controller
         '/BaseYii.php', // contains examples about Yii::t()
     ];
     /**
-     * @var array list of patterns that specify which files (not directories) should be processed.
+     * @var array|null list of patterns that specify which files (not directories) should be processed.
      * If empty or not set, all files will be processed.
      * See helpers/FileHelper::findFiles() description for pattern matching rules.
      * If a file/directory matches both a pattern in "only" and "except", it will NOT be processed.
@@ -286,7 +286,7 @@ public function actionConfigTemplate($filePath)
      * This command will search through source code files and extract
      * messages that need to be translated in different languages.
      *
-     * @param string $configFile the path or alias of the configuration file.
+     * @param string|null $configFile the path or alias of the configuration file.
      * You may use the "yii message/config" command to generate
      * this file and then customize it for your needs.
      * @throws Exception on failure.
diff --git a/framework/console/controllers/MigrateController.php b/framework/console/controllers/MigrateController.php
index 8bf011fe42a..17b6a76389a 100644
--- a/framework/console/controllers/MigrateController.php
+++ b/framework/console/controllers/MigrateController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console\controllers;
@@ -406,7 +406,7 @@ protected function generateMigrationSourceCode($params)
 
         $name = $params['name'];
         if ($params['namespace']) {
-            $name = substr($name, strrpos($name, '\\') + 1);
+            $name = substr($name, (strrpos($name, '\\') ?: -1) + 1);
         }
 
         $templateFile = $this->templateFile;
diff --git a/framework/console/controllers/ServeController.php b/framework/console/controllers/ServeController.php
index 7df3b67c8f8..68a7e50c286 100644
--- a/framework/console/controllers/ServeController.php
+++ b/framework/console/controllers/ServeController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console\controllers;
diff --git a/framework/console/widgets/Table.php b/framework/console/widgets/Table.php
index 99fd5d23234..4862e88b6be 100644
--- a/framework/console/widgets/Table.php
+++ b/framework/console/widgets/Table.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\console\widgets;
@@ -40,8 +40,8 @@
  *     ],
  * ]);
  *
- * @property-write string $listPrefix List prefix. This property is write-only.
- * @property-write int $screenWidth Screen width. This property is write-only.
+ * @property-write string $listPrefix List prefix.
+ * @property-write int $screenWidth Screen width.
  *
  * @author Daniel Gomez Pan <pana_1990@hotmail.com>
  * @since 2.0.13
diff --git a/framework/data/ActiveDataFilter.php b/framework/data/ActiveDataFilter.php
index 5c46d0a449b..be5704aa675 100644
--- a/framework/data/ActiveDataFilter.php
+++ b/framework/data/ActiveDataFilter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\data;
diff --git a/framework/data/ActiveDataProvider.php b/framework/data/ActiveDataProvider.php
index 477ca7aee8d..a8b6e158ecf 100644
--- a/framework/data/ActiveDataProvider.php
+++ b/framework/data/ActiveDataProvider.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\data;
diff --git a/framework/data/ArrayDataProvider.php b/framework/data/ArrayDataProvider.php
index 5e507800a07..657bcd2a1c3 100644
--- a/framework/data/ArrayDataProvider.php
+++ b/framework/data/ArrayDataProvider.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\data;
@@ -53,7 +53,7 @@
 class ArrayDataProvider extends BaseDataProvider
 {
     /**
-     * @var string|callable the column that is used as the key of the data models.
+     * @var string|callable|null the column that is used as the key of the data models.
      * This can be either a column name, or a callable that returns the key value of a given data model.
      * If this is not set, the index of the [[models]] array will be used.
      * @see getKeys()
diff --git a/framework/data/BaseDataProvider.php b/framework/data/BaseDataProvider.php
index 5be48a17712..82af0aa7c47 100644
--- a/framework/data/BaseDataProvider.php
+++ b/framework/data/BaseDataProvider.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\data;
@@ -16,7 +16,7 @@
  *
  * For more details and usage information on BaseDataProvider, see the [guide article on data providers](guide:output-data-providers).
  *
- * @property-read int $count The number of data models in the current page. This property is read-only.
+ * @property-read int $count The number of data models in the current page.
  * @property array $keys The list of key values corresponding to [[models]]. Each data model in [[models]] is
  * uniquely identified by the corresponding key value in this array.
  * @property array $models The list of data models in the current page.
@@ -37,7 +37,7 @@ abstract class BaseDataProvider extends Component implements DataProviderInterfa
      */
     private static $counter = 0;
     /**
-     * @var string an ID that uniquely identifies the data provider among all data providers.
+     * @var string|null an ID that uniquely identifies the data provider among all data providers.
      * Generated automatically the following way in case it is not set:
      *
      * - First data provider ID is empty.
diff --git a/framework/data/DataFilter.php b/framework/data/DataFilter.php
index c07e2a86407..057509203fe 100644
--- a/framework/data/DataFilter.php
+++ b/framework/data/DataFilter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\data;
@@ -613,7 +613,7 @@ protected function validateAttributeCondition($attribute, $condition)
      * Validates operator condition.
      * @param string $operator raw operator control keyword.
      * @param mixed $condition attribute condition.
-     * @param string $attribute attribute name.
+     * @param string|null $attribute attribute name.
      */
     protected function validateOperatorCondition($operator, $condition, $attribute = null)
     {
diff --git a/framework/data/DataProviderInterface.php b/framework/data/DataProviderInterface.php
index 0260c381e8f..95aa2fb7ec3 100644
--- a/framework/data/DataProviderInterface.php
+++ b/framework/data/DataProviderInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\data;
diff --git a/framework/data/Pagination.php b/framework/data/Pagination.php
index 247d907aa8a..e74bc09afcf 100644
--- a/framework/data/Pagination.php
+++ b/framework/data/Pagination.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\data;
@@ -60,13 +60,13 @@
  *
  * @property-read int $limit The limit of the data. This may be used to set the LIMIT value for a SQL
  * statement for fetching the current page of data. Note that if the page size is infinite, a value -1 will be
- * returned. This property is read-only.
+ * returned.
  * @property-read array $links The links for navigational purpose. The array keys specify the purpose of the
- * links (e.g. [[LINK_FIRST]]), and the array values are the corresponding URLs. This property is read-only.
+ * links (e.g. [[LINK_FIRST]]), and the array values are the corresponding URLs.
  * @property-read int $offset The offset of the data. This may be used to set the OFFSET value for a SQL
- * statement for fetching the current page of data. This property is read-only.
+ * statement for fetching the current page of data.
  * @property int $page The zero-based current page number.
- * @property-read int $pageCount Number of pages. This property is read-only.
+ * @property-read int $pageCount Number of pages.
  * @property int $pageSize The number of items per page. If it is less than 1, it means the page size is
  * infinite, and thus a single page contains all items.
  *
@@ -96,12 +96,12 @@ class Pagination extends BaseObject implements Linkable
      */
     public $forcePageParam = true;
     /**
-     * @var string the route of the controller action for displaying the paged contents.
+     * @var string|null the route of the controller action for displaying the paged contents.
      * If not set, it means using the currently requested route.
      */
     public $route;
     /**
-     * @var array parameters (name => value) that should be used to obtain the current page number
+     * @var array|null parameters (name => value) that should be used to obtain the current page number
      * and to create new pagination URLs. If not set, all parameters from $_GET will be used instead.
      *
      * In order to add hash to all links use `array_merge($_GET, ['#' => 'my-hash'])`.
@@ -111,7 +111,7 @@ class Pagination extends BaseObject implements Linkable
      */
     public $params;
     /**
-     * @var \yii\web\UrlManager the URL manager used for creating pagination URLs. If not set,
+     * @var \yii\web\UrlManager|null the URL manager used for creating pagination URLs. If not set,
      * the "urlManager" application component will be used.
      */
     public $urlManager;
@@ -250,7 +250,7 @@ public function setPageSize($value, $validatePageSize = false)
      * Creates the URL suitable for pagination with the specified page number.
      * This method is mainly called by pagers when creating URLs used to perform pagination.
      * @param int $page the zero-based page number that the URL should point to.
-     * @param int $pageSize the number of items on each page. If not set, the value of [[pageSize]] will be used.
+     * @param int|null $pageSize the number of items on each page. If not set, the value of [[pageSize]] will be used.
      * @param bool $absolute whether to create an absolute URL. Defaults to `false`.
      * @return string the created URL
      * @see params
@@ -339,7 +339,7 @@ public function getLinks($absolute = false)
      * Returns the value of the specified query parameter.
      * This method returns the named parameter value from [[params]]. Null is returned if the value does not exist.
      * @param string $name the parameter name
-     * @param string $defaultValue the value to be returned when the specified parameter does not exist in [[params]].
+     * @param string|null $defaultValue the value to be returned when the specified parameter does not exist in [[params]].
      * @return string|null the parameter value
      */
     protected function getQueryParam($name, $defaultValue = null)
diff --git a/framework/data/Sort.php b/framework/data/Sort.php
index bbb1ce9b336..5b7ff3b77db 100644
--- a/framework/data/Sort.php
+++ b/framework/data/Sort.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\data;
@@ -72,7 +72,7 @@
  * `SORT_ASC` for ascending order or `SORT_DESC` for descending order. Note that the type of this property
  * differs in getter and setter. See [[getAttributeOrders()]] and [[setAttributeOrders()]] for details.
  * @property-read array $orders The columns (keys) and their corresponding sort directions (values). This can
- * be passed to [[\yii\db\Query::orderBy()]] to construct a DB query. This property is read-only.
+ * be passed to [[\yii\db\Query::orderBy()]] to construct a DB query.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -159,7 +159,7 @@ class Sort extends BaseObject
      */
     public $defaultOrder;
     /**
-     * @var string the route of the controller action for displaying the sorted contents.
+     * @var string|null the route of the controller action for displaying the sorted contents.
      * If not set, it means using the currently requested route.
      */
     public $route;
@@ -168,7 +168,7 @@ class Sort extends BaseObject
      */
     public $separator = ',';
     /**
-     * @var array parameters (name => value) that should be used to obtain the current sort directions
+     * @var array|null parameters (name => value) that should be used to obtain the current sort directions
      * and to create new sort URLs. If not set, `$_GET` will be used instead.
      *
      * In order to add hash to all links use `array_merge($_GET, ['#' => 'my-hash'])`.
@@ -181,7 +181,7 @@ class Sort extends BaseObject
      */
     public $params;
     /**
-     * @var \yii\web\UrlManager the URL manager used for creating sort URLs. If not set,
+     * @var \yii\web\UrlManager|null the URL manager used for creating sort URLs. If not set,
      * the `urlManager` application component will be used.
      */
     public $urlManager;
diff --git a/framework/data/SqlDataProvider.php b/framework/data/SqlDataProvider.php
index cf851ef8f92..5a8f9631de5 100644
--- a/framework/data/SqlDataProvider.php
+++ b/framework/data/SqlDataProvider.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\data;
@@ -80,7 +80,7 @@ class SqlDataProvider extends BaseDataProvider
      */
     public $params = [];
     /**
-     * @var string|callable the column that is used as the key of the data models.
+     * @var string|callable|null the column that is used as the key of the data models.
      * This can be either a column name, or a callable that returns the key value of a given data model.
      *
      * If this is not set, the keys of the [[models]] array will be used.
diff --git a/framework/db/ActiveQuery.php b/framework/db/ActiveQuery.php
index 434b59cd598..413255fcfeb 100644
--- a/framework/db/ActiveQuery.php
+++ b/framework/db/ActiveQuery.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -81,12 +81,12 @@ class ActiveQuery extends Query implements ActiveQueryInterface
     const EVENT_INIT = 'init';
 
     /**
-     * @var string the SQL statement to be executed for retrieving AR records.
+     * @var string|null the SQL statement to be executed for retrieving AR records.
      * This is set by [[ActiveRecord::findBySql()]].
      */
     public $sql;
     /**
-     * @var string|array the join condition to be used when this query is used in a relational context.
+     * @var string|array|null the join condition to be used when this query is used in a relational context.
      * The condition will be used in the ON part when [[ActiveQuery::joinWith()]] is called.
      * Otherwise, the condition will be used in the WHERE part of a query.
      * Please refer to [[Query::where()]] on how to specify this parameter.
@@ -94,7 +94,7 @@ class ActiveQuery extends Query implements ActiveQueryInterface
      */
     public $on;
     /**
-     * @var array a list of relations that this query should be joined with
+     * @var array|null a list of relations that this query should be joined with
      */
     public $joinWith;
 
@@ -124,7 +124,7 @@ public function init()
 
     /**
      * Executes query and returns all results as an array.
-     * @param Connection $db the DB connection used to create the DB command.
+     * @param Connection|null $db the DB connection used to create the DB command.
      * If null, the DB connection returned by [[modelClass]] will be used.
      * @return array|ActiveRecord[] the query results. If the query results in nothing, an empty array will be returned.
      */
@@ -778,7 +778,7 @@ public function orOnCondition($condition, $params = [])
      * @param array $link the link between the junction table and the table associated with [[primaryModel]].
      * The keys of the array represent the columns in the junction table, and the values represent the columns
      * in the [[primaryModel]] table.
-     * @param callable $callable a PHP callback for customizing the relation associated with the junction table.
+     * @param callable|null $callable a PHP callback for customizing the relation associated with the junction table.
      * Its signature should be `function($query)`, where `$query` is the query to be customized.
      * @return $this the query object itself
      * @throws InvalidConfigException when query is not initialized properly
diff --git a/framework/db/ActiveQueryInterface.php b/framework/db/ActiveQueryInterface.php
index 9150e8bc2ec..c424a4919cb 100644
--- a/framework/db/ActiveQueryInterface.php
+++ b/framework/db/ActiveQueryInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -31,7 +31,7 @@ public function asArray($value = true);
 
     /**
      * Executes query and returns a single row of result.
-     * @param Connection $db the DB connection used to create the DB command.
+     * @param Connection|null $db the DB connection used to create the DB command.
      * If `null`, the DB connection returned by [[ActiveQueryTrait::$modelClass|modelClass]] will be used.
      * @return ActiveRecordInterface|array|null a single row of query result. Depending on the setting of [[asArray]],
      * the query result may be either an array or an ActiveRecord object. `null` will be returned
@@ -92,7 +92,7 @@ public function with();
     /**
      * Specifies the relation associated with the junction table for use in relational query.
      * @param string $relationName the relation name. This refers to a relation declared in the [[ActiveRelationTrait::primaryModel|primaryModel]] of the relation.
-     * @param callable $callable a PHP callback for customizing the relation associated with the junction table.
+     * @param callable|null $callable a PHP callback for customizing the relation associated with the junction table.
      * Its signature should be `function($query)`, where `$query` is the query to be customized.
      * @return $this the relation object itself.
      */
diff --git a/framework/db/ActiveQueryTrait.php b/framework/db/ActiveQueryTrait.php
index 9bb1cc758d0..e2de1dd12d9 100644
--- a/framework/db/ActiveQueryTrait.php
+++ b/framework/db/ActiveQueryTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ActiveRecord.php b/framework/db/ActiveRecord.php
index face7132b76..0b95da9e62d 100644
--- a/framework/db/ActiveRecord.php
+++ b/framework/db/ActiveRecord.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -17,7 +17,7 @@
 /**
  * ActiveRecord is the base class for classes representing relational data in terms of objects.
  *
- * Active Record implements the [Active Record design pattern](http://en.wikipedia.org/wiki/Active_record).
+ * Active Record implements the [Active Record design pattern](https://en.wikipedia.org/wiki/Active_record_pattern).
  * The premise behind Active Record is that an individual [[ActiveRecord]] object is associated with a specific
  * row in a database table. The object's attributes are mapped to the columns of the corresponding table.
  * Referencing an Active Record attribute is equivalent to accessing the corresponding table column for that record.
@@ -70,8 +70,8 @@
  *
  * For more details and usage information on ActiveRecord, see the [guide article on ActiveRecord](guide:db-active-record).
  *
- * @method ActiveQuery hasMany($class, array $link) see [[BaseActiveRecord::hasMany()]] for more info
- * @method ActiveQuery hasOne($class, array $link) see [[BaseActiveRecord::hasOne()]] for more info
+ * @method ActiveQuery hasMany($class, array $link) See [[BaseActiveRecord::hasMany()]] for more info.
+ * @method ActiveQuery hasOne($class, array $link) See [[BaseActiveRecord::hasOne()]] for more info.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Carsten Brandt <mail@cebe.cc>
@@ -392,7 +392,7 @@ public static function updateAllCounters($counters, $condition = '', $params = [
      *
      * For a large set of models you might consider using [[ActiveQuery::each()]] to keep memory usage within limits.
      *
-     * @param string|array $condition the conditions that will be put in the WHERE part of the DELETE SQL.
+     * @param string|array|null $condition the conditions that will be put in the WHERE part of the DELETE SQL.
      * Please refer to [[Query::where()]] on how to specify this parameter.
      * @param array $params the parameters (name => value) to be bound to the query.
      * @return int the number of rows deleted
@@ -470,7 +470,7 @@ public static function primaryKey()
      */
     public function attributes()
     {
-        return array_keys(static::getTableSchema()->columns);
+        return static::getTableSchema()->getColumnNames();
     }
 
     /**
@@ -554,10 +554,10 @@ public static function populateRecord($record, $row)
      * @param bool $runValidation whether to perform validation (calling [[validate()]])
      * before saving the record. Defaults to `true`. If the validation fails, the record
      * will not be saved to the database and this method will return `false`.
-     * @param array $attributes list of attributes that need to be saved. Defaults to `null`,
+     * @param array|null $attributes list of attributes that need to be saved. Defaults to `null`,
      * meaning all attributes that are loaded from DB will be saved.
      * @return bool whether the attributes are valid and the record is inserted successfully.
-     * @throws \Exception in case insert failed.
+     * @throws \Throwable in case insert failed.
      */
     public function insert($runValidation = true, $attributes = null)
     {
@@ -591,7 +591,7 @@ public function insert($runValidation = true, $attributes = null)
 
     /**
      * Inserts an ActiveRecord into DB without considering transaction.
-     * @param array $attributes list of attributes that need to be saved. Defaults to `null`,
+     * @param array|null $attributes list of attributes that need to be saved. Defaults to `null`,
      * meaning all attributes that are loaded from DB will be saved.
      * @return bool whether the record is inserted successfully.
      */
@@ -661,13 +661,13 @@ protected function insertInternal($attributes = null)
      * @param bool $runValidation whether to perform validation (calling [[validate()]])
      * before saving the record. Defaults to `true`. If the validation fails, the record
      * will not be saved to the database and this method will return `false`.
-     * @param array $attributeNames list of attributes that need to be saved. Defaults to `null`,
+     * @param array|null $attributeNames list of attributes that need to be saved. Defaults to `null`,
      * meaning all attributes that are loaded from DB will be saved.
      * @return int|false the number of rows affected, or false if validation fails
      * or [[beforeSave()]] stops the updating process.
      * @throws StaleObjectException if [[optimisticLock|optimistic locking]] is enabled and the data
      * being updated is outdated.
-     * @throws \Exception in case update failed.
+     * @throws \Throwable in case update failed.
      */
     public function update($runValidation = true, $attributeNames = null)
     {
@@ -716,7 +716,7 @@ public function update($runValidation = true, $attributeNames = null)
      * Note that it is possible the number of rows deleted is 0, even though the deletion execution is successful.
      * @throws StaleObjectException if [[optimisticLock|optimistic locking]] is enabled and the data
      * being deleted is outdated.
-     * @throws \Exception in case delete failed.
+     * @throws \Throwable in case delete failed.
      */
     public function delete()
     {
diff --git a/framework/db/ActiveRecordInterface.php b/framework/db/ActiveRecordInterface.php
index dfa9ed3096e..d845e9d32cb 100644
--- a/framework/db/ActiveRecordInterface.php
+++ b/framework/db/ActiveRecordInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -79,9 +79,6 @@ public function getPrimaryKey($asArray = false);
      * @param bool $asArray whether to return the primary key value as an array. If true,
      * the return value will be an array with column name as key and column value as value.
      * If this is `false` (default), a scalar value will be returned for non-composite primary key.
-     * @property mixed The old primary key value. An array (column name => column value) is
-     * returned if the primary key is composite. A string is returned otherwise (`null` will be
-     * returned if the key value is `null`).
      * @return mixed the old primary key value. An array (column name => column value) is returned if the primary key
      * is composite or `$asArray` is true. A string is returned otherwise (`null` will be returned if
      * the key value is `null`).
@@ -313,7 +310,7 @@ public static function updateAll($attributes, $condition = null);
      * Customer::deleteAll([status = 3]);
      * ```
      *
-     * @param array $condition the condition that matches the records that should get deleted.
+     * @param array|null $condition the condition that matches the records that should get deleted.
      * Please refer to [[QueryInterface::where()]] on how to specify this parameter.
      * An empty condition will match all records.
      * @return int the number of rows deleted
@@ -338,7 +335,7 @@ public static function deleteAll($condition = null);
      * @param bool $runValidation whether to perform validation (calling [[\yii\base\Model::validate()|validate()]])
      * before saving the record. Defaults to `true`. If the validation fails, the record
      * will not be saved to the database and this method will return `false`.
-     * @param array $attributeNames list of attribute names that need to be saved. Defaults to `null`,
+     * @param array|null $attributeNames list of attribute names that need to be saved. Defaults to `null`,
      * meaning all attributes that are loaded from DB will be saved.
      * @return bool whether the saving succeeded (i.e. no validation errors occurred).
      */
@@ -359,7 +356,7 @@ public function save($runValidation = true, $attributeNames = null);
      * @param bool $runValidation whether to perform validation (calling [[\yii\base\Model::validate()|validate()]])
      * before saving the record. Defaults to `true`. If the validation fails, the record
      * will not be saved to the database and this method will return `false`.
-     * @param array $attributes list of attributes that need to be saved. Defaults to `null`,
+     * @param array|null $attributes list of attributes that need to be saved. Defaults to `null`,
      * meaning all attributes that are loaded from DB will be saved.
      * @return bool whether the attributes are valid and the record is inserted successfully.
      */
@@ -380,7 +377,7 @@ public function insert($runValidation = true, $attributes = null);
      * @param bool $runValidation whether to perform validation (calling [[\yii\base\Model::validate()|validate()]])
      * before saving the record. Defaults to `true`. If the validation fails, the record
      * will not be saved to the database and this method will return `false`.
-     * @param array $attributeNames list of attributes that need to be saved. Defaults to `null`,
+     * @param array|null $attributeNames list of attributes that need to be saved. Defaults to `null`,
      * meaning all attributes that are loaded from DB will be saved.
      * @return int|bool the number of rows affected, or `false` if validation fails
      * or updating process is stopped for other reasons.
diff --git a/framework/db/ActiveRelationTrait.php b/framework/db/ActiveRelationTrait.php
index 8f2a6e44289..687777f23bb 100644
--- a/framework/db/ActiveRelationTrait.php
+++ b/framework/db/ActiveRelationTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -17,8 +17,8 @@
  * @author Carsten Brandt <mail@cebe.cc>
  * @since 2.0
  *
- * @method ActiveRecordInterface one($db = null)
- * @method ActiveRecordInterface[] all($db = null)
+ * @method ActiveRecordInterface|array|null one($db = null) See [[ActiveQueryInterface::one()]] for more info.
+ * @method ActiveRecordInterface[] all($db = null) See [[ActiveQueryInterface::all()]] for more info.
  * @property ActiveRecord $modelClass
  */
 trait ActiveRelationTrait
@@ -98,7 +98,7 @@ public function __clone()
      * ```
      *
      * @param string $relationName the relation name. This refers to a relation declared in [[primaryModel]].
-     * @param callable $callable a PHP callback for customizing the relation associated with the junction table.
+     * @param callable|null $callable a PHP callback for customizing the relation associated with the junction table.
      * Its signature should be `function($query)`, where `$query` is the query to be customized.
      * @return $this the relation object itself.
      */
@@ -289,7 +289,12 @@ public function populateRelation($name, &$primaryModels)
             $link = array_values($deepViaQuery->link);
         }
         foreach ($primaryModels as $i => $primaryModel) {
-            if ($this->multiple && count($link) === 1 && is_array($keys = $primaryModel[reset($link)])) {
+            $keys = null;
+            if ($this->multiple && count($link) === 1) {
+                $primaryModelKey = reset($link);
+                $keys = isset($primaryModel[$primaryModelKey]) ? $primaryModel[$primaryModelKey] : null;
+            }
+            if (is_array($keys)) {
                 $value = [];
                 foreach ($keys as $key) {
                     $key = $this->normalizeModelKey($key);
@@ -386,8 +391,8 @@ private function populateInverseRelation(&$primaryModels, $models, $primaryName,
     /**
      * @param array $models
      * @param array $link
-     * @param array $viaModels
-     * @param null|self $viaQuery
+     * @param array|null $viaModels
+     * @param self|null $viaQuery
      * @param bool $checkMultiple
      * @return array
      */
@@ -523,7 +528,8 @@ private function filterByModels($models)
             // single key
             $attribute = reset($this->link);
             foreach ($models as $model) {
-                if (($value = $model[$attribute]) !== null) {
+                $value = isset($model[$attribute]) || (is_object($model) && property_exists($model, $attribute)) ? $model[$attribute] : null;
+                if ($value !== null) {
                     if (is_array($value)) {
                         $values = array_merge($values, $value);
                     } elseif ($value instanceof ArrayExpression && $value->getDimension() === 1) {
@@ -574,13 +580,15 @@ private function filterByModels($models)
     /**
      * @param ActiveRecordInterface|array $model
      * @param array $attributes
-     * @return string
+     * @return string|false
      */
     private function getModelKey($model, $attributes)
     {
         $key = [];
         foreach ($attributes as $attribute) {
-            $key[] = $this->normalizeModelKey($model[$attribute]);
+            if (isset($model[$attribute]) || (is_object($model) && property_exists($model, $attribute))) {
+                $key[] = $this->normalizeModelKey($model[$attribute]);
+            }
         }
         if (count($key) > 1) {
             return serialize($key);
diff --git a/framework/db/AfterSaveEvent.php b/framework/db/AfterSaveEvent.php
index 516cc28918e..3efccc10ec1 100644
--- a/framework/db/AfterSaveEvent.php
+++ b/framework/db/AfterSaveEvent.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ArrayExpression.php b/framework/db/ArrayExpression.php
index e473eb10ec2..c4ba9d6f0c4 100644
--- a/framework/db/ArrayExpression.php
+++ b/framework/db/ArrayExpression.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -28,7 +28,7 @@
 class ArrayExpression implements ExpressionInterface, \ArrayAccess, \Countable, \IteratorAggregate
 {
     /**
-     * @var null|string the type of the array elements. Defaults to `null` which means the type is
+     * @var string|null the type of the array elements. Defaults to `null` which means the type is
      * not explicitly specified.
      *
      * Note that in case when type is not specified explicitly and DBMS can not guess it from the context,
@@ -68,7 +68,7 @@ public function __construct($value, $type = null, $dimension = 1)
     }
 
     /**
-     * @return null|string
+     * @return string|null
      */
     public function getType()
     {
@@ -104,6 +104,7 @@ public function getDimension()
      * The return value will be casted to boolean if non-boolean was returned.
      * @since 2.0.14
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($offset)
     {
         return isset($this->value[$offset]);
@@ -119,6 +120,7 @@ public function offsetExists($offset)
      * @return mixed Can return all value types.
      * @since 2.0.14
      */
+    #[\ReturnTypeWillChange]
     public function offsetGet($offset)
     {
         return $this->value[$offset];
@@ -137,6 +139,7 @@ public function offsetGet($offset)
      * @return void
      * @since 2.0.14
      */
+    #[\ReturnTypeWillChange]
     public function offsetSet($offset, $value)
     {
         $this->value[$offset] = $value;
@@ -152,6 +155,7 @@ public function offsetSet($offset, $value)
      * @return void
      * @since 2.0.14
      */
+    #[\ReturnTypeWillChange]
     public function offsetUnset($offset)
     {
         unset($this->value[$offset]);
@@ -167,6 +171,7 @@ public function offsetUnset($offset)
      * The return value is cast to an integer.
      * @since 2.0.14
      */
+    #[\ReturnTypeWillChange]
     public function count()
     {
         return count($this->value);
@@ -181,6 +186,7 @@ public function count()
      * @since 2.0.14.1
      * @throws InvalidConfigException when ArrayExpression contains QueryInterface object
      */
+    #[\ReturnTypeWillChange]
     public function getIterator()
     {
         $value = $this->getValue();
diff --git a/framework/db/BaseActiveRecord.php b/framework/db/BaseActiveRecord.php
index d5675479c10..cc0de7d07f0 100644
--- a/framework/db/BaseActiveRecord.php
+++ b/framework/db/BaseActiveRecord.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -23,19 +23,17 @@
  *
  * See [[\yii\db\ActiveRecord]] for a concrete implementation.
  *
- * @property-read array $dirtyAttributes The changed attribute values (name-value pairs). This property is
- * read-only.
+ * @property-read array $dirtyAttributes The changed attribute values (name-value pairs).
  * @property bool $isNewRecord Whether the record is new and should be inserted when calling [[save()]].
  * @property array $oldAttributes The old attribute values (name-value pairs). Note that the type of this
  * property differs in getter and setter. See [[getOldAttributes()]] and [[setOldAttributes()]] for details.
  * @property-read mixed $oldPrimaryKey The old primary key value. An array (column name => column value) is
  * returned if the primary key is composite. A string is returned otherwise (null will be returned if the key
- * value is null). This property is read-only.
+ * value is null).
  * @property-read mixed $primaryKey The primary key value. An array (column name => column value) is returned
  * if the primary key is composite. A string is returned otherwise (null will be returned if the key value is
- * null). This property is read-only.
- * @property-read array $relatedRecords An array of related records indexed by relation names. This property
- * is read-only.
+ * null).
+ * @property-read array $relatedRecords An array of related records indexed by relation names.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Carsten Brandt <mail@cebe.cc>
@@ -198,7 +196,7 @@ public static function updateAllCounters($counters, $condition = '')
      * Customer::deleteAll('status = 3');
      * ```
      *
-     * @param string|array $condition the conditions that will be put in the WHERE part of the DELETE SQL.
+     * @param string|array|null $condition the conditions that will be put in the WHERE part of the DELETE SQL.
      * Please refer to [[Query::where()]] on how to specify this parameter.
      * @return int the number of rows deleted
      * @throws NotSupportedException if not overridden.
@@ -231,7 +229,7 @@ public static function deleteAll($condition = null)
      *    and implement necessary business logic (e.g. merging the changes, prompting stated data)
      *    to resolve the conflict.
      *
-     * @return string the column name that stores the lock version of a table row.
+     * @return string|null the column name that stores the lock version of a table row.
      * If `null` is returned (default implemented), optimistic locking will not be supported.
      */
     public function optimisticLock()
@@ -641,7 +639,7 @@ public function getDirtyAttributes($names = null)
             }
         } else {
             foreach ($this->_attributes as $name => $value) {
-                if (isset($names[$name]) && (!array_key_exists($name, $this->_oldAttributes) || $value !== $this->_oldAttributes[$name])) {
+                if (isset($names[$name]) && (!array_key_exists($name, $this->_oldAttributes) || $this->isAttributeDirty($name, $value))) {
                     $attributes[$name] = $value;
                 }
             }
@@ -668,7 +666,7 @@ public function getDirtyAttributes($names = null)
      * @param bool $runValidation whether to perform validation (calling [[validate()]])
      * before saving the record. Defaults to `true`. If the validation fails, the record
      * will not be saved to the database and this method will return `false`.
-     * @param array $attributeNames list of attribute names that need to be saved. Defaults to null,
+     * @param array|null $attributeNames list of attribute names that need to be saved. Defaults to null,
      * meaning all attributes that are loaded from DB will be saved.
      * @return bool whether the saving succeeded (i.e. no validation errors occurred).
      */
@@ -725,7 +723,7 @@ public function save($runValidation = true, $attributeNames = null)
      * @param bool $runValidation whether to perform validation (calling [[validate()]])
      * before saving the record. Defaults to `true`. If the validation fails, the record
      * will not be saved to the database and this method will return `false`.
-     * @param array $attributeNames list of attribute names that need to be saved. Defaults to null,
+     * @param array|null $attributeNames list of attribute names that need to be saved. Defaults to null,
      * meaning all attributes that are loaded from DB will be saved.
      * @return int|false the number of rows affected, or `false` if validation fails
      * or [[beforeSave()]] stops the updating process.
@@ -785,7 +783,7 @@ public function updateAttributes($attributes)
 
     /**
      * @see update()
-     * @param array $attributes attributes to update
+     * @param array|null $attributes attributes to update
      * @return int|false the number of rows affected, or false if [[beforeSave()]] stops the updating process.
      * @throws StaleObjectException
      */
@@ -992,7 +990,7 @@ public function beforeSave($insert)
      *
      * Note that no automatic type conversion performed by default. You may use
      * [[\yii\behaviors\AttributeTypecastBehavior]] to facilitate attribute typecasting.
-     * See http://www.yiiframework.com/doc-2.0/guide-db-active-record.html#attributes-typecasting.
+     * See https://www.yiiframework.com/doc-2.0/guide-db-active-record.html#attributes-typecasting.
      */
     public function afterSave($insert, $changedAttributes)
     {
@@ -1112,9 +1110,6 @@ public function equals($record)
      * @param bool $asArray whether to return the primary key value as an array. If `true`,
      * the return value will be an array with column names as keys and column values as values.
      * Note that for composite primary keys, an array will always be returned regardless of this parameter value.
-     * @property mixed The primary key value. An array (column name => column value) is returned if
-     * the primary key is composite. A string is returned otherwise (null will be returned if
-     * the key value is null).
      * @return mixed the primary key value. An array (column name => column value) is returned if the primary key
      * is composite or `$asArray` is `true`. A string is returned otherwise (null will be returned if
      * the key value is null).
@@ -1142,9 +1137,6 @@ public function getPrimaryKey($asArray = false)
      * @param bool $asArray whether to return the primary key value as an array. If `true`,
      * the return value will be an array with column name as key and column value as value.
      * If this is `false` (default), a scalar value will be returned for non-composite primary key.
-     * @property mixed The old primary key value. An array (column name => column value) is
-     * returned if the primary key is composite. A string is returned otherwise (null will be
-     * returned if the key value is null).
      * @return mixed the old primary key value. An array (column name => column value) is returned if the primary key
      * is composite or `$asArray` is `true`. A string is returned otherwise (null will be returned if
      * the key value is null).
@@ -1221,6 +1213,7 @@ public static function instantiate($row)
      * @param mixed $offset the offset to check on
      * @return bool whether there is an element at the specified offset.
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($offset)
     {
         return $this->__isset($offset);
@@ -1232,7 +1225,7 @@ public function offsetExists($offset)
      * It can be declared in either the Active Record class itself or one of its behaviors.
      * @param string $name the relation name, e.g. `orders` for a relation defined via `getOrders()` method (case-sensitive).
      * @param bool $throwException whether to throw exception if the relation does not exist.
-     * @return ActiveQueryInterface|ActiveQuery the relational query object. If the relation does not exist
+     * @return ActiveQueryInterface|ActiveQuery|null the relational query object. If the relation does not exist
      * and `$throwException` is `false`, `null` will be returned.
      * @throws InvalidArgumentException if the named relation does not exist.
      */
@@ -1761,4 +1754,20 @@ private function setRelationDependencies($name, $relation, $viaRelationName = nu
             $this->setRelationDependencies($name, $viaQuery, $viaRelationName);
         }
     }
+
+    /**
+     * @param string $attribute
+     * @param mixed  $value
+     * @return bool
+     */
+    private function isAttributeDirty($attribute, $value)
+    {
+        $old_attribute = $this->oldAttributes[$attribute];
+        if (is_array($value) && is_array($this->oldAttributes[$attribute])) {
+            $value = ArrayHelper::recursiveSort($value);
+            $old_attribute = ArrayHelper::recursiveSort($old_attribute);
+        }
+
+        return $value !== $old_attribute;
+    }
 }
diff --git a/framework/db/BatchQueryResult.php b/framework/db/BatchQueryResult.php
index c473d0ecd23..db8e8c28946 100644
--- a/framework/db/BatchQueryResult.php
+++ b/framework/db/BatchQueryResult.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -43,7 +43,7 @@ class BatchQueryResult extends Component implements \Iterator
     const EVENT_FINISH = 'finish';
 
     /**
-     * @var Connection the DB connection to be used when performing batch query.
+     * @var Connection|null the DB connection to be used when performing batch query.
      * If null, the "db" application component will be used.
      */
     public $db;
@@ -114,6 +114,7 @@ public function reset()
      * Resets the iterator to the initial state.
      * This method is required by the interface [[\Iterator]].
      */
+    #[\ReturnTypeWillChange]
     public function rewind()
     {
         $this->reset();
@@ -124,6 +125,7 @@ public function rewind()
      * Moves the internal pointer to the next dataset.
      * This method is required by the interface [[\Iterator]].
      */
+    #[\ReturnTypeWillChange]
     public function next()
     {
         if ($this->_batch === null || !$this->each || $this->each && next($this->_batch) === false) {
@@ -197,6 +199,7 @@ protected function getRows()
      * This method is required by the interface [[\Iterator]].
      * @return int the index of the current row.
      */
+    #[\ReturnTypeWillChange]
     public function key()
     {
         return $this->_key;
@@ -207,6 +210,7 @@ public function key()
      * This method is required by the interface [[\Iterator]].
      * @return mixed the current dataset.
      */
+    #[\ReturnTypeWillChange]
     public function current()
     {
         return $this->_value;
@@ -217,6 +221,7 @@ public function current()
      * This method is required by the interface [[\Iterator]].
      * @return bool whether there is a valid dataset at the current position.
      */
+    #[\ReturnTypeWillChange]
     public function valid()
     {
         return !empty($this->_batch);
diff --git a/framework/db/CheckConstraint.php b/framework/db/CheckConstraint.php
index 94b3f4a9f55..585032cfe80 100644
--- a/framework/db/CheckConstraint.php
+++ b/framework/db/CheckConstraint.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ColumnSchema.php b/framework/db/ColumnSchema.php
index 5eb6b7b891b..74e1ddea84b 100644
--- a/framework/db/ColumnSchema.php
+++ b/framework/db/ColumnSchema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -161,8 +161,15 @@ protected function typecast($value)
                     return $value;
                 }
 
+                if (PHP_VERSION_ID >= 80100 && is_object($value) && $value instanceof \BackedEnum) {
+                    return (string) $value->value;
+                }
+
                 return (string) $value;
             case 'integer':
+                if (PHP_VERSION_ID >= 80100 && is_object($value) && $value instanceof \BackedEnum) {
+                    return (int) $value->value;
+                }
                 return (int) $value;
             case 'boolean':
                 // treating a 0 bit value as false too
diff --git a/framework/db/ColumnSchemaBuilder.php b/framework/db/ColumnSchemaBuilder.php
index b9616148da2..756b4b8aa8b 100644
--- a/framework/db/ColumnSchemaBuilder.php
+++ b/framework/db/ColumnSchemaBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -124,8 +124,8 @@ class ColumnSchemaBuilder extends BaseObject
      * Create a column schema builder instance giving the type and value precision.
      *
      * @param string $type type of the column. See [[$type]].
-     * @param int|string|array $length length or precision of the column. See [[$length]].
-     * @param \yii\db\Connection $db the current database connection. See [[$db]].
+     * @param int|string|array|null $length length or precision of the column. See [[$length]].
+     * @param \yii\db\Connection|null $db the current database connection. See [[$db]].
      * @param array $config name-value pairs that will be used to initialize the object properties
      */
     public function __construct($type, $length = null, $db = null, $config = [])
diff --git a/framework/db/Command.php b/framework/db/Command.php
index 53be1470dec..1ef5a59a82d 100644
--- a/framework/db/Command.php
+++ b/framework/db/Command.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -103,7 +103,7 @@ class Command extends Component
      */
     private $_refreshTableName;
     /**
-     * @var string|false|null the isolation level to use for this transaction.
+     * @var string|null|false the isolation level to use for this transaction.
      * See [[Transaction::begin()]] for details.
      */
     private $_isolationLevel = false;
@@ -116,10 +116,10 @@ class Command extends Component
 
     /**
      * Enables query cache for this command.
-     * @param int $duration the number of seconds that query result of this command can remain valid in the cache.
+     * @param int|null $duration the number of seconds that query result of this command can remain valid in the cache.
      * If this is not set, the value of [[Connection::queryCacheDuration]] will be used instead.
      * Use 0 to indicate that the cached data will never expire.
-     * @param \yii\caching\Dependency $dependency the cache dependency associated with the cached query result.
+     * @param \yii\caching\Dependency|null $dependency the cache dependency associated with the cached query result.
      * @return $this the command object itself
      */
     public function cache($duration = null, $dependency = null)
@@ -237,7 +237,7 @@ public function getRawSql()
      * this may improve performance.
      * For SQL statement with binding parameters, this method is invoked
      * automatically.
-     * @param bool $forRead whether this method is called for a read query. If null, it means
+     * @param bool|null $forRead whether this method is called for a read query. If null, it means
      * the SQL statement should be used to determine whether it is for read or write.
      * @throws Exception if there is any DB error
      */
@@ -269,10 +269,10 @@ public function prepare($forRead = null)
         } catch (\Exception $e) {
             $message = $e->getMessage() . "\nFailed to prepare SQL: $sql";
             $errorInfo = $e instanceof \PDOException ? $e->errorInfo : null;
-            throw new Exception($message, $errorInfo, (int) $e->getCode(), $e);
+            throw new Exception($message, $errorInfo, $e->getCode(), $e);
         } catch (\Throwable $e) {
             $message = $e->getMessage() . "\nFailed to prepare SQL: $sql";
-            throw new Exception($message, null, (int) $e->getCode(), $e);
+            throw new Exception($message, null, $e->getCode(), $e);
         }
     }
 
@@ -292,8 +292,8 @@ public function cancel()
      * the form `:name`. For a prepared statement using question mark
      * placeholders, this will be the 1-indexed position of the parameter.
      * @param mixed $value the PHP variable to bind to the SQL statement parameter (passed by reference)
-     * @param int $dataType SQL data type of the parameter. If null, the type is determined by the PHP type of the value.
-     * @param int $length length of the data type
+     * @param int|null $dataType SQL data type of the parameter. If null, the type is determined by the PHP type of the value.
+     * @param int|null $length length of the data type
      * @param mixed $driverOptions the driver-specific options
      * @return $this the current command being executed
      * @see https://www.php.net/manual/en/function.PDOStatement-bindParam.php
@@ -336,7 +336,7 @@ protected function bindPendingParams()
      * the form `:name`. For a prepared statement using question mark
      * placeholders, this will be the 1-indexed position of the parameter.
      * @param mixed $value The value to bind to the parameter
-     * @param int $dataType SQL data type of the parameter. If null, the type is determined by the PHP type of the value.
+     * @param int|null $dataType SQL data type of the parameter. If null, the type is determined by the PHP type of the value.
      * @return $this the current command being executed
      * @see https://www.php.net/manual/en/function.PDOStatement-bindValue.php
      */
@@ -399,7 +399,7 @@ public function query()
 
     /**
      * Executes the SQL statement and returns ALL rows at once.
-     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php)
+     * @param int|null $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php)
      * for valid fetch modes. If this parameter is null, the value set in [[fetchMode]] will be used.
      * @return array all rows of the query result. Each array element is an array representing a row of data.
      * An empty array is returned if the query results in nothing.
@@ -413,7 +413,7 @@ public function queryAll($fetchMode = null)
     /**
      * Executes the SQL statement and returns the first row of the result.
      * This method is best used when only the first row of result is needed for a query.
-     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/pdostatement.setfetchmode.php)
+     * @param int|null $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/pdostatement.setfetchmode.php)
      * for valid fetch modes. If this parameter is null, the value set in [[fetchMode]] will be used.
      * @return array|false the first row (in terms of an array) of the query result. False is returned if the query
      * results in nothing.
@@ -533,7 +533,7 @@ public function batchInsert($table, $columns, $rows)
      * ```php
      * $sql = $queryBuilder->upsert('pages', [
      *     'name' => 'Front page',
-     *     'url' => 'http://example.com/', // url is unique
+     *     'url' => 'https://example.com/', // url is unique
      *     'visits' => 0,
      * ], [
      *     'visits' => new \yii\db\Expression('visits + 1'),
@@ -641,7 +641,7 @@ public function delete($table, $condition = '', $params = [])
      *
      * @param string $table the name of the table to be created. The name will be properly quoted by the method.
      * @param array $columns the columns (name => definition) in the new table.
-     * @param string $options additional SQL fragment that will be appended to the generated SQL.
+     * @param string|null $options additional SQL fragment that will be appended to the generated SQL.
      * @return $this the command object itself
      */
     public function createTable($table, $columns, $options = null)
@@ -693,7 +693,7 @@ public function truncateTable($table)
      * @param string $table the table that the new column will be added to. The table name will be properly quoted by the method.
      * @param string $column the name of the new column. The name will be properly quoted by the method.
      * @param string $type the column type. [[\yii\db\QueryBuilder::getColumnType()]] will be called
-     * to convert the give column type to the physical one. For example, `string` will be converted
+     * to convert the given column type to the physical one. For example, `string` will be converted
      * as `varchar(255)`, and `string not null` becomes `varchar(255) not null`.
      * @return $this the command object itself
      */
@@ -783,8 +783,8 @@ public function dropPrimaryKey($name, $table)
      * @param string|array $columns the name of the column to that the constraint will be added on. If there are multiple columns, separate them with commas.
      * @param string $refTable the table that the foreign key references to.
      * @param string|array $refColumns the name of the column that the foreign key references to. If there are multiple columns, separate them with commas.
-     * @param string $delete the ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
-     * @param string $update the ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
+     * @param string|null $delete the ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
+     * @param string|null $update the ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
      * @return $this the command object itself
      */
     public function addForeignKey($name, $table, $columns, $refTable, $refColumns, $delete = null, $update = null)
@@ -1136,7 +1136,7 @@ protected function logQuery($category)
     /**
      * Performs the actual DB query of a SQL statement.
      * @param string $method method of PDOStatement to be called
-     * @param int $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php)
+     * @param int|null $fetchMode the result fetch mode. Please refer to [PHP manual](https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php)
      * for valid fetch modes. If this parameter is null, the value set in [[fetchMode]] will be used.
      * @return mixed the method execution result
      * @throws Exception if the query causes any problem
diff --git a/framework/db/Connection.php b/framework/db/Connection.php
index 74b954ffa43..fae67b054e8 100644
--- a/framework/db/Connection.php
+++ b/framework/db/Connection.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -111,24 +111,22 @@
  * ```
  *
  * @property string $driverName Name of the DB driver.
- * @property-read bool $isActive Whether the DB connection is established. This property is read-only.
+ * @property-read bool $isActive Whether the DB connection is established.
  * @property-read string $lastInsertID The row ID of the last row inserted, or the last value retrieved from
- * the sequence object. This property is read-only.
+ * the sequence object.
  * @property-read Connection $master The currently active master connection. `null` is returned if there is no
- * master available. This property is read-only.
- * @property-read PDO $masterPdo The PDO instance for the currently active master connection. This property is
- * read-only.
+ * master available.
+ * @property-read PDO $masterPdo The PDO instance for the currently active master connection.
  * @property QueryBuilder $queryBuilder The query builder for the current DB connection. Note that the type of
  * this property differs in getter and setter. See [[getQueryBuilder()]] and [[setQueryBuilder()]] for details.
- * @property-read Schema $schema The schema information for the database opened by this connection. This
- * property is read-only.
- * @property-read string $serverVersion Server version as a string. This property is read-only.
+ * @property-read Schema $schema The schema information for the database opened by this connection.
+ * @property-read string $serverVersion Server version as a string.
  * @property-read Connection $slave The currently active slave connection. `null` is returned if there is no
- * slave available and `$fallbackToMaster` is false. This property is read-only.
+ * slave available and `$fallbackToMaster` is false.
  * @property-read PDO $slavePdo The PDO instance for the currently active slave connection. `null` is returned
- * if no slave connection is available and `$fallbackToMaster` is false. This property is read-only.
+ * if no slave connection is available and `$fallbackToMaster` is false.
  * @property-read Transaction|null $transaction The currently active transaction. Null if no active
- * transaction. This property is read-only.
+ * transaction.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -164,11 +162,11 @@ class Connection extends Component
      */
     public $dsn;
     /**
-     * @var string the username for establishing DB connection. Defaults to `null` meaning no username to use.
+     * @var string|null the username for establishing DB connection. Defaults to `null` meaning no username to use.
      */
     public $username;
     /**
-     * @var string the password for establishing DB connection. Defaults to `null` meaning no password to use.
+     * @var string|null the password for establishing DB connection. Defaults to `null` meaning no password to use.
      */
     public $password;
     /**
@@ -179,7 +177,7 @@ class Connection extends Component
      */
     public $attributes;
     /**
-     * @var PDO the PHP PDO instance associated with this DB connection.
+     * @var PDO|null the PHP PDO instance associated with this DB connection.
      * This property is mainly managed by [[open()]] and [[close()]] methods.
      * When a DB connection is active, this property will represent a PDO instance;
      * otherwise, it will be null.
@@ -238,7 +236,7 @@ class Connection extends Component
      */
     public $queryCache = 'cache';
     /**
-     * @var string the charset used for database connection. The property is only used
+     * @var string|null the charset used for database connection. The property is only used
      * for MySQL, PostgreSQL and CUBRID databases. Defaults to null, meaning using default charset
      * as configured by the database.
      *
@@ -250,7 +248,7 @@ class Connection extends Component
      */
     public $charset;
     /**
-     * @var bool whether to turn on prepare emulation. Defaults to false, meaning PDO
+     * @var bool|null whether to turn on prepare emulation. Defaults to false, meaning PDO
      * will use the native prepare support if available. For some databases (such as MySQL),
      * this may need to be set true so that PDO can emulate the prepare support to bypass
      * the buggy native prepare support.
@@ -286,7 +284,7 @@ class Connection extends Component
         'cubrid' => 'yii\db\cubrid\Schema', // CUBRID
     ];
     /**
-     * @var string Custom PDO wrapper class. If not set, it will use [[PDO]] or [[\yii\db\mssql\PDO]] when MSSQL is used.
+     * @var string|null Custom PDO wrapper class. If not set, it will use [[PDO]] or [[\yii\db\mssql\PDO]] when MSSQL is used.
      * @see pdo
      */
     public $pdoClass;
@@ -323,7 +321,7 @@ class Connection extends Component
         'cubrid' => 'yii\db\Command', // CUBRID
     ];
     /**
-     * @var bool whether to enable [savepoint](http://en.wikipedia.org/wiki/Savepoint).
+     * @var bool whether to enable [savepoint](https://en.wikipedia.org/wiki/Savepoint).
      * Note that if the underlying DBMS does not support savepoint, setting this property to be true will have no effect.
      */
     public $enableSavepoint = true;
@@ -494,12 +492,12 @@ public function getIsActive()
      *
      * @param callable $callable a PHP callable that contains DB queries which will make use of query cache.
      * The signature of the callable is `function (Connection $db)`.
-     * @param int $duration the number of seconds that query results can remain valid in the cache. If this is
+     * @param int|null $duration the number of seconds that query results can remain valid in the cache. If this is
      * not set, the value of [[queryCacheDuration]] will be used instead.
      * Use 0 to indicate that the cached data will never expire.
-     * @param \yii\caching\Dependency $dependency the cache dependency associated with the cached query results.
+     * @param \yii\caching\Dependency|null $dependency the cache dependency associated with the cached query results.
      * @return mixed the return result of the callable
-     * @throws \Exception if there is any exception during query
+     * @throws \Throwable if there is any exception during query
      * @see enableQueryCache
      * @see queryCache
      * @see noCache()
@@ -540,7 +538,7 @@ public function cache(callable $callable, $duration = null, $dependency = null)
      * @param callable $callable a PHP callable that contains DB queries which should not use query cache.
      * The signature of the callable is `function (Connection $db)`.
      * @return mixed the return result of the callable
-     * @throws \Exception if there is any exception during query
+     * @throws \Throwable if there is any exception during query
      * @see enableQueryCache
      * @see queryCache
      * @see cache()
@@ -564,9 +562,9 @@ public function noCache(callable $callable)
     /**
      * Returns the current query cache information.
      * This method is used internally by [[Command]].
-     * @param int $duration the preferred caching duration. If null, it will be ignored.
-     * @param \yii\caching\Dependency $dependency the preferred caching dependency. If null, it will be ignored.
-     * @return array the current query cache information, or null if query cache is not enabled.
+     * @param int|null $duration the preferred caching duration. If null, it will be ignored.
+     * @param \yii\caching\Dependency|null $dependency the preferred caching dependency. If null, it will be ignored.
+     * @return array|null the current query cache information, or null if query cache is not enabled.
      * @internal
      */
     public function getQueryCacheInfo($duration, $dependency)
@@ -646,7 +644,7 @@ public function open()
                 Yii::endProfile($token, __METHOD__);
             }
 
-            throw new Exception($e->getMessage(), $e->errorInfo, (int) $e->getCode(), $e);
+            throw new Exception($e->getMessage(), $e->errorInfo, $e->getCode(), $e);
         }
     }
 
@@ -738,6 +736,11 @@ protected function initConnection()
                 $this->pdo->setAttribute(PDO::ATTR_EMULATE_PREPARES, $this->emulatePrepare);
             }
         }
+
+        if (PHP_VERSION_ID >= 80100 && $this->getDriverName() === 'sqlite') {
+            $this->pdo->setAttribute(PDO::ATTR_STRINGIFY_FETCHES, true);
+        }
+
         if (!$this->isSybase && in_array($this->getDriverName(), ['mssql', 'dblib'], true)) {
             $this->pdo->exec('SET ANSI_NULL_DFLT_ON ON');
         }
@@ -749,7 +752,7 @@ protected function initConnection()
 
     /**
      * Creates a command for execution.
-     * @param string $sql the SQL statement to be executed
+     * @param string|null $sql the SQL statement to be executed
      * @param array $params the parameters to be bound to the SQL statement
      * @return Command the DB command
      */
@@ -802,7 +805,7 @@ public function beginTransaction($isolationLevel = null)
      * @param callable $callback a valid PHP callback that performs the job. Accepts connection instance as parameter.
      * @param string|null $isolationLevel The isolation level to use for this transaction.
      * See [[Transaction::begin()]] for details.
-     * @throws \Exception if there is any exception during query. In this case the transaction will be rolled back.
+     * @throws \Throwable if there is any exception during query. In this case the transaction will be rolled back.
      * @return mixed result of callback function
      */
     public function transaction(callable $callback, $isolationLevel = null)
@@ -1001,12 +1004,12 @@ function ($matches) {
     /**
      * Returns the name of the DB driver. Based on the the current [[dsn]], in case it was not set explicitly
      * by an end user.
-     * @return string name of the DB driver
+     * @return string|null name of the DB driver
      */
     public function getDriverName()
     {
         if ($this->_driverName === null) {
-            if (($pos = strpos($this->dsn, ':')) !== false) {
+            if (($pos = strpos((string)$this->dsn, ':')) !== false) {
                 $this->_driverName = strtolower(substr($this->dsn, 0, $pos));
             } else {
                 $this->_driverName = strtolower($this->getSlavePdo()->getAttribute(PDO::ATTR_DRIVER_NAME));
@@ -1040,7 +1043,7 @@ public function getServerVersion()
      * When [[enableSlaves]] is true, one of the slaves will be used for read queries, and its PDO instance
      * will be returned by this method.
      * @param bool $fallbackToMaster whether to return a master PDO in case none of the slave connections is available.
-     * @return PDO the PDO instance for the currently active slave connection. `null` is returned if no slave connection
+     * @return PDO|null the PDO instance for the currently active slave connection. `null` is returned if no slave connection
      * is available and `$fallbackToMaster` is false.
      */
     public function getSlavePdo($fallbackToMaster = true)
@@ -1068,7 +1071,7 @@ public function getMasterPdo()
      * Returns the currently active slave connection.
      * If this method is called for the first time, it will try to open a slave connection when [[enableSlaves]] is true.
      * @param bool $fallbackToMaster whether to return a master connection in case there is no slave connection available.
-     * @return Connection the currently active slave connection. `null` is returned if there is no slave available and
+     * @return Connection|null the currently active slave connection. `null` is returned if there is no slave available and
      * `$fallbackToMaster` is false.
      */
     public function getSlave($fallbackToMaster = true)
@@ -1087,7 +1090,7 @@ public function getSlave($fallbackToMaster = true)
     /**
      * Returns the currently active master connection.
      * If this method is called for the first time, it will try to open a master connection.
-     * @return Connection the currently active master connection. `null` is returned if there is no master available.
+     * @return Connection|null the currently active master connection. `null` is returned if there is no master available.
      * @since 2.0.11
      */
     public function getMaster()
@@ -1116,7 +1119,7 @@ public function getMaster()
      * @param callable $callback a PHP callable to be executed by this method. Its signature is
      * `function (Connection $db)`. Its return value will be returned by this method.
      * @return mixed the return value of the callback
-     * @throws \Exception if there is any exception thrown from the callback
+     * @throws \Throwable if there is any exception thrown from the callback
      */
     public function useMaster(callable $callback)
     {
@@ -1149,7 +1152,7 @@ public function useMaster(callable $callback)
      *
      * @param array $pool the list of connection configurations in the server pool
      * @param array $sharedConfig the configuration common to those given in `$pool`.
-     * @return Connection the opened DB connection, or `null` if no server is available
+     * @return Connection|null the opened DB connection, or `null` if no server is available
      * @throws InvalidConfigException if a configuration does not specify "dsn"
      * @see openFromPoolSequentially
      */
@@ -1176,7 +1179,7 @@ protected function openFromPool(array $pool, array $sharedConfig)
      *
      * @param array $pool the list of connection configurations in the server pool
      * @param array $sharedConfig the configuration common to those given in `$pool`.
-     * @return Connection the opened DB connection, or `null` if no server is available
+     * @return Connection|null the opened DB connection, or `null` if no server is available
      * @throws InvalidConfigException if a configuration does not specify "dsn"
      * @since 2.0.11
      * @see openFromPool
diff --git a/framework/db/Constraint.php b/framework/db/Constraint.php
index 88a4c28e4d4..6f210969694 100644
--- a/framework/db/Constraint.php
+++ b/framework/db/Constraint.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ConstraintFinderInterface.php b/framework/db/ConstraintFinderInterface.php
index a22c3ba25cb..a75c01d6fcc 100644
--- a/framework/db/ConstraintFinderInterface.php
+++ b/framework/db/ConstraintFinderInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ConstraintFinderTrait.php b/framework/db/ConstraintFinderTrait.php
index 609572a323c..5aa28fb4700 100644
--- a/framework/db/ConstraintFinderTrait.php
+++ b/framework/db/ConstraintFinderTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/DataReader.php b/framework/db/DataReader.php
index a8c875606d1..c705023f15e 100644
--- a/framework/db/DataReader.php
+++ b/framework/db/DataReader.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -40,10 +40,10 @@
  * [[fetchMode]]. See the [PHP manual](https://www.php.net/manual/en/function.PDOStatement-setFetchMode.php)
  * for more details about possible fetch mode.
  *
- * @property-read int $columnCount The number of columns in the result set. This property is read-only.
- * @property-write int $fetchMode Fetch mode. This property is write-only.
- * @property-read bool $isClosed Whether the reader is closed or not. This property is read-only.
- * @property-read int $rowCount Number of rows contained in the result. This property is read-only.
+ * @property-read int $columnCount The number of columns in the result set.
+ * @property-write int $fetchMode Fetch mode.
+ * @property-read bool $isClosed Whether the reader is closed or not.
+ * @property-read int $rowCount Number of rows contained in the result.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -79,7 +79,7 @@ public function __construct(Command $command, $config = [])
      * in the result set. If using the column name, be aware that the name
      * should match the case of the column, as returned by the driver.
      * @param mixed $value Name of the PHP variable to which the column will be bound.
-     * @param int $dataType Data type of the parameter
+     * @param int|null $dataType Data type of the parameter
      * @see https://www.php.net/manual/en/function.PDOStatement-bindColumn.php
      */
     public function bindColumn($column, &$value, $dataType = null)
@@ -196,6 +196,7 @@ public function getRowCount()
      * In this case, use "SELECT COUNT(*) FROM tableName" to obtain the number of rows.
      * @return int number of rows contained in the result.
      */
+    #[\ReturnTypeWillChange]
     public function count()
     {
         return $this->getRowCount();
@@ -216,6 +217,7 @@ public function getColumnCount()
      * This method is required by the interface [[\Iterator]].
      * @throws InvalidCallException if this method is invoked twice
      */
+    #[\ReturnTypeWillChange]
     public function rewind()
     {
         if ($this->_index < 0) {
@@ -231,6 +233,7 @@ public function rewind()
      * This method is required by the interface [[\Iterator]].
      * @return int the index of the current row.
      */
+    #[\ReturnTypeWillChange]
     public function key()
     {
         return $this->_index;
@@ -241,6 +244,7 @@ public function key()
      * This method is required by the interface [[\Iterator]].
      * @return mixed the current row.
      */
+    #[\ReturnTypeWillChange]
     public function current()
     {
         return $this->_row;
@@ -250,6 +254,7 @@ public function current()
      * Moves the internal pointer to the next row.
      * This method is required by the interface [[\Iterator]].
      */
+    #[\ReturnTypeWillChange]
     public function next()
     {
         $this->_row = $this->_statement->fetch();
@@ -261,6 +266,7 @@ public function next()
      * This method is required by the interface [[\Iterator]].
      * @return bool whether there is a row of data at current position.
      */
+    #[\ReturnTypeWillChange]
     public function valid()
     {
         return $this->_row !== false;
diff --git a/framework/db/DefaultValueConstraint.php b/framework/db/DefaultValueConstraint.php
index d4602747307..e0285a41234 100644
--- a/framework/db/DefaultValueConstraint.php
+++ b/framework/db/DefaultValueConstraint.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/Exception.php b/framework/db/Exception.php
index 1fb68df43da..46ae67d1bbe 100644
--- a/framework/db/Exception.php
+++ b/framework/db/Exception.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -27,7 +27,7 @@ class Exception extends \yii\base\Exception
      * @param string $message PDO error message
      * @param array $errorInfo PDO error info
      * @param string $code PDO error code
-     * @param \Throwable|\Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
     public function __construct($message, $errorInfo = [], $code = '', $previous = null)
     {
diff --git a/framework/db/Expression.php b/framework/db/Expression.php
index 351e5c923ce..f9aec92ff40 100644
--- a/framework/db/Expression.php
+++ b/framework/db/Expression.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ExpressionBuilder.php b/framework/db/ExpressionBuilder.php
index 32637a77c8f..d1836ede8dc 100644
--- a/framework/db/ExpressionBuilder.php
+++ b/framework/db/ExpressionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ExpressionBuilderInterface.php b/framework/db/ExpressionBuilderInterface.php
index 7e65c67d033..8ae4591ed35 100644
--- a/framework/db/ExpressionBuilderInterface.php
+++ b/framework/db/ExpressionBuilderInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ExpressionBuilderTrait.php b/framework/db/ExpressionBuilderTrait.php
index f2a1ce75f30..010b2d3e75b 100644
--- a/framework/db/ExpressionBuilderTrait.php
+++ b/framework/db/ExpressionBuilderTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ExpressionInterface.php b/framework/db/ExpressionInterface.php
index 73f8888000f..7173d1643f6 100644
--- a/framework/db/ExpressionInterface.php
+++ b/framework/db/ExpressionInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/ForeignKeyConstraint.php b/framework/db/ForeignKeyConstraint.php
index 6ceadeec55d..b522e718565 100644
--- a/framework/db/ForeignKeyConstraint.php
+++ b/framework/db/ForeignKeyConstraint.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/IndexConstraint.php b/framework/db/IndexConstraint.php
index f0c08ba8ad5..7b12e65fbb0 100644
--- a/framework/db/IndexConstraint.php
+++ b/framework/db/IndexConstraint.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/IntegrityException.php b/framework/db/IntegrityException.php
index 84899260e29..026af42a909 100644
--- a/framework/db/IntegrityException.php
+++ b/framework/db/IntegrityException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/JsonExpression.php b/framework/db/JsonExpression.php
index 36b46030ae5..601c279004b 100644
--- a/framework/db/JsonExpression.php
+++ b/framework/db/JsonExpression.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -69,7 +69,7 @@ public function getValue()
     }
 
     /**
-     * @return null|string the type of JSON
+     * @return string|null the type of JSON
      * @see type
      */
     public function getType()
@@ -86,6 +86,7 @@ public function getType()
      * @since 2.0.14.2
      * @throws InvalidConfigException when JsonExpression contains QueryInterface object
      */
+    #[\ReturnTypeWillChange]
     public function jsonSerialize()
     {
         $value = $this->getValue();
diff --git a/framework/db/Migration.php b/framework/db/Migration.php
index a8e2264f2c7..be61749514e 100644
--- a/framework/db/Migration.php
+++ b/framework/db/Migration.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -28,7 +28,7 @@
  * the whole migration can be reverted in a whole.
  *
  * Note that some DB queries in some DBMS cannot be put into a transaction. For some examples,
- * please refer to [implicit commit](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). If this is the case,
+ * please refer to [implicit commit](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html). If this is the case,
  * you should still implement `up()` and `down()`, instead.
  *
  * Migration provides a set of convenient methods for manipulating database data and schema.
@@ -159,7 +159,7 @@ public function down()
     }
 
     /**
-     * @param \Throwable|\Exception $e
+     * @param \Throwable $e
      */
     private function printException($e)
     {
@@ -175,7 +175,7 @@ private function printException($e)
      * needs to be within a transaction.
      *
      * Note: Not all DBMS support transactions. And some DB queries cannot be put into a transaction. For some examples,
-     * please refer to [implicit commit](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html).
+     * please refer to [implicit commit](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html).
      *
      * @return false|void|mixed return a false value to indicate the migration fails
      * and should not proceed further. All other return values mean the migration succeeds.
@@ -192,7 +192,7 @@ public function safeUp()
      * needs to be within a transaction.
      *
      * Note: Not all DBMS support transactions. And some DB queries cannot be put into a transaction. For some examples,
-     * please refer to [implicit commit](http://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html).
+     * please refer to [implicit commit](https://dev.mysql.com/doc/refman/5.7/en/implicit-commit.html).
      *
      * @return false|void|mixed return a false value to indicate the migration fails
      * and should not proceed further. All other return values mean the migration succeeds.
@@ -261,7 +261,6 @@ public function batchInsert($table, $columns, $rows)
      * If `true` is passed, the column data will be updated to match the insert column data.
      * If `false` is passed, no update will be performed if the column data already exists.
      * @param array $params the parameters to be bound to the command.
-     * @return $this the command object itself.
      * @since 2.0.14
      */
     public function upsert($table, $insertColumns, $updateColumns = true, $params = [])
@@ -315,7 +314,7 @@ public function delete($table, $condition = '', $params = [])
      *
      * @param string $table the name of the table to be created. The name will be properly quoted by the method.
      * @param array $columns the columns (name => definition) in the new table.
-     * @param string $options additional SQL fragment that will be appended to the generated SQL.
+     * @param string|null $options additional SQL fragment that will be appended to the generated SQL.
      */
     public function createTable($table, $columns, $options = null)
     {
@@ -458,8 +457,8 @@ public function dropPrimaryKey($name, $table)
      * @param string|array $columns the name of the column to that the constraint will be added on. If there are multiple columns, separate them with commas or use an array.
      * @param string $refTable the table that the foreign key references to.
      * @param string|array $refColumns the name of the column that the foreign key references to. If there are multiple columns, separate them with commas or use an array.
-     * @param string $delete the ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
-     * @param string $update the ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
+     * @param string|null $delete the ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
+     * @param string|null $update the ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
      */
     public function addForeignKey($name, $table, $columns, $refTable, $refColumns, $delete = null, $update = null)
     {
diff --git a/framework/db/MigrationInterface.php b/framework/db/MigrationInterface.php
index e86c79b8f38..220264e5876 100644
--- a/framework/db/MigrationInterface.php
+++ b/framework/db/MigrationInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/PdoValue.php b/framework/db/PdoValue.php
index 3a0ce6f689c..b5b80ebb80a 100644
--- a/framework/db/PdoValue.php
+++ b/framework/db/PdoValue.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/PdoValueBuilder.php b/framework/db/PdoValueBuilder.php
index 6e9d5720228..6bec24c94bd 100644
--- a/framework/db/PdoValueBuilder.php
+++ b/framework/db/PdoValueBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/Query.php b/framework/db/Query.php
index d23893b3bc7..f0b215859dc 100644
--- a/framework/db/Query.php
+++ b/framework/db/Query.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -42,7 +42,7 @@
  *
  * A more detailed usage guide on how to work with Query can be found in the [guide article on Query Builder](guide:db-query-builder).
  *
- * @property-read string[] $tablesUsedInFrom Table names indexed by aliases. This property is read-only.
+ * @property-read string[] $tablesUsedInFrom Table names indexed by aliases.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Carsten Brandt <mail@cebe.cc>
@@ -53,13 +53,13 @@ class Query extends Component implements QueryInterface, ExpressionInterface
     use QueryTrait;
 
     /**
-     * @var array the columns being selected. For example, `['id', 'name']`.
+     * @var array|null the columns being selected. For example, `['id', 'name']`.
      * This is used to construct the SELECT clause in a SQL statement. If not set, it means selecting all columns.
      * @see select()
      */
     public $select;
     /**
-     * @var string additional option that should be appended to the 'SELECT' keyword. For example,
+     * @var string|null additional option that should be appended to the 'SELECT' keyword. For example,
      * in MySQL, the option 'SQL_CALC_FOUND_ROWS' can be used.
      */
     public $selectOption;
@@ -67,20 +67,20 @@ class Query extends Component implements QueryInterface, ExpressionInterface
      * @var bool whether to select distinct rows of data only. If this is set true,
      * the SELECT clause would be changed to SELECT DISTINCT.
      */
-    public $distinct;
+    public $distinct = false;
     /**
-     * @var array the table(s) to be selected from. For example, `['user', 'post']`.
+     * @var array|null the table(s) to be selected from. For example, `['user', 'post']`.
      * This is used to construct the FROM clause in a SQL statement.
      * @see from()
      */
     public $from;
     /**
-     * @var array how to group the query results. For example, `['company', 'department']`.
+     * @var array|null how to group the query results. For example, `['company', 'department']`.
      * This is used to construct the GROUP BY clause in a SQL statement.
      */
     public $groupBy;
     /**
-     * @var array how to join with other tables. Each array element represents the specification
+     * @var array|null how to join with other tables. Each array element represents the specification
      * of one join which has the following structure:
      *
      * ```php
@@ -98,12 +98,12 @@ class Query extends Component implements QueryInterface, ExpressionInterface
      */
     public $join;
     /**
-     * @var string|array|ExpressionInterface the condition to be applied in the GROUP BY clause.
+     * @var string|array|ExpressionInterface|null the condition to be applied in the GROUP BY clause.
      * It can be either a string or an array. Please refer to [[where()]] on how to specify the condition.
      */
     public $having;
     /**
-     * @var array this is used to construct the UNION clause(s) in a SQL statement.
+     * @var array|null this is used to construct the UNION clause(s) in a SQL statement.
      * Each array element is an array of the following structure:
      *
      * - `query`: either a string or a [[Query]] object representing a query
@@ -111,7 +111,7 @@ class Query extends Component implements QueryInterface, ExpressionInterface
      */
     public $union;
     /**
-     * @var array this is used to construct the WITH section in a SQL query.
+     * @var array|null this is used to construct the WITH section in a SQL query.
      * Each array element is an array of the following structure:
      *
      * - `query`: either a string or a [[Query]] object representing a query
@@ -122,12 +122,12 @@ class Query extends Component implements QueryInterface, ExpressionInterface
      */
     public $withQueries;
     /**
-     * @var array list of query parameter values indexed by parameter placeholders.
+     * @var array|null list of query parameter values indexed by parameter placeholders.
      * For example, `[':name' => 'Dan', ':age' => 31]`.
      */
     public $params = [];
     /**
-     * @var int|true the default number of seconds that query results can remain valid in cache.
+     * @var int|bool|null the default number of seconds that query results can remain valid in cache.
      * Use 0 to indicate that the cached data will never expire.
      * Use a negative number to indicate that query cache should not be used.
      * Use boolean `true` to indicate that [[Connection::queryCacheDuration]] should be used.
@@ -136,7 +136,7 @@ class Query extends Component implements QueryInterface, ExpressionInterface
      */
     public $queryCacheDuration;
     /**
-     * @var \yii\caching\Dependency the dependency to be associated with the cached query result for this query
+     * @var \yii\caching\Dependency|null the dependency to be associated with the cached query result for this query
      * @see cache()
      * @since 2.0.14
      */
@@ -191,7 +191,7 @@ public function prepare($builder)
      * ```
      *
      * @param int $batchSize the number of records to be fetched in each batch.
-     * @param Connection $db the database connection. If not set, the "db" application component will be used.
+     * @param Connection|null $db the database connection. If not set, the "db" application component will be used.
      * @return BatchQueryResult the batch query result. It implements the [[\Iterator]] interface
      * and can be traversed to retrieve the data in batches.
      */
@@ -219,7 +219,7 @@ public function batch($batchSize = 100, $db = null)
      * ```
      *
      * @param int $batchSize the number of records to be fetched in each batch.
-     * @param Connection $db the database connection. If not set, the "db" application component will be used.
+     * @param Connection|null $db the database connection. If not set, the "db" application component will be used.
      * @return BatchQueryResult the batch query result. It implements the [[\Iterator]] interface
      * and can be traversed to retrieve the data in batches.
      */
@@ -290,7 +290,7 @@ public function one($db = null)
     /**
      * Returns the query result as a scalar value.
      * The value returned will be the first column in the first row of the query results.
-     * @param Connection $db the database connection used to generate the SQL statement.
+     * @param Connection|null $db the database connection used to generate the SQL statement.
      * If this parameter is not given, the `db` application component will be used.
      * @return string|int|null|false the value of the first column in the first row of the query result.
      * False is returned if the query result is empty.
@@ -372,7 +372,7 @@ public function count($q = '*', $db = null)
      * Returns the sum of the specified column values.
      * @param string $q the column name or expression.
      * Make sure you properly [quote](guide:db-dao#quoting-table-and-column-names) column names in the expression.
-     * @param Connection $db the database connection used to generate the SQL statement.
+     * @param Connection|null $db the database connection used to generate the SQL statement.
      * If this parameter is not given, the `db` application component will be used.
      * @return mixed the sum of the specified column values.
      */
@@ -389,7 +389,7 @@ public function sum($q, $db = null)
      * Returns the average of the specified column values.
      * @param string $q the column name or expression.
      * Make sure you properly [quote](guide:db-dao#quoting-table-and-column-names) column names in the expression.
-     * @param Connection $db the database connection used to generate the SQL statement.
+     * @param Connection|null $db the database connection used to generate the SQL statement.
      * If this parameter is not given, the `db` application component will be used.
      * @return mixed the average of the specified column values.
      */
@@ -452,7 +452,7 @@ public function exists($db = null)
      * @param string|ExpressionInterface $selectExpression
      * @param Connection|null $db the database connection used to execute the query.
      * @return bool|string|null
-     * @throws \Exception if can't create command
+     * @throws \Throwable if can't create command
      */
     protected function queryScalar($selectExpression, $db)
     {
@@ -633,7 +633,7 @@ private function ensureNameQuoted($name)
      * Starting from version 2.0.1, you may also select sub-queries as columns by specifying each such column
      * as a `Query` instance representing the sub-query.
      *
-     * @param string $option additional option that should be appended to the 'SELECT' keyword. For example,
+     * @param string|null $option additional option that should be appended to the 'SELECT' keyword. For example,
      * in MySQL, the option 'SQL_CALC_FOUND_ROWS' can be used.
      * @return $this the query object itself
      */
@@ -684,7 +684,7 @@ protected function normalizeSelect($columns)
         if ($columns instanceof ExpressionInterface) {
             $columns = [$columns];
         } elseif (!is_array($columns)) {
-            $columns = preg_split('/\s*,\s*/', trim($columns), -1, PREG_SPLIT_NO_EMPTY);
+            $columns = preg_split('/\s*,\s*/', trim((string)$columns), -1, PREG_SPLIT_NO_EMPTY);
         }
         $select = [];
         foreach ($columns as $columnAlias => $columnDefinition) {
@@ -921,7 +921,7 @@ public function orWhere($condition, $params = [])
      */
     public function andFilterCompare($name, $value, $defaultOperator = '=')
     {
-        if (preg_match('/^(<>|>=|>|<=|<|=)/', $value, $matches)) {
+        if (preg_match('/^(<>|>=|>|<=|<|=)/', (string)$value, $matches)) {
             $operator = $matches[1];
             $value = substr($value, strlen($operator));
         } else {
@@ -1324,7 +1324,7 @@ public function addParams($params)
      * Use a negative number to indicate that query cache should not be used.
      * Use boolean `true` to indicate that [[Connection::queryCacheDuration]] should be used.
      * Defaults to `true`.
-     * @param \yii\caching\Dependency $dependency the cache dependency associated with the cached result.
+     * @param \yii\caching\Dependency|null $dependency the cache dependency associated with the cached result.
      * @return $this the Query object itself
      * @since 2.0.14
      */
diff --git a/framework/db/QueryBuilder.php b/framework/db/QueryBuilder.php
index bb032d78830..b96ffe28eff 100644
--- a/framework/db/QueryBuilder.php
+++ b/framework/db/QueryBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -23,9 +23,9 @@
  * For more details and usage information on QueryBuilder, see the [guide article on query builders](guide:db-query-builder).
  *
  * @property-write string[] $conditionClasses Map of condition aliases to condition classes. For example:
- * ```php ['LIKE' => yii\db\condition\LikeCondition::class] ``` . This property is write-only.
+ * ```php ['LIKE' => yii\db\condition\LikeCondition::class] ``` .
  * @property-write string[] $expressionBuilders Array of builders that should be merged with the pre-defined
- * ones in [[expressionBuilders]] property. This property is write-only.
+ * ones in [[expressionBuilders]] property.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -506,7 +506,7 @@ public function batchInsert($table, $columns, $rows, &$params = [])
      * ```php
      * $sql = $queryBuilder->upsert('pages', [
      *     'name' => 'Front page',
-     *     'url' => 'http://example.com/', // url is unique
+     *     'url' => 'https://example.com/', // url is unique
      *     'visits' => 0,
      * ], [
      *     'visits' => new \yii\db\Expression('visits + 1'),
@@ -710,7 +710,7 @@ public function delete($table, $condition, &$params)
      *
      * @param string $table the name of the table to be created. The name will be properly quoted by the method.
      * @param array $columns the columns (name => definition) in the new table.
-     * @param string $options additional SQL fragment that will be appended to the generated SQL.
+     * @param string|null $options additional SQL fragment that will be appended to the generated SQL.
      * @return string the SQL statement for creating a new DB table.
      */
     public function createTable($table, $columns, $options = null)
@@ -863,8 +863,8 @@ public function alterColumn($table, $column, $type)
      * @param string $refTable the table that the foreign key references to.
      * @param string|array $refColumns the name of the column that the foreign key references to.
      * If there are multiple columns, separate them with commas or use an array to represent them.
-     * @param string $delete the ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
-     * @param string $update the ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
+     * @param string|null $delete the ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
+     * @param string|null $update the ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
      * @return string the SQL statement for adding a foreign key constraint to an existing table.
      */
     public function addForeignKey($name, $table, $columns, $refTable, $refColumns, $delete = null, $update = null)
@@ -1035,7 +1035,7 @@ public function dropDefaultValue($name, $table)
      * The sequence will be reset such that the primary key of the next new row inserted
      * will have the specified value or the maximum existing value +1.
      * @param string $table the name of the table whose primary key sequence will be reset
-     * @param array|string $value the value for the primary key of the next new row inserted. If this is not set,
+     * @param array|string|null $value the value for the primary key of the next new row inserted. If this is not set,
      * the next new row's primary key will have the maximum existing value +1.
      * @return string the SQL statement for resetting sequence
      * @throws NotSupportedException if this is not supported by the underlying DBMS
@@ -1051,7 +1051,7 @@ public function resetSequence($table, $value = null)
      * The sequence is reset such that the primary key of the next new row inserted
      * will have the specified value or the maximum existing value +1.
      * @param string $table the name of the table whose primary key sequence is reset
-     * @param array|string $value the value for the primary key of the next new row inserted. If this is not set,
+     * @param array|string|null $value the value for the primary key of the next new row inserted. If this is not set,
      * the next new row's primary key will have the maximum existing value +1.
      * @throws NotSupportedException if this is not supported by the underlying DBMS
      * @since 2.0.16
@@ -1228,7 +1228,7 @@ public function getColumnType($type)
      * @param array $columns
      * @param array $params the binding parameters to be populated
      * @param bool $distinct
-     * @param string $selectOption
+     * @param string|null $selectOption
      * @return string the SELECT clause built from [[Query::$select]].
      */
     public function buildSelect($columns, &$params, $distinct = false, $selectOption = null)
diff --git a/framework/db/QueryExpressionBuilder.php b/framework/db/QueryExpressionBuilder.php
index 3186d2b91cf..e811c053c99 100644
--- a/framework/db/QueryExpressionBuilder.php
+++ b/framework/db/QueryExpressionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/QueryInterface.php b/framework/db/QueryInterface.php
index 4f266f490a9..0f08d67c4ce 100644
--- a/framework/db/QueryInterface.php
+++ b/framework/db/QueryInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -24,7 +24,7 @@ interface QueryInterface
 {
     /**
      * Executes the query and returns all results as an array.
-     * @param Connection $db the database connection used to execute the query.
+     * @param Connection|null $db the database connection used to execute the query.
      * If this parameter is not given, the `db` application component will be used.
      * @return array the query results. If the query results in nothing, an empty array will be returned.
      */
@@ -32,7 +32,7 @@ public function all($db = null);
 
     /**
      * Executes the query and returns a single row of result.
-     * @param Connection $db the database connection used to execute the query.
+     * @param Connection|null $db the database connection used to execute the query.
      * If this parameter is not given, the `db` application component will be used.
      * @return array|bool the first row (in terms of an array) of the query result. False is returned if the query
      * results in nothing.
diff --git a/framework/db/QueryTrait.php b/framework/db/QueryTrait.php
index 9f6b06434b2..990520d4e5b 100644
--- a/framework/db/QueryTrait.php
+++ b/framework/db/QueryTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/Schema.php b/framework/db/Schema.php
index 71a6ea57759..002a68e2bf8 100644
--- a/framework/db/Schema.php
+++ b/framework/db/Schema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -22,19 +22,17 @@
  * Schema represents the database schema information that is DBMS specific.
  *
  * @property-read string $lastInsertID The row ID of the last row inserted, or the last value retrieved from
- * the sequence object. This property is read-only.
- * @property-read QueryBuilder $queryBuilder The query builder for this connection. This property is
- * read-only.
- * @property-read string[] $schemaNames All schema names in the database, except system schemas. This property
- * is read-only.
- * @property-read string $serverVersion Server version as a string. This property is read-only.
- * @property-read string[] $tableNames All table names in the database. This property is read-only.
+ * the sequence object.
+ * @property-read QueryBuilder $queryBuilder The query builder for this connection.
+ * @property-read string[] $schemaNames All schema names in the database, except system schemas.
+ * @property-read string $serverVersion Server version as a string.
+ * @property-read string[] $tableNames All table names in the database.
  * @property-read TableSchema[] $tableSchemas The metadata for all tables in the database. Each array element
- * is an instance of [[TableSchema]] or its child class. This property is read-only.
+ * is an instance of [[TableSchema]] or its child class.
  * @property-write string $transactionIsolationLevel The transaction isolation level to use for this
  * transaction. This can be one of [[Transaction::READ_UNCOMMITTED]], [[Transaction::READ_COMMITTED]],
  * [[Transaction::REPEATABLE_READ]] and [[Transaction::SERIALIZABLE]] but also a string containing DBMS specific
- * syntax to be used after `SET TRANSACTION ISOLATION LEVEL`. This property is write-only.
+ * syntax to be used after `SET TRANSACTION ISOLATION LEVEL`.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Sergey Makinen <sergey@makinen.ru>
@@ -324,7 +322,7 @@ public function createQueryBuilder()
      * This method may be overridden by child classes to create a DBMS-specific column schema builder.
      *
      * @param string $type type of the column. See [[ColumnSchemaBuilder::$type]].
-     * @param int|string|array $length length or precision of the column. See [[ColumnSchemaBuilder::$length]].
+     * @param int|string|array|null $length length or precision of the column. See [[ColumnSchemaBuilder::$length]].
      * @return ColumnSchemaBuilder column schema builder instance
      * @since 2.0.6
      */
@@ -373,7 +371,7 @@ public function getLastInsertID($sequenceName = '')
     }
 
     /**
-     * @return bool whether this DBMS supports [savepoint](http://en.wikipedia.org/wiki/Savepoint).
+     * @return bool whether this DBMS supports [savepoint](https://en.wikipedia.org/wiki/Savepoint).
      */
     public function supportsSavepoint()
     {
@@ -413,7 +411,7 @@ public function rollBackSavepoint($name)
      * This can be one of [[Transaction::READ_UNCOMMITTED]], [[Transaction::READ_COMMITTED]], [[Transaction::REPEATABLE_READ]]
      * and [[Transaction::SERIALIZABLE]] but also a string containing DBMS specific syntax to be used
      * after `SET TRANSACTION ISOLATION LEVEL`.
-     * @see http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+     * @see https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
      */
     public function setTransactionIsolationLevel($level)
     {
diff --git a/framework/db/SchemaBuilderTrait.php b/framework/db/SchemaBuilderTrait.php
index e57c4b0b78f..371a48ff977 100644
--- a/framework/db/SchemaBuilderTrait.php
+++ b/framework/db/SchemaBuilderTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -41,7 +41,7 @@ abstract protected function getDb();
 
     /**
      * Creates a primary key column.
-     * @param int $length column size or precision definition.
+     * @param int|null $length column size or precision definition.
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -53,7 +53,7 @@ public function primaryKey($length = null)
 
     /**
      * Creates a big primary key column.
-     * @param int $length column size or precision definition.
+     * @param int|null $length column size or precision definition.
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -65,7 +65,7 @@ public function bigPrimaryKey($length = null)
 
     /**
      * Creates a char column.
-     * @param int $length column size definition i.e. the maximum string length.
+     * @param int|null $length column size definition i.e. the maximum string length.
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.8
@@ -77,7 +77,7 @@ public function char($length = null)
 
     /**
      * Creates a string column.
-     * @param int $length column size definition i.e. the maximum string length.
+     * @param int|null $length column size definition i.e. the maximum string length.
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -99,7 +99,7 @@ public function text()
 
     /**
      * Creates a tinyint column. If tinyint is not supported by the DBMS, smallint will be used.
-     * @param int $length column size or precision definition.
+     * @param int|null $length column size or precision definition.
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.14
@@ -111,7 +111,7 @@ public function tinyInteger($length = null)
 
     /**
      * Creates a smallint column.
-     * @param int $length column size or precision definition.
+     * @param int|null $length column size or precision definition.
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -123,7 +123,7 @@ public function smallInteger($length = null)
 
     /**
      * Creates an integer column.
-     * @param int $length column size or precision definition.
+     * @param int|null $length column size or precision definition.
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -135,7 +135,7 @@ public function integer($length = null)
 
     /**
      * Creates a bigint column.
-     * @param int $length column size or precision definition.
+     * @param int|null $length column size or precision definition.
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -147,7 +147,7 @@ public function bigInteger($length = null)
 
     /**
      * Creates a float column.
-     * @param int $precision column value precision. First parameter passed to the column type, e.g. FLOAT(precision).
+     * @param int|null $precision column value precision. First parameter passed to the column type, e.g. FLOAT(precision).
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -159,7 +159,7 @@ public function float($precision = null)
 
     /**
      * Creates a double column.
-     * @param int $precision column value precision. First parameter passed to the column type, e.g. DOUBLE(precision).
+     * @param int|null $precision column value precision. First parameter passed to the column type, e.g. DOUBLE(precision).
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -171,10 +171,10 @@ public function double($precision = null)
 
     /**
      * Creates a decimal column.
-     * @param int $precision column value precision, which is usually the total number of digits.
+     * @param int|null $precision column value precision, which is usually the total number of digits.
      * First parameter passed to the column type, e.g. DECIMAL(precision, scale).
      * This parameter will be ignored if not supported by the DBMS.
-     * @param int $scale column value scale, which is usually the number of digits after the decimal point.
+     * @param int|null $scale column value scale, which is usually the number of digits after the decimal point.
      * Second parameter passed to the column type, e.g. DECIMAL(precision, scale).
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
@@ -195,7 +195,7 @@ public function decimal($precision = null, $scale = null)
 
     /**
      * Creates a datetime column.
-     * @param int $precision column value precision. First parameter passed to the column type, e.g. DATETIME(precision).
+     * @param int|null $precision column value precision. First parameter passed to the column type, e.g. DATETIME(precision).
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -207,7 +207,7 @@ public function dateTime($precision = null)
 
     /**
      * Creates a timestamp column.
-     * @param int $precision column value precision. First parameter passed to the column type, e.g. TIMESTAMP(precision).
+     * @param int|null $precision column value precision. First parameter passed to the column type, e.g. TIMESTAMP(precision).
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -219,7 +219,7 @@ public function timestamp($precision = null)
 
     /**
      * Creates a time column.
-     * @param int $precision column value precision. First parameter passed to the column type, e.g. TIME(precision).
+     * @param int|null $precision column value precision. First parameter passed to the column type, e.g. TIME(precision).
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -241,7 +241,7 @@ public function date()
 
     /**
      * Creates a binary column.
-     * @param int $length column size or precision definition.
+     * @param int|null $length column size or precision definition.
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
      * @since 2.0.6
@@ -263,10 +263,10 @@ public function boolean()
 
     /**
      * Creates a money column.
-     * @param int $precision column value precision, which is usually the total number of digits.
+     * @param int|null $precision column value precision, which is usually the total number of digits.
      * First parameter passed to the column type, e.g. DECIMAL(precision, scale).
      * This parameter will be ignored if not supported by the DBMS.
-     * @param int $scale column value scale, which is usually the number of digits after the decimal point.
+     * @param int|null $scale column value scale, which is usually the number of digits after the decimal point.
      * Second parameter passed to the column type, e.g. DECIMAL(precision, scale).
      * This parameter will be ignored if not supported by the DBMS.
      * @return ColumnSchemaBuilder the column instance which can be further customized.
diff --git a/framework/db/SqlToken.php b/framework/db/SqlToken.php
index fa570689cc3..ad9169ccff6 100644
--- a/framework/db/SqlToken.php
+++ b/framework/db/SqlToken.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -13,10 +13,9 @@
  * SqlToken represents SQL tokens produced by [[SqlTokenizer]] or its child classes.
  *
  * @property SqlToken[] $children Child tokens.
- * @property-read bool $hasChildren Whether the token has children. This property is read-only.
- * @property-read bool $isCollection Whether the token represents a collection of tokens. This property is
- * read-only.
- * @property-read string $sql SQL code. This property is read-only.
+ * @property-read bool $hasChildren Whether the token has children.
+ * @property-read bool $isCollection Whether the token represents a collection of tokens.
+ * @property-read string $sql SQL code.
  *
  * @author Sergey Makinen <sergey@makinen.ru>
  * @since 2.0.13
@@ -84,6 +83,7 @@ public function __toString()
      * @param int $offset child token offset.
      * @return bool whether the token exists.
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($offset)
     {
         return isset($this->_children[$this->calculateOffset($offset)]);
@@ -96,6 +96,7 @@ public function offsetExists($offset)
      * @param int $offset child token offset.
      * @return SqlToken|null the child token at the specified offset, `null` if there's no token.
      */
+    #[\ReturnTypeWillChange]
     public function offsetGet($offset)
     {
         $offset = $this->calculateOffset($offset);
@@ -109,6 +110,7 @@ public function offsetGet($offset)
      * @param int|null $offset child token offset.
      * @param SqlToken $token token to be added.
      */
+    #[\ReturnTypeWillChange]
     public function offsetSet($offset, $token)
     {
         $token->parent = $this;
@@ -126,6 +128,7 @@ public function offsetSet($offset, $token)
      * It is implicitly called when you use something like `unset($token[$offset])`.
      * @param int $offset child token offset.
      */
+    #[\ReturnTypeWillChange]
     public function offsetUnset($offset)
     {
         $offset = $this->calculateOffset($offset);
diff --git a/framework/db/SqlTokenizer.php b/framework/db/SqlTokenizer.php
index ea826ac74f2..175ed9d0edc 100644
--- a/framework/db/SqlTokenizer.php
+++ b/framework/db/SqlTokenizer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/StaleObjectException.php b/framework/db/StaleObjectException.php
index 386dbcf7de7..bd9be5845a4 100644
--- a/framework/db/StaleObjectException.php
+++ b/framework/db/StaleObjectException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/TableSchema.php b/framework/db/TableSchema.php
index 71a2350baec..1e7ccf084c4 100644
--- a/framework/db/TableSchema.php
+++ b/framework/db/TableSchema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -13,7 +13,7 @@
 /**
  * TableSchema represents the metadata of a database table.
  *
- * @property-read array $columnNames List of column names. This property is read-only.
+ * @property-read array $columnNames List of column names.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -39,7 +39,7 @@ class TableSchema extends BaseObject
      */
     public $primaryKey = [];
     /**
-     * @var string sequence name for the primary key. Null if no sequence.
+     * @var string|null sequence name for the primary key. Null if no sequence.
      */
     public $sequenceName;
     /**
diff --git a/framework/db/Transaction.php b/framework/db/Transaction.php
index 87e72dd18d1..55f56cf7eee 100644
--- a/framework/db/Transaction.php
+++ b/framework/db/Transaction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
@@ -40,12 +40,11 @@
  * > since PHP 7.0, so you can skip the part with `\Exception` if your app uses only PHP 7.0 and higher.
  *
  * @property-read bool $isActive Whether this transaction is active. Only an active transaction can
- * [[commit()]] or [[rollBack()]]. This property is read-only.
+ * [[commit()]] or [[rollBack()]].
  * @property-write string $isolationLevel The transaction isolation level to use for this transaction. This
  * can be one of [[READ_UNCOMMITTED]], [[READ_COMMITTED]], [[REPEATABLE_READ]] and [[SERIALIZABLE]] but also a
- * string containing DBMS specific syntax to be used after `SET TRANSACTION ISOLATION LEVEL`. This property is
- * write-only.
- * @property-read int $level The current nesting level of the transaction. This property is read-only.
+ * string containing DBMS specific syntax to be used after `SET TRANSACTION ISOLATION LEVEL`.
+ * @property-read int $level The current nesting level of the transaction.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -54,22 +53,22 @@ class Transaction extends \yii\base\BaseObject
 {
     /**
      * A constant representing the transaction isolation level `READ UNCOMMITTED`.
-     * @see http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+     * @see https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
      */
     const READ_UNCOMMITTED = 'READ UNCOMMITTED';
     /**
      * A constant representing the transaction isolation level `READ COMMITTED`.
-     * @see http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+     * @see https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
      */
     const READ_COMMITTED = 'READ COMMITTED';
     /**
      * A constant representing the transaction isolation level `REPEATABLE READ`.
-     * @see http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+     * @see https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
      */
     const REPEATABLE_READ = 'REPEATABLE READ';
     /**
      * A constant representing the transaction isolation level `SERIALIZABLE`.
-     * @see http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+     * @see https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
      */
     const SERIALIZABLE = 'SERIALIZABLE';
 
@@ -109,7 +108,7 @@ public function getIsActive()
      * you may need to set the isolation level for all transactions explicitly to avoid conflicting settings.
      * At the time of this writing affected DBMS are MSSQL and SQLite.
      *
-     * [isolation level]: http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+     * [isolation level]: https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
      *
      * Starting from version 2.0.16, this method throws exception when beginning nested transaction and underlying DBMS
      * does not support savepoints.
@@ -228,7 +227,7 @@ public function rollBack()
      * This can be one of [[READ_UNCOMMITTED]], [[READ_COMMITTED]], [[REPEATABLE_READ]] and [[SERIALIZABLE]] but
      * also a string containing DBMS specific syntax to be used after `SET TRANSACTION ISOLATION LEVEL`.
      * @throws Exception if the transaction is not active
-     * @see http://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
+     * @see https://en.wikipedia.org/wiki/Isolation_%28database_systems%29#Isolation_levels
      */
     public function setIsolationLevel($level)
     {
diff --git a/framework/db/ViewFinderTrait.php b/framework/db/ViewFinderTrait.php
index 566d0fc2e12..d259a8f678a 100644
--- a/framework/db/ViewFinderTrait.php
+++ b/framework/db/ViewFinderTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db;
diff --git a/framework/db/conditions/AndCondition.php b/framework/db/conditions/AndCondition.php
index 32382ed31ac..8a2dc7a87d9 100644
--- a/framework/db/conditions/AndCondition.php
+++ b/framework/db/conditions/AndCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/BetweenColumnsCondition.php b/framework/db/conditions/BetweenColumnsCondition.php
index 647c0af9093..93a61d1d110 100644
--- a/framework/db/conditions/BetweenColumnsCondition.php
+++ b/framework/db/conditions/BetweenColumnsCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/BetweenColumnsConditionBuilder.php b/framework/db/conditions/BetweenColumnsConditionBuilder.php
index 8a55bf4a3a6..0795d0f2f85 100644
--- a/framework/db/conditions/BetweenColumnsConditionBuilder.php
+++ b/framework/db/conditions/BetweenColumnsConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/BetweenCondition.php b/framework/db/conditions/BetweenCondition.php
index 159b1a6e046..ae12c43b9a4 100644
--- a/framework/db/conditions/BetweenCondition.php
+++ b/framework/db/conditions/BetweenCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/BetweenConditionBuilder.php b/framework/db/conditions/BetweenConditionBuilder.php
index 5247319033f..2af0a29fe7c 100644
--- a/framework/db/conditions/BetweenConditionBuilder.php
+++ b/framework/db/conditions/BetweenConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/ConditionInterface.php b/framework/db/conditions/ConditionInterface.php
index c3bbc2aed0b..fc8146940cf 100644
--- a/framework/db/conditions/ConditionInterface.php
+++ b/framework/db/conditions/ConditionInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/ConjunctionCondition.php b/framework/db/conditions/ConjunctionCondition.php
index 985b8fcd7ac..a35c23e83d6 100644
--- a/framework/db/conditions/ConjunctionCondition.php
+++ b/framework/db/conditions/ConjunctionCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/ConjunctionConditionBuilder.php b/framework/db/conditions/ConjunctionConditionBuilder.php
index 00a9bcebfc0..b026e4fc20e 100644
--- a/framework/db/conditions/ConjunctionConditionBuilder.php
+++ b/framework/db/conditions/ConjunctionConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/ExistsCondition.php b/framework/db/conditions/ExistsCondition.php
index 607db5fdcaf..344bf0f9604 100644
--- a/framework/db/conditions/ExistsCondition.php
+++ b/framework/db/conditions/ExistsCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/ExistsConditionBuilder.php b/framework/db/conditions/ExistsConditionBuilder.php
index e3ef3ea24d0..c7997d974cc 100644
--- a/framework/db/conditions/ExistsConditionBuilder.php
+++ b/framework/db/conditions/ExistsConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/HashCondition.php b/framework/db/conditions/HashCondition.php
index 7c25a5b1954..55747c048a4 100644
--- a/framework/db/conditions/HashCondition.php
+++ b/framework/db/conditions/HashCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/HashConditionBuilder.php b/framework/db/conditions/HashConditionBuilder.php
index 57928417c5a..9e0b5a48002 100644
--- a/framework/db/conditions/HashConditionBuilder.php
+++ b/framework/db/conditions/HashConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/InCondition.php b/framework/db/conditions/InCondition.php
index de30d372d07..78598c4e481 100644
--- a/framework/db/conditions/InCondition.php
+++ b/framework/db/conditions/InCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/InConditionBuilder.php b/framework/db/conditions/InConditionBuilder.php
index dd238b7a7ce..3717c226b1f 100644
--- a/framework/db/conditions/InConditionBuilder.php
+++ b/framework/db/conditions/InConditionBuilder.php
@@ -1,12 +1,13 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
 
+use yii\db\Expression;
 use yii\db\ExpressionBuilderInterface;
 use yii\db\ExpressionBuilderTrait;
 use yii\db\ExpressionInterface;
@@ -66,6 +67,10 @@ public function build(ExpressionInterface $expression, array &$params = [])
             $column = $column->current();
         }
 
+        if ($column instanceof Expression) {
+            $column = $column->expression;
+        }
+
         if (is_array($values)) {
             $rawValues = $values;
         } elseif ($values instanceof \Traversable) {
@@ -124,6 +129,10 @@ protected function buildValues(ConditionInterface $condition, $values, &$params)
             $column = $column->current();
         }
 
+        if ($column instanceof Expression) {
+            $column = $column->expression;
+        }
+
         foreach ($values as $i => $value) {
             if (is_array($value) || $value instanceof \ArrayAccess) {
                 $value = isset($value[$column]) ? $value[$column] : null;
@@ -155,6 +164,9 @@ protected function buildSubqueryInCondition($operator, $columns, $values, &$para
 
         if (is_array($columns)) {
             foreach ($columns as $i => $col) {
+                if ($col instanceof Expression) {
+                    $col = $col->expression;
+                }
                 if (strpos($col, '(') === false) {
                     $columns[$i] = $this->queryBuilder->db->quoteColumnName($col);
                 }
@@ -163,6 +175,9 @@ protected function buildSubqueryInCondition($operator, $columns, $values, &$para
             return '(' . implode(', ', $columns) . ") $operator $sql";
         }
 
+        if ($columns instanceof Expression) {
+            $columns = $columns->expression;
+        }
         if (strpos($columns, '(') === false) {
             $columns = $this->queryBuilder->db->quoteColumnName($columns);
         }
@@ -185,6 +200,9 @@ protected function buildCompositeInCondition($operator, $columns, $values, &$par
         foreach ($values as $value) {
             $vs = [];
             foreach ($columns as $column) {
+                if ($column instanceof Expression) {
+                    $column = $column->expression;
+                }
                 if (isset($value[$column])) {
                     $vs[] = $this->queryBuilder->bindParam($value[$column], $params);
                 } else {
@@ -200,6 +218,9 @@ protected function buildCompositeInCondition($operator, $columns, $values, &$par
 
         $sqlColumns = [];
         foreach ($columns as $i => $column) {
+            if ($column instanceof Expression) {
+                $column = $column->expression;
+            }
             $sqlColumns[] = strpos($column, '(') === false ? $this->queryBuilder->db->quoteColumnName($column) : $column;
         }
 
diff --git a/framework/db/conditions/LikeCondition.php b/framework/db/conditions/LikeCondition.php
index 3586adfff27..f4684d3f54f 100644
--- a/framework/db/conditions/LikeCondition.php
+++ b/framework/db/conditions/LikeCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
@@ -18,7 +18,7 @@
 class LikeCondition extends SimpleCondition
 {
     /**
-     * @var array|false map of chars to their replacements, false if characters should not be escaped
+     * @var array|null|false map of chars to their replacements, false if characters should not be escaped
      * or either null or empty array if escaping is condition builder responsibility.
      * By default it's set to `null`.
      */
diff --git a/framework/db/conditions/LikeConditionBuilder.php b/framework/db/conditions/LikeConditionBuilder.php
index 140e3e6a227..049be5b92ec 100644
--- a/framework/db/conditions/LikeConditionBuilder.php
+++ b/framework/db/conditions/LikeConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/NotCondition.php b/framework/db/conditions/NotCondition.php
index f176620b8d9..c06530187af 100644
--- a/framework/db/conditions/NotCondition.php
+++ b/framework/db/conditions/NotCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/NotConditionBuilder.php b/framework/db/conditions/NotConditionBuilder.php
index 1023b7f62d4..23772621f97 100644
--- a/framework/db/conditions/NotConditionBuilder.php
+++ b/framework/db/conditions/NotConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/OrCondition.php b/framework/db/conditions/OrCondition.php
index f70d2da853e..44472056bb2 100644
--- a/framework/db/conditions/OrCondition.php
+++ b/framework/db/conditions/OrCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/SimpleCondition.php b/framework/db/conditions/SimpleCondition.php
index ba27d1555f3..f785d4f5ce9 100644
--- a/framework/db/conditions/SimpleCondition.php
+++ b/framework/db/conditions/SimpleCondition.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/conditions/SimpleConditionBuilder.php b/framework/db/conditions/SimpleConditionBuilder.php
index 17920972778..00a75115b8e 100644
--- a/framework/db/conditions/SimpleConditionBuilder.php
+++ b/framework/db/conditions/SimpleConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\conditions;
diff --git a/framework/db/cubrid/ColumnSchemaBuilder.php b/framework/db/cubrid/ColumnSchemaBuilder.php
index 1b077ec0615..e3f402b0374 100644
--- a/framework/db/cubrid/ColumnSchemaBuilder.php
+++ b/framework/db/cubrid/ColumnSchemaBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\cubrid;
diff --git a/framework/db/cubrid/QueryBuilder.php b/framework/db/cubrid/QueryBuilder.php
index 6ebbc5845c2..72ac4df6ef0 100644
--- a/framework/db/cubrid/QueryBuilder.php
+++ b/framework/db/cubrid/QueryBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\cubrid;
@@ -156,7 +156,7 @@ public function buildLimit($limit, $offset)
     {
         $sql = '';
         // limit is not optional in CUBRID
-        // http://www.cubrid.org/manual/90/en/LIMIT%20Clause
+        // https://www.cubrid.org/manual/en/9.3.0/sql/query/select.html#limit-clause
         // "You can specify a very big integer for row_count to display to the last row, starting from a specific row."
         if ($this->hasLimit($limit)) {
             $sql = 'LIMIT ' . $limit;
@@ -181,7 +181,7 @@ public function selectExists($rawSql)
 
     /**
      * {@inheritdoc}
-     * @see http://www.cubrid.org/manual/93/en/sql/schema/table.html#drop-index-clause
+     * @see https://www.cubrid.org/manual/en/9.3.0/sql/schema/table.html#drop-index-clause
      */
     public function dropIndex($name, $table)
     {
@@ -263,7 +263,7 @@ public function dropCommentFromTable($table)
      *
      * @param string $table table name
      * @param string $column column name
-     * @return null|string the column definition
+     * @return string|null the column definition
      * @throws Exception in case when table does not contain column
      * @since 2.0.8
      */
diff --git a/framework/db/cubrid/Schema.php b/framework/db/cubrid/Schema.php
index 73a06c4d130..f2e0e3643c8 100644
--- a/framework/db/cubrid/Schema.php
+++ b/framework/db/cubrid/Schema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\cubrid;
@@ -30,7 +30,7 @@ class Schema extends \yii\db\Schema implements ConstraintFinderInterface
 
     /**
      * @var array mapping from physical column types (keys) to abstract column types (values)
-     * Please refer to [CUBRID manual](http://www.cubrid.org/manual/91/en/sql/datatype.html) for
+     * Please refer to [CUBRID manual](https://www.cubrid.org/manual/en/9.3.0/sql/datatype.html) for
      * details on data types.
      */
     public $typeMap = [
@@ -345,7 +345,7 @@ public function getPdoType($data)
 
     /**
      * {@inheritdoc}
-     * @see http://www.cubrid.org/manual/91/en/sql/transaction.html#database-concurrency
+     * @see https://www.cubrid.org/manual/en/9.3.0/sql/transaction.html#database-concurrency
      */
     public function setTransactionIsolationLevel($level)
     {
diff --git a/framework/db/cubrid/conditions/LikeConditionBuilder.php b/framework/db/cubrid/conditions/LikeConditionBuilder.php
index c6ea75ed774..80cd27173ea 100644
--- a/framework/db/cubrid/conditions/LikeConditionBuilder.php
+++ b/framework/db/cubrid/conditions/LikeConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\cubrid\conditions;
diff --git a/framework/db/mssql/ColumnSchema.php b/framework/db/mssql/ColumnSchema.php
index 78895d6031f..8d9f5fae860 100644
--- a/framework/db/mssql/ColumnSchema.php
+++ b/framework/db/mssql/ColumnSchema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql;
diff --git a/framework/db/mssql/ColumnSchemaBuilder.php b/framework/db/mssql/ColumnSchemaBuilder.php
index f95d9dd98eb..4523f332475 100644
--- a/framework/db/mssql/ColumnSchemaBuilder.php
+++ b/framework/db/mssql/ColumnSchemaBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql;
@@ -13,9 +13,8 @@
 /**
  * ColumnSchemaBuilder is the schema builder for MSSQL databases.
  *
- * @property-read string|null $checkValue The `CHECK` constraint for the column. This property is read-only.
- * @property-read string|Expression|null $defaultValue Default value of the column. This property is
- * read-only.
+ * @property-read string|null $checkValue The `CHECK` constraint for the column.
+ * @property-read string|Expression|null $defaultValue Default value of the column.
  *
  * @author Valerii Gorbachev <darkdef@gmail.com>
  * @since 2.0.42
diff --git a/framework/db/mssql/DBLibPDO.php b/framework/db/mssql/DBLibPDO.php
index 1500131f633..6c2fbc97ea5 100644
--- a/framework/db/mssql/DBLibPDO.php
+++ b/framework/db/mssql/DBLibPDO.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql;
@@ -21,6 +21,7 @@ class DBLibPDO extends \PDO
      * @param string|null $name the sequence name. Defaults to null.
      * @return int last inserted ID value.
      */
+    #[\ReturnTypeWillChange]
     public function lastInsertId($name = null)
     {
         return $this->query('SELECT CAST(COALESCE(SCOPE_IDENTITY(), @@IDENTITY) AS bigint)')->fetchColumn();
@@ -35,6 +36,7 @@ public function lastInsertId($name = null)
      * @return mixed A successful call returns the value of the requested PDO attribute.
      * An unsuccessful call returns null.
      */
+    #[\ReturnTypeWillChange]
     public function getAttribute($attribute)
     {
         try {
diff --git a/framework/db/mssql/PDO.php b/framework/db/mssql/PDO.php
index 005774c45cc..acbc9cc8b4e 100644
--- a/framework/db/mssql/PDO.php
+++ b/framework/db/mssql/PDO.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql;
@@ -21,6 +21,7 @@ class PDO extends \PDO
      * @param string|null $sequence the sequence name. Defaults to null.
      * @return int last inserted ID value.
      */
+    #[\ReturnTypeWillChange]
     public function lastInsertId($sequence = null)
     {
         return $this->query('SELECT CAST(COALESCE(SCOPE_IDENTITY(), @@IDENTITY) AS bigint)')->fetchColumn();
@@ -31,6 +32,7 @@ public function lastInsertId($sequence = null)
      * natively support transactions.
      * @return bool the result of a transaction start.
      */
+    #[\ReturnTypeWillChange]
     public function beginTransaction()
     {
         $this->exec('BEGIN TRANSACTION');
@@ -43,6 +45,7 @@ public function beginTransaction()
      * natively support transactions.
      * @return bool the result of a transaction commit.
      */
+    #[\ReturnTypeWillChange]
     public function commit()
     {
         $this->exec('COMMIT TRANSACTION');
@@ -55,6 +58,7 @@ public function commit()
      * natively support transactions.
      * @return bool the result of a transaction roll back.
      */
+    #[\ReturnTypeWillChange]
     public function rollBack()
     {
         $this->exec('ROLLBACK TRANSACTION');
@@ -71,6 +75,7 @@ public function rollBack()
      * @return mixed A successful call returns the value of the requested PDO attribute.
      * An unsuccessful call returns null.
      */
+    #[\ReturnTypeWillChange]
     public function getAttribute($attribute)
     {
         try {
diff --git a/framework/db/mssql/QueryBuilder.php b/framework/db/mssql/QueryBuilder.php
index 79c5d3d180f..8094f1dd3c8 100644
--- a/framework/db/mssql/QueryBuilder.php
+++ b/framework/db/mssql/QueryBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql;
@@ -293,7 +293,7 @@ public function checkIntegrity($check = true, $schema = '', $table = '')
       * @param string $comment the text of the comment to be added. The comment will be properly quoted by the method.
       * @param string $table the table to be commented or whose column is to be commented. The table name will be
       * properly quoted by the method.
-      * @param string $column optional. The name of the column to be commented. If empty, the command will add the
+      * @param string|null $column optional. The name of the column to be commented. If empty, the command will add the
       * comment to the table instead. The column name will be properly quoted by the method.
       * @return string the SQL statement for adding a comment.
       * @throws InvalidArgumentException if the table does not exist.
@@ -359,7 +359,7 @@ public function addCommentOnTable($table, $comment)
      *
      * @param string $table the table that will have the comment removed or whose column will have the comment removed.
      * The table name will be properly quoted by the method.
-     * @param string $column optional. The name of the column whose comment will be removed. If empty, the command
+     * @param string|null $column optional. The name of the column whose comment will be removed. If empty, the command
      * will remove the comment from the table instead. The column name will be properly quoted by the method.
      * @return string the SQL statement for removing the comment.
      * @throws InvalidArgumentException if the table does not exist.
@@ -415,7 +415,7 @@ public function dropCommentFromTable($table)
     /**
      * Returns an array of column names given model name.
      *
-     * @param string $modelClass name of the model class
+     * @param string|null $modelClass name of the model class
      * @return array|null array of column names
      */
     protected function getAllColumnNames($modelClass = null)
@@ -519,7 +519,7 @@ public function insert($table, $columns, &$params)
     /**
      * {@inheritdoc}
      * @see https://docs.microsoft.com/en-us/sql/t-sql/statements/merge-transact-sql
-     * @see http://weblogs.sqlteam.com/dang/archive/2009/01/31/UPSERT-Race-Condition-With-MERGE.aspx
+     * @see https://weblogs.sqlteam.com/dang/2009/01/31/upsert-race-condition-with-merge/
      */
     public function upsert($table, $insertColumns, $updateColumns, &$params)
     {
diff --git a/framework/db/mssql/Schema.php b/framework/db/mssql/Schema.php
index cb451e68d12..640b6ad093a 100644
--- a/framework/db/mssql/Schema.php
+++ b/framework/db/mssql/Schema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql;
diff --git a/framework/db/mssql/SqlsrvPDO.php b/framework/db/mssql/SqlsrvPDO.php
index e248b1cc6ca..4285e220df0 100644
--- a/framework/db/mssql/SqlsrvPDO.php
+++ b/framework/db/mssql/SqlsrvPDO.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql;
@@ -26,6 +26,7 @@ class SqlsrvPDO extends \PDO
      * @param string|null $sequence the sequence name. Defaults to null.
      * @return int last inserted ID value.
      */
+    #[\ReturnTypeWillChange]
     public function lastInsertId($sequence = null)
     {
         return !$sequence ? parent::lastInsertId() : parent::lastInsertId($sequence);
diff --git a/framework/db/mssql/TableSchema.php b/framework/db/mssql/TableSchema.php
index 05268ea31fa..85c31a2f9f0 100644
--- a/framework/db/mssql/TableSchema.php
+++ b/framework/db/mssql/TableSchema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql;
@@ -16,7 +16,7 @@
 class TableSchema extends \yii\db\TableSchema
 {
     /**
-     * @var string name of the catalog (database) that this table belongs to.
+     * @var string|null name of the catalog (database) that this table belongs to.
      * Defaults to null, meaning no catalog (or the current database).
      */
     public $catalogName;
diff --git a/framework/db/mssql/conditions/InConditionBuilder.php b/framework/db/mssql/conditions/InConditionBuilder.php
index 7892b545569..fcfaf2e43ae 100644
--- a/framework/db/mssql/conditions/InConditionBuilder.php
+++ b/framework/db/mssql/conditions/InConditionBuilder.php
@@ -1,13 +1,14 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql\conditions;
 
 use yii\base\NotSupportedException;
+use yii\db\Expression;
 
 /**
  * {@inheritdoc}
@@ -37,12 +38,18 @@ protected function buildCompositeInCondition($operator, $columns, $values, &$par
     {
         $quotedColumns = [];
         foreach ($columns as $i => $column) {
+            if ($column instanceof Expression) {
+                $column = $column->expression;
+            }
             $quotedColumns[$i] = strpos($column, '(') === false ? $this->queryBuilder->db->quoteColumnName($column) : $column;
         }
         $vss = [];
         foreach ($values as $value) {
             $vs = [];
             foreach ($columns as $i => $column) {
+                if ($column instanceof Expression) {
+                    $column = $column->expression;
+                }
                 if (isset($value[$column])) {
                     $phName = $this->queryBuilder->bindParam($value[$column], $params);
                     $vs[] = $quotedColumns[$i] . ($operator === 'IN' ? ' = ' : ' != ') . $phName;
diff --git a/framework/db/mssql/conditions/LikeConditionBuilder.php b/framework/db/mssql/conditions/LikeConditionBuilder.php
index f96cd2aadb2..a089f99935c 100644
--- a/framework/db/mssql/conditions/LikeConditionBuilder.php
+++ b/framework/db/mssql/conditions/LikeConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mssql\conditions;
diff --git a/framework/db/mysql/ColumnSchema.php b/framework/db/mysql/ColumnSchema.php
index 7645b1f0c4e..ca9c48703b3 100644
--- a/framework/db/mysql/ColumnSchema.php
+++ b/framework/db/mysql/ColumnSchema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mysql;
diff --git a/framework/db/mysql/ColumnSchemaBuilder.php b/framework/db/mysql/ColumnSchemaBuilder.php
index de5740dc642..dbf507e0f89 100644
--- a/framework/db/mysql/ColumnSchemaBuilder.php
+++ b/framework/db/mysql/ColumnSchemaBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mysql;
diff --git a/framework/db/mysql/JsonExpressionBuilder.php b/framework/db/mysql/JsonExpressionBuilder.php
index 18fa82474bb..99924ced06a 100644
--- a/framework/db/mysql/JsonExpressionBuilder.php
+++ b/framework/db/mysql/JsonExpressionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mysql;
diff --git a/framework/db/mysql/QueryBuilder.php b/framework/db/mysql/QueryBuilder.php
index 6ef2f30dbfe..ac3420c3972 100644
--- a/framework/db/mysql/QueryBuilder.php
+++ b/framework/db/mysql/QueryBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mysql;
@@ -223,8 +223,8 @@ public function buildLimit($limit, $offset)
             }
         } elseif ($this->hasOffset($offset)) {
             // limit is not optional in MySQL
-            // http://stackoverflow.com/a/271650/1106908
-            // http://dev.mysql.com/doc/refman/5.0/en/select.html#idm47619502796240
+            // https://stackoverflow.com/questions/255517/mysql-offset-infinite-rows/271650#271650
+            // https://dev.mysql.com/doc/refman/5.7/en/select.html#idm46193796386608
             $sql = "LIMIT $offset, 18446744073709551615"; // 2^64-1
         }
 
@@ -357,7 +357,7 @@ public function dropCommentFromTable($table)
      *
      * @param string $table table name
      * @param string $column column name
-     * @return null|string the column definition
+     * @return string|null the column definition
      * @throws Exception in case when table does not contain column
      */
     private function getColumnDefinition($table, $column)
diff --git a/framework/db/mysql/Schema.php b/framework/db/mysql/Schema.php
index 90ecd314290..aec698d9d97 100644
--- a/framework/db/mysql/Schema.php
+++ b/framework/db/mysql/Schema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\mysql;
@@ -294,10 +294,11 @@ protected function loadColumnSchema($info)
              * See details here: https://mariadb.com/kb/en/library/now/#description
              */
             if (($column->type === 'timestamp' || $column->type === 'datetime')
+                && isset($info['default'])
                 && preg_match('/^current_timestamp(?:\(([0-9]*)\))?$/i', $info['default'], $matches)) {
                 $column->defaultValue = new Expression('CURRENT_TIMESTAMP' . (!empty($matches[1]) ? '(' . $matches[1] . ')' : ''));
             } elseif (isset($type) && $type === 'bit') {
-                $column->defaultValue = bindec(trim($info['default'], 'b\''));
+                $column->defaultValue = bindec(trim(isset($info['default']) ? $info['default'] : '', 'b\''));
             } else {
                 $column->defaultValue = $column->phpTypecast($info['default']);
             }
diff --git a/framework/db/oci/ColumnSchemaBuilder.php b/framework/db/oci/ColumnSchemaBuilder.php
index 545d34606ca..dcb5ff21ef8 100644
--- a/framework/db/oci/ColumnSchemaBuilder.php
+++ b/framework/db/oci/ColumnSchemaBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\oci;
diff --git a/framework/db/oci/Command.php b/framework/db/oci/Command.php
index 8f7edc6d3e3..f336d30cc4e 100644
--- a/framework/db/oci/Command.php
+++ b/framework/db/oci/Command.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\oci;
diff --git a/framework/db/oci/QueryBuilder.php b/framework/db/oci/QueryBuilder.php
index f4e6b3db706..170d118c17d 100644
--- a/framework/db/oci/QueryBuilder.php
+++ b/framework/db/oci/QueryBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\oci;
diff --git a/framework/db/oci/Schema.php b/framework/db/oci/Schema.php
index cba0b206a76..5e581441892 100644
--- a/framework/db/oci/Schema.php
+++ b/framework/db/oci/Schema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\oci;
@@ -25,7 +25,7 @@
  * Schema is the class for retrieving metadata from an Oracle database.
  *
  * @property-read string $lastInsertID The row ID of the last row inserted, or the last value retrieved from
- * the sequence object. This property is read-only.
+ * the sequence object.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -411,10 +411,10 @@ protected function createColumn($column)
         $c->phpType = $this->getColumnPhpType($c);
 
         if (!$c->isPrimaryKey) {
-            if (stripos($column['DATA_DEFAULT'], 'timestamp') !== false) {
+            if (stripos((string) $column['DATA_DEFAULT'], 'timestamp') !== false) {
                 $c->defaultValue = null;
             } else {
-                $defaultValue = $column['DATA_DEFAULT'];
+                $defaultValue = (string) $column['DATA_DEFAULT'];
                 if ($c->type === 'timestamp' && $defaultValue === 'CURRENT_TIMESTAMP') {
                     $c->defaultValue = new Expression('CURRENT_TIMESTAMP');
                 } else {
@@ -594,9 +594,9 @@ protected function extractColumnType($column, $dbType, $precision, $scale, $leng
      */
     protected function extractColumnSize($column, $dbType, $precision, $scale, $length)
     {
-        $column->size = trim($length) === '' ? null : (int) $length;
-        $column->precision = trim($precision) === '' ? null : (int) $precision;
-        $column->scale = trim($scale) === '' ? null : (int) $scale;
+        $column->size = trim((string) $length) === '' ? null : (int) $length;
+        $column->precision = trim((string) $precision) === '' ? null : (int) $precision;
+        $column->scale = trim((string) $scale) === '' ? null : (int) $scale;
     }
 
     /**
diff --git a/framework/db/oci/conditions/InConditionBuilder.php b/framework/db/oci/conditions/InConditionBuilder.php
index 2a947759e94..bb6b2bf0709 100644
--- a/framework/db/oci/conditions/InConditionBuilder.php
+++ b/framework/db/oci/conditions/InConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\oci\conditions;
@@ -39,7 +39,7 @@ public function build(ExpressionInterface $expression, array &$params = [])
      *
      * @param ExpressionInterface|InCondition $condition the expression to be built.
      * @param array $params the binding parameters.
-     * @return null|string null when split is not required. Otherwise - built SQL condition.
+     * @return string|null null when split is not required. Otherwise - built SQL condition.
      */
     protected function splitCondition(InCondition $condition, &$params)
     {
diff --git a/framework/db/oci/conditions/LikeConditionBuilder.php b/framework/db/oci/conditions/LikeConditionBuilder.php
index a8c0c2ab920..e20c91e3953 100644
--- a/framework/db/oci/conditions/LikeConditionBuilder.php
+++ b/framework/db/oci/conditions/LikeConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\oci\conditions;
diff --git a/framework/db/pgsql/ArrayExpressionBuilder.php b/framework/db/pgsql/ArrayExpressionBuilder.php
index 6eb86eb1f61..76972542d9e 100644
--- a/framework/db/pgsql/ArrayExpressionBuilder.php
+++ b/framework/db/pgsql/ArrayExpressionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\pgsql;
diff --git a/framework/db/pgsql/ArrayParser.php b/framework/db/pgsql/ArrayParser.php
index 8ce08b24f5a..50a204e3c5d 100644
--- a/framework/db/pgsql/ArrayParser.php
+++ b/framework/db/pgsql/ArrayParser.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\pgsql;
@@ -80,7 +80,7 @@ private function parseArray($value, &$i = 0)
      *
      * @param string $value
      * @param int $i parse starting position
-     * @return null|string
+     * @return string|null
      */
     private function parseString($value, &$i)
     {
diff --git a/framework/db/pgsql/ColumnSchema.php b/framework/db/pgsql/ColumnSchema.php
index b93ad3c145c..33d97bbdf55 100644
--- a/framework/db/pgsql/ColumnSchema.php
+++ b/framework/db/pgsql/ColumnSchema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\pgsql;
diff --git a/framework/db/pgsql/JsonExpressionBuilder.php b/framework/db/pgsql/JsonExpressionBuilder.php
index e8ea47452d6..ab99f34fbd4 100644
--- a/framework/db/pgsql/JsonExpressionBuilder.php
+++ b/framework/db/pgsql/JsonExpressionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\pgsql;
diff --git a/framework/db/pgsql/QueryBuilder.php b/framework/db/pgsql/QueryBuilder.php
index fa546c6d986..be990dc0065 100644
--- a/framework/db/pgsql/QueryBuilder.php
+++ b/framework/db/pgsql/QueryBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\pgsql;
@@ -113,7 +113,7 @@ protected function defaultExpressionBuilders()
      * a unique index, `false` to make a non-unique index using the default index type, or one of the following constants to specify
      * the index method to use: [[INDEX_B_TREE]], [[INDEX_HASH]], [[INDEX_GIST]], [[INDEX_GIN]].
      * @return string the SQL statement for creating a new index.
-     * @see http://www.postgresql.org/docs/8.2/static/sql-createindex.html
+     * @see https://www.postgresql.org/docs/8.2/sql-createindex.html
      */
     public function createIndex($name, $table, $columns, $unique = false)
     {
@@ -181,7 +181,7 @@ public function resetSequence($tableName, $value = null)
     {
         $table = $this->db->getTableSchema($tableName);
         if ($table !== null && $table->sequenceName !== null) {
-            // c.f. http://www.postgresql.org/docs/8.1/static/functions-sequence.html
+            // c.f. https://www.postgresql.org/docs/8.1/functions-sequence.html
             $sequence = $this->db->quoteTableName($table->sequenceName);
             $tableName = $this->db->quoteTableName($tableName);
             if ($value === null) {
@@ -253,7 +253,7 @@ public function alterColumn($table, $column, $type)
         $tableName = $this->db->quoteTableName($table);
 
         // https://github.com/yiisoft/yii2/issues/4492
-        // http://www.postgresql.org/docs/9.1/static/sql-altertable.html
+        // https://www.postgresql.org/docs/9.1/sql-altertable.html
         if (preg_match('/^(DROP|SET|RESET)\s+/i', $type)) {
             return "ALTER TABLE {$tableName} ALTER COLUMN {$columnName} {$type}";
         }
@@ -463,7 +463,7 @@ public function update($table, $columns, $condition, &$params)
      * @param array|Query $columns the column data (name => value) to be saved into the table or instance
      * of [[yii\db\Query|Query]] to perform INSERT INTO ... SELECT SQL statement.
      * Passing of [[yii\db\Query|Query]] is available since version 2.0.11.
-     * @return array normalized columns
+     * @return array|Query normalized columns
      * @since 2.0.9
      */
     private function normalizeTableRowData($table, $columns)
diff --git a/framework/db/pgsql/Schema.php b/framework/db/pgsql/Schema.php
index 7f6b9d018cc..8fb5943b92b 100644
--- a/framework/db/pgsql/Schema.php
+++ b/framework/db/pgsql/Schema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\pgsql;
@@ -44,7 +44,7 @@ class Schema extends \yii\db\Schema implements ConstraintFinderInterface
     /**
      * @var array mapping from physical column types (keys) to abstract
      * column types (values)
-     * @see http://www.postgresql.org/docs/current/static/datatype.html#DATATYPE-TABLE
+     * @see https://www.postgresql.org/docs/current/datatype.html#DATATYPE-TABLE
      */
     public $typeMap = [
         'bit' => self::TYPE_INTEGER,
@@ -339,7 +339,7 @@ protected function findConstraints($table)
         $tableSchema = $this->quoteValue($table->schemaName);
 
         //We need to extract the constraints de hard way since:
-        //http://www.postgresql.org/message-id/26677.1086673982@sss.pgh.pa.us
+        //https://www.postgresql.org/message-id/26677.1086673982@sss.pgh.pa.us
 
         $sql = <<<SQL
 select
diff --git a/framework/db/sqlite/ColumnSchemaBuilder.php b/framework/db/sqlite/ColumnSchemaBuilder.php
index 763552cf0a7..d9853b08ab3 100644
--- a/framework/db/sqlite/ColumnSchemaBuilder.php
+++ b/framework/db/sqlite/ColumnSchemaBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\sqlite;
diff --git a/framework/db/sqlite/Command.php b/framework/db/sqlite/Command.php
index 58066fd3657..36b2b731241 100644
--- a/framework/db/sqlite/Command.php
+++ b/framework/db/sqlite/Command.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\sqlite;
diff --git a/framework/db/sqlite/QueryBuilder.php b/framework/db/sqlite/QueryBuilder.php
index dcf3dfc267f..18abffa8ebd 100644
--- a/framework/db/sqlite/QueryBuilder.php
+++ b/framework/db/sqlite/QueryBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\sqlite;
@@ -140,7 +140,7 @@ public function batchInsert($table, $columns, $rows, &$params = [])
         }
 
         // SQLite supports batch insert natively since 3.7.11
-        // http://www.sqlite.org/releaselog/3_7_11.html
+        // https://www.sqlite.org/releaselog/3_7_11.html
         $this->db->open(); // ensure pdo is not null
         if (version_compare($this->db->getServerVersion(), '3.7.11', '>=')) {
             return parent::batchInsert($table, $columns, $rows, $params);
@@ -290,8 +290,8 @@ public function renameColumn($table, $oldName, $newName)
      * @param string $refTable the table that the foreign key references to.
      * @param string|array $refColumns the name of the column that the foreign key references to.
      * If there are multiple columns, separate them with commas or use an array to represent them.
-     * @param string $delete the ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
-     * @param string $update the ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
+     * @param string|null $delete the ON DELETE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
+     * @param string|null $update the ON UPDATE option. Most DBMS support these options: RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
      * @return string the SQL statement for adding a foreign key constraint to an existing table.
      * @throws NotSupportedException this is not supported by SQLite
      */
@@ -472,7 +472,7 @@ public function buildLimit($limit, $offset)
             }
         } elseif ($this->hasOffset($offset)) {
             // limit is not optional in SQLite
-            // http://www.sqlite.org/syntaxdiagrams.html#select-stmt
+            // https://www.sqlite.org/syntaxdiagrams.html#select-stmt
             $sql = "LIMIT 9223372036854775807 OFFSET $offset"; // 2^63-1
         }
 
diff --git a/framework/db/sqlite/Schema.php b/framework/db/sqlite/Schema.php
index 0b5a0cc8ec9..2ccd2be1ba1 100644
--- a/framework/db/sqlite/Schema.php
+++ b/framework/db/sqlite/Schema.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\sqlite;
@@ -25,8 +25,7 @@
  * Schema is the class for retrieving metadata from a SQLite (2/3) database.
  *
  * @property-write string $transactionIsolationLevel The transaction isolation level to use for this
- * transaction. This can be either [[Transaction::READ_UNCOMMITTED]] or [[Transaction::SERIALIZABLE]]. This
- * property is write-only.
+ * transaction. This can be either [[Transaction::READ_UNCOMMITTED]] or [[Transaction::SERIALIZABLE]].
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -363,7 +362,7 @@ protected function loadColumnSchema($info)
      * This can be either [[Transaction::READ_UNCOMMITTED]] or [[Transaction::SERIALIZABLE]].
      * @throws NotSupportedException when unsupported isolation levels are used.
      * SQLite only supports SERIALIZABLE and READ UNCOMMITTED.
-     * @see http://www.sqlite.org/pragma.html#pragma_read_uncommitted
+     * @see https://www.sqlite.org/pragma.html#pragma_read_uncommitted
      */
     public function setTransactionIsolationLevel($level)
     {
diff --git a/framework/db/sqlite/SqlTokenizer.php b/framework/db/sqlite/SqlTokenizer.php
index 7a8aecb6ab8..fe92680dc75 100644
--- a/framework/db/sqlite/SqlTokenizer.php
+++ b/framework/db/sqlite/SqlTokenizer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\sqlite;
@@ -11,7 +11,7 @@
  * SqlTokenizer splits SQLite query into individual SQL tokens.
  * It's used to obtain a `CHECK` constraint information from a `CREATE TABLE` SQL code.
  *
- * @see http://www.sqlite.org/draft/tokenreq.html
+ * @see https://www.sqlite.org/draft/tokenreq.html
  * @see https://sqlite.org/lang.html
  * @author Sergey Makinen <sergey@makinen.ru>
  * @since 2.0.13
diff --git a/framework/db/sqlite/conditions/InConditionBuilder.php b/framework/db/sqlite/conditions/InConditionBuilder.php
index 9ad84558c50..7c381b9164d 100644
--- a/framework/db/sqlite/conditions/InConditionBuilder.php
+++ b/framework/db/sqlite/conditions/InConditionBuilder.php
@@ -1,13 +1,14 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\sqlite\conditions;
 
 use yii\base\NotSupportedException;
+use yii\db\Expression;
 
 /**
  * {@inheritdoc}
@@ -37,12 +38,18 @@ protected function buildCompositeInCondition($operator, $columns, $values, &$par
     {
         $quotedColumns = [];
         foreach ($columns as $i => $column) {
+            if ($column instanceof Expression) {
+                $column = $column->expression;
+            }
             $quotedColumns[$i] = strpos($column, '(') === false ? $this->queryBuilder->db->quoteColumnName($column) : $column;
         }
         $vss = [];
         foreach ($values as $value) {
             $vs = [];
             foreach ($columns as $i => $column) {
+                if ($column instanceof Expression) {
+                    $column = $column->expression;
+                }
                 if (isset($value[$column])) {
                     $phName = $this->queryBuilder->bindParam($value[$column], $params);
                     $vs[] = $quotedColumns[$i] . ($operator === 'IN' ? ' = ' : ' != ') . $phName;
diff --git a/framework/db/sqlite/conditions/LikeConditionBuilder.php b/framework/db/sqlite/conditions/LikeConditionBuilder.php
index 0aa7d919c01..45042dddb76 100644
--- a/framework/db/sqlite/conditions/LikeConditionBuilder.php
+++ b/framework/db/sqlite/conditions/LikeConditionBuilder.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\db\sqlite\conditions;
diff --git a/framework/di/Container.php b/framework/di/Container.php
index 8917754016b..ed80f7c54b3 100644
--- a/framework/di/Container.php
+++ b/framework/di/Container.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\di;
@@ -17,11 +17,11 @@
 use yii\helpers\ArrayHelper;
 
 /**
- * Container implements a [dependency injection](http://en.wikipedia.org/wiki/Dependency_injection) container.
+ * Container implements a [dependency injection](https://en.wikipedia.org/wiki/Dependency_injection) container.
  *
  * A dependency injection (DI) container is an object that knows how to instantiate and configure objects and
  * all their dependent objects. For more information about DI, please refer to
- * [Martin Fowler's article](http://martinfowler.com/articles/injection.html).
+ * [Martin Fowler's article](https://martinfowler.com/articles/injection.html).
  *
  * Container supports constructor injection as well as property injection.
  *
@@ -95,9 +95,8 @@
  * For more details and usage information on Container, see the [guide article on di-containers](guide:concept-di-container).
  *
  * @property-read array $definitions The list of the object definitions or the loaded shared objects (type or
- * ID => definition or instance). This property is read-only.
- * @property-write bool $resolveArrays Whether to attempt to resolve elements in array dependencies. This
- * property is write-only.
+ * ID => definition or instance).
+ * @property-write bool $resolveArrays Whether to attempt to resolve elements in array dependencies.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -580,7 +579,7 @@ private function isNulledParam($param)
     /**
      * Resolves dependencies by replacing them with the actual object instances.
      * @param array $dependencies the dependencies
-     * @param ReflectionClass $reflection the class reflection associated with the dependencies
+     * @param ReflectionClass|null $reflection the class reflection associated with the dependencies
      * @return array the resolved dependencies
      * @throws InvalidConfigException if a dependency cannot be resolved or if a dependency cannot be fulfilled.
      */
@@ -666,7 +665,19 @@ public function resolveCallableDependencies(callable $callback, $params = [])
 
             if (PHP_VERSION_ID >= 80000) {
                 $class = $param->getType();
-                $isClass = $class !== null && !$param->getType()->isBuiltin();
+                if ($class instanceof \ReflectionUnionType || (PHP_VERSION_ID >= 80100 && $class instanceof \ReflectionIntersectionType)) {
+                    $isClass = false;
+                    foreach ($class->getTypes() as $type) {
+                        if (!$type->isBuiltin()) {
+                            $class = $type;
+                            $isClass = true;
+                            break;
+                        }
+                    }
+                } else {
+                    $isClass = $class !== null && !$class->isBuiltin();
+                }
+
             } else {
                 $class = $param->getClass();
                 $isClass = $class !== null;
diff --git a/framework/di/Instance.php b/framework/di/Instance.php
index 62fb50e1d2e..39bd801b354 100644
--- a/framework/di/Instance.php
+++ b/framework/di/Instance.php
@@ -1,13 +1,12 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\di;
 
-use Exception;
 use Yii;
 use yii\base\InvalidConfigException;
 
@@ -111,8 +110,8 @@ public static function of($id, $optional = false)
      * You may specify a reference in terms of a component ID or an Instance object.
      * Starting from version 2.0.2, you may also pass in a configuration array for creating the object.
      * If the "class" value is not specified in the configuration array, it will use the value of `$type`.
-     * @param string $type the class/interface name to be checked. If null, type check will not be performed.
-     * @param ServiceLocator|Container $container the container. This will be passed to [[get()]].
+     * @param string|null $type the class/interface name to be checked. If null, type check will not be performed.
+     * @param ServiceLocator|Container|null $container the container. This will be passed to [[get()]].
      * @return object the object referenced by the Instance, or `$reference` itself if it is an object.
      * @throws InvalidConfigException if the reference is invalid
      */
@@ -159,7 +158,7 @@ public static function ensure($reference, $type = null, $container = null)
 
     /**
      * Returns the actual object referenced by this Instance object.
-     * @param ServiceLocator|Container $container the container used to locate the referenced object.
+     * @param ServiceLocator|Container|null $container the container used to locate the referenced object.
      * If null, the method will first try `Yii::$app` then `Yii::$container`.
      * @return object the actual object referenced by this Instance object.
      */
@@ -174,7 +173,12 @@ public function get($container = null)
             }
 
             return Yii::$container->get($this->id);
-        } catch (Exception $e) {
+        } catch (\Exception $e) {
+            if ($this->optional) {
+                return null;
+            }
+            throw $e;
+        } catch (\Throwable $e) {
             if ($this->optional) {
                 return null;
             }
diff --git a/framework/di/NotInstantiableException.php b/framework/di/NotInstantiableException.php
index c80332ae08c..6da3e33d271 100644
--- a/framework/di/NotInstantiableException.php
+++ b/framework/di/NotInstantiableException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\di;
@@ -21,7 +21,7 @@ class NotInstantiableException extends InvalidConfigException
     /**
      * {@inheritdoc}
      */
-    public function __construct($class, $message = null, $code = 0, \Exception $previous = null)
+    public function __construct($class, $message = null, $code = 0, $previous = null)
     {
         if ($message === null) {
             $message = "Can not instantiate $class.";
diff --git a/framework/di/ServiceLocator.php b/framework/di/ServiceLocator.php
index ab8b6a45907..ab6ef253a11 100644
--- a/framework/di/ServiceLocator.php
+++ b/framework/di/ServiceLocator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\di;
@@ -13,7 +13,7 @@
 use yii\base\InvalidConfigException;
 
 /**
- * ServiceLocator implements a [service locator](http://en.wikipedia.org/wiki/Service_locator_pattern).
+ * ServiceLocator implements a [service locator](https://en.wikipedia.org/wiki/Service_locator_pattern).
  *
  * To use ServiceLocator, you first need to register component IDs with the corresponding component
  * definitions with the locator by calling [[set()]] or [[setComponents()]].
diff --git a/framework/filters/AccessControl.php b/framework/filters/AccessControl.php
index 3e91b80a22e..7ec2c5e553a 100644
--- a/framework/filters/AccessControl.php
+++ b/framework/filters/AccessControl.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
@@ -63,7 +63,7 @@ class AccessControl extends ActionFilter
      */
     public $user = 'user';
     /**
-     * @var callable a callback that will be called if the access should be denied
+     * @var callable|null a callback that will be called if the access should be denied
      * to the current user. This is the case when either no rule matches, or a rule with
      * [[AccessRule::$allow|$allow]] set to `false` matches.
      * If not set, [[denyAccess()]] will be called.
diff --git a/framework/filters/AccessRule.php b/framework/filters/AccessRule.php
index 8cb4fca24b7..decb4365a86 100644
--- a/framework/filters/AccessRule.php
+++ b/framework/filters/AccessRule.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
@@ -28,14 +28,14 @@ class AccessRule extends Component
     /**
      * @var bool whether this is an 'allow' rule or 'deny' rule.
      */
-    public $allow;
+    public $allow = false;
     /**
-     * @var array list of action IDs that this rule applies to. The comparison is case-sensitive.
+     * @var array|null list of action IDs that this rule applies to. The comparison is case-sensitive.
      * If not set or empty, it means this rule applies to all actions.
      */
     public $actions;
     /**
-     * @var array list of the controller IDs that this rule applies to.
+     * @var array|null list of the controller IDs that this rule applies to.
      *
      * The comparison uses [[\yii\base\Controller::uniqueId]], so each controller ID is prefixed
      * with the module ID (if any). For a `product` controller in the application, you would specify
@@ -50,7 +50,7 @@ class AccessRule extends Component
      */
     public $controllers;
     /**
-     * @var array list of roles that this rule applies to (requires properly configured User component).
+     * @var array|null list of roles that this rule applies to (requires properly configured User component).
      * Two special roles are recognized, and they are checked via [[User::isGuest]]:
      *
      * - `?`: matches a guest user (not authenticated yet)
@@ -67,7 +67,7 @@ class AccessRule extends Component
      */
     public $roles;
     /**
-     * @var array list of RBAC (Role-Based Access Control) permissions that this rules applies to.
+     * @var array|null list of RBAC (Role-Based Access Control) permissions that this rules applies to.
      * [[User::can()]] will be called to check access.
      *
      * If this property is not set or empty, it means this rule applies regardless of permissions.
@@ -111,7 +111,7 @@ class AccessRule extends Component
      */
     public $roleParams = [];
     /**
-     * @var array list of user IP addresses that this rule applies to. An IP address
+     * @var array|null list of user IP addresses that this rule applies to. An IP address
      * can contain the wildcard `*` at the end so that it matches IP addresses with the same prefix.
      * For example, '192.168.*' matches all IP addresses in the segment '192.168.'.
      * It may also contain a pattern/mask like '172.16.0.0/12' which would match all IPs from the
@@ -122,7 +122,7 @@ class AccessRule extends Component
      */
     public $ips;
     /**
-     * @var array list of request methods (e.g. `GET`, `POST`) that this rule applies to.
+     * @var array|null list of request methods (e.g. `GET`, `POST`) that this rule applies to.
      * If not set or empty, it means this rule applies to all request methods.
      * @see \yii\web\Request::method
      */
@@ -140,7 +140,7 @@ class AccessRule extends Component
      */
     public $matchCallback;
     /**
-     * @var callable a callback that will be called if this rule determines the access to
+     * @var callable|null a callback that will be called if this rule determines the access to
      * the current action should be denied. This is the case when this rule matches
      * and [[$allow]] is set to `false`.
      *
diff --git a/framework/filters/AjaxFilter.php b/framework/filters/AjaxFilter.php
index 265f01a5705..02b3d7ebf0e 100644
--- a/framework/filters/AjaxFilter.php
+++ b/framework/filters/AjaxFilter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
@@ -37,7 +37,7 @@ class AjaxFilter extends ActionFilter
      */
     public $errorMessage = 'Request must be XMLHttpRequest.';
     /**
-     * @var Request the current request. If not set, the `request` application component will be used.
+     * @var Request|null the current request. If not set, the `request` application component will be used.
      */
     public $request;
 
diff --git a/framework/filters/ContentNegotiator.php b/framework/filters/ContentNegotiator.php
index 760c4a0fab2..72c3e865d79 100644
--- a/framework/filters/ContentNegotiator.php
+++ b/framework/filters/ContentNegotiator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
@@ -102,7 +102,7 @@ class ContentNegotiator extends ActionFilter implements BootstrapInterface
      */
     public $languageParam = '_lang';
     /**
-     * @var array list of supported response formats. The keys are MIME types (e.g. `application/json`)
+     * @var array|null list of supported response formats. The keys are MIME types (e.g. `application/json`)
      * while the values are the corresponding formats (e.g. `html`, `json`) which must be supported
      * as declared in [[\yii\web\Response::$formatters]].
      *
@@ -110,7 +110,7 @@ class ContentNegotiator extends ActionFilter implements BootstrapInterface
      */
     public $formats;
     /**
-     * @var array a list of supported languages. The array keys are the supported language variants (e.g. `en-GB`, `en-US`),
+     * @var array|null a list of supported languages. The array keys are the supported language variants (e.g. `en-GB`, `en-US`),
      * while the array values are the corresponding language codes (e.g. `en`, `de`) recognized by the application.
      *
      * Array keys are not always required. When an array value does not have a key, the matching of the requested language
@@ -124,7 +124,7 @@ class ContentNegotiator extends ActionFilter implements BootstrapInterface
      */
     public $request;
     /**
-     * @var Response the response to be sent. If not set, the `response` application component will be used.
+     * @var Response|null the response to be sent. If not set, the `response` application component will be used.
      */
     public $response;
 
diff --git a/framework/filters/Cors.php b/framework/filters/Cors.php
index 356053f514b..b6b99a79bfc 100644
--- a/framework/filters/Cors.php
+++ b/framework/filters/Cors.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
@@ -14,7 +14,7 @@
 use yii\web\Response;
 
 /**
- * Cors filter implements [Cross Origin Resource Sharing](http://en.wikipedia.org/wiki/Cross-origin_resource_sharing).
+ * Cors filter implements [Cross Origin Resource Sharing](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing).
  *
  * Make sure to read carefully what CORS does and does not. CORS do not secure your API,
  * but allow the developer to grant access to third party code (ajax calls from external domain).
@@ -70,11 +70,11 @@
 class Cors extends ActionFilter
 {
     /**
-     * @var Request the current request. If not set, the `request` application component will be used.
+     * @var Request|null the current request. If not set, the `request` application component will be used.
      */
     public $request;
     /**
-     * @var Response the response to be sent. If not set, the `response` application component will be used.
+     * @var Response|null the response to be sent. If not set, the `response` application component will be used.
      */
     public $response;
     /**
diff --git a/framework/filters/HostControl.php b/framework/filters/HostControl.php
index 51aa5bee24a..42ca30c44d2 100644
--- a/framework/filters/HostControl.php
+++ b/framework/filters/HostControl.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
@@ -91,7 +91,7 @@ class HostControl extends ActionFilter
      */
     public $allowedHosts;
     /**
-     * @var callable a callback that will be called if the current host does not match [[allowedHosts]].
+     * @var callable|null a callback that will be called if the current host does not match [[allowedHosts]].
      * If not set, [[denyAccess()]] will be called.
      *
      * The signature of the callback should be as follows:
@@ -107,7 +107,7 @@ class HostControl extends ActionFilter
      */
     public $denyCallback;
     /**
-     * @var string|null fallback host info (e.g. `http://www.yiiframework.com`) used when [[\yii\web\Request::$hostInfo|Request::$hostInfo]] is invalid.
+     * @var string|null fallback host info (e.g. `https://www.yiiframework.com`) used when [[\yii\web\Request::$hostInfo|Request::$hostInfo]] is invalid.
      * This value will replace [[\yii\web\Request::$hostInfo|Request::$hostInfo]] before [[$denyCallback]] is called to make sure that
      * an invalid host will not be used for further processing. You can set it to `null` to leave [[\yii\web\Request::$hostInfo|Request::$hostInfo]] untouched.
      * Default value is empty string (this will result creating relative URLs instead of absolute).
diff --git a/framework/filters/HttpCache.php b/framework/filters/HttpCache.php
index 2a6f6e32a4c..d05011407ec 100644
--- a/framework/filters/HttpCache.php
+++ b/framework/filters/HttpCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
@@ -56,7 +56,7 @@ class HttpCache extends ActionFilter
      * where `$action` is the [[Action]] object that this filter is currently handling;
      * `$params` takes the value of [[params]]. The callback should return a UNIX timestamp.
      *
-     * @see http://tools.ietf.org/html/rfc7232#section-2.2
+     * @see https://datatracker.ietf.org/doc/html/rfc7232#section-2.2
      */
     public $lastModified;
     /**
@@ -78,7 +78,7 @@ class HttpCache extends ActionFilter
      * Weak ETags should be used if the content should be considered semantically equivalent, but not byte-equal.
      *
      * @since 2.0.8
-     * @see http://tools.ietf.org/html/rfc7232#section-2.3
+     * @see https://datatracker.ietf.org/doc/html/rfc7232#section-2.3
      */
     public $weakEtag = false;
     /**
@@ -86,12 +86,12 @@ class HttpCache extends ActionFilter
      */
     public $params;
     /**
-     * @var string the value of the `Cache-Control` HTTP header. If null, the header will not be sent.
-     * @see http://tools.ietf.org/html/rfc2616#section-14.9
+     * @var string|null the value of the `Cache-Control` HTTP header. If null, the header will not be sent.
+     * @see https://datatracker.ietf.org/doc/html/rfc2616#section-14.9
      */
     public $cacheControlHeader = 'public, max-age=3600';
     /**
-     * @var string the name of the cache limiter to be set when [session_cache_limiter()](https://www.php.net/manual/en/function.session-cache-limiter.php)
+     * @var string|null the name of the cache limiter to be set when [session_cache_limiter()](https://www.php.net/manual/en/function.session-cache-limiter.php)
      * is called. The default value is an empty string, meaning turning off automatic sending of cache headers entirely.
      * You may set this property to be `public`, `private`, `private_no_expire`, and `nocache`.
      * Please refer to [session_cache_limiter()](https://www.php.net/manual/en/function.session-cache-limiter.php)
@@ -158,16 +158,16 @@ public function beforeAction($action)
     /**
      * Validates if the HTTP cache contains valid content.
      * If both Last-Modified and ETag are null, returns false.
-     * @param int $lastModified the calculated Last-Modified value in terms of a UNIX timestamp.
+     * @param int|null $lastModified the calculated Last-Modified value in terms of a UNIX timestamp.
      * If null, the Last-Modified header will not be validated.
-     * @param string $etag the calculated ETag value. If null, the ETag header will not be validated.
+     * @param string|null $etag the calculated ETag value. If null, the ETag header will not be validated.
      * @return bool whether the HTTP cache is still valid.
      */
     protected function validateCache($lastModified, $etag)
     {
         if (Yii::$app->request->headers->has('If-None-Match')) {
             // HTTP_IF_NONE_MATCH takes precedence over HTTP_IF_MODIFIED_SINCE
-            // http://tools.ietf.org/html/rfc7232#section-3.3
+            // https://datatracker.ietf.org/doc/html/rfc7232#section-3.3
             return $etag !== null && in_array($etag, Yii::$app->request->getETags(), true);
         } elseif (Yii::$app->request->headers->has('If-Modified-Since')) {
             return $lastModified !== null && @strtotime(Yii::$app->request->headers->get('If-Modified-Since')) >= $lastModified;
diff --git a/framework/filters/PageCache.php b/framework/filters/PageCache.php
index 1930aa0873f..c10dcabe4f6 100644
--- a/framework/filters/PageCache.php
+++ b/framework/filters/PageCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
@@ -116,7 +116,7 @@ class PageCache extends ActionFilter implements DynamicContentAwareInterface
      */
     public $enabled = true;
     /**
-     * @var \yii\base\View the view component to use for caching. If not set, the default application view component
+     * @var \yii\base\View|null the view component to use for caching. If not set, the default application view component
      * [[\yii\web\Application::view]] will be used.
      */
     public $view;
@@ -129,7 +129,7 @@ class PageCache extends ActionFilter implements DynamicContentAwareInterface
     public $cacheCookies = false;
     /**
      * @var bool|array a boolean value indicating whether to cache all HTTP headers, or an array of
-     * HTTP header names (case-insensitive) indicating which HTTP headers can be cached.
+     * HTTP header names (case-sensitive) indicating which HTTP headers can be cached.
      * Note if your HTTP headers contain sensitive information, you should white-list which headers can be cached.
      * @since 2.0.4
      */
@@ -253,40 +253,59 @@ public function cacheResponse()
         foreach (['format', 'version', 'statusCode', 'statusText'] as $name) {
             $data[$name] = $response->{$name};
         }
-        $this->insertResponseCollectionIntoData($response, 'headers', $data);
-        $this->insertResponseCollectionIntoData($response, 'cookies', $data);
+        $this->insertResponseHeaderCollectionIntoData($response, $data);
+        $this->insertResponseCookieCollectionIntoData($response, $data);
         $this->cache->set($this->calculateCacheKey(), $data, $this->duration, $this->dependency);
         $data['content'] = $this->updateDynamicContent($data['content'], $this->getDynamicPlaceholders());
         echo $data['content'];
     }
 
     /**
-     * Inserts (or filters/ignores according to config) response headers/cookies into a cache data array.
+     * Inserts (or filters/ignores according to config) response cookies into a cache data array.
      * @param Response $response the response.
-     * @param string $collectionName currently it's `headers` or `cookies`.
      * @param array $data the cache data.
      */
-    private function insertResponseCollectionIntoData(Response $response, $collectionName, array &$data)
+    private function insertResponseCookieCollectionIntoData(Response $response, array &$data)
     {
-        $property = 'cache' . ucfirst($collectionName);
-        if ($this->{$property} === false) {
+        if ($this->cacheCookies === false) {
             return;
         }
 
-        $all = $response->{$collectionName}->toArray();
-        if (is_array($this->{$property})) {
+        $all = $response->cookies->toArray();
+        if (is_array($this->cacheCookies)) {
             $filtered = [];
-            foreach ($this->{$property} as $name) {
-                if ($collectionName === 'headers') {
-                    $name = strtolower($name);
+            foreach ($this->cacheCookies as $name) {
+                if (isset($all[$name])) {
+                    $filtered[$name] = $all[$name];
                 }
+            }
+            $all = $filtered;
+        }
+        $data['cookies'] = $all;
+    }
+
+    /**
+     * Inserts (or filters/ignores according to config) response headers into a cache data array.
+     * @param Response $response the response.
+     * @param array $data the cache data.
+     */
+    private function insertResponseHeaderCollectionIntoData(Response $response, array &$data)
+    {
+        if ($this->cacheHeaders === false) {
+            return;
+        }
+
+        $all = $response->headers->toOriginalArray();
+        if (is_array($this->cacheHeaders)) {
+            $filtered = [];
+            foreach ($this->cacheHeaders as $name) {
                 if (isset($all[$name])) {
                     $filtered[$name] = $all[$name];
                 }
             }
             $all = $filtered;
         }
-        $data[$collectionName] = $all;
+        $data['headers'] = $all;
     }
 
     /**
diff --git a/framework/filters/RateLimitInterface.php b/framework/filters/RateLimitInterface.php
index 7a3ee3f73f2..23dc295ce01 100644
--- a/framework/filters/RateLimitInterface.php
+++ b/framework/filters/RateLimitInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
diff --git a/framework/filters/RateLimiter.php b/framework/filters/RateLimiter.php
index 5ffc1a69ff2..62d1aab3a40 100644
--- a/framework/filters/RateLimiter.php
+++ b/framework/filters/RateLimiter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
@@ -15,7 +15,7 @@
 use yii\web\TooManyRequestsHttpException;
 
 /**
- * RateLimiter implements a rate limiting algorithm based on the [leaky bucket algorithm](http://en.wikipedia.org/wiki/Leaky_bucket).
+ * RateLimiter implements a rate limiting algorithm based on the [leaky bucket algorithm](https://en.wikipedia.org/wiki/Leaky_bucket).
  *
  * You may use RateLimiter by attaching it as a behavior to a controller or module, like the following,
  *
@@ -49,7 +49,7 @@ class RateLimiter extends ActionFilter
      */
     public $errorMessage = 'Rate limit exceeded.';
     /**
-     * @var RateLimitInterface|Closure the user object that implements the RateLimitInterface. If not set, it will take the value of `Yii::$app->user->getIdentity(false)`.
+     * @var RateLimitInterface|Closure|null the user object that implements the RateLimitInterface. If not set, it will take the value of `Yii::$app->user->getIdentity(false)`.
      * {@since 2.0.38} It's possible to provide a closure function in order to assign the user identity on runtime. Using a closure to assign the user identity is recommend
      * when you are **not** using the standard `Yii::$app->user` component. See the example below:
      * ```php
@@ -60,11 +60,11 @@ class RateLimiter extends ActionFilter
      */
     public $user;
     /**
-     * @var Request the current request. If not set, the `request` application component will be used.
+     * @var Request|null the current request. If not set, the `request` application component will be used.
      */
     public $request;
     /**
-     * @var Response the response to be sent. If not set, the `response` application component will be used.
+     * @var Response|null the response to be sent. If not set, the `response` application component will be used.
      */
     public $response;
 
diff --git a/framework/filters/VerbFilter.php b/framework/filters/VerbFilter.php
index 76b6d9e4fe0..ed573a2450b 100644
--- a/framework/filters/VerbFilter.php
+++ b/framework/filters/VerbFilter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters;
diff --git a/framework/filters/auth/AuthInterface.php b/framework/filters/auth/AuthInterface.php
index 492d314ca3a..76b13057fa6 100644
--- a/framework/filters/auth/AuthInterface.php
+++ b/framework/filters/auth/AuthInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters\auth;
@@ -26,7 +26,7 @@ interface AuthInterface
      * @param User $user
      * @param Request $request
      * @param Response $response
-     * @return IdentityInterface the authenticated user identity. If authentication information is not provided, null will be returned.
+     * @return IdentityInterface|null the authenticated user identity. If authentication information is not provided, null will be returned.
      * @throws UnauthorizedHttpException if authentication information is provided but is invalid.
      */
     public function authenticate($user, $request, $response);
diff --git a/framework/filters/auth/AuthMethod.php b/framework/filters/auth/AuthMethod.php
index 9dcba078c30..786edba98e1 100644
--- a/framework/filters/auth/AuthMethod.php
+++ b/framework/filters/auth/AuthMethod.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters\auth;
@@ -25,15 +25,15 @@
 abstract class AuthMethod extends ActionFilter implements AuthInterface
 {
     /**
-     * @var User the user object representing the user authentication status. If not set, the `user` application component will be used.
+     * @var User|null the user object representing the user authentication status. If not set, the `user` application component will be used.
      */
     public $user;
     /**
-     * @var Request the current request. If not set, the `request` application component will be used.
+     * @var Request|null the current request. If not set, the `request` application component will be used.
      */
     public $request;
     /**
-     * @var Response the response to be sent. If not set, the `response` application component will be used.
+     * @var Response|null the response to be sent. If not set, the `response` application component will be used.
      */
     public $response;
     /**
diff --git a/framework/filters/auth/CompositeAuth.php b/framework/filters/auth/CompositeAuth.php
index 37043d4235d..ee58276cf1c 100644
--- a/framework/filters/auth/CompositeAuth.php
+++ b/framework/filters/auth/CompositeAuth.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters\auth;
@@ -70,9 +70,11 @@ public function authenticate($user, $request, $response)
                 }
             }
 
-            $identity = $auth->authenticate($user, $request, $response);
-            if ($identity !== null) {
-                return $identity;
+            if (isset($this->owner->action) && $auth->isActive($this->owner->action)) {
+                $identity = $auth->authenticate($user, $request, $response);
+                if ($identity !== null) {
+                    return $identity;
+                }
             }
         }
 
diff --git a/framework/filters/auth/HttpBasicAuth.php b/framework/filters/auth/HttpBasicAuth.php
index 546d0e628e6..d7969a696a9 100644
--- a/framework/filters/auth/HttpBasicAuth.php
+++ b/framework/filters/auth/HttpBasicAuth.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters\auth;
@@ -64,7 +64,7 @@ class HttpBasicAuth extends AuthMethod
      */
     public $realm = 'api';
     /**
-     * @var callable a PHP callable that will authenticate the user with the HTTP basic auth information.
+     * @var callable|null a PHP callable that will authenticate the user with the HTTP basic auth information.
      * The callable receives a username and a password as its parameters. It should return an identity object
      * that matches the username and password. Null should be returned if there is no such identity.
      * The callable will be called only if current user is not authenticated.
diff --git a/framework/filters/auth/HttpBearerAuth.php b/framework/filters/auth/HttpBearerAuth.php
index f5fb80a97df..d2ce749c0b4 100644
--- a/framework/filters/auth/HttpBearerAuth.php
+++ b/framework/filters/auth/HttpBearerAuth.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters\auth;
diff --git a/framework/filters/auth/HttpHeaderAuth.php b/framework/filters/auth/HttpHeaderAuth.php
index 1b0dbbff152..404b8e1a92f 100644
--- a/framework/filters/auth/HttpHeaderAuth.php
+++ b/framework/filters/auth/HttpHeaderAuth.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters\auth;
diff --git a/framework/filters/auth/QueryParamAuth.php b/framework/filters/auth/QueryParamAuth.php
index 7bf5afdc26f..e193893339d 100644
--- a/framework/filters/auth/QueryParamAuth.php
+++ b/framework/filters/auth/QueryParamAuth.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\filters\auth;
diff --git a/framework/grid/ActionColumn.php b/framework/grid/ActionColumn.php
index d945e1ea1a0..f943a687241 100644
--- a/framework/grid/ActionColumn.php
+++ b/framework/grid/ActionColumn.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\grid;
@@ -38,7 +38,7 @@ class ActionColumn extends Column
      */
     public $headerOptions = ['class' => 'action-column'];
     /**
-     * @var string the ID of the controller that should handle the actions specified here.
+     * @var string|null the ID of the controller that should handle the actions specified here.
      * If not set, it will use the currently active controller. This property is mainly used by
      * [[urlCreator]] to create URLs for different actions. The value of this property will be prefixed
      * to each action name to form the route of the action.
@@ -125,7 +125,7 @@ class ActionColumn extends Column
      */
     public $visibleButtons = [];
     /**
-     * @var callable a callback that creates a button URL using the specified model information.
+     * @var callable|null a callback that creates a button URL using the specified model information.
      * The signature of the callback should be the same as that of [[createUrl()]]
      * Since 2.0.10 it can accept additional parameter, which refers to the column instance itself:
      *
diff --git a/framework/grid/CheckboxColumn.php b/framework/grid/CheckboxColumn.php
index 0ea6edca564..2e0a890093a 100644
--- a/framework/grid/CheckboxColumn.php
+++ b/framework/grid/CheckboxColumn.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\grid;
diff --git a/framework/grid/Column.php b/framework/grid/Column.php
index 465a8551044..f716525d97e 100644
--- a/framework/grid/Column.php
+++ b/framework/grid/Column.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\grid;
@@ -26,7 +26,7 @@ class Column extends BaseObject
      */
     public $grid;
     /**
-     * @var string the header cell content. Note that it will not be HTML-encoded.
+     * @var string|null the header cell content. Note that it will not be HTML-encoded.
      */
     public $header;
     /**
@@ -127,7 +127,7 @@ public function renderFilterCell()
      */
     protected function renderHeaderCellContent()
     {
-        return trim($this->header) !== '' ? $this->header : $this->getHeaderCellLabel();
+        return $this->header !== null && trim($this->header) !== '' ? $this->header : $this->getHeaderCellLabel();
     }
 
     /**
@@ -149,7 +149,7 @@ protected function getHeaderCellLabel()
      */
     protected function renderFooterCellContent()
     {
-        return trim($this->footer) !== '' ? $this->footer : $this->grid->emptyCell;
+        return $this->footer !== null && trim($this->footer) !== '' ? $this->footer : $this->grid->emptyCell;
     }
 
     /**
diff --git a/framework/grid/DataColumn.php b/framework/grid/DataColumn.php
index 8760104aba6..d3bf3086dde 100644
--- a/framework/grid/DataColumn.php
+++ b/framework/grid/DataColumn.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\grid;
@@ -46,7 +46,7 @@ class DataColumn extends Column
      */
     public $attribute;
     /**
-     * @var string label to be displayed in the [[header|header cell]] and also to be used as the sorting
+     * @var string|null label to be displayed in the [[header|header cell]] and also to be used as the sorting
      * link label when sorting is enabled for this column.
      * If it is not set and the models provided by the GridViews data provider are instances
      * of [[\yii\db\ActiveRecord]], the label will be determined using [[\yii\db\ActiveRecord::getAttributeLabel()]].
@@ -60,7 +60,7 @@ class DataColumn extends Column
      */
     public $encodeLabel = true;
     /**
-     * @var string|Closure an anonymous function or a string that is used to determine the value to display in the current column.
+     * @var string|Closure|null an anonymous function or a string that is used to determine the value to display in the current column.
      *
      * If this is an anonymous function, it will be called for each row and the return value will be used as the value to
      * display for every data model. The signature of this function should be: `function ($model, $key, $index, $column)`.
@@ -118,7 +118,7 @@ class DataColumn extends Column
      */
     public $filterInputOptions = ['class' => 'form-control', 'id' => null];
     /**
-     * @var string the attribute name of the [[GridView::filterModel]] associated with this column. If not set,
+     * @var string|null the attribute name of the [[GridView::filterModel]] associated with this column. If not set,
      * will have the same value as [[attribute]].
      * @since 2.0.41
      */
@@ -167,7 +167,9 @@ protected function getHeaderCellLabel()
         $provider = $this->grid->dataProvider;
 
         if ($this->label === null) {
-            if ($provider instanceof ActiveDataProvider && $provider->query instanceof ActiveQueryInterface) {
+            if ($this->attribute === null) {
+                $label = '';
+            } elseif ($provider instanceof ActiveDataProvider && $provider->query instanceof ActiveQueryInterface) {
                 /* @var $modelClass Model */
                 $modelClass = $provider->query->modelClass;
                 $model = $modelClass::instance();
diff --git a/framework/grid/GridView.php b/framework/grid/GridView.php
index 1fa783f9adb..7ee0e06bbc0 100644
--- a/framework/grid/GridView.php
+++ b/framework/grid/GridView.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\grid;
@@ -137,7 +137,7 @@ class GridView extends BaseListView
      */
     public $showOnEmpty = true;
     /**
-     * @var array|Formatter the formatter used to format model attribute values into displayable texts.
+     * @var array|Formatter|null the formatter used to format model attribute values into displayable texts.
      * This can be either an instance of [[Formatter]] or an configuration array for creating the [[Formatter]]
      * instance. If this property is not set, the "formatter" application component will be used.
      */
@@ -202,7 +202,7 @@ class GridView extends BaseListView
      */
     public $emptyCell = '&nbsp;';
     /**
-     * @var \yii\base\Model the model that keeps the user-entered filter data. When this property is set,
+     * @var \yii\base\Model|null the model that keeps the user-entered filter data. When this property is set,
      * the grid view will enable column-based filtering. Each data column by default will display a text field
      * at the top that users can fill in to filter the data.
      *
@@ -214,7 +214,7 @@ class GridView extends BaseListView
      */
     public $filterModel;
     /**
-     * @var string|array the URL for returning the filtering result. [[Url::to()]] will be called to
+     * @var string|array|null the URL for returning the filtering result. [[Url::to()]] will be called to
      * normalize the URL. If not set, the current controller action will be used.
      * When the user makes change to any filter input, the current filtering inputs will be appended
      * as GET parameters to this URL.
diff --git a/framework/grid/GridViewAsset.php b/framework/grid/GridViewAsset.php
index 0403e9f5b76..56908d5e788 100644
--- a/framework/grid/GridViewAsset.php
+++ b/framework/grid/GridViewAsset.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\grid;
diff --git a/framework/grid/RadioButtonColumn.php b/framework/grid/RadioButtonColumn.php
index 898831ecc6e..7a7cef18056 100644
--- a/framework/grid/RadioButtonColumn.php
+++ b/framework/grid/RadioButtonColumn.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\grid;
diff --git a/framework/grid/SerialColumn.php b/framework/grid/SerialColumn.php
index 69e27faacc0..28d23549cdf 100644
--- a/framework/grid/SerialColumn.php
+++ b/framework/grid/SerialColumn.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\grid;
diff --git a/framework/helpers/ArrayHelper.php b/framework/helpers/ArrayHelper.php
index a34cb9b15b3..3e3636bf51b 100644
--- a/framework/helpers/ArrayHelper.php
+++ b/framework/helpers/ArrayHelper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/BaseArrayHelper.php b/framework/helpers/BaseArrayHelper.php
index dcd28657c9e..8d4ea3375c2 100644
--- a/framework/helpers/BaseArrayHelper.php
+++ b/framework/helpers/BaseArrayHelper.php
@@ -1,15 +1,15 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
 
+use Yii;
 use ArrayAccess;
 use Traversable;
-use Yii;
 use yii\base\Arrayable;
 use yii\base\InvalidArgumentException;
 
@@ -351,7 +351,7 @@ public static function remove(&$array, $key, $default = null)
      * ```
      *
      * @param array $array the array where to look the value from
-     * @param string $value the value to remove from the array
+     * @param mixed $value the value to remove from the array
      * @return array the items that were removed from the array
      * @since 2.0.11
      */
@@ -585,7 +585,7 @@ public static function getColumn($array, $name, $keepKeys = true)
      * @param array $array
      * @param string|\Closure $from
      * @param string|\Closure $to
-     * @param string|\Closure $group
+     * @param string|\Closure|null $group
      * @return array
      */
     public static function map($array, $from, $to, $group = null)
@@ -697,7 +697,7 @@ public static function multisort(&$array, $key, $direction = SORT_ASC, $sortFlag
      * @param array $data data to be encoded
      * @param bool $valuesOnly whether to encode array values only. If false,
      * both the array keys and array values will be encoded.
-     * @param string $charset the charset that the data is using. If not set,
+     * @param string|null $charset the charset that the data is using. If not set,
      * [[\yii\base\Application::charset]] will be used.
      * @return array the encoded data
      * @see https://www.php.net/manual/en/function.htmlspecialchars.php
@@ -726,12 +726,14 @@ public static function htmlEncode($data, $valuesOnly = true, $charset = null)
 
     /**
      * Decodes HTML entities into the corresponding characters in an array of strings.
+     *
      * Only array values will be decoded by default.
      * If a value is an array, this method will also decode it recursively.
      * Only string values will be decoded.
+     *
      * @param array $data data to be decoded
-     * @param bool $valuesOnly whether to decode array values only. If false,
-     * both the array keys and array values will be decoded.
+     * @param bool $valuesOnly whether to decode array values only. If `false`,
+     * then both the array keys and array values will be decoded.
      * @return array the decoded data
      * @see https://www.php.net/manual/en/function.htmlspecialchars-decode.php
      */
@@ -740,12 +742,12 @@ public static function htmlDecode($data, $valuesOnly = true)
         $d = [];
         foreach ($data as $key => $value) {
             if (!$valuesOnly && is_string($key)) {
-                $key = htmlspecialchars_decode($key, ENT_QUOTES);
+                $key = htmlspecialchars_decode($key, ENT_QUOTES | ENT_SUBSTITUTE);
             }
             if (is_string($value)) {
-                $d[$key] = htmlspecialchars_decode($value, ENT_QUOTES);
+                $d[$key] = htmlspecialchars_decode($value, ENT_QUOTES | ENT_SUBSTITUTE);
             } elseif (is_array($value)) {
-                $d[$key] = static::htmlDecode($value);
+                $d[$key] = static::htmlDecode($value, $valuesOnly);
             } else {
                 $d[$key] = $value;
             }
@@ -769,7 +771,7 @@ public static function htmlDecode($data, $valuesOnly = true)
      */
     public static function isAssociative($array, $allStrings = true)
     {
-        if (!is_array($array) || empty($array)) {
+        if (empty($array) || !is_array($array)) {
             return false;
         }
 
@@ -815,11 +817,13 @@ public static function isIndexed($array, $consecutive = false)
             return true;
         }
 
+        $keys = array_keys($array);
+
         if ($consecutive) {
-            return array_keys($array) === range(0, count($array) - 1);
+            return $keys === array_keys($keys);
         }
 
-        foreach ($array as $key => $value) {
+        foreach ($keys as $key) {
             if (!is_int($key)) {
                 return false;
             }
@@ -833,8 +837,9 @@ public static function isIndexed($array, $consecutive = false)
      *
      * This method does the same as the PHP function [in_array()](https://www.php.net/manual/en/function.in-array.php)
      * but additionally works for objects that implement the [[Traversable]] interface.
+     *
      * @param mixed $needle The value to look for.
-     * @param array|Traversable $haystack The set of values to search.
+     * @param iterable $haystack The set of values to search.
      * @param bool $strict Whether to enable strict (`===`) comparison.
      * @return bool `true` if `$needle` was found in `$haystack`, `false` otherwise.
      * @throws InvalidArgumentException if `$haystack` is neither traversable nor an array.
@@ -843,18 +848,20 @@ public static function isIndexed($array, $consecutive = false)
      */
     public static function isIn($needle, $haystack, $strict = false)
     {
-        if ($haystack instanceof Traversable) {
-            foreach ($haystack as $value) {
-                if ($needle == $value && (!$strict || $needle === $value)) {
-                    return true;
-                }
-            }
-        } elseif (is_array($haystack)) {
-            return in_array($needle, $haystack, $strict);
-        } else {
+        if (!static::isTraversable($haystack)) {
             throw new InvalidArgumentException('Argument $haystack must be an array or implement Traversable');
         }
 
+        if (is_array($haystack)) {
+            return in_array($needle, $haystack, $strict);
+        }
+
+        foreach ($haystack as $value) {
+            if ($strict ? $needle === $value : $needle == $value) {
+                return true;
+            }
+        }
+
         return false;
     }
 
@@ -878,26 +885,27 @@ public static function isTraversable($var)
      *
      * This method will return `true`, if all elements of `$needles` are contained in
      * `$haystack`. If at least one element is missing, `false` will be returned.
-     * @param array|Traversable $needles The values that must **all** be in `$haystack`.
-     * @param array|Traversable $haystack The set of value to search.
+     *
+     * @param iterable $needles The values that must **all** be in `$haystack`.
+     * @param iterable $haystack The set of value to search.
      * @param bool $strict Whether to enable strict (`===`) comparison.
-     * @throws InvalidArgumentException if `$haystack` or `$needles` is neither traversable nor an array.
      * @return bool `true` if `$needles` is a subset of `$haystack`, `false` otherwise.
+     * @throws InvalidArgumentException if `$haystack` or `$needles` is neither traversable nor an array.
      * @since 2.0.7
      */
     public static function isSubset($needles, $haystack, $strict = false)
     {
-        if (is_array($needles) || $needles instanceof Traversable) {
-            foreach ($needles as $needle) {
-                if (!static::isIn($needle, $haystack, $strict)) {
-                    return false;
-                }
-            }
+        if (!static::isTraversable($needles)) {
+            throw new InvalidArgumentException('Argument $needles must be an array or implement Traversable');
+        }
 
-            return true;
+        foreach ($needles as $needle) {
+            if (!static::isIn($needle, $haystack, $strict)) {
+                return false;
+            }
         }
 
-        throw new InvalidArgumentException('Argument $needles must be an array or implement Traversable');
+        return true;
     }
 
     /**
@@ -936,7 +944,7 @@ public static function isSubset($needles, $haystack, $strict = false)
      * ```
      *
      * @param array $array Source array
-     * @param array $filters Rules that define array keys which should be left or removed from results.
+     * @param iterable $filters Rules that define array keys which should be left or removed from results.
      * Each rule is:
      * - `var` - `$array['var']` will be left in result.
      * - `var.key` = only `$array['var']['key'] will be left in result.
@@ -999,4 +1007,29 @@ public static function filter($array, $filters)
 
         return $result;
     }
+
+    /**
+     * Sorts array recursively.
+     *
+     * @param array $array An array passing by reference.
+     * @param callable|null $sorter The array sorter. If omitted, sort index array by values, sort assoc array by keys.
+     * @return array
+     */
+    public static function recursiveSort(array &$array, $sorter = null)
+    {
+        foreach ($array as &$value) {
+            if (is_array($value)) {
+                static::recursiveSort($value, $sorter);
+            }
+        }
+        unset($value);
+
+        if ($sorter === null) {
+            $sorter = static::isIndexed($array) ? 'sort' : 'ksort';
+        }
+
+        call_user_func_array($sorter, [&$array]);
+
+        return $array;
+    }
 }
diff --git a/framework/helpers/BaseConsole.php b/framework/helpers/BaseConsole.php
index 285276238cf..abb838c9c47 100644
--- a/framework/helpers/BaseConsole.php
+++ b/framework/helpers/BaseConsole.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
@@ -301,7 +301,7 @@ public static function ansiFormat($string, $format = [])
      *
      * @param int $colorCode xterm color code
      * @return string
-     * @see http://en.wikipedia.org/wiki/Talk:ANSI_escape_code#xterm-256colors
+     * @see https://en.wikipedia.org/wiki/Talk:ANSI_escape_code#xterm-256colors
      */
     public static function xtermFgColor($colorCode)
     {
@@ -316,7 +316,7 @@ public static function xtermFgColor($colorCode)
      *
      * @param int $colorCode xterm color code
      * @return string
-     * @see http://en.wikipedia.org/wiki/Talk:ANSI_escape_code#xterm-256colors
+     * @see https://en.wikipedia.org/wiki/Talk:ANSI_escape_code#xterm-256colors
      */
     public static function xtermBgColor($colorCode)
     {
@@ -331,7 +331,7 @@ public static function xtermBgColor($colorCode)
      */
     public static function stripAnsiFormat($string)
     {
-        return preg_replace(self::ansiCodesPattern(), '', $string);
+        return preg_replace(self::ansiCodesPattern(), '', (string)$string);
     }
 
     /**
@@ -370,9 +370,9 @@ public static function ansiColorizedSubstr($string, $start, $length)
             return '';
         }
 
-        $textItems = preg_split(self::ansiCodesPattern(), $string);
+        $textItems = preg_split(self::ansiCodesPattern(), (string)$string);
 
-        preg_match_all(self::ansiCodesPattern(), $string, $colors);
+        preg_match_all(self::ansiCodesPattern(), (string)$string, $colors);
         $colors = count($colors) ? $colors[0] : [];
         array_unshift($colors, '');
 
@@ -432,14 +432,14 @@ private static function ansiCodesPattern()
     public static function ansiToHtml($string, $styleMap = [])
     {
         $styleMap = [
-            // http://www.w3.org/TR/CSS2/syndata.html#value-def-color
+            // https://www.w3.org/TR/CSS2/syndata.html#value-def-color
             self::FG_BLACK => ['color' => 'black'],
             self::FG_BLUE => ['color' => 'blue'],
             self::FG_CYAN => ['color' => 'aqua'],
             self::FG_GREEN => ['color' => 'lime'],
             self::FG_GREY => ['color' => 'silver'],
-            // http://meyerweb.com/eric/thoughts/2014/06/19/rebeccapurple/
-            // http://dev.w3.org/csswg/css-color/#valuedef-rebeccapurple
+            // https://meyerweb.com/eric/thoughts/2014/06/19/rebeccapurple/
+            // https://drafts.csswg.org/css-color/#valuedef-rebeccapurple
             self::FG_PURPLE => ['color' => 'rebeccapurple'],
             self::FG_RED => ['color' => 'red'],
             self::FG_YELLOW => ['color' => 'yellow'],
@@ -688,10 +688,19 @@ public static function isRunningOnWindows()
     public static function getScreenSize($refresh = false)
     {
         static $size;
-        if ($size !== null && !$refresh) {
+        static $execDisabled;
+
+        if ($size !== null && ($execDisabled || !$refresh)) {
             return $size;
         }
 
+        if ($execDisabled === null) {
+            $execDisabled = !function_exists('ini_get') || preg_match('/(\bexec\b)/i', ini_get('disable_functions'));
+            if ($execDisabled) {
+                return $size = false;
+            }
+        }
+
         if (static::isRunningOnWindows()) {
             $output = [];
             exec('mode con', $output);
@@ -807,7 +816,7 @@ public static function stderr($string)
      * Asks the user for input. Ends when the user types a carriage return (PHP_EOL). Optionally, It also provides a
      * prompt.
      *
-     * @param string $prompt the prompt to display before waiting for input (optional)
+     * @param string|null $prompt the prompt to display before waiting for input (optional)
      * @return string the user's input
      */
     public static function input($prompt = null)
@@ -822,7 +831,7 @@ public static function input($prompt = null)
     /**
      * Prints text to STDOUT appended with a carriage return (PHP_EOL).
      *
-     * @param string $string the text to print
+     * @param string|null $string the text to print
      * @return int|bool number of bytes printed or false on error.
      */
     public static function output($string = null)
@@ -833,7 +842,7 @@ public static function output($string = null)
     /**
      * Prints text to STDERR appended with a carriage return (PHP_EOL).
      *
-     * @param string $string the text to print
+     * @param string|null $string the text to print
      * @return int|bool number of bytes printed or false on error.
      */
     public static function error($string = null)
@@ -998,7 +1007,7 @@ public static function select($prompt, $options = [])
      * @param int $total the total value of items that are to be done.
      * @param string $prefix an optional string to display before the progress bar.
      * Default to empty string which results in no prefix to be displayed.
-     * @param int|bool $width optional width of the progressbar. This can be an integer representing
+     * @param int|float|bool|null $width optional width of the progressbar. This can be an integer representing
      * the number of characters to display for the progress bar or a float between 0 and 1 representing the
      * percentage of screen with the progress bar may take. It can also be set to false to disable the
      * bar and only show progress information like percent, number of items and ETA.
@@ -1024,7 +1033,7 @@ public static function startProgress($done, $total, $prefix = '', $width = null)
      *
      * @param int $done the number of items that are completed.
      * @param int $total the total value of items that are to be done.
-     * @param string $prefix an optional string to display before the progress bar.
+     * @param string|null $prefix an optional string to display before the progress bar.
      * Defaults to null meaning the prefix specified by [[startProgress()]] will be used.
      * If prefix is specified it will update the prefix that will be used by later calls.
      * @see startProgress
diff --git a/framework/helpers/BaseFileHelper.php b/framework/helpers/BaseFileHelper.php
index 8dd20649e76..35deec5ef49 100644
--- a/framework/helpers/BaseFileHelper.php
+++ b/framework/helpers/BaseFileHelper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
@@ -161,6 +161,7 @@ public static function getMimeType($file, $magicFile = null, $checkExtension = t
 
             throw new InvalidConfigException('The fileinfo PHP extension is not installed.');
         }
+
         $info = finfo_open(FILEINFO_MIME_TYPE, $magicFile);
 
         if ($info) {
@@ -220,7 +221,7 @@ public static function getExtensionsByMimeType($mimeType, $magicFile = null)
 
     /**
      * Loads MIME types from the specified file.
-     * @param string $magicFile the path (or alias) of the file that contains all available MIME type information.
+     * @param string|null $magicFile the path (or alias) of the file that contains all available MIME type information.
      * If this is not set, the file specified by [[mimeMagicFile]] will be used.
      * @return array the mapping from file extensions to MIME types
      */
@@ -241,7 +242,7 @@ protected static function loadMimeTypes($magicFile)
 
     /**
      * Loads MIME aliases from the specified file.
-     * @param string $aliasesFile the path (or alias) of the file that contains MIME type aliases.
+     * @param string|null $aliasesFile the path (or alias) of the file that contains MIME type aliases.
      * If this is not set, the file specified by [[mimeAliasesFile]] will be used.
      * @return array the mapping from file extensions to MIME types
      * @since 2.0.14
@@ -509,7 +510,7 @@ public static function findFiles($dir, $options = [])
      *   * `false`: the directory will NOT be returned
      *
      * - `recursive`: boolean, whether the files under the subdirectories should also be looked for. Defaults to `true`.
-     * See [[findFiles()]] for more options.
+     *   See [[findFiles()]] for more options.
      * @return array directories found under the directory, in no particular order. Ordering depends on the files system used.
      * @throws InvalidArgumentException if the dir is invalid.
      * @since 2.0.14
@@ -900,8 +901,8 @@ protected static function normalizeOptions(array $options)
      */
     public static function changeOwnership($path, $ownership, $mode = null)
     {
-        if (!file_exists($path)) {
-            throw new InvalidArgumentException('Unable to change ownerhip, "' . $path . '" is not a file or directory.');
+        if (!file_exists((string)$path)) {
+            throw new InvalidArgumentException('Unable to change ownership, "' . $path . '" is not a file or directory.');
         }
 
         if (empty($ownership) && $ownership !== 0 && $mode === null) {
diff --git a/framework/helpers/BaseFormatConverter.php b/framework/helpers/BaseFormatConverter.php
index 84417bfee04..601169d2363 100644
--- a/framework/helpers/BaseFormatConverter.php
+++ b/framework/helpers/BaseFormatConverter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
@@ -92,11 +92,11 @@ class BaseFormatConverter
      * Pattern constructs that are not supported by the PHP format will be removed.
      *
      * [php date() function format]: https://www.php.net/manual/en/function.date.php
-     * [ICU format]: http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax
+     * [ICU format]: https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax
      *
      * @param string $pattern date format pattern in ICU format.
      * @param string $type 'date', 'time', or 'datetime'.
-     * @param string $locale the locale to use for converting ICU short patterns `short`, `medium`, `long` and `full`.
+     * @param string|null $locale the locale to use for converting ICU short patterns `short`, `medium`, `long` and `full`.
      * If not given, `Yii::$app->language` will be used.
      * @return string The converted date format pattern.
      */
@@ -119,7 +119,7 @@ public static function convertDateIcuToPhp($pattern, $type = 'date', $locale = n
                 return static::$phpFallbackDatePatterns[$pattern][$type];
             }
         }
-        // http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax
+        // https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax
         // escaped text
         $escaped = [];
         if (preg_match_all('/(?<!\')\'(.*?[^\'])\'(?!\')/', $pattern, $matches, PREG_SET_ORDER)) {
@@ -239,7 +239,7 @@ public static function convertDateIcuToPhp($pattern, $type = 'date', $locale = n
      * Pattern constructs that are not supported by the ICU format will be removed.
      *
      * [php date() function format]: https://www.php.net/manual/en/function.date.php
-     * [ICU format]: http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax
+     * [ICU format]: https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax
      *
      * Since 2.0.13 it handles escaped characters correctly.
      *
@@ -348,12 +348,12 @@ public static function convertDatePhpToIcu($pattern)
      *
      * Pattern constructs that are not supported by the jQuery UI format will be removed.
      *
-     * [jQuery UI date format]: http://api.jqueryui.com/datepicker/#utility-formatDate
-     * [ICU format]: http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax
+     * [jQuery UI date format]: https://api.jqueryui.com/datepicker/#utility-formatDate
+     * [ICU format]: https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax
      *
      * @param string $pattern date format pattern in ICU format.
      * @param string $type 'date', 'time', or 'datetime'.
-     * @param string $locale the locale to use for converting ICU short patterns `short`, `medium`, `long` and `full`.
+     * @param string|null $locale the locale to use for converting ICU short patterns `short`, `medium`, `long` and `full`.
      * If not given, `Yii::$app->language` will be used.
      * @return string The converted date format pattern.
      */
@@ -376,7 +376,7 @@ public static function convertDateIcuToJui($pattern, $type = 'date', $locale = n
                 return static::$juiFallbackDatePatterns[$pattern][$type];
             }
         }
-        // http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax
+        // https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax
         // escaped text
         $escaped = [];
         if (preg_match_all('/(?<!\')\'.*?[^\']\'(?!\')/', $pattern, $matches)) {
@@ -498,7 +498,7 @@ public static function convertDateIcuToJui($pattern, $type = 'date', $locale = n
      * Pattern constructs that are not supported by the jQuery UI format will be removed.
      *
      * [php date() function format]: https://www.php.net/manual/en/function.date.php
-     * [jQuery UI date format]: http://api.jqueryui.com/datepicker/#utility-formatDate
+     * [jQuery UI date format]: https://api.jqueryui.com/datepicker/#utility-formatDate
      *
      * @param string $pattern date format pattern in php date()-function format.
      * @return string The converted date format pattern.
diff --git a/framework/helpers/BaseHtml.php b/framework/helpers/BaseHtml.php
index 5d89314971f..bd7f1d6fdd5 100644
--- a/framework/helpers/BaseHtml.php
+++ b/framework/helpers/BaseHtml.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
@@ -31,7 +31,7 @@ class BaseHtml
     public static $attributeRegex = '/(^|.*\])([\w\.\+]+)(\[.*|$)/u';
     /**
      * @var array list of void elements (element name => 1)
-     * @see http://www.w3.org/TR/html-markup/syntax.html#void-element
+     * @see https://html.spec.whatwg.org/multipage/syntax.html#void-element
      */
     public static $voidElements = [
         'area' => 1,
@@ -94,6 +94,13 @@ class BaseHtml
      * @since 2.0.3
      */
     public static $dataAttributes = ['aria', 'data', 'data-ng', 'ng'];
+    /**
+     * @var bool whether to removes duplicate class names in tag attribute `class`
+     * @see mergeCssClasses()
+     * @see renderTagAttributes()
+     * @since 2.0.44
+     */
+    public static $normalizeClassAttribute = false;
 
 
     /**
@@ -108,7 +115,7 @@ class BaseHtml
      */
     public static function encode($content, $doubleEncode = true)
     {
-        return htmlspecialchars($content, ENT_QUOTES | ENT_SUBSTITUTE, Yii::$app ? Yii::$app->charset : 'UTF-8', $doubleEncode);
+        return htmlspecialchars((string)$content, ENT_QUOTES | ENT_SUBSTITUTE, Yii::$app ? Yii::$app->charset : 'UTF-8', $doubleEncode);
     }
 
     /**
@@ -565,7 +572,7 @@ public static function input($type, $name = null, $value = null, $options = [])
 
     /**
      * Generates an input button.
-     * @param string $label the value attribute. If it is null, the value attribute will not be generated.
+     * @param string|null $label the value attribute. If it is null, the value attribute will not be generated.
      * @param array $options the tag options in terms of name-value pairs. These will be rendered as
      * the attributes of the resulting tag. The values will be HTML-encoded using [[encode()]].
      * If a value is null, the corresponding attribute will not be rendered.
@@ -585,7 +592,7 @@ public static function buttonInput($label = 'Button', $options = [])
      * Be careful when naming form elements such as submit buttons. According to the [jQuery documentation](https://api.jquery.com/submit/) there
      * are some reserved names that can cause conflicts, e.g. `submit`, `length`, or `method`.
      *
-     * @param string $label the value attribute. If it is null, the value attribute will not be generated.
+     * @param string|null $label the value attribute. If it is null, the value attribute will not be generated.
      * @param array $options the tag options in terms of name-value pairs. These will be rendered as
      * the attributes of the resulting tag. The values will be HTML-encoded using [[encode()]].
      * If a value is null, the corresponding attribute will not be rendered.
@@ -601,7 +608,7 @@ public static function submitInput($label = 'Submit', $options = [])
 
     /**
      * Generates a reset input button.
-     * @param string $label the value attribute. If it is null, the value attribute will not be generated.
+     * @param string|null $label the value attribute. If it is null, the value attribute will not be generated.
      * @param array $options the attributes of the button tag. The values will be HTML-encoded using [[encode()]].
      * Attributes whose value is null will be ignored and not put in the tag returned.
      * See [[renderTagAttributes()]] for details on how attributes are being rendered.
@@ -1907,7 +1914,7 @@ public static function renderSelectOptions($selection, $items, &$tagOptions = []
                 $attrs['value'] = (string) $key;
                 if (!array_key_exists('selected', $attrs)) {
                     $attrs['selected'] = $selection !== null &&
-                        (!ArrayHelper::isTraversable($selection) && !strcmp($key, $selection)
+                        (!ArrayHelper::isTraversable($selection) && ($strict ? !strcmp($key, $selection) : $selection == $key)
                         || ArrayHelper::isTraversable($selection) && ArrayHelper::isIn((string)$key, $selection, $strict));
                 }
                 $text = $encode ? static::encode($value) : $value;
@@ -1925,7 +1932,7 @@ public static function renderSelectOptions($selection, $items, &$tagOptions = []
      * Renders the HTML tag attributes.
      *
      * Attributes whose values are of boolean type will be treated as
-     * [boolean attributes](http://www.w3.org/TR/html5/infrastructure.html#boolean-attributes).
+     * [boolean attributes](https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#boolean-attributes).
      *
      * Attributes whose values are null will not be rendered.
      *
@@ -1981,6 +1988,11 @@ public static function renderTagAttributes($attributes)
                     if (empty($value)) {
                         continue;
                     }
+                    if (static::$normalizeClassAttribute === true && count($value) > 1) {
+                        // removes duplicate classes
+                        $value = explode(' ', implode(' ', $value));
+                        $value = array_unique($value);
+                    }
                     $html .= " $name=\"" . static::encode(implode(' ', $value)) . '"';
                 } elseif ($name === 'style') {
                     if (empty($value)) {
@@ -2047,7 +2059,7 @@ private static function mergeCssClasses(array $existingClasses, array $additiona
             }
         }
 
-        return array_unique($existingClasses);
+        return static::$normalizeClassAttribute ? array_unique($existingClasses) : $existingClasses;
     }
 
     /**
diff --git a/framework/helpers/BaseHtmlPurifier.php b/framework/helpers/BaseHtmlPurifier.php
index 3c748a09b94..2397bff57ad 100644
--- a/framework/helpers/BaseHtmlPurifier.php
+++ b/framework/helpers/BaseHtmlPurifier.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/BaseInflector.php b/framework/helpers/BaseInflector.php
index 4cad3f92279..2f32ee80432 100644
--- a/framework/helpers/BaseInflector.php
+++ b/framework/helpers/BaseInflector.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
@@ -246,8 +246,8 @@ class BaseInflector
      * `huò qǔ dào dochira Ukraí̈nsʹka: g̀,ê, Srpska: đ, n̂, d̂! ¿Español?`.
      *
      * Used in [[transliterate()]].
-     * For detailed information see [unicode normalization forms](http://unicode.org/reports/tr15/#Normalization_Forms_Table)
-     * @see http://unicode.org/reports/tr15/#Normalization_Forms_Table
+     * For detailed information see [unicode normalization forms](https://unicode.org/reports/tr15/#Normalization_Forms_Table)
+     * @see https://unicode.org/reports/tr15/#Normalization_Forms_Table
      * @see transliterate()
      * @since 2.0.7
      */
@@ -261,8 +261,8 @@ class BaseInflector
      * `huo qu dao dochira Ukrainsʹka: g,e, Srpska: d, n, d! ¿Espanol?`.
      *
      * Used in [[transliterate()]].
-     * For detailed information see [unicode normalization forms](http://unicode.org/reports/tr15/#Normalization_Forms_Table)
-     * @see http://unicode.org/reports/tr15/#Normalization_Forms_Table
+     * For detailed information see [unicode normalization forms](https://unicode.org/reports/tr15/#Normalization_Forms_Table)
+     * @see https://unicode.org/reports/tr15/#Normalization_Forms_Table
      * @see transliterate()
      * @since 2.0.7
      */
@@ -277,8 +277,8 @@ class BaseInflector
      * `huo qu dao dochira Ukrainska: g,e, Srpska: d, n, d! Espanol?`.
      *
      * Used in [[transliterate()]].
-     * For detailed information see [unicode normalization forms](http://unicode.org/reports/tr15/#Normalization_Forms_Table)
-     * @see http://unicode.org/reports/tr15/#Normalization_Forms_Table
+     * For detailed information see [unicode normalization forms](https://unicode.org/reports/tr15/#Normalization_Forms_Table)
+     * @see https://unicode.org/reports/tr15/#Normalization_Forms_Table
      * @see transliterate()
      * @since 2.0.7
      */
@@ -301,6 +301,9 @@ class BaseInflector
      */
     public static function pluralize($word)
     {
+        if (empty($word)) {
+            return (string) $word;
+        }
         if (isset(static::$specials[$word])) {
             return static::$specials[$word];
         }
@@ -320,6 +323,9 @@ public static function pluralize($word)
      */
     public static function singularize($word)
     {
+        if (empty($word)) {
+            return (string) $word;
+        }
         $result = array_search($word, static::$specials, true);
         if ($result !== false) {
             return $result;
@@ -342,6 +348,9 @@ public static function singularize($word)
      */
     public static function titleize($words, $ucAll = false)
     {
+        if (empty($words)) {
+            return (string) $words;
+        }
         $words = static::humanize(static::underscore($words), $ucAll);
 
         return $ucAll ? StringHelper::mb_ucwords($words, self::encoding()) : StringHelper::mb_ucfirst($words, self::encoding());
@@ -359,6 +368,9 @@ public static function titleize($words, $ucAll = false)
      */
     public static function camelize($word)
     {
+        if (empty($word)) {
+            return (string) $word;
+        }
         return str_replace(' ', '', StringHelper::mb_ucwords(preg_replace('/[^\pL\pN]+/u', ' ', $word), self::encoding()));
     }
 
@@ -371,6 +383,9 @@ public static function camelize($word)
      */
     public static function camel2words($name, $ucwords = true)
     {
+        if (empty($name)) {
+            return (string) $name;
+        }
         // Add a space before any uppercase letter preceded by a lowercase letter (xY => x Y)
         // and any uppercase letter preceded by an uppercase letter and followed by a lowercase letter (XYz => X Yz)
         $label = preg_replace('/(?<=\p{Ll})\p{Lu}|(?<=\p{L})\p{Lu}(?=\p{Ll})/u', ' \0', $name);
@@ -391,6 +406,9 @@ public static function camel2words($name, $ucwords = true)
      */
     public static function camel2id($name, $separator = '-', $strict = false)
     {
+        if (empty($name)) {
+            return (string) $name;
+        }
         $regex = $strict ? '/\p{Lu}/u' : '/(?<!\p{Lu})\p{Lu}/u';
         if ($separator === '_') {
             return mb_strtolower(trim(preg_replace($regex, '_\0', $name), '_'), self::encoding());
@@ -409,6 +427,9 @@ public static function camel2id($name, $separator = '-', $strict = false)
      */
     public static function id2camel($id, $separator = '-')
     {
+        if (empty($id)) {
+            return (string) $id;
+        }
         return str_replace(' ', '', StringHelper::mb_ucwords(str_replace($separator, ' ', $id), self::encoding()));
     }
 
@@ -419,6 +440,9 @@ public static function id2camel($id, $separator = '-')
      */
     public static function underscore($words)
     {
+        if (empty($words)) {
+            return (string) $words;
+        }
         return mb_strtolower(preg_replace('/(?<=\\pL)(\\p{Lu})/u', '_\\1', $words), self::encoding());
     }
 
@@ -430,6 +454,9 @@ public static function underscore($words)
      */
     public static function humanize($word, $ucAll = false)
     {
+        if (empty($word)) {
+            return (string) $word;
+        }
         $word = str_replace('_', ' ', preg_replace('/_id$/', '', $word));
         $encoding = self::encoding();
 
@@ -447,6 +474,9 @@ public static function humanize($word, $ucAll = false)
      */
     public static function variablize($word)
     {
+        if (empty($word)) {
+            return (string) $word;
+        }
         $word = static::camelize($word);
 
         return mb_strtolower(mb_substr($word, 0, 1, self::encoding())) . mb_substr($word, 1, null, self::encoding());
@@ -461,6 +491,9 @@ public static function variablize($word)
      */
     public static function tableize($className)
     {
+        if (empty($className)) {
+            return (string) $className;
+        }
         return static::pluralize(static::underscore($className));
     }
 
@@ -479,6 +512,9 @@ public static function tableize($className)
      */
     public static function slug($string, $replacement = '-', $lowercase = true)
     {
+        if (empty($string)) {
+            return (string) $string;
+        }
         if ((string)$replacement !== '') {
             $parts = explode($replacement, static::transliterate($string));
         } else {
@@ -506,13 +542,16 @@ public static function slug($string, $replacement = '-', $lowercase = true)
      * of the helper.
      *
      * @param string $string input string
-     * @param string|\Transliterator $transliterator either a [[\Transliterator]] or a string
+     * @param string|\Transliterator|null $transliterator either a [[\Transliterator]] or a string
      * from which a [[\Transliterator]] can be built.
      * @return string
      * @since 2.0.7 this method is public.
      */
     public static function transliterate($string, $transliterator = null)
     {
+        if (empty($string)) {
+            return (string) $string;
+        }
         if (static::hasIntl()) {
             if ($transliterator === null) {
                 $transliterator = static::$transliterator;
@@ -541,6 +580,9 @@ protected static function hasIntl()
      */
     public static function classify($tableName)
     {
+        if (empty($tableName)) {
+            return (string) $tableName;
+        }
         return static::camelize(static::singularize($tableName));
     }
 
@@ -586,8 +628,8 @@ public static function ordinalize($number)
      * ```
      *
      * @param array $words the words to be converted into an string
-     * @param string $twoWordsConnector the string connecting words when there are only two
-     * @param string $lastWordConnector the string connecting the last two words. If this is null, it will
+     * @param string|null $twoWordsConnector the string connecting words when there are only two
+     * @param string|null $lastWordConnector the string connecting the last two words. If this is null, it will
      * take the value of `$twoWordsConnector`.
      * @param string $connector the string connecting words other than those connected by
      * $lastWordConnector and $twoWordsConnector
diff --git a/framework/helpers/BaseIpHelper.php b/framework/helpers/BaseIpHelper.php
index 57f7a4dfeb9..5ab73a63106 100644
--- a/framework/helpers/BaseIpHelper.php
+++ b/framework/helpers/BaseIpHelper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/BaseJson.php b/framework/helpers/BaseJson.php
index ad41de7f714..eaaee0fbd05 100644
--- a/framework/helpers/BaseJson.php
+++ b/framework/helpers/BaseJson.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
@@ -30,7 +30,6 @@ class BaseJson
      * @since 2.0.43
      */
     public static $prettyPrint;
-
     /**
      * @var bool Avoids objects with zero-indexed keys to be encoded as array
      * `Json::encode((object)['test'])` will be encoded as an object not as an array. This matches the behaviour of `json_encode()`.
@@ -40,7 +39,6 @@ class BaseJson
      * @since 2.0.44
      */
     public static $keepObjectType = false;
-
     /**
      * @var array List of JSON Error messages assigned to constant names for better handling of PHP <= 5.5.
      * @since 2.0.7
diff --git a/framework/helpers/BaseMarkdown.php b/framework/helpers/BaseMarkdown.php
index 9b88c725018..b0c7117330f 100644
--- a/framework/helpers/BaseMarkdown.php
+++ b/framework/helpers/BaseMarkdown.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
@@ -54,7 +54,7 @@ class BaseMarkdown
      * Converts markdown into HTML.
      *
      * @param string $markdown the markdown text to parse
-     * @param string $flavor the markdown flavor to use. See [[$flavors]] for available values.
+     * @param string|null $flavor the markdown flavor to use. See [[$flavors]] for available values.
      * Defaults to [[$defaultFlavor]], if not set.
      * @return string the parsed HTML output
      * @throws InvalidArgumentException when an undefined flavor is given.
@@ -72,7 +72,7 @@ public static function process($markdown, $flavor = null)
      * This can be useful for parsing small comments or description lines.
      *
      * @param string $markdown the markdown text to parse
-     * @param string $flavor the markdown flavor to use. See [[$flavors]] for available values.
+     * @param string|null $flavor the markdown flavor to use. See [[$flavors]] for available values.
      * Defaults to [[$defaultFlavor]], if not set.
      * @return string the parsed HTML output
      * @throws InvalidArgumentException when an undefined flavor is given.
@@ -85,7 +85,7 @@ public static function processParagraph($markdown, $flavor = null)
     }
 
     /**
-     * @param string $flavor the markdown flavor to use. See [[$flavors]] for available values.
+     * @param string|null $flavor the markdown flavor to use. See [[$flavors]] for available values.
      * Defaults to [[$defaultFlavor]], if not set.
      * @return \cebe\markdown\Parser
      * @throws InvalidArgumentException when an undefined flavor is given.
diff --git a/framework/helpers/BaseStringHelper.php b/framework/helpers/BaseStringHelper.php
index 738147ea4c9..ba0975fa7ea 100644
--- a/framework/helpers/BaseStringHelper.php
+++ b/framework/helpers/BaseStringHelper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
@@ -29,7 +29,7 @@ class BaseStringHelper
      */
     public static function byteLength($string)
     {
-        return mb_strlen($string, '8bit');
+        return mb_strlen((string)$string, '8bit');
     }
 
     /**
@@ -38,7 +38,7 @@ public static function byteLength($string)
      *
      * @param string $string the input string. Must be one character or longer.
      * @param int $start the starting position
-     * @param int $length the desired portion length. If not specified or `null`, there will be
+     * @param int|null $length the desired portion length. If not specified or `null`, there will be
      * no limit on length i.e. the output will be until the end of the string.
      * @return string the extracted part of string, or FALSE on failure or an empty string.
      * @see https://www.php.net/manual/en/function.substr.php
@@ -108,10 +108,14 @@ public static function dirname($path)
     /**
      * Truncates a string to the number of characters specified.
      *
+     * In order to truncate for an exact length, the $suffix char length must be counted towards the $length. For example
+     * to have a string which is exactly 255 long with $suffix `...` of 3 chars, then `StringHelper::truncate($string, 252, '...')`
+     * must be used to ensure you have 255 long string afterwards.
+     *
      * @param string $string The string to truncate.
      * @param int $length How many characters from original string to include into truncated string.
      * @param string $suffix String to append to the end of truncated string.
-     * @param string $encoding The charset to use, defaults to charset currently used by application.
+     * @param string|null $encoding The charset to use, defaults to charset currently used by application.
      * @param bool $asHtml Whether to treat the string being truncated as HTML and preserve proper HTML tags.
      * This parameter is available since version 2.0.1.
      * @return string the truncated string.
@@ -148,7 +152,7 @@ public static function truncateWords($string, $count, $suffix = '...', $asHtml =
             return static::truncateHtml($string, $count, $suffix);
         }
 
-        $words = preg_split('/(\s+)/u', trim($string), null, PREG_SPLIT_DELIM_CAPTURE);
+        $words = preg_split('/(\s+)/u', trim($string), 0, PREG_SPLIT_DELIM_CAPTURE);
         if (count($words) / 2 > $count) {
             return implode('', array_slice($words, 0, ($count * 2) - 1)) . $suffix;
         }
@@ -316,7 +320,7 @@ public static function explode($string, $delimiter = ',', $trim = true, $skipEmp
      */
     public static function countWords($string)
     {
-        return count(preg_split('/\s+/u', $string, null, PREG_SPLIT_NO_EMPTY));
+        return count(preg_split('/\s+/u', $string, 0, PREG_SPLIT_NO_EMPTY));
     }
 
     /**
@@ -436,7 +440,7 @@ public static function matchWildcard($pattern, $string, $options = [])
             $pattern .= 'i';
         }
 
-        return preg_match($pattern, $string) === 1;
+        return preg_match($pattern, (string)$string) === 1;
     }
 
     /**
@@ -450,8 +454,8 @@ public static function matchWildcard($pattern, $string, $options = [])
      */
     public static function mb_ucfirst($string, $encoding = 'UTF-8')
     {
-        $firstChar = mb_substr($string, 0, 1, $encoding);
-        $rest = mb_substr($string, 1, null, $encoding);
+        $firstChar = mb_substr((string)$string, 0, 1, $encoding);
+        $rest = mb_substr((string)$string, 1, null, $encoding);
 
         return mb_strtoupper($firstChar, $encoding) . $rest;
     }
diff --git a/framework/helpers/BaseUrl.php b/framework/helpers/BaseUrl.php
index fdf4f53d3d6..a671123c7cd 100644
--- a/framework/helpers/BaseUrl.php
+++ b/framework/helpers/BaseUrl.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
@@ -71,7 +71,7 @@ class BaseUrl
      * // /index.php?r=site%2Findex&src=ref1#name
      * echo Url::toRoute(['site/index', 'src' => 'ref1', '#' => 'name']);
      *
-     * // http://www.example.com/index.php?r=site%2Findex
+     * // https://www.example.com/index.php?r=site%2Findex
      * echo Url::toRoute('site/index', true);
      *
      * // https://www.example.com/index.php?r=site%2Findex
@@ -186,7 +186,7 @@ protected static function normalizeRoute($route)
      * // images/logo.gif
      * echo Url::to('images/logo.gif');
      *
-     * // http://www.example.com/images/logo.gif
+     * // https://www.example.com/images/logo.gif
      * echo Url::to('@web/images/logo.gif', true);
      *
      * // https://www.example.com/images/logo.gif
@@ -290,7 +290,7 @@ public static function base($scheme = false)
      *
      * @param string|array $url the URL to remember. Please refer to [[to()]] for acceptable formats.
      * If this parameter is not specified, the currently requested URL will be used.
-     * @param string $name the name associated with the URL to be remembered. This can be used
+     * @param string|null $name the name associated with the URL to be remembered. This can be used
      * later by [[previous()]]. If not set, [[\yii\web\User::setReturnUrl()]] will be used with passed URL.
      * @see previous()
      * @see \yii\web\User::setReturnUrl()
@@ -309,7 +309,7 @@ public static function remember($url = '', $name = null)
     /**
      * Returns the URL previously [[remember()|remembered]].
      *
-     * @param string $name the named associated with the URL that was remembered previously.
+     * @param string|null $name the named associated with the URL that was remembered previously.
      * If not set, [[\yii\web\User::getReturnUrl()]] will be used to obtain remembered URL.
      * @return string|null the URL previously remembered. Null is returned if no URL was remembered with the given name
      * and `$name` is not specified.
diff --git a/framework/helpers/BaseVarDumper.php b/framework/helpers/BaseVarDumper.php
index 5cb57ce2ec5..070a42278df 100644
--- a/framework/helpers/BaseVarDumper.php
+++ b/framework/helpers/BaseVarDumper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/Console.php b/framework/helpers/Console.php
index a34dc968742..fe8336f8084 100644
--- a/framework/helpers/Console.php
+++ b/framework/helpers/Console.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/FileHelper.php b/framework/helpers/FileHelper.php
index 9322661d82f..7ed3c413bc1 100644
--- a/framework/helpers/FileHelper.php
+++ b/framework/helpers/FileHelper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/FormatConverter.php b/framework/helpers/FormatConverter.php
index 4b75325f522..bfc4dcaef5f 100644
--- a/framework/helpers/FormatConverter.php
+++ b/framework/helpers/FormatConverter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/Html.php b/framework/helpers/Html.php
index 94c78c8aed1..9a980e5b429 100644
--- a/framework/helpers/Html.php
+++ b/framework/helpers/Html.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/HtmlPurifier.php b/framework/helpers/HtmlPurifier.php
index 71b229b381f..6157c43983d 100644
--- a/framework/helpers/HtmlPurifier.php
+++ b/framework/helpers/HtmlPurifier.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/Inflector.php b/framework/helpers/Inflector.php
index ab4713ea577..f2530022be9 100644
--- a/framework/helpers/Inflector.php
+++ b/framework/helpers/Inflector.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/IpHelper.php b/framework/helpers/IpHelper.php
index 1831659df75..aa0b8c915b1 100644
--- a/framework/helpers/IpHelper.php
+++ b/framework/helpers/IpHelper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/Json.php b/framework/helpers/Json.php
index 8ca436a32b7..cb67c11d601 100644
--- a/framework/helpers/Json.php
+++ b/framework/helpers/Json.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/Markdown.php b/framework/helpers/Markdown.php
index c86e5e47664..4cc8848dac5 100644
--- a/framework/helpers/Markdown.php
+++ b/framework/helpers/Markdown.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/ReplaceArrayValue.php b/framework/helpers/ReplaceArrayValue.php
index 3ce281cd2e3..3ed6208f26f 100644
--- a/framework/helpers/ReplaceArrayValue.php
+++ b/framework/helpers/ReplaceArrayValue.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/StringHelper.php b/framework/helpers/StringHelper.php
index 73960a35db8..27ff061ebe8 100644
--- a/framework/helpers/StringHelper.php
+++ b/framework/helpers/StringHelper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/UnsetArrayValue.php b/framework/helpers/UnsetArrayValue.php
index 331b0619a43..25e67bbc0d4 100644
--- a/framework/helpers/UnsetArrayValue.php
+++ b/framework/helpers/UnsetArrayValue.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/Url.php b/framework/helpers/Url.php
index 7c52e09d633..d9c6a3db9de 100644
--- a/framework/helpers/Url.php
+++ b/framework/helpers/Url.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/VarDumper.php b/framework/helpers/VarDumper.php
index fcffecb478a..d75521fb7a7 100644
--- a/framework/helpers/VarDumper.php
+++ b/framework/helpers/VarDumper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\helpers;
diff --git a/framework/helpers/mimeAliases.php b/framework/helpers/mimeAliases.php
index 97abc324fd1..4cd89888a77 100644
--- a/framework/helpers/mimeAliases.php
+++ b/framework/helpers/mimeAliases.php
@@ -5,6 +5,7 @@
  * This file contains aliases for MIME types.
  */
 return [
+    'text/rtf' => 'application/rtf',
     'text/xml' => 'application/xml',
     'image/svg' => 'image/svg+xml',
     'image/x-bmp' => 'image/bmp',
diff --git a/framework/helpers/mimeTypes.php b/framework/helpers/mimeTypes.php
index 3056874fd6c..944633aa5d2 100644
--- a/framework/helpers/mimeTypes.php
+++ b/framework/helpers/mimeTypes.php
@@ -5,10 +5,10 @@
  * This file contains most commonly used MIME types
  * according to file extension names.
  * Its content is generated from the apache http mime.types file.
- * http://svn.apache.org/viewvc/httpd/httpd/trunk/docs/conf/mime.types?view=markup
+ * https://svn.apache.org/viewvc/httpd/httpd/trunk/docs/conf/mime.types?view=markup
  * This file has been placed in the public domain for unlimited redistribution.
  */
-return [
+$mimeTypes = [
     '3dml' => 'text/vnd.in3d.3dml',
     '3ds' => 'image/x-3ds',
     '3g2' => 'video/3gpp2',
@@ -355,6 +355,7 @@
     'jam' => 'application/vnd.jam',
     'jar' => 'application/java-archive',
     'java' => 'text/x-java-source',
+    'jfif' => 'image/jpeg',
     'jisp' => 'application/vnd.jisp',
     'jlt' => 'application/vnd.hp-jlyt',
     'jnlp' => 'application/x-java-jnlp-file',
@@ -400,6 +401,7 @@
     'log' => 'text/plain',
     'lostxml' => 'application/lost+xml',
     'lrf' => 'application/octet-stream',
+    0 => 'application/vnd.lotus-1-2-3',
     'lrm' => 'application/vnd.ms-lrm',
     'ltf' => 'application/vnd.frogans.ltf',
     'lvp' => 'audio/vnd.lucent.voice',
@@ -491,7 +493,6 @@
     'mseed' => 'application/vnd.fdsn.mseed',
     'mseq' => 'application/vnd.mseq',
     'msf' => 'application/vnd.epson.msf',
-    0 => 'application/vnd.lotus-1-2-3',
     'msh' => 'model/mesh',
     'msi' => 'application/x-msdownload',
     'msl' => 'application/vnd.mobius.msl',
@@ -995,3 +996,9 @@
     'zirz' => 'application/vnd.zul',
     'zmm' => 'application/vnd.handheld-entertainment+xml',
 ];
+
+if (PHP_VERSION_ID >= 80100) {
+    $mimeTypes = array_replace($mimeTypes, array('xz' => 'application/octet-stream'));
+}
+
+return $mimeTypes;
diff --git a/framework/i18n/DbMessageSource.php b/framework/i18n/DbMessageSource.php
index e2048c20354..0686291d2a7 100644
--- a/framework/i18n/DbMessageSource.php
+++ b/framework/i18n/DbMessageSource.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
diff --git a/framework/i18n/Formatter.php b/framework/i18n/Formatter.php
index cf67ddfa0f0..3236a433beb 100644
--- a/framework/i18n/Formatter.php
+++ b/framework/i18n/Formatter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
@@ -79,7 +79,7 @@ class Formatter extends Component
     const UNIT_WEIGHT = 'mass';
 
     /**
-     * @var string the text to be displayed when formatting a `null` value.
+     * @var string|null the text to be displayed when formatting a `null` value.
      * Defaults to `'<span class="not-set">(not set)</span>'`, where `(not set)`
      * will be translated according to [[locale]].
      */
@@ -92,21 +92,21 @@ class Formatter extends Component
      */
     public $booleanFormat;
     /**
-     * @var string the locale ID that is used to localize the date and number formatting.
+     * @var string|null the locale ID that is used to localize the date and number formatting.
      * For number and date formatting this is only effective when the
      * [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is installed.
      * If not set, [[\yii\base\Application::language]] will be used.
      */
     public $locale;
     /**
-     * @var string the language code (e.g. `en-US`, `en`) that is used to translate internal messages.
+     * @var string|null the language code (e.g. `en-US`, `en`) that is used to translate internal messages.
      * If not set, [[locale]] will be used (without the `@calendar` param, if included).
      *
      * @since 2.0.28
      */
     public $language;
     /**
-     * @var string the time zone to use for formatting time and date values.
+     * @var string|null the time zone to use for formatting time and date values.
      *
      * This can be any value that may be passed to [date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php)
      * e.g. `UTC`, `Europe/Berlin` or `America/Chicago`.
@@ -135,7 +135,7 @@ class Formatter extends Component
      * @var string the default format string to be used to format a [[asDate()|date]].
      * This can be "short", "medium", "long", or "full", which represents a preset format of different lengths.
      *
-     * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
+     * It can also be a custom format as specified in the [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/).
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
      * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
      *
@@ -151,7 +151,7 @@ class Formatter extends Component
      * @var string the default format string to be used to format a [[asTime()|time]].
      * This can be "short", "medium", "long", or "full", which represents a preset format of different lengths.
      *
-     * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
+     * It can also be a custom format as specified in the [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/).
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
      * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
      *
@@ -167,10 +167,10 @@ class Formatter extends Component
      * @var string the default format string to be used to format a [[asDatetime()|date and time]].
      * This can be "short", "medium", "long", or "full", which represents a preset format of different lengths.
      *
-     * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
+     * It can also be a custom format as specified in the [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
-     * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
+     * PHP [date()](https://www.php.net/manual/en/function.date.php) function.
      *
      * For example:
      *
@@ -198,7 +198,7 @@ class Formatter extends Component
      * ],
      * ```
      *
-     * Available calendar names can be found in the [ICU manual](http://userguide.icu-project.org/datetime/calendar).
+     * Available calendar names can be found in the [ICU manual](https://unicode-org.github.io/icu/userguide/datetime/calendar/).
      *
      * Since PHP 5.5 you may also use an instance of the [[\IntlCalendar]] class.
      * Check the [PHP manual](https://www.php.net/manual/en/intldateformatter.create.php) for more details.
@@ -218,7 +218,7 @@ class Formatter extends Component
      */
     public $decimalSeparator;
     /**
-     * @var string the character displayed as the decimal point when formatting a currency.
+     * @var string|null the character displayed as the decimal point when formatting a currency.
      * If not set, the currency decimal separator corresponding to [[locale]] will be used.
      * If [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is not available, setting this property will have no effect.
      * @since 2.0.35
@@ -276,7 +276,7 @@ class Formatter extends Component
      * Please refer to the [PHP manual](https://www.php.net/manual/en/class.numberformatter.php#intl.numberformatter-constants.unumberformatsymbol)
      * for the possible options.
      *
-     * For example to choose a custom currency symbol, e.g. [U+20BD](http://unicode-table.com/en/20BD/) instead of `руб.` for Russian Ruble:
+     * For example to choose a custom currency symbol, e.g. [U+20BD](https://unicode-table.com/en/20BD/) instead of `руб.` for Russian Ruble:
      *
      * ```php
      * [
@@ -622,7 +622,7 @@ public function asBoolean($value)
 
     /**
      * Formats the value as a date.
-     * @param int|string|DateTime|DateTimeInterface $value the value to be formatted. The following
+     * @param int|string|DateTime|DateTimeInterface|null $value the value to be formatted. The following
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp. A UNIX timestamp is always in UTC by its definition.
@@ -639,7 +639,7 @@ public function asBoolean($value)
      * If null, [[dateFormat]] will be used.
      *
      * This can be "short", "medium", "long", or "full", which represents a preset format of different lengths.
-     * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime).
+     * It can also be a custom format as specified in the [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
      * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
@@ -660,7 +660,7 @@ public function asDate($value, $format = null)
 
     /**
      * Formats the value as a time.
-     * @param int|string|DateTime|DateTimeInterface $value the value to be formatted. The following
+     * @param int|string|DateTime|DateTimeInterface|null $value the value to be formatted. The following
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp. A UNIX timestamp is always in UTC by its definition.
@@ -676,7 +676,7 @@ public function asDate($value, $format = null)
      * If null, [[timeFormat]] will be used.
      *
      * This can be "short", "medium", "long", or "full", which represents a preset format of different lengths.
-     * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime).
+     * It can also be a custom format as specified in the [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
      * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
@@ -697,7 +697,7 @@ public function asTime($value, $format = null)
 
     /**
      * Formats the value as a datetime.
-     * @param int|string|DateTime|DateTimeInterface $value the value to be formatted. The following
+     * @param int|string|DateTime|DateTimeInterface|null $value the value to be formatted. The following
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp. A UNIX timestamp is always in UTC by its definition.
@@ -713,7 +713,7 @@ public function asTime($value, $format = null)
      * If null, [[datetimeFormat]] will be used.
      *
      * This can be "short", "medium", "long", or "full", which represents a preset format of different lengths.
-     * It can also be a custom format as specified in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime).
+     * It can also be a custom format as specified in the [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the
      * PHP [date()](https://www.php.net/manual/en/function.date.php)-function.
@@ -944,7 +944,7 @@ public function asTimestamp($value)
      * 2. Using a timestamp that is relative to the `$referenceTime`.
      * 3. Using a `DateInterval` object.
      *
-     * @param int|string|DateTime|DateTimeInterface|DateInterval $value the value to be formatted. The following
+     * @param int|string|DateTime|DateTimeInterface|DateInterval|null $value the value to be formatted. The following
      * types of value are supported:
      *
      * - an integer representing a UNIX timestamp
@@ -1403,7 +1403,7 @@ public function asOrdinal($value)
      *
      * This is the short form of [[asSize]].
      *
-     * If [[sizeFormatBase]] is 1024, [binary prefixes](http://en.wikipedia.org/wiki/Binary_prefix) (e.g. kibibyte/KiB, mebibyte/MiB, ...)
+     * If [[sizeFormatBase]] is 1024, [binary prefixes](https://en.wikipedia.org/wiki/Binary_prefix) (e.g. kibibyte/KiB, mebibyte/MiB, ...)
      * are used in the formatting result.
      *
      * @param string|int|float|null $value value in bytes to be formatted.
@@ -1459,7 +1459,7 @@ public function asShortSize($value, $decimals = null, $options = [], $textOption
     /**
      * Formats the value in bytes as a size in human readable form, for example `12 kilobytes`.
      *
-     * If [[sizeFormatBase]] is 1024, [binary prefixes](http://en.wikipedia.org/wiki/Binary_prefix) (e.g. kibibyte/KiB, mebibyte/MiB, ...)
+     * If [[sizeFormatBase]] is 1024, [binary prefixes](https://en.wikipedia.org/wiki/Binary_prefix) (e.g. kibibyte/KiB, mebibyte/MiB, ...)
      * are used in the formatting result.
      *
      * @param string|int|float|null $value value in bytes to be formatted.
@@ -1636,15 +1636,15 @@ private function formatUnit($unitType, $unitFormat, $value, $decimals, $options,
     /**
      * @param string $unitType one of [[UNIT_WEIGHT]], [[UNIT_LENGTH]]
      * @param string $unitFormat one of [[FORMAT_WIDTH_SHORT]], [[FORMAT_WIDTH_LONG]]
-     * @param string $system either [[UNIT_SYSTEM_METRIC]] or [[UNIT_SYSTEM_IMPERIAL]]. When `null`, property [[systemOfUnits]] will be used.
+     * @param string|null $system either [[UNIT_SYSTEM_METRIC]] or [[UNIT_SYSTEM_IMPERIAL]]. When `null`, property [[systemOfUnits]] will be used.
      * @param int $position internal position of size unit
      * @return string
      * @throws InvalidConfigException when INTL is not installed or does not contain required information
      */
     private function getUnitMessage($unitType, $unitFormat, $system, $position)
     {
-        if (isset($this->_unitMessages[$unitType][$system][$position])) {
-            return $this->_unitMessages[$unitType][$system][$position];
+        if (isset($this->_unitMessages[$unitType][$unitFormat][$system][$position])) {
+            return $this->_unitMessages[$unitType][$unitFormat][$system][$position];
         }
         if (!$this->_intlLoaded) {
             throw new InvalidConfigException('Format of ' . $unitType . ' is only supported when PHP intl extension is installed.');
@@ -1676,7 +1676,7 @@ private function getUnitMessage($unitType, $unitFormat, $system, $position)
             $message[] = "$key{{$value}}";
         }
 
-        return $this->_unitMessages[$unitType][$system][$position] = '{n, plural, ' . implode(' ', $message) . '}';
+        return $this->_unitMessages[$unitType][$unitFormat][$system][$position] = '{n, plural, ' . implode(' ', $message) . '}';
     }
 
     /**
@@ -1738,7 +1738,7 @@ protected function formatNumber($value, $decimals, $maxPosition, $formatBase, $o
         $params = [
             // this is the unformatted number used for the plural rule
             // abs() to make sure the plural rules work correctly on negative numbers, intl does not cover this
-            // http://english.stackexchange.com/questions/9735/is-1-singular-or-plural
+            // https://english.stackexchange.com/questions/9735/is-1-followed-by-a-singular-or-plural-noun
             'n' => abs($value),
             // this is the formatted number used for display
             'nFormatted' => $this->asDecimal($value, $decimals, $options, $textOptions),
diff --git a/framework/i18n/GettextFile.php b/framework/i18n/GettextFile.php
index 57f2e90f642..6e320348c31 100644
--- a/framework/i18n/GettextFile.php
+++ b/framework/i18n/GettextFile.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
diff --git a/framework/i18n/GettextMessageSource.php b/framework/i18n/GettextMessageSource.php
index b3190ba4c63..b3cb6acd207 100644
--- a/framework/i18n/GettextMessageSource.php
+++ b/framework/i18n/GettextMessageSource.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
@@ -131,7 +131,7 @@ protected function loadFallbackMessages($category, $fallbackLanguage, $messages,
     protected function getMessageFilePath($language)
     {
         $language = (string) $language;
-        if ($language !== '' && !preg_match('/^[a-z_-]+$/i', $language)) {
+        if ($language !== '' && !preg_match('/^[a-z0-9_-]+$/i', $language)) {
             throw new InvalidArgumentException(sprintf('Invalid language code: "%s".', $language));
         }
         $messageFile = Yii::getAlias($this->basePath) . '/' . $language . '/' . $this->catalog;
diff --git a/framework/i18n/GettextMoFile.php b/framework/i18n/GettextMoFile.php
index 43b5afaf1f6..a2d82ec906d 100644
--- a/framework/i18n/GettextMoFile.php
+++ b/framework/i18n/GettextMoFile.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
@@ -106,7 +106,7 @@ public function load($filePath, $context)
         $messages = [];
         for ($i = 0; $i < $count; ++$i) {
             $id = $this->readString($fileHandle, $sourceLengths[$i], $sourceOffsets[$i]);
-            $separatorPosition = strpos($id, chr(4));
+            $separatorPosition = strpos((string)$id, chr(4));
 
 
             if ((!$context && $separatorPosition === false) || ($context && $separatorPosition !== false && strncmp($id, $context, $separatorPosition) === 0)) {
@@ -250,7 +250,7 @@ protected function writeInteger($fileHandle, $integer)
      * Reads a string.
      * @param resource $fileHandle file handle
      * @param int $length of the string
-     * @param int $offset of the string in the file. If null, it reads from the current position.
+     * @param int|null $offset of the string in the file. If null, it reads from the current position.
      * @return string the result
      */
     protected function readString($fileHandle, $length, $offset = null)
diff --git a/framework/i18n/GettextPoFile.php b/framework/i18n/GettextPoFile.php
index d3473e252cc..0469b324b03 100644
--- a/framework/i18n/GettextPoFile.php
+++ b/framework/i18n/GettextPoFile.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
diff --git a/framework/i18n/I18N.php b/framework/i18n/I18N.php
index 49cf93bd459..d853d754b01 100644
--- a/framework/i18n/I18N.php
+++ b/framework/i18n/I18N.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
diff --git a/framework/i18n/Locale.php b/framework/i18n/Locale.php
index a0e1a1b48cf..5acf2dc14bf 100644
--- a/framework/i18n/Locale.php
+++ b/framework/i18n/Locale.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
@@ -16,14 +16,14 @@
  *
  * The class requires [PHP intl extension](https://www.php.net/manual/en/book.intl.php) to be installed.
  *
- * @property-read string $currencySymbol This property is read-only.
+ * @property-read string $currencySymbol
  *
  * @since 2.0.14
  */
 class Locale extends Component
 {
     /**
-     * @var string the locale ID.
+     * @var string|null the locale ID.
      * If not set, [[\yii\base\Application::language]] will be used.
      */
     public $locale;
@@ -46,7 +46,7 @@ public function init()
     /**
      * Returns a currency symbol
      *
-     * @param string $currencyCode the 3-letter ISO 4217 currency code to get symbol for. If null,
+     * @param string|null $currencyCode the 3-letter ISO 4217 currency code to get symbol for. If null,
      * method will attempt using currency code from [[locale]].
      * @return string
      */
diff --git a/framework/i18n/MessageFormatter.php b/framework/i18n/MessageFormatter.php
index 47e4246fd21..e9d18fb50c1 100644
--- a/framework/i18n/MessageFormatter.php
+++ b/framework/i18n/MessageFormatter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
@@ -12,7 +12,7 @@
 use yii\base\NotSupportedException;
 
 /**
- * MessageFormatter allows formatting messages via [ICU message format](http://userguide.icu-project.org/formatparse/messages).
+ * MessageFormatter allows formatting messages via [ICU message format](https://unicode-org.github.io/icu/userguide/format_parse/messages/).
  *
  * This class enhances the message formatter class provided by the PHP intl extension.
  *
@@ -36,8 +36,8 @@
  *   Also messages that are working with the fallback implementation are not necessarily compatible with the
  *   PHP intl MessageFormatter so do not rely on the fallback if you are able to install intl extension somehow.
  *
- * @property-read string $errorCode Code of the last error. This property is read-only.
- * @property-read string $errorMessage Description of the last error. This property is read-only.
+ * @property-read string $errorCode Code of the last error.
+ * @property-read string $errorMessage Description of the last error.
  *
  * @author Alexander Makarov <sam@rmcreative.ru>
  * @author Carsten Brandt <mail@cebe.cc>
@@ -70,7 +70,7 @@ public function getErrorMessage()
     }
 
     /**
-     * Formats a message via [ICU message format](http://userguide.icu-project.org/formatparse/messages).
+     * Formats a message via [ICU message format](https://unicode-org.github.io/icu/userguide/format_parse/messages/).
      *
      * It uses the PHP intl extension's [MessageFormatter](https://www.php.net/manual/en/class.messageformatter.php)
      * and works around some issues.
@@ -132,7 +132,7 @@ public function format($pattern, $params, $language)
     }
 
     /**
-     * Parses an input string according to an [ICU message format](http://userguide.icu-project.org/formatparse/messages) pattern.
+     * Parses an input string according to an [ICU message format](https://unicode-org.github.io/icu/userguide/format_parse/messages/) pattern.
      *
      * It uses the PHP intl extension's [MessageFormatter::parse()](https://www.php.net/manual/en/messageformatter.parsemessage.php)
      * and adds support for named arguments.
@@ -341,7 +341,7 @@ private static function tokenizePattern($pattern)
     private function parseToken($token, $args, $locale)
     {
         // parsing pattern based on ICU grammar:
-        // http://icu-project.org/apiref/icu4c/classMessageFormat.html#details
+        // https://unicode-org.github.io/icu-docs/#/icu4c/classMessageFormat.html
         $charset = Yii::$app ? Yii::$app->charset : 'UTF-8';
         $param = trim($token[0]);
         if (isset($args[$param])) {
@@ -374,7 +374,7 @@ private function parseToken($token, $args, $locale)
             case 'none':
                 return $arg;
             case 'select':
-                /* http://icu-project.org/apiref/icu4c/classicu_1_1SelectFormat.html
+                /* https://unicode-org.github.io/icu-docs/#/icu4c/classicu_1_1SelectFormat.html
                 selectStyle = (selector '{' message '}')+
                 */
                 if (!isset($token[2])) {
@@ -397,7 +397,7 @@ private function parseToken($token, $args, $locale)
                 }
                 break;
             case 'plural':
-                /* http://icu-project.org/apiref/icu4c/classicu_1_1PluralFormat.html
+                /* https://unicode-org.github.io/icu-docs/#/icu4c/classicu_1_1PluralFormat.html
                 pluralStyle = [offsetValue] (selector '{' message '}')+
                 offsetValue = "offset:" number
                 selector = explicitValue | keyword
diff --git a/framework/i18n/MessageSource.php b/framework/i18n/MessageSource.php
index 24a4a74cd9d..9725158636f 100644
--- a/framework/i18n/MessageSource.php
+++ b/framework/i18n/MessageSource.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
@@ -33,7 +33,7 @@ class MessageSource extends Component
      */
     public $forceTranslation = false;
     /**
-     * @var string the language that the original messages are in. If not set, it will use the value of
+     * @var string|null the language that the original messages are in. If not set, it will use the value of
      * [[\yii\base\Application::sourceLanguage]].
      */
     public $sourceLanguage;
diff --git a/framework/i18n/MissingTranslationEvent.php b/framework/i18n/MissingTranslationEvent.php
index cfed6093415..67aee4579d8 100644
--- a/framework/i18n/MissingTranslationEvent.php
+++ b/framework/i18n/MissingTranslationEvent.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
@@ -23,7 +23,7 @@ class MissingTranslationEvent extends Event
      */
     public $message;
     /**
-     * @var string the translated message. An event handler may overwrite this property
+     * @var string|null the translated message. An event handler may overwrite this property
      * with a translated version of [[message]] if possible. If not set (null), it means the message is not translated.
      */
     public $translatedMessage;
diff --git a/framework/i18n/PhpMessageSource.php b/framework/i18n/PhpMessageSource.php
index 4dd860a5ced..90183f2e3a5 100644
--- a/framework/i18n/PhpMessageSource.php
+++ b/framework/i18n/PhpMessageSource.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\i18n;
@@ -72,7 +72,7 @@ protected function loadMessages($category, $language)
         $messageFile = $this->getMessageFilePath($category, $language);
         $messages = $this->loadMessagesFromFile($messageFile);
 
-        $fallbackLanguage = substr($language, 0, 2);
+        $fallbackLanguage = substr((string)$language, 0, 2);
         $fallbackSourceLanguage = substr($this->sourceLanguage, 0, 2);
 
         if ($fallbackLanguage !== '' && $language !== $fallbackLanguage) {
@@ -134,7 +134,7 @@ protected function loadFallbackMessages($category, $fallbackLanguage, $messages,
     protected function getMessageFilePath($category, $language)
     {
         $language = (string) $language;
-        if ($language !== '' && !preg_match('/^[a-z_-]+$/i', $language)) {
+        if ($language !== '' && !preg_match('/^[a-z0-9_-]+$/i', $language)) {
             throw new InvalidArgumentException(sprintf('Invalid language code: "%s".', $language));
         }
         $messageFile = Yii::getAlias($this->basePath) . "/$language/";
diff --git a/framework/i18n/migrations/m150207_210500_i18n_init.php b/framework/i18n/migrations/m150207_210500_i18n_init.php
index fe2aedd55dd..58015294823 100644
--- a/framework/i18n/migrations/m150207_210500_i18n_init.php
+++ b/framework/i18n/migrations/m150207_210500_i18n_init.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\db\Migration;
@@ -21,7 +21,7 @@ public function up()
     {
         $tableOptions = null;
         if ($this->db->driverName === 'mysql') {
-            // http://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
+            // https://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
             $tableOptions = 'CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE=InnoDB';
         }
 
diff --git a/framework/i18n/migrations/schema-mssql.sql b/framework/i18n/migrations/schema-mssql.sql
index 261f807cf78..5b79c8e137a 100644
--- a/framework/i18n/migrations/schema-mssql.sql
+++ b/framework/i18n/migrations/schema-mssql.sql
@@ -2,9 +2,9 @@
  * Database schema required by \yii\i18n\DbMessageSource.
  *
  * @author Dmitry Naumenko <d.naumenko.a@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 
diff --git a/framework/i18n/migrations/schema-mysql.sql b/framework/i18n/migrations/schema-mysql.sql
index dec180c7f0f..c6b706357ed 100644
--- a/framework/i18n/migrations/schema-mysql.sql
+++ b/framework/i18n/migrations/schema-mysql.sql
@@ -2,9 +2,9 @@
  * Database schema required by \yii\i18n\DbMessageSource.
  *
  * @author Dmitry Naumenko <d.naumenko.a@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 
diff --git a/framework/i18n/migrations/schema-oci.sql b/framework/i18n/migrations/schema-oci.sql
index edd9c0f0867..bd01b96a846 100644
--- a/framework/i18n/migrations/schema-oci.sql
+++ b/framework/i18n/migrations/schema-oci.sql
@@ -2,9 +2,9 @@
  * Database schema required by \yii\i18n\DbMessageSource.
  *
  * @author Dmitry Naumenko <d.naumenko.a@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 
@@ -30,4 +30,4 @@ CREATE TABLE "message"
 );
 
 CREATE INDEX idx_message_language ON "message"("language");
-CREATE INDEX idx_source_message_category ON "source_message"("category");
\ No newline at end of file
+CREATE INDEX idx_source_message_category ON "source_message"("category");
diff --git a/framework/i18n/migrations/schema-pgsql.sql b/framework/i18n/migrations/schema-pgsql.sql
index 4e447d31c50..5513c86bc03 100644
--- a/framework/i18n/migrations/schema-pgsql.sql
+++ b/framework/i18n/migrations/schema-pgsql.sql
@@ -2,9 +2,9 @@
  * Database schema required by \yii\i18n\DbMessageSource.
  *
  * @author Dmitry Naumenko <d.naumenko.a@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 
diff --git a/framework/i18n/migrations/schema-sqlite.sql b/framework/i18n/migrations/schema-sqlite.sql
index 24db67acabe..aba511932a2 100644
--- a/framework/i18n/migrations/schema-sqlite.sql
+++ b/framework/i18n/migrations/schema-sqlite.sql
@@ -2,9 +2,9 @@
  * Database schema required by \yii\i18n\DbMessageSource.
  *
  * @author Dmitry Naumenko <d.naumenko.a@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.7
  */
 
diff --git a/framework/log/DbTarget.php b/framework/log/DbTarget.php
index bef9c50c771..c2c3d6a6245 100644
--- a/framework/log/DbTarget.php
+++ b/framework/log/DbTarget.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log;
diff --git a/framework/log/Dispatcher.php b/framework/log/Dispatcher.php
index 9b4136c04f3..11b6b0016a9 100644
--- a/framework/log/Dispatcher.php
+++ b/framework/log/Dispatcher.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log;
@@ -52,7 +52,7 @@
  *
  * @property int $flushInterval How many messages should be logged before they are sent to targets. This
  * method returns the value of [[Logger::flushInterval]].
- * @property Logger $logger The logger. If not set, [[\Yii::getLogger()]] will be used. Note that the type of
+ * @property Logger $logger The logger. If not set, [[Yii::getLogger()]] will be used. Note that the type of
  * this property differs in getter and setter. See [[getLogger()]] and [[setLogger()]] for details.
  * @property int $traceLevel How many application call stacks should be logged together with each message.
  * This method returns the value of [[Logger::traceLevel]]. Defaults to 0.
@@ -69,7 +69,7 @@ class Dispatcher extends Component
     public $targets = [];
 
     /**
-     * @var Logger the logger.
+     * @var Logger|null the logger.
      */
     private $_logger;
 
@@ -123,7 +123,7 @@ public function getLogger()
      * Sets the connected logger.
      * @param Logger|string|array $value the logger to be used. This can either be a logger instance
      * or a configuration that will be used to create one using [[Yii::createObject()]].
-     * If you are providing custom logger configuration and would like it to be used for the whole application 
+     * If you are providing custom logger configuration and would like it to be used for the whole application
      * and not just for the dispatcher you should use [[Yii::setLogger()]] instead.
      */
     public function setLogger($value)
@@ -210,7 +210,7 @@ public function dispatch($messages, $final)
      * Generate target error message
      *
      * @param Target $target log target object
-     * @param \Throwable|\Exception $throwable catched exception
+     * @param \Throwable $throwable catched exception
      * @param string $method full method path
      * @return array generated error message data
      * @since 2.0.32
diff --git a/framework/log/EmailTarget.php b/framework/log/EmailTarget.php
index c64ede0010d..6029e67db82 100644
--- a/framework/log/EmailTarget.php
+++ b/framework/log/EmailTarget.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log;
diff --git a/framework/log/FileTarget.php b/framework/log/FileTarget.php
index 157c0db50ed..05ad09430af 100644
--- a/framework/log/FileTarget.php
+++ b/framework/log/FileTarget.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log;
@@ -20,13 +20,16 @@
  * files are moved backwards by one place, i.e., '.2' to '.3', '.1' to '.2', and so on.
  * The property [[maxLogFiles]] specifies how many history files to keep.
  *
+ * Since 2.0.46 rotation of the files is done only by copy and the
+ * `rotateByCopy` property is deprecated.
+ *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
 class FileTarget extends Target
 {
     /**
-     * @var string log file path or [path alias](guide:concept-aliases). If not set, it will use the "@runtime/logs/app.log" file.
+     * @var string|null log file path or [path alias](guide:concept-aliases). If not set, it will use the "@runtime/logs/app.log" file.
      * The directory containing the log files will be automatically created if not existing.
      */
     public $logFile;
@@ -46,7 +49,7 @@ class FileTarget extends Target
      */
     public $maxLogFiles = 5;
     /**
-     * @var int the permission to be set for newly created log files.
+     * @var int|null the permission to be set for newly created log files.
      * This value will be used by PHP chmod() function. No umask will be applied.
      * If not set, the permission will be determined by the current environment.
      */
@@ -60,7 +63,7 @@ class FileTarget extends Target
     public $dirMode = 0775;
     /**
      * @var bool Whether to rotate log files by copy and truncate in contrast to rotation by
-     * renaming files. Defaults to `true` to be more compatible with log tailers and is windows
+     * renaming files. Defaults to `true` to be more compatible with log tailers and windows
      * systems which do not play well with rename on open files. Rotation by renaming however is
      * a bit faster.
      *
@@ -68,7 +71,9 @@ class FileTarget extends Target
      * function does not work with files that are opened by some process is described in a
      * [comment by Martin Pelletier](https://www.php.net/manual/en/function.rename.php#102274) in
      * the PHP documentation. By setting rotateByCopy to `true` you can work
-     * around this problem.
+     * around this.
+     * @deprecated since 2.0.46 and setting it to false has no effect anymore
+     * since rotating is now always done by copy.
      */
     public $rotateByCopy = true;
 
@@ -117,31 +122,21 @@ public function export()
             clearstatcache();
         }
         if ($this->enableRotation && @filesize($this->logFile) > $this->maxFileSize * 1024) {
-            @flock($fp, LOCK_UN);
-            @fclose($fp);
             $this->rotateFiles();
-            $writeResult = @file_put_contents($this->logFile, $text, FILE_APPEND | LOCK_EX);
-            if ($writeResult === false) {
-                $error = error_get_last();
-                throw new LogRuntimeException("Unable to export log through file ({$this->logFile})!: {$error['message']}");
-            }
-            $textSize = strlen($text);
-            if ($writeResult < $textSize) {
-                throw new LogRuntimeException("Unable to export whole log through file ({$this->logFile})! Wrote $writeResult out of $textSize bytes.");
-            }
-        } else {
-            $writeResult = @fwrite($fp, $text);
-            if ($writeResult === false) {
-                $error = error_get_last();
-                throw new LogRuntimeException("Unable to export log through file ({$this->logFile})!: {$error['message']}");
-            }
-            $textSize = strlen($text);
-            if ($writeResult < $textSize) {
-                throw new LogRuntimeException("Unable to export whole log through file ({$this->logFile})! Wrote $writeResult out of $textSize bytes.");
-            }
-            @flock($fp, LOCK_UN);
-            @fclose($fp);
         }
+        $writeResult = @fwrite($fp, $text);
+        if ($writeResult === false) {
+            $error = error_get_last();
+            throw new LogRuntimeException("Unable to export log through file ({$this->logFile})!: {$error['message']}");
+        }
+        $textSize = strlen($text);
+        if ($writeResult < $textSize) {
+            throw new LogRuntimeException("Unable to export whole log through file ({$this->logFile})! Wrote $writeResult out of $textSize bytes.");
+        }
+        @fflush($fp);
+        @flock($fp, LOCK_UN);
+        @fclose($fp);
+
         if ($this->fileMode !== null) {
             @chmod($this->logFile, $this->fileMode);
         }
@@ -163,7 +158,7 @@ protected function rotateFiles()
                     continue;
                 }
                 $newFile = $this->logFile . '.' . ($i + 1);
-                $this->rotateByCopy ? $this->rotateByCopy($rotateFile, $newFile) : $this->rotateByRename($rotateFile, $newFile);
+                $this->rotateByCopy($rotateFile, $newFile);
                 if ($i === 0) {
                     $this->clearLogFile($rotateFile);
                 }
@@ -195,14 +190,4 @@ private function rotateByCopy($rotateFile, $newFile)
             @chmod($newFile, $this->fileMode);
         }
     }
-
-    /**
-     * Renames rotated file into new file
-     * @param string $rotateFile
-     * @param string $newFile
-     */
-    private function rotateByRename($rotateFile, $newFile)
-    {
-        @rename($rotateFile, $newFile);
-    }
 }
diff --git a/framework/log/LogRuntimeException.php b/framework/log/LogRuntimeException.php
index 888e2f50414..609f3cde478 100644
--- a/framework/log/LogRuntimeException.php
+++ b/framework/log/LogRuntimeException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log;
diff --git a/framework/log/Logger.php b/framework/log/Logger.php
index a4f21dd4aa7..6be7eaf2a92 100644
--- a/framework/log/Logger.php
+++ b/framework/log/Logger.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log;
@@ -31,12 +31,11 @@
  * or [[DbTarget|database]], with the help of the [[dispatcher]].
  *
  * @property-read array $dbProfiling The first element indicates the number of SQL statements executed, and
- * the second element the total time spent in SQL execution. This property is read-only.
- * @property-read float $elapsedTime The total elapsed time in seconds for current request. This property is
- * read-only.
+ * the second element the total time spent in SQL execution.
+ * @property-read float $elapsedTime The total elapsed time in seconds for current request.
  * @property-read array $profiling The profiling results. Each element is an array consisting of these
  * elements: `info`, `category`, `timestamp`, `trace`, `level`, `duration`, `memory`, `memoryDiff`. The `memory`
- * and `memoryDiff` values are available since version 2.0.11. This property is read-only.
+ * and `memoryDiff` values are available since version 2.0.11.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
diff --git a/framework/log/SyslogTarget.php b/framework/log/SyslogTarget.php
index 84bde8941f5..8a190d4fb5a 100644
--- a/framework/log/SyslogTarget.php
+++ b/framework/log/SyslogTarget.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log;
@@ -27,7 +27,7 @@ class SyslogTarget extends Target
      */
     public $facility = LOG_USER;
     /**
-     * @var int openlog options. This is a bitfield passed as the `$option` parameter to [openlog()](https://www.php.net/openlog).
+     * @var int|null openlog options. This is a bitfield passed as the `$option` parameter to [openlog()](https://www.php.net/openlog).
      * Defaults to `null` which means to use the default options `LOG_ODELAY | LOG_PID`.
      * @see https://www.php.net/openlog for available options.
      * @since 2.0.11
diff --git a/framework/log/Target.php b/framework/log/Target.php
index d57c2614ec9..b2335949dc8 100644
--- a/framework/log/Target.php
+++ b/framework/log/Target.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log;
@@ -99,7 +99,7 @@ abstract class Target extends Component
         '_SERVER.PHP_AUTH_PW',
     ];
     /**
-     * @var callable a PHP callable that returns a string to be prefixed to every exported message.
+     * @var callable|null a PHP callable that returns a string to be prefixed to every exported message.
      *
      * If not set, [[getMessagePrefix()]] will be used, which prefixes the message with context information
      * such as user IP, user ID and session ID.
diff --git a/framework/log/migrations/m141106_185632_log_init.php b/framework/log/migrations/m141106_185632_log_init.php
index 4a8b5b54c13..3e5746b10fb 100644
--- a/framework/log/migrations/m141106_185632_log_init.php
+++ b/framework/log/migrations/m141106_185632_log_init.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\base\InvalidConfigException;
@@ -65,7 +65,7 @@ public function up()
 
             $tableOptions = null;
             if ($this->db->driverName === 'mysql') {
-                // http://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
+                // https://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
                 $tableOptions = 'CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE=InnoDB';
             }
 
diff --git a/framework/log/migrations/schema-mssql.sql b/framework/log/migrations/schema-mssql.sql
index 28358e32164..7bbcf90af74 100644
--- a/framework/log/migrations/schema-mssql.sql
+++ b/framework/log/migrations/schema-mssql.sql
@@ -6,9 +6,9 @@
  * want to create additional indexes (e.g. index on `log_time`).
  *
  * @author Alexander Makarov <sam@rmcreative.ru>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.1
  */
 
diff --git a/framework/log/migrations/schema-mysql.sql b/framework/log/migrations/schema-mysql.sql
index e1d70dd6e65..79140784c88 100644
--- a/framework/log/migrations/schema-mysql.sql
+++ b/framework/log/migrations/schema-mysql.sql
@@ -6,9 +6,9 @@
  * want to create additional indexes (e.g. index on `log_time`).
  *
  * @author Alexander Makarov <sam@rmcreative.ru>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.1
  */
 
diff --git a/framework/log/migrations/schema-oci.sql b/framework/log/migrations/schema-oci.sql
index a49c489f11e..8ac0e2a5dc0 100644
--- a/framework/log/migrations/schema-oci.sql
+++ b/framework/log/migrations/schema-oci.sql
@@ -6,9 +6,9 @@
  * want to create additional indexes (e.g. index on `log_time`).
  *
  * @author Alexander Makarov <sam@rmcreative.ru>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.1
  */
 
diff --git a/framework/log/migrations/schema-pgsql.sql b/framework/log/migrations/schema-pgsql.sql
index ba77ca13dff..bcfe70a6709 100644
--- a/framework/log/migrations/schema-pgsql.sql
+++ b/framework/log/migrations/schema-pgsql.sql
@@ -6,9 +6,9 @@
  * want to create additional indexes (e.g. index on `log_time`).
  *
  * @author Alexander Makarov <sam@rmcreative.ru>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.1
  */
 
@@ -25,4 +25,4 @@ create table "log"
 );
 
 create index "idx_log_level" on "log" ("level");
-create index "idx_log_category" on "log" ("category");
\ No newline at end of file
+create index "idx_log_category" on "log" ("category");
diff --git a/framework/log/migrations/schema-sqlite.sql b/framework/log/migrations/schema-sqlite.sql
index 0ca66cf7f32..302df02fbb1 100644
--- a/framework/log/migrations/schema-sqlite.sql
+++ b/framework/log/migrations/schema-sqlite.sql
@@ -6,9 +6,9 @@
  * want to create additional indexes (e.g. index on `log_time`).
  *
  * @author Alexander Makarov <sam@rmcreative.ru>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.1
  */
 
@@ -25,4 +25,4 @@ create table "log"
 );
 
 create index "idx_log_level" on "log" ("level");
-create index "idx_log_category" on "log" ("category");
\ No newline at end of file
+create index "idx_log_category" on "log" ("category");
diff --git a/framework/mail/BaseMailer.php b/framework/mail/BaseMailer.php
index 63b6904ee52..c5f76fb7538 100644
--- a/framework/mail/BaseMailer.php
+++ b/framework/mail/BaseMailer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mail;
@@ -87,7 +87,7 @@ abstract class BaseMailer extends Component implements MailerInterface, ViewCont
      */
     public $fileTransportPath = '@runtime/mail';
     /**
-     * @var callable a PHP callback that will be called by [[send()]] when [[useFileTransport]] is true.
+     * @var callable|null a PHP callback that will be called by [[send()]] when [[useFileTransport]] is true.
      * The callback should return a file name which will be used to save the email message.
      * If not set, the file name will be generated based on the current timestamp.
      *
@@ -342,8 +342,9 @@ protected function saveMessage($message)
     public function generateMessageFileName()
     {
         $time = microtime(true);
+        $timeInt = (int) $time;
 
-        return date('Ymd-His-', $time) . sprintf('%04d', (int) (($time - (int) $time) * 10000)) . '-' . sprintf('%04d', random_int(0, 10000)) . '.eml';
+        return date('Ymd-His-', $timeInt) . sprintf('%04d', (int) (($time - $timeInt) * 10000)) . '-' . sprintf('%04d', random_int(0, 10000)) . '.eml';
     }
 
     /**
diff --git a/framework/mail/BaseMessage.php b/framework/mail/BaseMessage.php
index ec04d82f756..66b4488832f 100644
--- a/framework/mail/BaseMessage.php
+++ b/framework/mail/BaseMessage.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mail;
@@ -25,7 +25,7 @@
 abstract class BaseMessage extends BaseObject implements MessageInterface
 {
     /**
-     * @var MailerInterface the mailer instance that created this message.
+     * @var MailerInterface|null the mailer instance that created this message.
      * For independently created messages this is `null`.
      */
     public $mailer;
@@ -33,7 +33,7 @@ abstract class BaseMessage extends BaseObject implements MessageInterface
 
     /**
      * Sends this email message.
-     * @param MailerInterface $mailer the mailer that should be used to send this message.
+     * @param MailerInterface|null $mailer the mailer that should be used to send this message.
      * If no mailer is given it will first check if [[mailer]] is set and if not,
      * the "mailer" application component will be used instead.
      * @return bool whether this message is sent successfully.
diff --git a/framework/mail/MailEvent.php b/framework/mail/MailEvent.php
index 5562d8bcaf7..641f71ae10e 100644
--- a/framework/mail/MailEvent.php
+++ b/framework/mail/MailEvent.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mail;
diff --git a/framework/mail/MailerInterface.php b/framework/mail/MailerInterface.php
index d6c2cd71e66..c6f3aa94eb1 100644
--- a/framework/mail/MailerInterface.php
+++ b/framework/mail/MailerInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mail;
diff --git a/framework/mail/MessageInterface.php b/framework/mail/MessageInterface.php
index 414d3b778b3..74795c7ecef 100644
--- a/framework/mail/MessageInterface.php
+++ b/framework/mail/MessageInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mail;
@@ -204,7 +204,7 @@ public function embedContent($content, array $options = []);
 
     /**
      * Sends this email message.
-     * @param MailerInterface $mailer the mailer that should be used to send this message.
+     * @param MailerInterface|null $mailer the mailer that should be used to send this message.
      * If null, the "mailer" application component will be used instead.
      * @return bool whether this message is sent successfully.
      */
diff --git a/framework/messages/af/yii.php b/framework/messages/af/yii.php
index 557e952e822..b4a10bdf664 100644
--- a/framework/messages/af/yii.php
+++ b/framework/messages/af/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/ar/yii.php b/framework/messages/ar/yii.php
index b5144bdc07b..f300954a31c 100644
--- a/framework/messages/ar/yii.php
+++ b/framework/messages/ar/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/az/yii.php b/framework/messages/az/yii.php
index 8af3b7fd0d9..797dc804327 100644
--- a/framework/messages/az/yii.php
+++ b/framework/messages/az/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/be/yii.php b/framework/messages/be/yii.php
index 4d17ee704d1..f2ed384a925 100644
--- a/framework/messages/be/yii.php
+++ b/framework/messages/be/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/bg/yii.php b/framework/messages/bg/yii.php
index bb738174771..eb87f3bf120 100644
--- a/framework/messages/bg/yii.php
+++ b/framework/messages/bg/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/bs/yii.php b/framework/messages/bs/yii.php
index 6d3ad8ba184..968d93aa442 100644
--- a/framework/messages/bs/yii.php
+++ b/framework/messages/bs/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/ca/yii.php b/framework/messages/ca/yii.php
index 43aa50d0808..f404ab6411d 100644
--- a/framework/messages/ca/yii.php
+++ b/framework/messages/ca/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/config.php b/framework/messages/config.php
index 7f8db2d41c1..93845f2e0a9 100644
--- a/framework/messages/config.php
+++ b/framework/messages/config.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return [
@@ -12,12 +12,17 @@
     'messagePath' => __DIR__,
     // array, required, list of language codes that the extracted messages
     // should be translated to. For example, ['zh-CN', 'de'].
-    'languages' => ['af', 'ar', 'az', 'be', 'bg', 'bs', 'ca', 'cs', 'da', 'de', 'el', 'es', 'et', 'fa', 'fi', 'fr', 'he', 'hi', 'hr', 'hu', 'hy', 'id', 'it', 'ja', 'ka', 'kk', 'ko', 'kz', 'lt', 'lv', 'ms', 'nb-NO', 'nl', 'pl', 'pt', 'pt-BR', 'ro', 'ru', 'sk', 'sl', 'sr', 'sr-Latn', 'sv', 'tg', 'th', 'tr', 'uk', 'uz', 'vi', 'zh-CN', 'zh-TW'],
+    'languages' => [
+        'af', 'ar', 'az', 'be', 'bg', 'bs', 'ca', 'cs', 'da', 'de', 'el', 'es', 'et', 'fa', 'fi', 'fr', 'he', 'hi',
+        'pt-BR', 'ro', 'hr', 'hu', 'hy', 'id', 'it', 'ja', 'ka', 'kk', 'ko', 'kz', 'lt', 'lv', 'ms', 'nb-NO', 'nl',
+        'pl', 'pt', 'ru', 'sk', 'sl', 'sr', 'sr-Latn', 'sv', 'tg', 'th', 'tr', 'uk', 'uz', 'uz-Cy', 'vi', 'zh-CN',
+        'zh-TW'
+    ],
     // string, the name of the function for translating messages.
     // Defaults to 'Yii::t'. This is used as a mark to find the messages to be
     // translated. You may use a string for single function name or an array for
     // multiple function names.
-    'translator' => 'Yii::t',
+    'translator' => ['\Yii::t', 'Yii::t'],
     // boolean, whether to sort messages by keys when merging new messages
     // with the existing ones. Defaults to false, which means the new (untranslated)
     // messages will be separated from the old (translated) ones.
@@ -39,13 +44,13 @@
     // Note, the '/' characters in a pattern matches both '/' and '\'.
     // See helpers/FileHelper::findFiles() description for more details on pattern matching rules.
     'except' => [
-        '.svn',
-        '.git',
-        '.gitignore',
-        '.gitkeep',
-        '.hgignore',
-        '.hgkeep',
+        '.*',
+        '/.*',
         '/messages',
+        '/tests',
+        '/runtime',
+        '/vendor',
+        '/BaseYii.php',
     ],
     // array, list of patterns that specify which files (not directories) should be processed.
     // If empty or not set, all files will be processed.
@@ -53,9 +58,9 @@
     // If a file/directory matches both a pattern in "only" and "except", it will NOT be processed.
     'only' => ['*.php'],
     'phpFileHeader' => '/**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 ',
diff --git a/framework/messages/cs/yii.php b/framework/messages/cs/yii.php
index 06eb020cd1b..d5c8232f1ba 100644
--- a/framework/messages/cs/yii.php
+++ b/framework/messages/cs/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/da/yii.php b/framework/messages/da/yii.php
index a26abc7833e..d7e27d265e3 100644
--- a/framework/messages/da/yii.php
+++ b/framework/messages/da/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/de/yii.php b/framework/messages/de/yii.php
index 823f85354f7..51ede9951a1 100644
--- a/framework/messages/de/yii.php
+++ b/framework/messages/de/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/el/yii.php b/framework/messages/el/yii.php
index ed579516535..a1cfdd3f6eb 100644
--- a/framework/messages/el/yii.php
+++ b/framework/messages/el/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/es/yii.php b/framework/messages/es/yii.php
index 8c4802aa148..6d65a3233c8 100644
--- a/framework/messages/es/yii.php
+++ b/framework/messages/es/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/et/yii.php b/framework/messages/et/yii.php
index 4ae31877020..337d7fc1506 100644
--- a/framework/messages/et/yii.php
+++ b/framework/messages/et/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/fa/yii.php b/framework/messages/fa/yii.php
index 084a44a23d1..ec97c548788 100644
--- a/framework/messages/fa/yii.php
+++ b/framework/messages/fa/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/fi/yii.php b/framework/messages/fi/yii.php
index 64bee1e119d..938fd62d97c 100644
--- a/framework/messages/fi/yii.php
+++ b/framework/messages/fi/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/fr/yii.php b/framework/messages/fr/yii.php
index 0d2920adee9..458d7e738e7 100644
--- a/framework/messages/fr/yii.php
+++ b/framework/messages/fr/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/he/yii.php b/framework/messages/he/yii.php
index 7e49173ce54..4613b419139 100644
--- a/framework/messages/he/yii.php
+++ b/framework/messages/he/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/hi/yii.php b/framework/messages/hi/yii.php
index e43b4bff7ee..6c79f0c2620 100644
--- a/framework/messages/hi/yii.php
+++ b/framework/messages/hi/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/hr/yii.php b/framework/messages/hr/yii.php
index 772ef9493e4..ac445e0908c 100644
--- a/framework/messages/hr/yii.php
+++ b/framework/messages/hr/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/hu/yii.php b/framework/messages/hu/yii.php
index 5500ec02066..88575242bd3 100644
--- a/framework/messages/hu/yii.php
+++ b/framework/messages/hu/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/hy/yii.php b/framework/messages/hy/yii.php
index 63739dd7d52..8e2cb584548 100644
--- a/framework/messages/hy/yii.php
+++ b/framework/messages/hy/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/id/yii.php b/framework/messages/id/yii.php
index c0661f8ad1b..b8a08f73f52 100644
--- a/framework/messages/id/yii.php
+++ b/framework/messages/id/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/it/yii.php b/framework/messages/it/yii.php
index 249f1edce81..c16a9c18912 100644
--- a/framework/messages/it/yii.php
+++ b/framework/messages/it/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/ka/yii.php b/framework/messages/ka/yii.php
index f71563ff806..96eaaeb621d 100644
--- a/framework/messages/ka/yii.php
+++ b/framework/messages/ka/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/kk/yii.php b/framework/messages/kk/yii.php
index 8d77b9422d7..b33338dbab8 100644
--- a/framework/messages/kk/yii.php
+++ b/framework/messages/kk/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/ko/yii.php b/framework/messages/ko/yii.php
index cfc91dbd4bf..4fe82311fe8 100644
--- a/framework/messages/ko/yii.php
+++ b/framework/messages/ko/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/lt/yii.php b/framework/messages/lt/yii.php
index bc6fa54b84a..fce59c5471b 100644
--- a/framework/messages/lt/yii.php
+++ b/framework/messages/lt/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/lv/yii.php b/framework/messages/lv/yii.php
index b94c28c594e..e49ca559500 100644
--- a/framework/messages/lv/yii.php
+++ b/framework/messages/lv/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/ms/yii.php b/framework/messages/ms/yii.php
index 562ed357a7f..72212cbb3ed 100644
--- a/framework/messages/ms/yii.php
+++ b/framework/messages/ms/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/nb-NO/yii.php b/framework/messages/nb-NO/yii.php
index af345e3c273..9f9870c5e0a 100644
--- a/framework/messages/nb-NO/yii.php
+++ b/framework/messages/nb-NO/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/nl/yii.php b/framework/messages/nl/yii.php
index 3a4b0ae1090..24261d0520b 100644
--- a/framework/messages/nl/yii.php
+++ b/framework/messages/nl/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/pl/yii.php b/framework/messages/pl/yii.php
index e42445ee38e..35dae0b7611 100644
--- a/framework/messages/pl/yii.php
+++ b/framework/messages/pl/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/pt-BR/yii.php b/framework/messages/pt-BR/yii.php
index b82a6595c0a..c626562c9c8 100644
--- a/framework/messages/pt-BR/yii.php
+++ b/framework/messages/pt-BR/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/pt/yii.php b/framework/messages/pt/yii.php
index 93aebcbe090..f6bdfe5f62c 100644
--- a/framework/messages/pt/yii.php
+++ b/framework/messages/pt/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/ro/yii.php b/framework/messages/ro/yii.php
index c34064c0d32..6042d0bd695 100644
--- a/framework/messages/ro/yii.php
+++ b/framework/messages/ro/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/ru/yii.php b/framework/messages/ru/yii.php
index 4cbcf38f98a..31b27234323 100644
--- a/framework/messages/ru/yii.php
+++ b/framework/messages/ru/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/sk/yii.php b/framework/messages/sk/yii.php
index 3ca97ad6342..28aaaa78de1 100644
--- a/framework/messages/sk/yii.php
+++ b/framework/messages/sk/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/sl/yii.php b/framework/messages/sl/yii.php
index 53031adb582..7fa542489bb 100644
--- a/framework/messages/sl/yii.php
+++ b/framework/messages/sl/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/sr-Latn/yii.php b/framework/messages/sr-Latn/yii.php
index 5a5e047c4e0..e4467b9a679 100644
--- a/framework/messages/sr-Latn/yii.php
+++ b/framework/messages/sr-Latn/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/sr/yii.php b/framework/messages/sr/yii.php
index 2edf790189b..6e7ba378329 100644
--- a/framework/messages/sr/yii.php
+++ b/framework/messages/sr/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/sv/yii.php b/framework/messages/sv/yii.php
index d416aa7d25c..b3777626b02 100644
--- a/framework/messages/sv/yii.php
+++ b/framework/messages/sv/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/tg/yii.php b/framework/messages/tg/yii.php
index bd7894a6faa..76429c5874e 100644
--- a/framework/messages/tg/yii.php
+++ b/framework/messages/tg/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/th/yii.php b/framework/messages/th/yii.php
index a9859e299a4..0b2c056ed9f 100644
--- a/framework/messages/th/yii.php
+++ b/framework/messages/th/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/tr/yii.php b/framework/messages/tr/yii.php
index e1ecb7e6414..b846f17d1e0 100644
--- a/framework/messages/tr/yii.php
+++ b/framework/messages/tr/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/uk/yii.php b/framework/messages/uk/yii.php
index 927b8a7479c..fb6fed9c46a 100644
--- a/framework/messages/uk/yii.php
+++ b/framework/messages/uk/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/uz-Cy/yii.php b/framework/messages/uz-Cy/yii.php
new file mode 100644
index 00000000000..f9d59f1c927
--- /dev/null
+++ b/framework/messages/uz-Cy/yii.php
@@ -0,0 +1,125 @@
+<?php
+    /**
+     * @link https://www.yiiframework.com/
+     * @copyright Copyright (c) 2008 Yii Software LLC
+     * @license https://www.yiiframework.com/license/
+     */
+
+    /**
+     * Message translations.
+     *
+     * This file is automatically generated by 'yii message/extract' command.
+     * It contains the localizable messages extracted from source code.
+     * You may modify this file by translating the extracted messages.
+     *
+     * Each array element represents the translation (value) of a message (key).
+     * If the value is empty, the message is considered as not translated.
+     * Messages that no longer need translation will have their translations
+     * enclosed between a pair of '@@' marks.
+     *
+     * Message string can be used with plural forms format. Check i18n section
+     * of the guide for details.
+     *
+     * NOTE: this file must be saved in UTF-8 encoding.
+     */
+    return [
+        '{nFormatted} B' => '{nFormatted} Б',
+        '{nFormatted} GB' => '{nFormatted} ГБ',
+        '{nFormatted} GiB' => '{nFormatted} ГиБ',
+        '{nFormatted} KB' => '{nFormatted} КБ',
+        '{nFormatted} KiB' => '{nFormatted} КиБ',
+        '{nFormatted} MB' => '{nFormatted} МБ',
+        '{nFormatted} MiB' => '{nFormatted} МиБ',
+        '{nFormatted} PB' => '{nFormatted} ПБ',
+        '{nFormatted} PiB' => '{nFormatted} ПиБ',
+        '{nFormatted} TB' => '{nFormatted} ТБ',
+        '{nFormatted} TiB' => '{nFormatted} ТиБ',
+        '{nFormatted} {n, plural, =1{byte} other{bytes}}' => '{nFormatted} {n, plural, one{байт} few{байт} many{байтлар} other{байт}}',
+        '{nFormatted} {n, plural, =1{gibibyte} other{gibibytes}}' => '{nFormatted} {n, plural, one{гибибайт} few{гибибайт} many{гибибайт} other{гибибайт}}',
+        '{nFormatted} {n, plural, =1{gigabyte} other{gigabytes}}' => '{nFormatted} {n, plural, one{гигабайт} few{гигабайт} many{гигабайт} other{гигабайт}}',
+        '{nFormatted} {n, plural, =1{kibibyte} other{kibibytes}}' => '{nFormatted} {n, plural, one{кибибайт} few{кибибайт} many{кибибайт} other{кибибайт}}',
+        '{nFormatted} {n, plural, =1{kilobyte} other{kilobytes}}' => '{nFormatted} {n, plural, one{килобайт} few{килобайт} many{килобайт} other{килобайт}}',
+        '{nFormatted} {n, plural, =1{mebibyte} other{mebibytes}}' => '{nFormatted} {n, plural, one{мебибайт} few{мебибайт} many{мебибайт} other{мебибайт}}',
+        '{nFormatted} {n, plural, =1{megabyte} other{megabytes}}' => '{nFormatted} {n, plural, one{мегабайт} few{мегабайт} many{мегабайт} other{мегабайт}}',
+        '{nFormatted} {n, plural, =1{pebibyte} other{pebibytes}}' => '{nFormatted} {n, plural, one{пебибайт} few{пебибайт} many{пебибайт} other{пебибайт}}',
+        '{nFormatted} {n, plural, =1{petabyte} other{petabytes}}' => '{nFormatted} {n, plural, one{петабайт} few{петабайт} many{петабайт} other{петабайт}}',
+        '{nFormatted} {n, plural, =1{tebibyte} other{tebibytes}}' => '{nFormatted} {n, plural, one{тебибайт} few{тебибайт} many{тебибайт} other{тебибайт}}',
+        '{nFormatted} {n, plural, =1{terabyte} other{terabytes}}' => '{nFormatted} {n, plural, one{терабайт} few{терабайт} many{терабайт} other{терабайт}}',
+        '(not set)' => '(қийматланмаган)',
+        'An internal server error occurred.' => 'Сервернинг ички хатолиги юз берди.',
+        'Are you sure you want to delete this item?' => 'Сиз ростдан ҳам ушбу элементни ўчирмоқчимисиз?',
+        'Delete' => 'Ўчириш',
+        'Error' => 'Хато',
+        'File upload failed.' => 'Файлни юклаб бўлмади.',
+        'Home' => 'Асосий',
+        'Invalid data received for parameter "{param}".' => '"{param}" параметр қиймати нотўғри.',
+        'Login Required' => 'Кириш талаб қилинади.',
+        'Missing required arguments: {params}' => 'Қуйидаги зарур аргументлар мавжуд эмас: {params}',
+        'Missing required parameters: {params}' => 'Қуйидаги зарур параметрлар мавжуд эмас: {params}',
+        'No' => 'Йўқ',
+        'No help for unknown command "{command}".' => '"{command}" ноаниқ команда учун маълумотнома мавжуд эмас.',
+        'No help for unknown sub-command "{command}".' => '"{command}" ноаниқ қисм команда учун маълумотнома мавжуд эмас.',
+        'No results found.' => 'Хеч нима топилмади.',
+        'Only files with these MIME types are allowed: {mimeTypes}.' => 'Фақат MIME-туридаги файлларни юклашга рухсат берилган: {mimeTypes}.',
+        'Only files with these extensions are allowed: {extensions}.' => 'Фақат қуйидаги кенгайтмали файлларни юклашга рухсат берилган: {extensions}.',
+        'Page not found.' => 'Саҳифа топилмади.',
+        'Please fix the following errors:' => 'Қуйидаги хатоликларни тўғриланг:',
+        'Please upload a file.' => 'Файлни юкланг.',
+        'Showing <b>{begin, number}-{end, number}</b> of <b>{totalCount, number}</b> {totalCount, plural, one{item} other{items}}.' => 'Намойиш этиляпти <b>{begin, number}-{end, number}</b> маълумот, жами: <b>{totalCount, number}</b> та',
+        'The file "{file}" is not an image.' => '«{file}» расм файл эмас.',
+        'The file "{file}" is too big. Its size cannot exceed {formattedLimit}.' => '«{file}» файл жуда катта. Ўлчам {formattedLimit} ошиши керак эмас.',
+        'The file "{file}" is too small. Its size cannot be smaller than {formattedLimit}.' => '«{file}» файл жуда кичкина. Ўлчам {formattedLimit} кам бўлмаслиги керак.',
+        'The format of {attribute} is invalid.' => '«{attribute}» қийматнинг формати нотўғри.',
+        'The image "{file}" is too large. The height cannot be larger than {limit, number} {limit, plural, one{pixel} other{pixels}}.' => '«{file}» файл жуда катта. Баландлик {limit, number} {limit, plural, one{пикселдан} few{пикселдан} many{пикселдан} other{пикселдан}} ошмаслиги керак.',
+        'The image "{file}" is too large. The width cannot be larger than {limit, number} {limit, plural, one{pixel} other{pixels}}.' => '«{file}» файл жуда катта. Эни {limit, number} {limit, plural, one{пикселдан} few{пикселдан} many{пикселдан} other{пикселдан}} ошмаслиги керак.',
+        'The image "{file}" is too small. The height cannot be smaller than {limit, number} {limit, plural, one{pixel} other{pixels}}.' => '«{file}» файл жуда кичкина. Баландлик {limit, number} {limit, plural, one{пикселдан} few{пикселдан} many{пикселдан} other{пикселдан}} кам бўлмаслиги керак.',
+        'The image "{file}" is too small. The width cannot be smaller than {limit, number} {limit, plural, one{pixel} other{pixels}}.' => '«{file}» файл жуда кичкина. Эни {limit, number} {limit, plural, one{пикселдан} few{пикселдан} many{пикселдан} other{пикселдан}} кам бўлмаслиги керак.',
+        'The requested view "{name}" was not found.' => 'Сўралаётган "{name}" файли топилмади.',
+        'The verification code is incorrect.' => 'Текширув коди нотўғри.',
+        'Total <b>{count, number}</b> {count, plural, one{item} other{items}}.' => 'Жами <b>{count, number}</b> {count, plural, one{ёзув} few{ёзув} many{ёзув} other{ёзув}}.',
+        'Unable to verify your data submission.' => 'Юборилган маълумотларни текшириб бўлмади.',
+        'Unknown command "{command}".' => '"{command}" ноаниқ бўйриқ.',
+        'Unknown option: --{name}' => 'Ноаниқ танлов: --{name}',
+        'Update' => 'Таҳририлаш',
+        'View' => 'Кўриш',
+        'Yes' => 'Ҳа',
+        'You are not allowed to perform this action.' => 'Сизга ушбу амални бажаришга руҳсат берилмаган.',
+        'You can upload at most {limit, number} {limit, plural, one{file} other{files}}.' => 'Сиз {limit, number} {limit, plural, one{файлдан} few{файллардан} many{файллардан} other{файллардан}} кўпини юклаб ололмайсиз.',
+        'in {delta, plural, =1{a day} other{# days}}' => '{delta, plural, =1{кундан} one{# кундан} few{# кундан} many{# кунлардан} other{# кундан}} кейин',
+        'in {delta, plural, =1{a minute} other{# minutes}}' => '{delta, plural, =1{минутдан} one{# минутдан} few{# минутлардан} many{# минутдан} other{# минутлардан}} кейин',
+        'in {delta, plural, =1{a month} other{# months}}' => '{delta, plural, =1{ойдан} one{# ойдан} few{# ойдан} many{# ойлардан} other{# ойлардан}} кейин',
+        'in {delta, plural, =1{a second} other{# seconds}}' => '{delta, plural, =1{секунддан} one{# секунддан} few{# секундлардан} many{# секунддан} other{# секундлардан}} кейин',
+        'in {delta, plural, =1{a year} other{# years}}' => '{delta, plural, =1{йилдан} one{# йилдан} few{# йиллардан} many{# йиллардан} other{# йиллардан}} кейин',
+        'in {delta, plural, =1{an hour} other{# hours}}' => '{delta, plural, =1{соатдан} one{# соатдан} few{# соатлардан} many{# соатлардан} other{# соатлардан}} кейин',
+        'just now' => 'ҳозироқ',
+        'the input value' => 'киритилган қиймат',
+        '{attribute} "{value}" has already been taken.' => '{attribute} «{value}» аввалроқ банд қилинган.',
+        '{attribute} cannot be blank.' => '«{attribute}» тўлдириш шарт.',
+        '{attribute} is invalid.' => '«{attribute}» қиймати нотўғри',
+        '{attribute} is not a valid URL.' => '«{attribute}» тўғри URL эмас.',
+        '{attribute} is not a valid email address.' => '«{attribute}» тўғри электрон манзил эмас.',
+        '{attribute} must be "{requiredValue}".' => '«{attribute}» қиймати «{requiredValue}» га тенг бўлиши керак.',
+        '{attribute} must be a number.' => '«{attribute}» қиймати сон бўлиши керак.',
+        '{attribute} must be a string.' => '«{attribute}» қиймати матн бўлиши керак.',
+        '{attribute} must be an integer.' => '«{attribute}» қиймати бутун сон бўлиши керак.',
+        '{attribute} must be either "{true}" or "{false}".' => '«{attribute}» қиймати «{true}» ёки «{false}» бўлиши керак.',
+        '{attribute} must be greater than "{compareValue}".' => '«{attribute}» қиймати «{compareValue}» дан катта бўлиши керак.',
+        '{attribute} must be greater than or equal to "{compareValue}".' => '«{attribute}» қиймати «{compareValue}» дан катта ёки тенг бўлиши керак.',
+        '{attribute} must be less than "{compareValue}".' => '«{attribute}» қиймати «{compareValue}» дан кичкина бўлиши керак.',
+        '{attribute} must be less than or equal to "{compareValue}".' => '«{attribute}» қиймати «{compareValue}» дан кичик ёки тенг бўлиши керак.',
+        '{attribute} must be no greater than {max}.' => '«{attribute}» қиймати {max} дан ошмаслиги керак.',
+        '{attribute} must be no less than {min}.' => '«{attribute}» қиймати {min} дан кичкина бўлиши керак.',
+        '{attribute} must be repeated exactly.' => '«{attribute}» қиймати бир хил тарзда такрорланиши керак.',
+        '{attribute} must not be equal to "{compareValue}".' => '«{attribute}» қиймати «{compareValue}» га тенг бўлмаслиги керак.',
+        '{attribute} must not be equal to "{compareValueOrAttribute}".' => '«{attribute}» қиймати «{compareValueOrAttribute}» қийматига тенг бўлмаслиги лозим.',
+        '{attribute} should contain at least {min, number} {min, plural, one{character} other{characters}}.' => '«{attribute}» қиймати минимум {min, number} {min, plural, one{белгидан} few{белгидан} many{белгидан} other{белгидан}} ташкил топиши керак.',
+        '{attribute} should contain at most {max, number} {max, plural, one{character} other{characters}}.' => '«{attribute}» қиймати максимум {max, number} {max, plural, one{белгидан} few{белгидан} many{белгидан} other{белгидан}} ошмаслиги керак.',
+        '{attribute} should contain {length, number} {length, plural, one{character} other{characters}}.' => '«{attribute}» қиймати {length, number} {length, plural, one{белгидан} few{белгидан} many{белгидан} other{белгидан}} ташкил топиши керак.',
+        '{delta, plural, =1{a day} other{# days}} ago' => '{delta, plural, =1{кун} one{кун} few{# кун} many{# кун} other{# кун}} аввал',
+        '{delta, plural, =1{a minute} other{# minutes}} ago' => '{delta, plural, =1{дақиқа} one{# дақиқа} few{# дақиқа} many{# дақиқа} other{# дақиқа}} аввал',
+        '{delta, plural, =1{a month} other{# months}} ago' => '{delta, plural, =1{ой} one{# ой} few{# ой} many{# ой} other{# ой}} аввал',
+        '{delta, plural, =1{a second} other{# seconds}} ago' => '{delta, plural, =1{сония} one{# сония} few{# сония} many{# сония} other{# сония}} аввал',
+        '{delta, plural, =1{a year} other{# years}} ago' => '{delta, plural, =1{йил} one{# йил} few{# йил} many{# йил} other{# йил}} аввал',
+        '{delta, plural, =1{an hour} other{# hours}} ago' => '{delta, plural, =1{соат} one{# соат} few{# соат} many{# соат} other{# соат}} аввал',
+    ];
+
diff --git a/framework/messages/uz/yii.php b/framework/messages/uz/yii.php
index 1d3a94d8a81..306de73abcc 100644
--- a/framework/messages/uz/yii.php
+++ b/framework/messages/uz/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/vi/yii.php b/framework/messages/vi/yii.php
index d56cf296a78..4bbc9f4896b 100644
--- a/framework/messages/vi/yii.php
+++ b/framework/messages/vi/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/zh-CN/yii.php b/framework/messages/zh-CN/yii.php
index 00be4349e40..9d5447b89d7 100644
--- a/framework/messages/zh-CN/yii.php
+++ b/framework/messages/zh-CN/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/messages/zh-TW/yii.php b/framework/messages/zh-TW/yii.php
index a4b500bfb96..866b25d0f9b 100644
--- a/framework/messages/zh-TW/yii.php
+++ b/framework/messages/zh-TW/yii.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/framework/mutex/DbMutex.php b/framework/mutex/DbMutex.php
index b47188f8a55..593cff4e08a 100644
--- a/framework/mutex/DbMutex.php
+++ b/framework/mutex/DbMutex.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mutex;
diff --git a/framework/mutex/FileMutex.php b/framework/mutex/FileMutex.php
index 5dc71a088cb..241f3fce0df 100644
--- a/framework/mutex/FileMutex.php
+++ b/framework/mutex/FileMutex.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mutex;
@@ -49,7 +49,7 @@ class FileMutex extends Mutex
      */
     public $mutexPath = '@runtime/mutex';
     /**
-     * @var int the permission to be set for newly created mutex files.
+     * @var int|null the permission to be set for newly created mutex files.
      * This value will be used by PHP chmod() function. No umask will be applied.
      * If not set, the permission will be determined by the current environment.
      */
@@ -62,7 +62,7 @@ class FileMutex extends Mutex
      */
     public $dirMode = 0775;
     /**
-     * @var bool whether file handling should assume a Windows file system.
+     * @var bool|null whether file handling should assume a Windows file system.
      * This value will determine how [[releaseLock()]] goes about deleting the lock file.
      * If not set, it will be determined by checking the DIRECTORY_SEPARATOR constant.
      * @since 2.0.16
diff --git a/framework/mutex/Mutex.php b/framework/mutex/Mutex.php
index 4df573a9354..3654ce30297 100644
--- a/framework/mutex/Mutex.php
+++ b/framework/mutex/Mutex.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mutex;
diff --git a/framework/mutex/MysqlMutex.php b/framework/mutex/MysqlMutex.php
index c89345fe7da..dd1730c63ad 100644
--- a/framework/mutex/MysqlMutex.php
+++ b/framework/mutex/MysqlMutex.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mutex;
@@ -52,7 +52,7 @@ public function init()
      * @param string $name of the lock to be acquired.
      * @param int $timeout time (in seconds) to wait for lock to become released.
      * @return bool acquiring result.
-     * @see http://dev.mysql.com/doc/refman/5.0/en/miscellaneous-functions.html#function_get-lock
+     * @see https://dev.mysql.com/doc/refman/8.0/en/miscellaneous-functions.html#function_get-lock
      */
     protected function acquireLock($name, $timeout = 0)
     {
@@ -69,7 +69,7 @@ protected function acquireLock($name, $timeout = 0)
      * Releases lock by given name.
      * @param string $name of the lock to be released.
      * @return bool release result.
-     * @see http://dev.mysql.com/doc/refman/5.0/en/miscellaneous-functions.html#function_release-lock
+     * @see https://dev.mysql.com/doc/refman/8.0/en/miscellaneous-functions.html#function_release-lock
      */
     protected function releaseLock($name)
     {
diff --git a/framework/mutex/OracleMutex.php b/framework/mutex/OracleMutex.php
index 6edfdee758c..1e15876edd8 100644
--- a/framework/mutex/OracleMutex.php
+++ b/framework/mutex/OracleMutex.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mutex;
@@ -33,7 +33,7 @@
  * ]
  * ```
  *
- * @see http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_lock.htm
+ * @see https://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_lock.htm#ARPLS021
  * @see Mutex
  *
  * @author Alexander Zlakomanov <zlakomanoff@gmail.com>
@@ -51,7 +51,7 @@ class OracleMutex extends DbMutex
 
     /**
      * @var string lock mode to be used.
-     * @see http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_lock.htm#CHDBCFDI
+     * @see https://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_lock.htm#ARPLS021#CHDBCFDI
      */
     public $lockMode = self::MODE_X;
     /**
@@ -74,7 +74,7 @@ public function init()
 
     /**
      * Acquires lock by given name.
-     * @see http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_lock.htm
+     * @see https://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_lock.htm#ARPLS021
      * @param string $name of the lock to be acquired.
      * @param int $timeout time (in seconds) to wait for lock to become released.
      * @return bool acquiring result.
@@ -110,7 +110,7 @@ protected function acquireLock($name, $timeout = 0)
      * Releases lock by given name.
      * @param string $name of the lock to be released.
      * @return bool release result.
-     * @see http://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_lock.htm
+     * @see https://docs.oracle.com/cd/B19306_01/appdev.102/b14258/d_lock.htm#ARPLS021
      */
     protected function releaseLock($name)
     {
diff --git a/framework/mutex/PgsqlMutex.php b/framework/mutex/PgsqlMutex.php
index 900ac5ff391..3f1c045a1a9 100644
--- a/framework/mutex/PgsqlMutex.php
+++ b/framework/mutex/PgsqlMutex.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mutex;
@@ -65,7 +65,7 @@ private function getKeysFromName($name)
      * @param string $name of the lock to be acquired.
      * @param int $timeout time (in seconds) to wait for lock to become released.
      * @return bool acquiring result.
-     * @see http://www.postgresql.org/docs/9.0/static/functions-admin.html
+     * @see https://www.postgresql.org/docs/9.0/functions-admin.html
      */
     protected function acquireLock($name, $timeout = 0)
     {
@@ -86,7 +86,7 @@ protected function acquireLock($name, $timeout = 0)
      * Releases lock by given name.
      * @param string $name of the lock to be released.
      * @return bool release result.
-     * @see http://www.postgresql.org/docs/9.0/static/functions-admin.html
+     * @see https://www.postgresql.org/docs/9.0/functions-admin.html
      */
     protected function releaseLock($name)
     {
diff --git a/framework/mutex/RetryAcquireTrait.php b/framework/mutex/RetryAcquireTrait.php
index 7f41fd744dd..52528b630fd 100644
--- a/framework/mutex/RetryAcquireTrait.php
+++ b/framework/mutex/RetryAcquireTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\mutex;
diff --git a/framework/rbac/Assignment.php b/framework/rbac/Assignment.php
index b0bf837038d..21e2ad03bcd 100644
--- a/framework/rbac/Assignment.php
+++ b/framework/rbac/Assignment.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
diff --git a/framework/rbac/BaseManager.php b/framework/rbac/BaseManager.php
index 48d7b3f3182..36daef1c6aa 100644
--- a/framework/rbac/BaseManager.php
+++ b/framework/rbac/BaseManager.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
@@ -17,8 +17,7 @@
  *
  * For more details and usage information on DbManager, see the [guide article on security authorization](guide:security-authorization).
  *
- * @property-read Role[] $defaultRoleInstances Default roles. The array is indexed by the role names. This
- * property is read-only.
+ * @property-read Role[] $defaultRoleInstances Default roles. The array is indexed by the role names.
  * @property string[] $defaultRoles Default roles. Note that the type of this property differs in getter and
  * setter. See [[getDefaultRoles()]] and [[setDefaultRoles()]] for details.
  *
diff --git a/framework/rbac/CheckAccessInterface.php b/framework/rbac/CheckAccessInterface.php
index 9a2a5985662..38d86ee7a06 100644
--- a/framework/rbac/CheckAccessInterface.php
+++ b/framework/rbac/CheckAccessInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
diff --git a/framework/rbac/DbManager.php b/framework/rbac/DbManager.php
index 9aa29ae9453..eb7a86e8cfd 100644
--- a/framework/rbac/DbManager.php
+++ b/framework/rbac/DbManager.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
@@ -62,7 +62,7 @@ class DbManager extends BaseManager
      */
     public $ruleTable = '{{%auth_rule}}';
     /**
-     * @var CacheInterface|array|string the cache used to improve RBAC performance. This can be one of the following:
+     * @var CacheInterface|array|string|null the cache used to improve RBAC performance. This can be one of the following:
      *
      * - an application component ID (e.g. `cache`)
      * - a configuration array
diff --git a/framework/rbac/Item.php b/framework/rbac/Item.php
index 5149b38daed..69738026d98 100644
--- a/framework/rbac/Item.php
+++ b/framework/rbac/Item.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
diff --git a/framework/rbac/ManagerInterface.php b/framework/rbac/ManagerInterface.php
index 4d53d30712e..e4d2c7029e7 100644
--- a/framework/rbac/ManagerInterface.php
+++ b/framework/rbac/ManagerInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
@@ -60,7 +60,7 @@ public function update($name, $object);
     /**
      * Returns the named role.
      * @param string $name the role name.
-     * @return null|Role the role corresponding to the specified name. Null is returned if no such role.
+     * @return Role|null the role corresponding to the specified name. Null is returned if no such role.
      */
     public function getRole($name);
 
@@ -91,7 +91,7 @@ public function getChildRoles($roleName);
     /**
      * Returns the named permission.
      * @param string $name the permission name.
-     * @return null|Permission the permission corresponding to the specified name. Null is returned if no such permission.
+     * @return Permission|null the permission corresponding to the specified name. Null is returned if no such permission.
      */
     public function getPermission($name);
 
@@ -118,7 +118,7 @@ public function getPermissionsByUser($userId);
     /**
      * Returns the rule of the specified name.
      * @param string $name the rule name
-     * @return null|Rule the rule object, or null if the specified name does not correspond to a rule.
+     * @return Rule|null the rule object, or null if the specified name does not correspond to a rule.
      */
     public function getRule($name);
 
@@ -208,7 +208,7 @@ public function revokeAll($userId);
      * Returns the assignment information regarding a role and a user.
      * @param string $roleName the role name
      * @param string|int $userId the user ID (see [[\yii\web\User::id]])
-     * @return null|Assignment the assignment information. Null is returned if
+     * @return Assignment|null the assignment information. Null is returned if
      * the role is not assigned to the user.
      */
     public function getAssignment($roleName, $userId);
diff --git a/framework/rbac/Permission.php b/framework/rbac/Permission.php
index 9471079ce17..9ae9a339383 100644
--- a/framework/rbac/Permission.php
+++ b/framework/rbac/Permission.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
diff --git a/framework/rbac/PhpManager.php b/framework/rbac/PhpManager.php
index 9a15990d3ea..291d72976ba 100644
--- a/framework/rbac/PhpManager.php
+++ b/framework/rbac/PhpManager.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
@@ -23,7 +23,7 @@
  * (for example, the authorization data for a personal blog system).
  * Use [[DbManager]] for more complex authorization data.
  *
- * Note that PhpManager is not compatible with facebooks [HHVM](http://hhvm.com/) because
+ * Note that PhpManager is not compatible with facebooks [HHVM](https://hhvm.com/) because
  * it relies on writing php files and including them afterwards which is not supported by HHVM.
  *
  * For more details and usage information on PhpManager, see the [guide article on security authorization](guide:security-authorization).
diff --git a/framework/rbac/Role.php b/framework/rbac/Role.php
index a7b3216554b..cab181dc0ea 100644
--- a/framework/rbac/Role.php
+++ b/framework/rbac/Role.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
diff --git a/framework/rbac/Rule.php b/framework/rbac/Rule.php
index 5e1bbdb4f8d..d91163ffbe4 100644
--- a/framework/rbac/Rule.php
+++ b/framework/rbac/Rule.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
diff --git a/framework/rbac/migrations/m140506_102106_rbac_init.php b/framework/rbac/migrations/m140506_102106_rbac_init.php
index 1429486a3b9..5ce63824d10 100644
--- a/framework/rbac/migrations/m140506_102106_rbac_init.php
+++ b/framework/rbac/migrations/m140506_102106_rbac_init.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\base\InvalidConfigException;
@@ -40,7 +40,7 @@ protected function isMSSQL()
 
     protected function isOracle()
     {
-        return $this->db->driverName === 'oci';
+        return $this->db->driverName === 'oci' || $this->db->driverName === 'oci8';
     }
 
     /**
@@ -54,7 +54,7 @@ public function up()
 
         $tableOptions = null;
         if ($this->db->driverName === 'mysql') {
-            // http://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
+            // https://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
             $tableOptions = 'CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE=InnoDB';
         }
 
diff --git a/framework/rbac/migrations/m170907_052038_rbac_add_index_on_auth_assignment_user_id.php b/framework/rbac/migrations/m170907_052038_rbac_add_index_on_auth_assignment_user_id.php
index 061da00f8cc..4fee2611bce 100644
--- a/framework/rbac/migrations/m170907_052038_rbac_add_index_on_auth_assignment_user_id.php
+++ b/framework/rbac/migrations/m170907_052038_rbac_add_index_on_auth_assignment_user_id.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\base\InvalidConfigException;
diff --git a/framework/rbac/migrations/m180523_151638_rbac_updates_indexes_without_prefix.php b/framework/rbac/migrations/m180523_151638_rbac_updates_indexes_without_prefix.php
index ca85f46f1ed..b7278be7628 100644
--- a/framework/rbac/migrations/m180523_151638_rbac_updates_indexes_without_prefix.php
+++ b/framework/rbac/migrations/m180523_151638_rbac_updates_indexes_without_prefix.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\base\InvalidConfigException;
diff --git a/framework/rbac/migrations/m200409_110543_rbac_update_mssql_trigger.php b/framework/rbac/migrations/m200409_110543_rbac_update_mssql_trigger.php
index 94445829f6b..9b808682134 100644
--- a/framework/rbac/migrations/m200409_110543_rbac_update_mssql_trigger.php
+++ b/framework/rbac/migrations/m200409_110543_rbac_update_mssql_trigger.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\base\InvalidConfigException;
diff --git a/framework/rbac/migrations/schema-mssql.sql b/framework/rbac/migrations/schema-mssql.sql
index f10843b57f6..afe74bdea6b 100644
--- a/framework/rbac/migrations/schema-mssql.sql
+++ b/framework/rbac/migrations/schema-mssql.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Alexander Kochetov <creocoder@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0
  */
 
diff --git a/framework/rbac/migrations/schema-mysql.sql b/framework/rbac/migrations/schema-mysql.sql
index 42ff6c35213..a96d7195bac 100644
--- a/framework/rbac/migrations/schema-mysql.sql
+++ b/framework/rbac/migrations/schema-mysql.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Alexander Kochetov <creocoder@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0
  */
 
diff --git a/framework/rbac/migrations/schema-oci.sql b/framework/rbac/migrations/schema-oci.sql
index 252c2194220..2753629703f 100644
--- a/framework/rbac/migrations/schema-oci.sql
+++ b/framework/rbac/migrations/schema-oci.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Alexander Kochetov <creocoder@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0
  */
 
diff --git a/framework/rbac/migrations/schema-pgsql.sql b/framework/rbac/migrations/schema-pgsql.sql
index 11aee39d38a..bf441c6b2dd 100644
--- a/framework/rbac/migrations/schema-pgsql.sql
+++ b/framework/rbac/migrations/schema-pgsql.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Alexander Kochetov <creocoder@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0
  */
 
diff --git a/framework/rbac/migrations/schema-sqlite.sql b/framework/rbac/migrations/schema-sqlite.sql
index 15f4a59972d..eb7e7b43db4 100644
--- a/framework/rbac/migrations/schema-sqlite.sql
+++ b/framework/rbac/migrations/schema-sqlite.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Alexander Kochetov <creocoder@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0
  */
 
diff --git a/framework/requirements/YiiRequirementChecker.php b/framework/requirements/YiiRequirementChecker.php
index bc214aa4ec8..c3c707876fb 100644
--- a/framework/requirements/YiiRequirementChecker.php
+++ b/framework/requirements/YiiRequirementChecker.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 if (version_compare(PHP_VERSION, '4.3', '<')) {
@@ -295,9 +295,9 @@ function checkUploadMaxFileSize($min = null, $max = null)
      * This method includes the view file as a PHP script
      * and captures the display result if required.
      * @param string $_viewFile_ view file
-     * @param array $_data_ data to be extracted and made available to the view file
+     * @param array|null $_data_ data to be extracted and made available to the view file
      * @param bool $_return_ whether the rendering result should be returned as a string
-     * @return string the rendering result. Null if the rendering result is not required.
+     * @return string|null the rendering result. Null if the rendering result is not required.
      */
     function renderViewFile($_viewFile_, $_data_ = null, $_return_ = false)
     {
diff --git a/framework/requirements/requirements.php b/framework/requirements/requirements.php
index b6e3d80965c..55593061518 100644
--- a/framework/requirements/requirements.php
+++ b/framework/requirements/requirements.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /* @var $this YiiRequirementChecker */
@@ -16,32 +16,32 @@
         'name' => 'PHP version',
         'mandatory' => true,
         'condition' => version_compare(PHP_VERSION, '5.4.0', '>='),
-        'by' => '<a href="http://www.yiiframework.com">Yii Framework</a>',
+        'by' => '<a href="https://www.yiiframework.com">Yii Framework</a>',
         'memo' => 'PHP 5.4.0 or higher is required.',
     ),
     array(
         'name' => 'Reflection extension',
         'mandatory' => true,
         'condition' => class_exists('Reflection', false),
-        'by' => '<a href="http://www.yiiframework.com">Yii Framework</a>',
+        'by' => '<a href="https://www.yiiframework.com">Yii Framework</a>',
     ),
     array(
         'name' => 'PCRE extension',
         'mandatory' => true,
         'condition' => extension_loaded('pcre'),
-        'by' => '<a href="http://www.yiiframework.com">Yii Framework</a>',
+        'by' => '<a href="https://www.yiiframework.com">Yii Framework</a>',
     ),
     array(
         'name' => 'SPL extension',
         'mandatory' => true,
         'condition' => extension_loaded('SPL'),
-        'by' => '<a href="http://www.yiiframework.com">Yii Framework</a>',
+        'by' => '<a href="https://www.yiiframework.com">Yii Framework</a>',
     ),
     array(
         'name' => 'Ctype extension',
         'mandatory' => true,
         'condition' => extension_loaded('ctype'),
-        'by' => '<a href="http://www.yiiframework.com">Yii Framework</a>'
+        'by' => '<a href="https://www.yiiframework.com">Yii Framework</a>'
     ),
     array(
         'name' => 'MBString extension',
@@ -54,7 +54,7 @@
         'name' => 'OpenSSL extension',
         'mandatory' => false,
         'condition' => extension_loaded('openssl'),
-        'by' => '<a href="http://www.yiiframework.com/doc-2.0/yii-base-security.html">Security Component</a>',
+        'by' => '<a href="https://www.yiiframework.com/doc-2.0/yii-base-security.html">Security Component</a>',
         'memo' => 'Required by encrypt and decrypt methods.'
     ),
     array(
@@ -74,7 +74,7 @@
         'by' => '<a href="https://www.php.net/manual/en/book.intl.php">Internationalization</a> support',
         'memo' => 'ICU 49.0 or higher is required when you want to use <code>#</code> placeholder in plural rules
         (for example, plural in
-        <a href=\"http://www.yiiframework.com/doc-2.0/yii-i18n-formatter.html#asRelativeTime%28%29-detail\">
+        <a href=\"https://www.yiiframework.com/doc-2.0/yii-i18n-formatter.html#asRelativeTime%28%29-detail\">
         Formatter::asRelativeTime()</a>) in the <code>yii\i18n\Formatter</code> class. Your current ICU version is ' .
         (defined('INTL_ICU_VERSION') ? INTL_ICU_VERSION : '(ICU is missing)') . '.'
     ),
@@ -85,7 +85,7 @@
         'by' => '<a href="https://www.php.net/manual/en/book.intl.php">Internationalization</a> support',
         'memo' => 'ICU Data 49.1 or higher is required when you want to use <code>#</code> placeholder in plural rules
         (for example, plural in
-        <a href=\"http://www.yiiframework.com/doc-2.0/yii-i18n-formatter.html#asRelativeTime%28%29-detail\">
+        <a href=\"https://www.yiiframework.com/doc-2.0/yii-i18n-formatter.html#asRelativeTime%28%29-detail\">
         Formatter::asRelativeTime()</a>) in the <code>yii\i18n\Formatter</code> class. Your current ICU Data version is ' .
         (defined('INTL_ICU_DATA_VERSION') ? INTL_ICU_DATA_VERSION : '(ICU Data is missing)') . '.'
     ),
@@ -107,8 +107,8 @@
         'name' => 'IPv6 support',
         'mandatory' => false,
         'condition' => strlen(@inet_pton('2001:db8::1')) === 16,
-        'by' => 'IPv6 expansion in <a href="http://www.yiiframework.com/doc-2.0/yii-validators-ipvalidator.html">IpValidator</a>',
-        'memo' => 'When <a href="http://www.yiiframework.com/doc-2.0/yii-validators-ipvalidator.html#$expandIPv6-detail">IpValidator::expandIPv6</a>
+        'by' => 'IPv6 expansion in <a href="https://www.yiiframework.com/doc-2.0/yii-validators-ipvalidator.html">IpValidator</a>',
+        'memo' => 'When <a href="https://www.yiiframework.com/doc-2.0/yii-validators-ipvalidator.html#$expandIPv6-detail">IpValidator::expandIPv6</a>
         property is set to <code>true</code>, PHP must support IPv6 protocol stack. Currently PHP constant <code>AF_INET6</code> is not defined
         and IPv6 is probably unsupported.'
     )
diff --git a/framework/requirements/views/console/index.php b/framework/requirements/views/console/index.php
index 68c4cb543e1..acf912698a9 100644
--- a/framework/requirements/views/console/index.php
+++ b/framework/requirements/views/console/index.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /* @var $this YiiRequirementChecker */
diff --git a/framework/requirements/views/web/index.php b/framework/requirements/views/web/index.php
index 08d15798bbf..15b2233d537 100644
--- a/framework/requirements/views/web/index.php
+++ b/framework/requirements/views/web/index.php
@@ -70,7 +70,7 @@ functionality may be not available in this case.
     <hr>
     <footer>
         <p>Server: <?php echo $this->getServerInfo() . ' ' . $this->getNowDate() ?></p>
-        <p>Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></p>
+        <p>Powered by <a href="https://www.yiiframework.com/" rel="external">Yii Framework</a></p>
     </footer>
 </div>
 </body>
diff --git a/framework/rest/Action.php b/framework/rest/Action.php
index 466acfc2f31..c700d665c8f 100644
--- a/framework/rest/Action.php
+++ b/framework/rest/Action.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
@@ -29,7 +29,7 @@ class Action extends \yii\base\Action
      */
     public $modelClass;
     /**
-     * @var callable a PHP callable that will be called to return the model corresponding
+     * @var callable|null a PHP callable that will be called to return the model corresponding
      * to the specified primary key value. If not set, [[findModel()]] will be used instead.
      * The signature of the callable should be:
      *
@@ -45,7 +45,7 @@ class Action extends \yii\base\Action
      */
     public $findModel;
     /**
-     * @var callable a PHP callable that will be called when running an action to determine
+     * @var callable|null a PHP callable that will be called when running an action to determine
      * if the current user has the permission to execute the action. If not set, the access
      * check will not be performed. The signature of the callable should be as follows,
      *
diff --git a/framework/rest/ActiveController.php b/framework/rest/ActiveController.php
index 5e7df58fbe8..ae14947ac2b 100644
--- a/framework/rest/ActiveController.php
+++ b/framework/rest/ActiveController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
@@ -127,7 +127,7 @@ protected function verbs()
      * If the user does not have access, a [[ForbiddenHttpException]] should be thrown.
      *
      * @param string $action the ID of the action to be executed
-     * @param object $model the model to be accessed. If null, it means no specific model is being accessed.
+     * @param object|null $model the model to be accessed. If null, it means no specific model is being accessed.
      * @param array $params additional parameters
      * @throws ForbiddenHttpException if the user does not have access
      */
diff --git a/framework/rest/Controller.php b/framework/rest/Controller.php
index e473bdb4a7d..9512ee75e19 100644
--- a/framework/rest/Controller.php
+++ b/framework/rest/Controller.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
diff --git a/framework/rest/CreateAction.php b/framework/rest/CreateAction.php
index 82537a56ca8..be6e3e35527 100644
--- a/framework/rest/CreateAction.php
+++ b/framework/rest/CreateAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
diff --git a/framework/rest/DeleteAction.php b/framework/rest/DeleteAction.php
index 4326a6104dc..43ad64bcc78 100644
--- a/framework/rest/DeleteAction.php
+++ b/framework/rest/DeleteAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
diff --git a/framework/rest/IndexAction.php b/framework/rest/IndexAction.php
index b1df395c359..81b19cab784 100644
--- a/framework/rest/IndexAction.php
+++ b/framework/rest/IndexAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
@@ -10,6 +10,9 @@
 use Yii;
 use yii\data\ActiveDataProvider;
 use yii\data\DataFilter;
+use yii\data\Pagination;
+use yii\data\Sort;
+use yii\helpers\ArrayHelper;
 
 /**
  * IndexAction implements the API endpoint for listing multiple models.
@@ -22,7 +25,7 @@
 class IndexAction extends Action
 {
     /**
-     * @var callable a PHP callable that will be called to prepare a data provider that
+     * @var callable|null a PHP callable that will be called to prepare a data provider that
      * should return a collection of the models. If not set, [[prepareDataProvider()]] will be used instead.
      * The signature of the callable should be:
      *
@@ -46,8 +49,8 @@ class IndexAction extends Action
      */
     public $prepareDataProvider;
     /**
-     * @var callable a PHP callable that will be called to prepare query in prepareDataProvider
-     * Should return $query
+     * @var callable a PHP callable that will be called to prepare query in prepareDataProvider.
+     * Should return $query.
      * For example:
      *
      * ```php
@@ -63,7 +66,7 @@ class IndexAction extends Action
     public $prepareSearchQuery;
     /**
      * @var DataFilter|null data filter to be used for the search filter composition.
-     * You must setup this field explicitly in order to enable filter processing.
+     * You must set up this field explicitly in order to enable filter processing.
      * For example:
      *
      * ```php
@@ -84,6 +87,22 @@ class IndexAction extends Action
      * @since 2.0.13
      */
     public $dataFilter;
+    /**
+     * @var array|Pagination|false The pagination to be used by [[prepareDataProvider()]].
+     * If this is `false`, it means pagination is disabled.
+     * Note: if a Pagination object is passed, it's `params` will be set to the request parameters.
+     * @see Pagination
+     * @since 2.0.45
+     */
+    public $pagination = [];
+    /**
+     * @var array|Sort|false The sorting to be used by [[prepareDataProvider()]].
+     * If this is `false`, it means sorting is disabled.
+     * Note: if a Sort object is passed, it's `params` will be set to the request parameters.
+     * @see Sort
+     * @since 2.0.45
+     */
+    public $sort = [];
 
 
     /**
@@ -135,15 +154,39 @@ protected function prepareDataProvider()
             $query = call_user_func($this->prepareSearchQuery, $query, $requestParams);
         }
 
+        if (is_array($this->pagination)) {
+            $pagination = ArrayHelper::merge(
+                [
+                    'params' => $requestParams,
+                ],
+                $this->pagination
+            );
+        } else {
+            $pagination = $this->pagination;
+            if ($this->pagination instanceof Pagination) {
+                $pagination->params = $requestParams;
+            }
+        }
+
+        if (is_array($this->sort)) {
+            $sort = ArrayHelper::merge(
+                [
+                    'params' => $requestParams,
+                ],
+                $this->sort
+            );
+        } else {
+            $sort = $this->sort;
+            if ($this->sort instanceof Sort) {
+                $sort->params = $requestParams;
+            }
+        }
+
         return Yii::createObject([
             'class' => ActiveDataProvider::className(),
             'query' => $query,
-            'pagination' => [
-                'params' => $requestParams,
-            ],
-            'sort' => [
-                'params' => $requestParams,
-            ],
+            'pagination' => $pagination,
+            'sort' => $sort,
         ]);
     }
 }
diff --git a/framework/rest/OptionsAction.php b/framework/rest/OptionsAction.php
index 2200bee2640..a4fdd3f611b 100644
--- a/framework/rest/OptionsAction.php
+++ b/framework/rest/OptionsAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
@@ -31,7 +31,7 @@ class OptionsAction extends \yii\base\Action
 
     /**
      * Responds to the OPTIONS request.
-     * @param string $id
+     * @param string|null $id
      */
     public function run($id = null)
     {
diff --git a/framework/rest/Serializer.php b/framework/rest/Serializer.php
index 2a47511e7f0..a4d16b195f2 100644
--- a/framework/rest/Serializer.php
+++ b/framework/rest/Serializer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
@@ -64,7 +64,7 @@ class Serializer extends Component
      */
     public $perPageHeader = 'X-Pagination-Per-Page';
     /**
-     * @var string the name of the envelope (e.g. `items`) for returning the resource objects in a collection.
+     * @var string|null the name of the envelope (e.g. `items`) for returning the resource objects in a collection.
      * This is used when serving a resource collection. When this is set and pagination is enabled, the serializer
      * will return a collection in the following format:
      *
@@ -102,11 +102,11 @@ class Serializer extends Component
      */
     public $metaEnvelope = '_meta';
     /**
-     * @var Request the current request. If not set, the `request` application component will be used.
+     * @var Request|null the current request. If not set, the `request` application component will be used.
      */
     public $request;
     /**
-     * @var Response the response to be sent. If not set, the `response` application component will be used.
+     * @var Response|null the response to be sent. If not set, the `response` application component will be used.
      */
     public $response;
     /**
diff --git a/framework/rest/UpdateAction.php b/framework/rest/UpdateAction.php
index a299679cddc..c307144231f 100644
--- a/framework/rest/UpdateAction.php
+++ b/framework/rest/UpdateAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
diff --git a/framework/rest/UrlRule.php b/framework/rest/UrlRule.php
index d90ccf5372e..48b1bbe7995 100644
--- a/framework/rest/UrlRule.php
+++ b/framework/rest/UrlRule.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
@@ -62,7 +62,7 @@
 class UrlRule extends CompositeUrlRule
 {
     /**
-     * @var string the common prefix string shared by all patterns.
+     * @var string|null the common prefix string shared by all patterns.
      */
     public $prefix;
     /**
@@ -158,7 +158,7 @@ public function init()
         }
         $this->controller = $controllers;
 
-        $this->prefix = trim($this->prefix, '/');
+        $this->prefix = trim((string)$this->prefix, '/');
 
         parent::init();
     }
diff --git a/framework/rest/ViewAction.php b/framework/rest/ViewAction.php
index 3cd11f4ad58..dbe9bb2ac92 100644
--- a/framework/rest/ViewAction.php
+++ b/framework/rest/ViewAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rest;
diff --git a/framework/test/ActiveFixture.php b/framework/test/ActiveFixture.php
index 7021fc9509f..7517430e7a8 100644
--- a/framework/test/ActiveFixture.php
+++ b/framework/test/ActiveFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\test;
@@ -26,7 +26,7 @@
  * For more details and usage information on ActiveFixture, see the [guide article on fixtures](guide:test-fixtures).
  *
  * @property-read TableSchema $tableSchema The schema information of the database table associated with this
- * fixture. This property is read-only.
+ * fixture.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -34,13 +34,13 @@
 class ActiveFixture extends BaseActiveFixture
 {
     /**
-     * @var string the name of the database table that this fixture is about. If this property is not set,
+     * @var string|null the name of the database table that this fixture is about. If this property is not set,
      * the table name will be determined via [[modelClass]].
      * @see modelClass
      */
     public $tableName;
     /**
-     * @var string|bool the file path or [path alias](guide:concept-aliases) of the data file that contains the fixture data
+     * @var string|bool|null the file path or [path alias](guide:concept-aliases) of the data file that contains the fixture data
      * to be returned by [[getData()]]. If this is not set, it will default to `FixturePath/data/TableName.php`,
      * where `FixturePath` stands for the directory containing this fixture class, and `TableName` stands for the
      * name of the table associated with this fixture. You can set this property to be false to prevent loading any data.
diff --git a/framework/test/ArrayFixture.php b/framework/test/ArrayFixture.php
index ea0c000ee84..c146ab34e33 100644
--- a/framework/test/ArrayFixture.php
+++ b/framework/test/ArrayFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\test;
diff --git a/framework/test/BaseActiveFixture.php b/framework/test/BaseActiveFixture.php
index 54c30c99384..f953f918039 100644
--- a/framework/test/BaseActiveFixture.php
+++ b/framework/test/BaseActiveFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\test;
@@ -42,7 +42,7 @@ abstract class BaseActiveFixture extends DbFixture implements \IteratorAggregate
      * Returns the AR model by the specified model name.
      * A model name is the key of the corresponding data row in [[data]].
      * @param string $name the model name.
-     * @return null|\yii\db\ActiveRecord the AR model, or null if the model cannot be found in the database
+     * @return \yii\db\ActiveRecord|null the AR model, or null if the model cannot be found in the database
      * @throws \yii\base\InvalidConfigException if [[modelClass]] is not set.
      */
     public function getModel($name)
diff --git a/framework/test/DbFixture.php b/framework/test/DbFixture.php
index 098219e166d..d5a6322f9c2 100644
--- a/framework/test/DbFixture.php
+++ b/framework/test/DbFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\test;
diff --git a/framework/test/FileFixtureTrait.php b/framework/test/FileFixtureTrait.php
index 562e705d372..15c23948751 100644
--- a/framework/test/FileFixtureTrait.php
+++ b/framework/test/FileFixtureTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\test;
@@ -53,7 +53,7 @@ protected function loadData($file, $throwException = true)
         if (is_file($file)) {
             return require $file;
         }
-        
+
         if ($throwException) {
             throw new InvalidConfigException("Fixture data file does not exist: {$file}");
         }
diff --git a/framework/test/Fixture.php b/framework/test/Fixture.php
index f64a167afd7..22ff440a26f 100644
--- a/framework/test/Fixture.php
+++ b/framework/test/Fixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\test;
diff --git a/framework/test/FixtureTrait.php b/framework/test/FixtureTrait.php
index 7a72610da55..cd4bd14310a 100644
--- a/framework/test/FixtureTrait.php
+++ b/framework/test/FixtureTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\test;
@@ -79,7 +79,7 @@ public function globalFixtures()
     /**
      * Loads the specified fixtures.
      * This method will call [[Fixture::load()]] for every fixture object.
-     * @param Fixture[] $fixtures the fixtures to be loaded. If this parameter is not specified,
+     * @param Fixture[]|null $fixtures the fixtures to be loaded. If this parameter is not specified,
      * the return value of [[getFixtures()]] will be used.
      */
     public function loadFixtures($fixtures = null)
@@ -103,7 +103,7 @@ public function loadFixtures($fixtures = null)
     /**
      * Unloads the specified fixtures.
      * This method will call [[Fixture::unload()]] for every fixture object.
-     * @param Fixture[] $fixtures the fixtures to be loaded. If this parameter is not specified,
+     * @param Fixture[]|null $fixtures the fixtures to be loaded. If this parameter is not specified,
      * the return value of [[getFixtures()]] will be used.
      */
     public function unloadFixtures($fixtures = null)
@@ -151,7 +151,7 @@ public function getFixtures()
     /**
      * Returns the named fixture.
      * @param string $name the fixture name. This can be either the fixture alias name, or the class name if the alias is not used.
-     * @return Fixture the fixture object, or null if the named fixture does not exist.
+     * @return Fixture|null the fixture object, or null if the named fixture does not exist.
      */
     public function getFixture($name)
     {
diff --git a/framework/test/InitDbFixture.php b/framework/test/InitDbFixture.php
index 39b73985ba4..f18bd16b97a 100644
--- a/framework/test/InitDbFixture.php
+++ b/framework/test/InitDbFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\test;
diff --git a/framework/validators/BooleanValidator.php b/framework/validators/BooleanValidator.php
index ac8e334ea6a..ab29b755d9f 100644
--- a/framework/validators/BooleanValidator.php
+++ b/framework/validators/BooleanValidator.php
@@ -1,13 +1,14 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
 
 use Yii;
+use yii\helpers\Json;
 
 /**
  * BooleanValidator checks if the attribute value is a boolean value.
@@ -76,7 +77,7 @@ public function clientValidateAttribute($model, $attribute, $view)
         ValidationAsset::register($view);
         $options = $this->getClientOptions($model, $attribute);
 
-        return 'yii.validation.boolean(value, messages, ' . json_encode($options, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE) . ');';
+        return 'yii.validation.boolean(value, messages, ' . Json::htmlEncode($options) . ');';
     }
 
     /**
diff --git a/framework/validators/CompareValidator.php b/framework/validators/CompareValidator.php
index fbe4d2cbe2b..c9dcb15da4f 100644
--- a/framework/validators/CompareValidator.php
+++ b/framework/validators/CompareValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -10,6 +10,7 @@
 use Yii;
 use yii\base\InvalidConfigException;
 use yii\helpers\Html;
+use yii\helpers\Json;
 
 /**
  * CompareValidator compares the specified attribute value with another value.
@@ -234,7 +235,7 @@ public function clientValidateAttribute($model, $attribute, $view)
         ValidationAsset::register($view);
         $options = $this->getClientOptions($model, $attribute);
 
-        return 'yii.validation.compare(value, messages, ' . json_encode($options, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE) . ', $form);';
+        return 'yii.validation.compare(value, messages, ' . Json::htmlEncode($options) . ', $form);';
     }
 
     /**
diff --git a/framework/validators/DateValidator.php b/framework/validators/DateValidator.php
index 7d920108ab7..740011846de 100644
--- a/framework/validators/DateValidator.php
+++ b/framework/validators/DateValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -72,8 +72,8 @@ class DateValidator extends Validator
      */
     public $type = self::TYPE_DATE;
     /**
-     * @var string the date format that the value being validated should follow.
-     * This can be a date time pattern as described in the [ICU manual](http://userguide.icu-project.org/formatparse/datetime#TOC-Date-Time-Format-Syntax).
+     * @var string|null the date format that the value being validated should follow.
+     * This can be a date time pattern as described in the [ICU manual](https://unicode-org.github.io/icu/userguide/format_parse/datetime/#datetime-format-syntax).
      *
      * Alternatively this can be a string prefixed with `php:` representing a format that can be recognized by the PHP Datetime class.
      * Please refer to <https://www.php.net/manual/en/datetime.createfromformat.php> on supported formats.
@@ -104,14 +104,14 @@ class DateValidator extends Validator
      */
     public $format;
     /**
-     * @var string the locale ID that is used to localize the date parsing.
+     * @var string|null the locale ID that is used to localize the date parsing.
      * This is only effective when the [PHP intl extension](https://www.php.net/manual/en/book.intl.php) is installed.
      * If not set, the locale of the [[\yii\base\Application::formatter|formatter]] will be used.
      * See also [[\yii\i18n\Formatter::locale]].
      */
     public $locale;
     /**
-     * @var string the timezone to use for parsing date and time values.
+     * @var string|null the timezone to use for parsing date and time values.
      * This can be any value that may be passed to [date_default_timezone_set()](https://www.php.net/manual/en/function.date-default-timezone-set.php)
      * e.g. `UTC`, `Europe/Berlin` or `America/Chicago`.
      * Refer to the [php manual](https://www.php.net/manual/en/timezones.php) for available timezones.
@@ -119,7 +119,7 @@ class DateValidator extends Validator
      */
     public $timeZone;
     /**
-     * @var string the name of the attribute to receive the parsing result.
+     * @var string|null the name of the attribute to receive the parsing result.
      * When this property is not null and the validation is successful, the named attribute will
      * receive the parsing result.
      *
@@ -137,7 +137,7 @@ class DateValidator extends Validator
      */
     public $timestampAttribute;
     /**
-     * @var string the format to use when populating the [[timestampAttribute]].
+     * @var string|null the format to use when populating the [[timestampAttribute]].
      * The format can be specified in the same way as for [[format]].
      *
      * If not set, [[timestampAttribute]] will receive a UNIX timestamp.
@@ -160,7 +160,7 @@ class DateValidator extends Validator
      */
     public $timestampAttributeTimeZone = 'UTC';
     /**
-     * @var int|string upper limit of the date. Defaults to null, meaning no upper limit.
+     * @var int|string|null upper limit of the date. Defaults to null, meaning no upper limit.
      * This can be a unix timestamp or a string representing a date time value.
      * If this property is a string, [[format]] will be used to parse it.
      * @see tooBig for the customized message used when the date is too big.
@@ -168,7 +168,7 @@ class DateValidator extends Validator
      */
     public $max;
     /**
-     * @var int|string lower limit of the date. Defaults to null, meaning no lower limit.
+     * @var int|string|null lower limit of the date. Defaults to null, meaning no lower limit.
      * This can be a unix timestamp or a string representing a date time value.
      * If this property is a string, [[format]] will be used to parse it.
      * @see tooSmall for the customized message used when the date is too small.
@@ -186,13 +186,13 @@ class DateValidator extends Validator
      */
     public $tooSmall;
     /**
-     * @var string user friendly value of upper limit to display in the error message.
+     * @var string|null user friendly value of upper limit to display in the error message.
      * If this property is null, the value of [[max]] will be used (before parsing).
      * @since 2.0.4
      */
     public $maxString;
     /**
-     * @var string user friendly value of lower limit to display in the error message.
+     * @var string|null user friendly value of lower limit to display in the error message.
      * If this property is null, the value of [[min]] will be used (before parsing).
      * @since 2.0.4
      */
diff --git a/framework/validators/DefaultValueValidator.php b/framework/validators/DefaultValueValidator.php
index 098754d27bf..862acd22951 100644
--- a/framework/validators/DefaultValueValidator.php
+++ b/framework/validators/DefaultValueValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
diff --git a/framework/validators/EachValidator.php b/framework/validators/EachValidator.php
index 504738d86ea..56c7dd3bd3a 100644
--- a/framework/validators/EachValidator.php
+++ b/framework/validators/EachValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
diff --git a/framework/validators/EmailValidator.php b/framework/validators/EmailValidator.php
index 984d00d4510..3c56c58f2f4 100644
--- a/framework/validators/EmailValidator.php
+++ b/framework/validators/EmailValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -23,7 +23,7 @@ class EmailValidator extends Validator
 {
     /**
      * @var string the regular expression used to validate the attribute value.
-     * @see http://www.regular-expressions.info/email.html
+     * @see https://www.regular-expressions.info/email.html
      */
     public $pattern = '/^[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/';
     /**
@@ -34,7 +34,7 @@ class EmailValidator extends Validator
     public $fullPattern = '/^[^@]*<[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?>$/';
     /**
      * @var string the regular expression used to validate the part before the @ symbol, used if ASCII conversion fails to validate the address.
-     * @see http://www.regular-expressions.info/email.html
+     * @see https://www.regular-expressions.info/email.html
      * @since 2.0.42
      */
     public $patternASCII = '/^[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&\'*+\\/=?^_`{|}~-]+)*$/';
@@ -105,7 +105,7 @@ protected function validateValue($value)
 
             if (strlen($matches['local']) > 64) {
                 // The maximum total length of a user name or other local-part is 64 octets. RFC 5322 section 4.5.3.1.1
-                // http://tools.ietf.org/html/rfc5321#section-4.5.3.1.1
+                // https://datatracker.ietf.org/doc/html/rfc5321#section-4.5.3.1.1
                 $valid = false;
             } elseif (strlen($matches['local'] . '@' . $matches['domain']) > 254) {
                 // There is a restriction in RFC 2821 on the length of an address in MAIL and RCPT commands
@@ -113,7 +113,7 @@ protected function validateValue($value)
                 // upper limit on address lengths should normally be considered to be 254.
                 //
                 // Dominic Sayers, RFC 3696 erratum 1690
-                // http://www.rfc-editor.org/errata_search.php?eid=1690
+                // https://www.rfc-editor.org/errata_search.php?eid=1690
                 $valid = false;
             } else {
                 $valid = preg_match($this->pattern, $value) || ($this->allowName && preg_match($this->fullPattern, $value));
diff --git a/framework/validators/ExistValidator.php b/framework/validators/ExistValidator.php
index 4b7d94f3861..be02f1a4197 100644
--- a/framework/validators/ExistValidator.php
+++ b/framework/validators/ExistValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -49,13 +49,13 @@
 class ExistValidator extends Validator
 {
     /**
-     * @var string the name of the ActiveRecord class that should be used to validate the existence
+     * @var string|null the name of the ActiveRecord class that should be used to validate the existence
      * of the current attribute value. If not set, it will use the ActiveRecord class of the attribute being validated.
      * @see targetAttribute
      */
     public $targetClass;
     /**
-     * @var string|array the name of the ActiveRecord attribute that should be used to
+     * @var string|array|null the name of the ActiveRecord attribute that should be used to
      * validate the existence of the current attribute value. If not set, it will use the name
      * of the attribute currently being validated. You may use an array to validate the existence
      * of multiple columns at the same time. The array key is the name of the attribute with the value to validate,
@@ -153,6 +153,14 @@ private function checkTargetRelationExistence($model, $attribute)
     private function checkTargetAttributeExistence($model, $attribute)
     {
         $targetAttribute = $this->targetAttribute === null ? $attribute : $this->targetAttribute;
+        if ($this->skipOnError) {
+            foreach ((array)$targetAttribute as $k => $v) {
+                if ($model->hasErrors(is_int($k) ? $v : $k)) {
+                    return;
+                }
+            }
+        }
+
         $params = $this->prepareConditions($targetAttribute, $model, $attribute);
         $conditions = [$this->targetAttributeJunction == 'or' ? 'or' : 'and'];
 
@@ -181,7 +189,7 @@ private function checkTargetAttributeExistence($model, $attribute)
      * Processes attributes' relations described in $targetAttribute parameter into conditions, compatible with
      * [[\yii\db\Query::where()|Query::where()]] key-value format.
      *
-     * @param $targetAttribute array|string $attribute the name of the ActiveRecord attribute that should be used to
+     * @param $targetAttribute array|string|null $attribute the name of the ActiveRecord attribute that should be used to
      * validate the existence of the current attribute value. If not set, it will use the name
      * of the attribute currently being validated. You may use an array to validate the existence
      * of multiple columns at the same time. The array key is the name of the attribute with the value to validate,
@@ -308,7 +316,7 @@ protected function createQuery($targetClass, $condition)
      * Returns conditions with alias.
      * @param ActiveQuery $query
      * @param array $conditions array of condition, keys to be modified
-     * @param null|string $alias set empty string for no apply alias. Set null for apply primary table alias
+     * @param string|null $alias set empty string for no apply alias. Set null for apply primary table alias
      * @return array
      */
     private function applyTableAlias($query, $conditions, $alias = null)
diff --git a/framework/validators/FileValidator.php b/framework/validators/FileValidator.php
index 7a7f5c5c42b..28d97f9c972 100644
--- a/framework/validators/FileValidator.php
+++ b/framework/validators/FileValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -20,7 +20,7 @@
  *
  * Note that you should enable `fileinfo` PHP extension.
  *
- * @property-read int $sizeLimit The size limit for uploaded files. This property is read-only.
+ * @property-read int $sizeLimit The size limit for uploaded files.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -28,7 +28,7 @@
 class FileValidator extends Validator
 {
     /**
-     * @var array|string a list of file name extensions that are allowed to be uploaded.
+     * @var array|string|null a list of file name extensions that are allowed to be uploaded.
      * This can be either an array or a string consisting of file extension names
      * separated by space or comma (e.g. "gif, jpg").
      * Extension names are case-insensitive. Defaults to null, meaning all file name
@@ -42,7 +42,7 @@ class FileValidator extends Validator
      */
     public $checkExtensionByMimeType = true;
     /**
-     * @var array|string a list of file MIME types that are allowed to be uploaded.
+     * @var array|string|null a list of file MIME types that are allowed to be uploaded.
      * This can be either an array or a string consisting of file MIME types
      * separated by space or comma (e.g. "text/plain, image/png").
      * The mask with the special character `*` can be used to match groups of mime types.
@@ -52,13 +52,13 @@ class FileValidator extends Validator
      */
     public $mimeTypes;
     /**
-     * @var int the minimum number of bytes required for the uploaded file.
+     * @var int|null the minimum number of bytes required for the uploaded file.
      * Defaults to null, meaning no limit.
      * @see tooSmall for the customized message for a file that is too small.
      */
     public $minSize;
     /**
-     * @var int the maximum number of bytes required for the uploaded file.
+     * @var int|null the maximum number of bytes required for the uploaded file.
      * Defaults to null, meaning no limit.
      * Note, the size limit is also affected by `upload_max_filesize` and `post_max_size` INI setting
      * and the 'MAX_FILE_SIZE' hidden field value. See [[getSizeLimit()]] for details.
@@ -188,7 +188,7 @@ public function init()
             $this->tooSmall = Yii::t('yii', 'The file "{file}" is too small. Its size cannot be smaller than {formattedLimit}.');
         }
         if (!is_array($this->extensions)) {
-            $this->extensions = preg_split('/[\s,]+/', strtolower($this->extensions), -1, PREG_SPLIT_NO_EMPTY);
+            $this->extensions = preg_split('/[\s,]+/', strtolower((string)$this->extensions), -1, PREG_SPLIT_NO_EMPTY);
         } else {
             $this->extensions = array_map('strtolower', $this->extensions);
         }
@@ -196,7 +196,7 @@ public function init()
             $this->wrongMimeType = Yii::t('yii', 'Only files with these MIME types are allowed: {mimeTypes}.');
         }
         if (!is_array($this->mimeTypes)) {
-            $this->mimeTypes = preg_split('/[\s,]+/', strtolower($this->mimeTypes), -1, PREG_SPLIT_NO_EMPTY);
+            $this->mimeTypes = preg_split('/[\s,]+/', strtolower((string)$this->mimeTypes), -1, PREG_SPLIT_NO_EMPTY);
         } else {
             $this->mimeTypes = array_map('strtolower', $this->mimeTypes);
         }
@@ -432,7 +432,7 @@ public function clientValidateAttribute($model, $attribute, $view)
     {
         ValidationAsset::register($view);
         $options = $this->getClientOptions($model, $attribute);
-        return 'yii.validation.file(attribute, messages, ' . Json::encode($options) . ');';
+        return 'yii.validation.file(attribute, messages, ' . Json::htmlEncode($options) . ');';
     }
 
     /**
@@ -530,6 +530,9 @@ private function buildMimeTypeRegexp($mask)
     protected function validateMimeType($file)
     {
         $fileMimeType = $this->getMimeTypeByFile($file->tempName);
+        if ($fileMimeType === null) {
+            return false;
+        }
 
         foreach ($this->mimeTypes as $mimeType) {
             if (strcasecmp($mimeType, $fileMimeType) === 0) {
@@ -548,11 +551,12 @@ protected function validateMimeType($file)
      * Get MIME type by file path
      *
      * @param string $filePath
-     * @return string
+     * @return string|null
      * @throws \yii\base\InvalidConfigException
      * @since 2.0.26
      */
-    protected function getMimeTypeByFile($filePath) {
+    protected function getMimeTypeByFile($filePath)
+    {
         return FileHelper::getMimeType($filePath);
     }
 }
diff --git a/framework/validators/FilterValidator.php b/framework/validators/FilterValidator.php
index 873e1b197e7..a08b0b51d29 100644
--- a/framework/validators/FilterValidator.php
+++ b/framework/validators/FilterValidator.php
@@ -1,13 +1,14 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
 
 use yii\base\InvalidConfigException;
+use yii\helpers\Json;
 
 /**
  * FilterValidator converts the attribute value according to a filter.
@@ -25,6 +26,8 @@
  * ```
  *
  * Many PHP functions qualify this signature (e.g. `trim()`).
+ * If the callback function requires non-null argument (important since PHP 8.1)
+ * remember to set [[skipOnEmpty]] to `true` otherwise you may trigger an error.
  *
  * To specify the filter, set [[filter]] property to be the callback.
  *
@@ -91,7 +94,7 @@ public function clientValidateAttribute($model, $attribute, $view)
         ValidationAsset::register($view);
         $options = $this->getClientOptions($model, $attribute);
 
-        return 'value = yii.validation.trim($form, attribute, ' . json_encode($options, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE) . ', value);';
+        return 'value = yii.validation.trim($form, attribute, ' . Json::htmlEncode($options) . ', value);';
     }
 
     /**
diff --git a/framework/validators/ImageValidator.php b/framework/validators/ImageValidator.php
index 6edfb97dbb7..fbac2516a73 100644
--- a/framework/validators/ImageValidator.php
+++ b/framework/validators/ImageValidator.php
@@ -1,13 +1,14 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
 
 use Yii;
+use yii\helpers\Json;
 use yii\web\UploadedFile;
 
 /**
@@ -27,25 +28,25 @@ class ImageValidator extends FileValidator
      */
     public $notImage;
     /**
-     * @var int the minimum width in pixels.
+     * @var int|null the minimum width in pixels.
      * Defaults to null, meaning no limit.
      * @see underWidth for the customized message used when image width is too small.
      */
     public $minWidth;
     /**
-     * @var int the maximum width in pixels.
+     * @var int|null the maximum width in pixels.
      * Defaults to null, meaning no limit.
      * @see overWidth for the customized message used when image width is too big.
      */
     public $maxWidth;
     /**
-     * @var int the minimum height in pixels.
+     * @var int|null the minimum height in pixels.
      * Defaults to null, meaning no limit.
      * @see underHeight for the customized message used when image height is too small.
      */
     public $minHeight;
     /**
-     * @var int the maximum width in pixels.
+     * @var int|null the maximum width in pixels.
      * Defaults to null, meaning no limit.
      * @see overHeight for the customized message used when image height is too big.
      */
@@ -166,7 +167,7 @@ public function clientValidateAttribute($model, $attribute, $view)
     {
         ValidationAsset::register($view);
         $options = $this->getClientOptions($model, $attribute);
-        return 'yii.validation.image(attribute, messages, ' . json_encode($options, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE) . ', deferred);';
+        return 'yii.validation.image(attribute, messages, ' . Json::htmlEncode($options) . ', deferred);';
     }
 
     /**
diff --git a/framework/validators/InlineValidator.php b/framework/validators/InlineValidator.php
index a8dcd0040d4..595f3731c0f 100644
--- a/framework/validators/InlineValidator.php
+++ b/framework/validators/InlineValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -10,15 +10,6 @@
 /**
  * InlineValidator represents a validator which is defined as a method in the object being validated.
  *
- * The validation method must have the following signature:
- *
- * ```php
- * function foo($attribute, $params, $validator)
- * ```
- *
- * where `$attribute` refers to the name of the attribute being validated, while `$params` is an array representing the
- * additional parameters supplied in the validation rule. Parameter `$validator` refers to the related
- * [[InlineValidator]] object and is available since version 2.0.11.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -26,16 +17,18 @@
 class InlineValidator extends Validator
 {
     /**
-     * @var string|\Closure an anonymous function or the name of a model class method that will be
+     * @var string|callable an anonymous function or the name of a model class method that will be
      * called to perform the actual validation. The signature of the method should be like the following:
      *
      * ```php
-     * function foo($attribute, $params, $validator)
+     * function (string $attribute, mixed $params, InlineValidator $validator, mixed $current): bool {
+     * }
      * ```
      *
-     * - `$attribute` is the name of the attribute to be validated;
-     * - `$params` contains the value of [[params]] that you specify when declaring the inline validation rule;
-     * - `$validator` is a reference to related [[InlineValidator]] object. This parameter is available since version 2.0.11.
+     * - `$attribute` is the name of the attribute to be validated
+     * - `$params` contains the value of [[params]] that you specify when declaring the inline validation rule
+     * - `$validator` is a reference to related [[InlineValidator]] object. This parameter is available since version 2.0.11
+     * - `$current` is the attribute value. This parameter is available since version 2.0.36
      */
     public $method;
     /**
@@ -47,15 +40,16 @@ class InlineValidator extends Validator
      * The signature of the method should be like the following:
      *
      * ```php
-     * function foo($attribute, $params, $validator)
+     * function (string $attribute, mixed $params, InlineValidator $validator, mixed $current, View $view): string
      * {
-     *     return "javascript";
+     *     // $view->registerJs('JS validation function');
+     *     // or \app\assets\ValidationAsset::register($view);
+     *     return "calling JS validation function";
      * }
      * ```
      *
-     * where `$attribute` refers to the attribute name to be validated.
-     *
-     * Please refer to [[clientValidateAttribute()]] for details on how to return client validation code.
+     * Please refer to [[clientValidateAttribute()]] and [guide](guide:input-validation#client-side-validation) for details on how
+     * to return client validation code.
      */
     public $clientValidate;
     /**
@@ -100,7 +94,7 @@ public function clientValidateAttribute($model, $attribute, $view)
             if ($current === null) {
                 $current = $model->$attribute;
             }
-            return $method($attribute, $this->params, $this, $current);
+            return $method($attribute, $this->params, $this, $current, $view);
         }
 
         return null;
diff --git a/framework/validators/IpValidator.php b/framework/validators/IpValidator.php
index ea1e87718e3..63c42fe7769 100644
--- a/framework/validators/IpValidator.php
+++ b/framework/validators/IpValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -86,7 +86,7 @@ class IpValidator extends Validator
      */
     public $ipv4 = true;
     /**
-     * @var bool whether the address can be an IP with CIDR subnet, like `192.168.10.0/24`.
+     * @var bool|null whether the address can be an IP with CIDR subnet, like `192.168.10.0/24`.
      * The following values are possible:
      *
      * - `false` - the address must not have a subnet (default).
@@ -163,7 +163,7 @@ class IpValidator extends Validator
      */
     public $wrongCidr;
     /**
-     * @var string user-defined error message is used when validation fails due to subnet [[subnet]] set to 'only',
+     * @var string|null user-defined error message is used when validation fails due to subnet [[subnet]] set to 'only',
      * but the CIDR prefix is not set.
      *
      * You may use the following placeholders in the message:
@@ -246,9 +246,7 @@ public function init()
      * - Recursively substitutes aliases (described in [[networks]]) with their values.
      * - Removes duplicates
      *
-     * @property array the IPv4 or IPv6 ranges that are allowed or forbidden.
-     * See [[setRanges()]] for detailed description.
-     * @param array|string $ranges the IPv4 or IPv6 ranges that are allowed or forbidden.
+     * @param array|string|null $ranges the IPv4 or IPv6 ranges that are allowed or forbidden.
      *
      * When the array is empty, or the option not set, all IP addresses are allowed.
      *
diff --git a/framework/validators/NumberValidator.php b/framework/validators/NumberValidator.php
index 56c9d1403e9..714288a27f6 100644
--- a/framework/validators/NumberValidator.php
+++ b/framework/validators/NumberValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -34,12 +34,12 @@ class NumberValidator extends Validator
      */
     public $integerOnly = false;
     /**
-     * @var int|float upper limit of the number. Defaults to null, meaning no upper limit.
+     * @var int|float|null upper limit of the number. Defaults to null, meaning no upper limit.
      * @see tooBig for the customized message used when the number is too big.
      */
     public $max;
     /**
-     * @var int|float lower limit of the number. Defaults to null, meaning no lower limit.
+     * @var int|float|null lower limit of the number. Defaults to null, meaning no lower limit.
      * @see tooSmall for the customized message used when the number is too small.
      */
     public $min;
diff --git a/framework/validators/PunycodeAsset.php b/framework/validators/PunycodeAsset.php
index 1f65b8d6400..8d928838ce9 100644
--- a/framework/validators/PunycodeAsset.php
+++ b/framework/validators/PunycodeAsset.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
diff --git a/framework/validators/RangeValidator.php b/framework/validators/RangeValidator.php
index bcde4a1309d..8265d0511ba 100644
--- a/framework/validators/RangeValidator.php
+++ b/framework/validators/RangeValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -10,6 +10,7 @@
 use Yii;
 use yii\base\InvalidConfigException;
 use yii\helpers\ArrayHelper;
+use yii\helpers\Json;
 
 /**
  * RangeValidator validates that the attribute value is among a list of values.
@@ -111,7 +112,7 @@ public function clientValidateAttribute($model, $attribute, $view)
         ValidationAsset::register($view);
         $options = $this->getClientOptions($model, $attribute);
 
-        return 'yii.validation.range(value, messages, ' . json_encode($options, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE) . ');';
+        return 'yii.validation.range(value, messages, ' . Json::htmlEncode($options) . ');';
     }
 
     /**
diff --git a/framework/validators/RegularExpressionValidator.php b/framework/validators/RegularExpressionValidator.php
index bdc54ed9dac..747c4d2a9ee 100644
--- a/framework/validators/RegularExpressionValidator.php
+++ b/framework/validators/RegularExpressionValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
diff --git a/framework/validators/RequiredValidator.php b/framework/validators/RequiredValidator.php
index 646357ace35..7cb7a7a44cd 100644
--- a/framework/validators/RequiredValidator.php
+++ b/framework/validators/RequiredValidator.php
@@ -1,13 +1,14 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
 
 use Yii;
+use yii\helpers\Json;
 
 /**
  * RequiredValidator validates that the specified attribute does not have null or empty value.
@@ -93,7 +94,7 @@ public function clientValidateAttribute($model, $attribute, $view)
         ValidationAsset::register($view);
         $options = $this->getClientOptions($model, $attribute);
 
-        return 'yii.validation.required(value, messages, ' . json_encode($options, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE) . ');';
+        return 'yii.validation.required(value, messages, ' . Json::htmlEncode($options) . ');';
     }
 
     /**
diff --git a/framework/validators/SafeValidator.php b/framework/validators/SafeValidator.php
index 2b0a3c5dd7f..f2944076766 100644
--- a/framework/validators/SafeValidator.php
+++ b/framework/validators/SafeValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
diff --git a/framework/validators/StringValidator.php b/framework/validators/StringValidator.php
index f06dbfc2208..463cc5cb0a2 100644
--- a/framework/validators/StringValidator.php
+++ b/framework/validators/StringValidator.php
@@ -1,13 +1,14 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
 
 use Yii;
+use yii\helpers\Json;
 
 /**
  * StringValidator validates that the attribute value is of certain length.
@@ -34,12 +35,12 @@ class StringValidator extends Validator
      */
     public $length;
     /**
-     * @var int maximum length. If not set, it means no maximum length limit.
+     * @var int|null maximum length. If not set, it means no maximum length limit.
      * @see tooLong for the customized message for a too long string.
      */
     public $max;
     /**
-     * @var int minimum length. If not set, it means no minimum length limit.
+     * @var int|null minimum length. If not set, it means no minimum length limit.
      * @see tooShort for the customized message for a too short string.
      */
     public $min;
@@ -60,7 +61,7 @@ class StringValidator extends Validator
      */
     public $notEqual;
     /**
-     * @var string the encoding of the string value to be validated (e.g. 'UTF-8').
+     * @var string|null the encoding of the string value to be validated (e.g. 'UTF-8').
      * If this property is not set, [[\yii\base\Application::charset]] will be used.
      */
     public $encoding;
@@ -168,7 +169,7 @@ public function clientValidateAttribute($model, $attribute, $view)
         ValidationAsset::register($view);
         $options = $this->getClientOptions($model, $attribute);
 
-        return 'yii.validation.string(value, messages, ' . json_encode($options, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE) . ');';
+        return 'yii.validation.string(value, messages, ' . Json::htmlEncode($options) . ');';
     }
 
     /**
diff --git a/framework/validators/TrimValidator.php b/framework/validators/TrimValidator.php
new file mode 100644
index 00000000000..89a2eb86b97
--- /dev/null
+++ b/framework/validators/TrimValidator.php
@@ -0,0 +1,84 @@
+<?php
+/**
+ * @link https://www.yiiframework.com/
+ * @copyright Copyright (c) 2008 Yii Software LLC
+ * @license https://www.yiiframework.com/license/
+ */
+
+namespace yii\validators;
+
+use yii\helpers\Json;
+
+/**
+ * This class converts the attribute value(s) to string(s) and strip characters.
+ *
+ * @since 2.0.46
+ */
+class TrimValidator extends Validator
+{
+    /**
+     * @var string The list of characters to strip, with `..` can specify a range of characters.
+     * For example, set '\/ ' to normalize path or namespace.
+     */
+    public $chars;
+    /**
+     * @var bool Whether the filter should be skipped if an array input is given.
+     * If true and an array input is given, the filter will not be applied.
+     */
+    public $skipOnArray = false;
+    /**
+     * @inheritDoc
+     */
+    public $skipOnEmpty = false;
+
+    /**
+     * @inheritDoc
+     */
+    public function validateAttribute($model, $attribute)
+    {
+        $value = $model->$attribute;
+        if (!$this->skipOnArray || !is_array($value)) {
+            $model->$attribute = is_array($value)
+                ? array_map([$this, 'trimValue'], $value)
+                : $this->trimValue($value);
+        }
+    }
+
+    /**
+     * Converts given value to string and strips declared characters.
+     *
+     * @param mixed $value the value to strip
+     * @return string
+     */
+    protected function trimValue($value)
+    {
+        return $this->isEmpty($value) ? '' : trim((string) $value, $this->chars ?: " \n\r\t\v\x00");
+    }
+
+    /**
+     * @inheritDoc
+     */
+    public function clientValidateAttribute($model, $attribute, $view)
+    {
+        if ($this->skipOnArray && is_array($model->$attribute)) {
+            return null;
+        }
+
+        ValidationAsset::register($view);
+        $options = $this->getClientOptions($model, $attribute);
+
+        return 'value = yii.validation.trim($form, attribute, ' . Json::htmlEncode($options) . ', value);';
+    }
+
+    /**
+     * @inheritDoc
+     */
+    public function getClientOptions($model, $attribute)
+    {
+        return [
+            'skipOnArray' => (bool) $this->skipOnArray,
+            'skipOnEmpty' => (bool) $this->skipOnEmpty,
+            'chars' => $this->chars ?: false,
+        ];
+    }
+}
diff --git a/framework/validators/UniqueValidator.php b/framework/validators/UniqueValidator.php
index f383ec9afc3..56bb0fe4841 100644
--- a/framework/validators/UniqueValidator.php
+++ b/framework/validators/UniqueValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -42,13 +42,13 @@
 class UniqueValidator extends Validator
 {
     /**
-     * @var string the name of the ActiveRecord class that should be used to validate the uniqueness
+     * @var string|null the name of the ActiveRecord class that should be used to validate the uniqueness
      * of the current attribute value. If not set, it will use the ActiveRecord class of the attribute being validated.
      * @see targetAttribute
      */
     public $targetClass;
     /**
-     * @var string|array the name of the [[\yii\db\ActiveRecord|ActiveRecord]] attribute that should be used to
+     * @var string|array|null the name of the [[\yii\db\ActiveRecord|ActiveRecord]] attribute that should be used to
      * validate the uniqueness of the current attribute value. If not set, it will use the name
      * of the attribute currently being validated. You may use an array to validate the uniqueness
      * of multiple columns at the same time. The array values are the attributes that will be
@@ -122,9 +122,15 @@ public function init()
      */
     public function validateAttribute($model, $attribute)
     {
-        /* @var $targetClass ActiveRecordInterface */
-        $targetClass = $this->getTargetClass($model);
         $targetAttribute = $this->targetAttribute === null ? $attribute : $this->targetAttribute;
+        if ($this->skipOnError) {
+            foreach ((array)$targetAttribute as $k => $v) {
+                if ($model->hasErrors(is_int($k) ? $v : $k)) {
+                    return;
+                }
+            }
+        }
+
         $rawConditions = $this->prepareConditions($targetAttribute, $model, $attribute);
         $conditions = [$this->targetAttributeJunction === 'or' ? 'or' : 'and'];
 
@@ -136,6 +142,8 @@ public function validateAttribute($model, $attribute)
             $conditions[] = [$key => $value];
         }
 
+        /* @var $targetClass ActiveRecordInterface */
+        $targetClass = $this->getTargetClass($model);
         $db = $targetClass::getDb();
 
         $modelExists = false;
@@ -309,7 +317,7 @@ private function addComboNotUniqueError($model, $attribute)
      * Returns conditions with alias.
      * @param ActiveQuery $query
      * @param array $conditions array of condition, keys to be modified
-     * @param null|string $alias set empty string for no apply alias. Set null for apply primary table alias
+     * @param string|null $alias set empty string for no apply alias. Set null for apply primary table alias
      * @return array
      */
     private function applyTableAlias($query, $conditions, $alias = null)
diff --git a/framework/validators/UrlValidator.php b/framework/validators/UrlValidator.php
index 812a218b506..463e01f4f65 100644
--- a/framework/validators/UrlValidator.php
+++ b/framework/validators/UrlValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -35,7 +35,7 @@ class UrlValidator extends Validator
      */
     public $validSchemes = ['http', 'https'];
     /**
-     * @var string the default URI scheme. If the input doesn't contain the scheme part, the default
+     * @var string|null the default URI scheme. If the input doesn't contain the scheme part, the default
      * scheme will be prepended to it (thus changing the input). Defaults to null, meaning a URL must
      * contain the scheme part.
      */
diff --git a/framework/validators/ValidationAsset.php b/framework/validators/ValidationAsset.php
index a25acffd625..7d22d48f63f 100644
--- a/framework/validators/ValidationAsset.php
+++ b/framework/validators/ValidationAsset.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
diff --git a/framework/validators/Validator.php b/framework/validators/Validator.php
index 5b808acd271..a0677df9271 100644
--- a/framework/validators/Validator.php
+++ b/framework/validators/Validator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\validators;
@@ -41,15 +41,15 @@
  * - `required`: [[RequiredValidator]]
  * - `safe`: [[SafeValidator]]
  * - `string`: [[StringValidator]]
- * - `trim`: [[FilterValidator]]
+ * - `trim`: [[TrimValidator]]
  * - `unique`: [[UniqueValidator]]
  * - `url`: [[UrlValidator]]
  * - `ip`: [[IpValidator]]
  *
  * For more details and usage information on Validator, see the [guide article on validators](guide:input-validation).
  *
- * @property-read array $attributeNames Attribute names. This property is read-only.
- * @property-read array $validationAttributes List of attribute names. This property is read-only.
+ * @property-read array $attributeNames Attribute names.
+ * @property-read array $validationAttributes List of attribute names.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -91,8 +91,7 @@ class Validator extends Component
         'safe' => 'yii\validators\SafeValidator',
         'string' => 'yii\validators\StringValidator',
         'trim' => [
-            'class' => 'yii\validators\FilterValidator',
-            'filter' => 'trim',
+            'class' => 'yii\validators\TrimValidator',
             'skipOnArray' => true,
         ],
         'unique' => 'yii\validators\UniqueValidator',
@@ -105,7 +104,7 @@ class Validator extends Component
      */
     public $attributes = [];
     /**
-     * @var string the user-defined error message. It may contain the following placeholders which
+     * @var string|null the user-defined error message. It may contain the following placeholders which
      * will be replaced accordingly by the validator:
      *
      * - `{attribute}`: the label of the attribute being validated
@@ -145,14 +144,14 @@ class Validator extends Component
      */
     public $enableClientValidation = true;
     /**
-     * @var callable a PHP callable that replaces the default implementation of [[isEmpty()]].
+     * @var callable|null a PHP callable that replaces the default implementation of [[isEmpty()]].
      * If not set, [[isEmpty()]] will be used to check if a value is empty. The signature
      * of the callable should be `function ($value)` which returns a boolean indicating
      * whether the value is empty.
      */
     public $isEmpty;
     /**
-     * @var callable a PHP callable whose return value determines whether this validator should be applied.
+     * @var callable|null a PHP callable whose return value determines whether this validator should be applied.
      * The signature of the callable should be `function ($model, $attribute)`, where `$model` and `$attribute`
      * refer to the model and the attribute currently being validated. The callable should return a boolean value.
      *
@@ -171,7 +170,7 @@ class Validator extends Component
      */
     public $when;
     /**
-     * @var string a JavaScript function name whose return value determines whether this validator should be applied
+     * @var string|null a JavaScript function name whose return value determines whether this validator should be applied
      * on the client-side. The signature of the function should be `function (attribute, value)`, where
      * `attribute` is an object describing the attribute being validated (see [[clientValidateAttribute()]])
      * and `value` the current value of the attribute.
@@ -272,7 +271,7 @@ public function validateAttributes($model, $attributes = null)
      * - If this is a string or an array, the intersection of [[getAttributeNames()]]
      *   and the specified attributes will be returned.
      *
-     * @return array list of attribute names.
+     * @return array|null list of attribute names.
      * @since 2.0.16
      */
     public function getValidationAttributes($attributes = null)
@@ -314,7 +313,7 @@ public function validateAttribute($model, $attribute)
      * Validates a given value.
      * You may use this method to validate a value out of the context of a data model.
      * @param mixed $value the data value to be validated.
-     * @param string $error the error message to be returned, if the validation fails.
+     * @param string|null $error the error message to be returned, if the validation fails.
      * @return bool whether the data is valid.
      */
     public function validate($value, &$error = null)
diff --git a/framework/views/errorHandler/error.php b/framework/views/errorHandler/error.php
index 9ef6dc7f13d..630bbec034f 100644
--- a/framework/views/errorHandler/error.php
+++ b/framework/views/errorHandler/error.php
@@ -1,5 +1,5 @@
 <?php
-/* @var $exception \yii\web\HttpException|\Exception */
+/* @var $exception \Throwable */
 /* @var $handler \yii\web\ErrorHandler */
 if ($exception instanceof \yii\web\HttpException) {
     $code = $exception->statusCode;
diff --git a/framework/views/errorHandler/exception.php b/framework/views/errorHandler/exception.php
index d097a1c92fd..4601e7c42bd 100644
--- a/framework/views/errorHandler/exception.php
+++ b/framework/views/errorHandler/exception.php
@@ -1,6 +1,6 @@
 <?php
 /* @var $this \yii\web\View */
-/* @var $exception \Exception */
+/* @var $exception \Throwable */
 /* @var $handler \yii\web\ErrorHandler */
 ?>
 <?php if (method_exists($this, 'beginPage')): ?>
diff --git a/framework/views/messageConfig.php b/framework/views/messageConfig.php
index 2495aed76ad..dc041d2a41a 100644
--- a/framework/views/messageConfig.php
+++ b/framework/views/messageConfig.php
@@ -5,12 +5,17 @@
     'sourcePath' => __DIR__ . DIRECTORY_SEPARATOR . '..',
     // array, required, list of language codes that the extracted messages
     // should be translated to. For example, ['zh-CN', 'de'].
-    'languages' => ['de'],
+    'languages' => [
+        'af', 'ar', 'az', 'be', 'bg', 'bs', 'ca', 'cs', 'da', 'de', 'el', 'es', 'et', 'fa', 'fi', 'fr', 'he', 'hi',
+        'pt-BR', 'ro', 'hr', 'hu', 'hy', 'id', 'it', 'ja', 'ka', 'kk', 'ko', 'kz', 'lt', 'lv', 'ms', 'nb-NO', 'nl',
+        'pl', 'pt', 'ru', 'sk', 'sl', 'sr', 'sr-Latn', 'sv', 'tg', 'th', 'tr', 'uk', 'uz', 'uz-Cy', 'vi', 'zh-CN',
+        'zh-TW'
+    ],
     // string, the name of the function for translating messages.
     // Defaults to 'Yii::t'. This is used as a mark to find the messages to be
     // translated. You may use a string for single function name or an array for
     // multiple function names.
-    'translator' => 'Yii::t',
+    'translator' => ['\Yii::t', 'Yii::t'],
     // boolean, whether to sort messages by keys when merging new messages
     // with the existing ones. Defaults to false, which means the new (untranslated)
     // messages will be separated from the old (translated) ones.
@@ -31,15 +36,14 @@
     // See helpers/FileHelper::findFiles() for pattern matching rules.
     // If a file/directory matches both a pattern in "only" and "except", it will NOT be processed.
     'except' => [
-        '.svn',
-        '.git',
-        '.gitignore',
-        '.gitkeep',
-        '.hgignore',
-        '.hgkeep',
+        '.*',
+        '/.*',
         '/messages',
+        '/tests',
+        '/runtime',
+        '/vendor',
+        '/BaseYii.php',
     ],
-
     // 'php' output format is for saving messages to php files.
     'format' => 'php',
     // Root directory containing message translations.
diff --git a/framework/web/Application.php b/framework/web/Application.php
index 6a052f19d3d..b05ac8b1e16 100644
--- a/framework/web/Application.php
+++ b/framework/web/Application.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -16,13 +16,12 @@
  *
  * For more details and usage information on Application, see the [guide article on applications](guide:structure-applications).
  *
- * @property-read ErrorHandler $errorHandler The error handler application component. This property is
- * read-only.
+ * @property-read ErrorHandler $errorHandler The error handler application component.
  * @property string $homeUrl The homepage URL.
- * @property-read Request $request The request component. This property is read-only.
- * @property-read Response $response The response component. This property is read-only.
- * @property-read Session $session The session component. This property is read-only.
- * @property-read User $user The user component. This property is read-only.
+ * @property-read Request $request The request component.
+ * @property-read Response $response The response component.
+ * @property-read Session $session The session component.
+ * @property-read User $user The user component.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -34,7 +33,7 @@ class Application extends \yii\base\Application
      */
     public $defaultRoute = 'site';
     /**
-     * @var array the configuration specifying a controller action which should handle
+     * @var array|null the configuration specifying a controller action which should handle
      * all user requests. This is mainly used when the application is in maintenance mode
      * and needs to handle all incoming requests via a single action.
      * The configuration is an array whose first element specifies the route of the action.
diff --git a/framework/web/AssetBundle.php b/framework/web/AssetBundle.php
index aca626cd4d9..65dab7942ba 100644
--- a/framework/web/AssetBundle.php
+++ b/framework/web/AssetBundle.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -30,7 +30,7 @@
 class AssetBundle extends BaseObject
 {
     /**
-     * @var string the directory that contains the source asset files for this asset bundle.
+     * @var string|null the directory that contains the source asset files for this asset bundle.
      * A source asset file is a file that is part of your source code repository of your Web application.
      *
      * You must set this property if the directory containing the source asset files is not Web accessible.
@@ -79,7 +79,7 @@ class AssetBundle extends BaseObject
      * specified in one of the following formats:
      *
      * - an absolute URL representing an external asset. For example,
-     *   `http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` or
+     *   `https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js` or
      *   `//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js`.
      * - a relative path representing a local asset (e.g. `js/main.js`). The actual file path of a local
      *   asset can be determined by prefixing [[basePath]] to the relative path, and the actual URL
diff --git a/framework/web/AssetConverter.php b/framework/web/AssetConverter.php
index 0cfc0d86e52..64af54907e0 100644
--- a/framework/web/AssetConverter.php
+++ b/framework/web/AssetConverter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -12,7 +12,7 @@
 use yii\base\Exception;
 
 /**
- * AssetConverter supports conversion of several popular script formats into JS or CSS scripts.
+ * AssetConverter supports conversion of several popular formats into JS or CSS files.
  *
  * It is used by [[AssetManager]] to convert files after they have been published.
  *
@@ -26,6 +26,8 @@ class AssetConverter extends Component implements AssetConverterInterface
      * The keys are the asset file extension names, and the values are the corresponding
      * target script types (either "css" or "js") and the commands used for the conversion.
      *
+     * The command placeholders: `{from}` - source file, `{to}` - converted file.
+     *
      * You may also use a [path alias](guide:concept-aliases) to specify the location of the command:
      *
      * ```php
@@ -33,11 +35,15 @@ class AssetConverter extends Component implements AssetConverterInterface
      *     'styl' => ['css', '@app/node_modules/bin/stylus < {from} > {to}'],
      * ]
      * ```
+     *
+     * Note: `Yii::getAlias()` can replace alias at the begin of the command only.
+     *
+     * @see https://sass-lang.com/documentation/cli/ SASS/SCSS
      */
     public $commands = [
         'less' => ['css', 'lessc {from} {to} --no-color --source-map'],
-        'scss' => ['css', 'sass {from} {to} --sourcemap'],
-        'sass' => ['css', 'sass {from} {to} --sourcemap'],
+        'scss' => ['css', 'sass --style=compressed {from} {to}'],
+        'sass' => ['css', 'sass --style=compressed {from} {to}'],
         'styl' => ['css', 'stylus < {from} > {to}'],
         'coffee' => ['js', 'coffee -p {from} > {to}'],
         'ts' => ['js', 'tsc --out {to} {from}'],
diff --git a/framework/web/AssetConverterInterface.php b/framework/web/AssetConverterInterface.php
index e72e566de9b..bc269dd6b79 100644
--- a/framework/web/AssetConverterInterface.php
+++ b/framework/web/AssetConverterInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/AssetManager.php b/framework/web/AssetManager.php
index 2d28d9246ed..40b68096e44 100644
--- a/framework/web/AssetManager.php
+++ b/framework/web/AssetManager.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -42,7 +42,7 @@
 class AssetManager extends Component
 {
     /**
-     * @var array|bool list of asset bundle configurations. This property is provided to customize asset bundles.
+     * @var array|false list of asset bundle configurations. This property is provided to customize asset bundles.
      * When a bundle is being loaded by [[getBundle()]], if it has a corresponding configuration specified here,
      * the configuration will be applied to the bundle.
      *
@@ -74,7 +74,7 @@ class AssetManager extends Component
      */
     public $baseUrl = '@web/assets';
     /**
-     * @var array mapping from source asset files (keys) to target asset files (values).
+     * @var string[] mapping from source asset files (keys) to target asset files (values).
      *
      * This property is provided to support fixing incorrect asset file paths in some asset bundles.
      * When an asset bundle is registered with a view, each relative asset file in its [[AssetBundle::css|css]]
@@ -123,7 +123,7 @@ class AssetManager extends Component
      */
     public $linkAssets = false;
     /**
-     * @var int the permission to be set for newly published asset files.
+     * @var int|null the permission to be set for newly published asset files.
      * This value will be used by PHP chmod() function. No umask will be applied.
      * If not set, the permission will be determined by the current environment.
      */
@@ -136,7 +136,7 @@ class AssetManager extends Component
      */
     public $dirMode = 0775;
     /**
-     * @var callback a PHP callback that is called before copying each sub-directory or file.
+     * @var callable|null a PHP callback that is called before copying each sub-directory or file.
      * This option is used only when publishing a directory. If the callback returns false, the copy
      * operation for the sub-directory or file will be cancelled.
      *
@@ -147,7 +147,7 @@ class AssetManager extends Component
      */
     public $beforeCopy;
     /**
-     * @var callback a PHP callback that is called after a sub-directory or file is successfully copied.
+     * @var callable|null a PHP callback that is called after a sub-directory or file is successfully copied.
      * This option is used only when publishing a directory. The signature of the callback is the same as
      * for [[beforeCopy]].
      * This is passed as a parameter `afterCopy` to [[\yii\helpers\FileHelper::copyDirectory()]].
@@ -171,7 +171,7 @@ class AssetManager extends Component
      */
     public $appendTimestamp = false;
     /**
-     * @var callable a callback that will be called to produce hash for asset directory generation.
+     * @var callable|null a callback that will be called to produce hash for asset directory generation.
      * The signature of the callback should be as follows:
      *
      * ```
@@ -198,6 +198,9 @@ class AssetManager extends Component
      */
     public $hashCallback;
 
+    /**
+     * @var array
+     */
     private $_dummyBundles = [];
 
 
@@ -214,6 +217,9 @@ public function init()
         $this->baseUrl = rtrim(Yii::getAlias($this->baseUrl), '/');
     }
 
+    /**
+     * @var bool|null
+     */
     private $_isBasePathPermissionChecked;
 
     /**
@@ -354,7 +360,7 @@ public function getAssetPath($bundle, $asset)
     /**
      * @param AssetBundle $bundle
      * @param string $asset
-     * @return string|bool
+     * @return string|false
      */
     protected function resolveAsset($bundle, $asset)
     {
@@ -376,6 +382,9 @@ protected function resolveAsset($bundle, $asset)
         return false;
     }
 
+    /**
+     * @var AssetConverterInterface
+     */
     private $_converter;
 
     /**
@@ -434,7 +443,7 @@ public function setConverter($value)
      * that holds the published assets. This problem can be avoided altogether by 'requesting'
      * in advance all the resources that are supposed to trigger a 'publish()' call, and doing
      * that in the application deployment phase, before system goes live. See more in the following
-     * discussion: http://code.google.com/p/yii/issues/detail?id=2579
+     * discussion: https://code.google.com/archive/p/yii/issues/2579
      *
      * @param string $path the asset (file or directory) to be published
      * @param array $options the options to be applied when publishing a directory.
diff --git a/framework/web/BadRequestHttpException.php b/framework/web/BadRequestHttpException.php
index 08f73826808..d065405c521 100644
--- a/framework/web/BadRequestHttpException.php
+++ b/framework/web/BadRequestHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -23,11 +23,11 @@ class BadRequestHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(400, $message, $code, $previous);
     }
diff --git a/framework/web/CacheSession.php b/framework/web/CacheSession.php
index ecb14b782a1..860a91d5803 100644
--- a/framework/web/CacheSession.php
+++ b/framework/web/CacheSession.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -31,7 +31,7 @@
  * ]
  * ```
  *
- * @property-read bool $useCustomStorage Whether to use custom storage. This property is read-only.
+ * @property-read bool $useCustomStorage Whether to use custom storage.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
diff --git a/framework/web/CompositeUrlRule.php b/framework/web/CompositeUrlRule.php
index 550a6d7e738..39274e81434 100644
--- a/framework/web/CompositeUrlRule.php
+++ b/framework/web/CompositeUrlRule.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -14,7 +14,7 @@
  * CompositeUrlRule is the base class for URL rule classes that consist of multiple simpler rules.
  *
  * @property-read null|int $createUrlStatus Status of the URL creation after the last [[createUrl()]] call.
- * `null` if rule does not provide info about create status. This property is read-only.
+ * `null` if rule does not provide info about create status.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -130,7 +130,7 @@ protected function iterateRules($rules, $manager, $route, $params)
      * For multiple rules statuses will be combined by bitwise `or` operator
      * (e.g. `UrlRule::CREATE_STATUS_PARSING_ONLY | UrlRule::CREATE_STATUS_PARAMS_MISMATCH`).
      *
-     * @return null|int Status of the URL creation after the last [[createUrl()]] call. `null` if rule does not provide
+     * @return int|null Status of the URL creation after the last [[createUrl()]] call. `null` if rule does not provide
      * info about create status.
      * @see createStatus
      * @see https://www.php.net/manual/en/language.operators.bitwise.php
diff --git a/framework/web/ConflictHttpException.php b/framework/web/ConflictHttpException.php
index 2e5c99da140..9fc2626f877 100644
--- a/framework/web/ConflictHttpException.php
+++ b/framework/web/ConflictHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -18,11 +18,11 @@ class ConflictHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(409, $message, $code, $previous);
     }
diff --git a/framework/web/Controller.php b/framework/web/Controller.php
index 2913e1993e4..eba2ea678da 100644
--- a/framework/web/Controller.php
+++ b/framework/web/Controller.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -242,7 +242,7 @@ public function beforeAction($action)
      *
      * @param string|array $url the URL to be redirected to. This can be in one of the following formats:
      *
-     * - a string representing a URL (e.g. "http://example.com")
+     * - a string representing a URL (e.g. "https://example.com")
      * - a string representing a URL alias (e.g. "@example.com")
      * - an array in the format of `[$route, ...name-value pairs...]` (e.g. `['site/index', 'ref' => 1]`)
      *   [[Url::to()]] will be used to convert the array into a URL.
@@ -290,7 +290,7 @@ public function goHome()
      *
      * For this function to work you have to [[User::setReturnUrl()|set the return URL]] in appropriate places before.
      *
-     * @param string|array $defaultUrl the default return URL in case it was not set previously.
+     * @param string|array|null $defaultUrl the default return URL in case it was not set previously.
      * If this is null and the return URL was not set previously, [[Application::homeUrl]] will be redirected to.
      * Please refer to [[User::setReturnUrl()]] on accepted format of the URL.
      * @return Response the current response object
diff --git a/framework/web/Cookie.php b/framework/web/Cookie.php
index 434e5cdf299..ac9a7233710 100644
--- a/framework/web/Cookie.php
+++ b/framework/web/Cookie.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/CookieCollection.php b/framework/web/CookieCollection.php
index aaedd9b8393..aa09b9ca455 100644
--- a/framework/web/CookieCollection.php
+++ b/framework/web/CookieCollection.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -17,9 +17,8 @@
  *
  * For more details and usage information on CookieCollection, see the [guide article on handling cookies](guide:runtime-sessions-cookies).
  *
- * @property-read int $count The number of cookies in the collection. This property is read-only.
- * @property-read ArrayIterator $iterator An iterator for traversing the cookies in the collection. This
- * property is read-only.
+ * @property-read int $count The number of cookies in the collection.
+ * @property-read ArrayIterator $iterator An iterator for traversing the cookies in the collection.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -55,6 +54,7 @@ public function __construct($cookies = [], $config = [])
      * It will be implicitly called when you use `foreach` to traverse the collection.
      * @return ArrayIterator an iterator for traversing the cookies in the collection.
      */
+    #[\ReturnTypeWillChange]
     public function getIterator()
     {
         return new ArrayIterator($this->_cookies);
@@ -66,6 +66,7 @@ public function getIterator()
      * It will be implicitly called when you use `count($collection)`.
      * @return int the number of cookies in the collection.
      */
+    #[\ReturnTypeWillChange]
     public function count()
     {
         return $this->getCount();
@@ -105,7 +106,7 @@ public function getValue($name, $defaultValue = null)
 
     /**
      * Returns whether there is a cookie with the specified name.
-     * Note that if a cookie is marked for deletion from browser, this method will return false.
+     * Note that if a cookie is marked for deletion from browser or its value is an empty string, this method will return false.
      * @param string $name the cookie name
      * @return bool whether the named cookie exists
      * @see remove()
@@ -199,6 +200,7 @@ public function fromArray(array $array)
      * @param string $name the cookie name
      * @return bool whether the named cookie exists
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($name)
     {
         return $this->has($name);
@@ -210,8 +212,9 @@ public function offsetExists($name)
      * It is implicitly called when you use something like `$cookie = $collection[$name];`.
      * This is equivalent to [[get()]].
      * @param string $name the cookie name
-     * @return Cookie the cookie with the specified name, null if the named cookie does not exist.
+     * @return Cookie|null the cookie with the specified name, null if the named cookie does not exist.
      */
+    #[\ReturnTypeWillChange]
     public function offsetGet($name)
     {
         return $this->get($name);
@@ -225,6 +228,7 @@ public function offsetGet($name)
      * @param string $name the cookie name
      * @param Cookie $cookie the cookie to be added
      */
+    #[\ReturnTypeWillChange]
     public function offsetSet($name, $cookie)
     {
         $this->add($cookie);
@@ -237,6 +241,7 @@ public function offsetSet($name, $cookie)
      * This is equivalent to [[remove()]].
      * @param string $name the cookie name
      */
+    #[\ReturnTypeWillChange]
     public function offsetUnset($name)
     {
         $this->remove($name);
diff --git a/framework/web/DbSession.php b/framework/web/DbSession.php
index d82484a4435..4d4e5030df2 100644
--- a/framework/web/DbSession.php
+++ b/framework/web/DbSession.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -140,7 +140,7 @@ public function regenerateID($deleteOldSession = false)
                ->queryOne();
         });
 
-        if ($row !== false) {
+        if ($row !== false && $this->getIsActive()) {
             if ($deleteOldSession) {
                 $this->db->createCommand()
                     ->update($this->sessionTable, ['id' => $newID], ['id' => $oldID])
@@ -151,11 +151,6 @@ public function regenerateID($deleteOldSession = false)
                     ->insert($this->sessionTable, $row)
                     ->execute();
             }
-        } else {
-            // shouldn't reach here normally
-            $this->db->createCommand()
-                ->insert($this->sessionTable, $this->composeFields($newID, ''))
-                ->execute();
         }
     }
 
diff --git a/framework/web/ErrorAction.php b/framework/web/ErrorAction.php
index 67bd8a6d413..e59f3ab2453 100644
--- a/framework/web/ErrorAction.php
+++ b/framework/web/ErrorAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -51,7 +51,7 @@
 class ErrorAction extends Action
 {
     /**
-     * @var string the view file to be rendered. If not set, it will take the value of [[id]].
+     * @var string|null the view file to be rendered. If not set, it will take the value of [[id]].
      * That means, if you name the action as "error" in "SiteController", then the view name
      * would be "error", and the corresponding view file would be "views/site/error.php".
      */
@@ -67,7 +67,7 @@ class ErrorAction extends Action
      */
     public $defaultMessage;
     /**
-     * @var string|false|null the name of the layout to be applied to this error action view.
+     * @var string|null|false the name of the layout to be applied to this error action view.
      * If not set, the layout configured in the controller will be used.
      * @see \yii\base\Controller::$layout
      * @since 2.0.14
@@ -75,7 +75,7 @@ class ErrorAction extends Action
     public $layout;
 
     /**
-     * @var \Exception the exception object, normally is filled on [[init()]] method call.
+     * @var \Throwable the exception object, normally is filled on [[init()]] method call.
      * @see findException() to know default way of obtaining exception.
      * @since 2.0.11
      */
@@ -157,7 +157,7 @@ protected function getViewRenderParams()
      * Gets exception from the [[yii\web\ErrorHandler|ErrorHandler]] component.
      * In case there is no exception in the component, treat as the action has been invoked
      * not from error handler, but by direct route, so '404 Not Found' error will be displayed.
-     * @return \Exception
+     * @return \Throwable
      * @since 2.0.11
      */
     protected function findException()
diff --git a/framework/web/ErrorHandler.php b/framework/web/ErrorHandler.php
index 5bb28dec3ee..3806c576ce9 100644
--- a/framework/web/ErrorHandler.php
+++ b/framework/web/ErrorHandler.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -39,7 +39,7 @@ class ErrorHandler extends \yii\base\ErrorHandler
      */
     public $maxTraceSourceLines = 13;
     /**
-     * @var string the route (e.g. `site/error`) to the controller action that will be used
+     * @var string|null the route (e.g. `site/error`) to the controller action that will be used
      * to display external errors. Inside the action, it can retrieve the error information
      * using `Yii::$app->errorHandler->exception`. This property defaults to null, meaning ErrorHandler
      * will handle the error display.
@@ -84,7 +84,7 @@ class ErrorHandler extends \yii\base\ErrorHandler
 
     /**
      * Renders the exception.
-     * @param \Exception|\Error $exception the exception to be rendered.
+     * @param \Throwable $exception the exception to be rendered.
      */
     protected function renderException($exception)
     {
@@ -138,7 +138,7 @@ protected function renderException($exception)
 
     /**
      * Converts an exception into an array.
-     * @param \Exception|\Error $exception the exception being converted
+     * @param \Throwable $exception the exception being converted
      * @return array the array representation of the exception.
      */
     protected function convertExceptionToArray($exception)
@@ -238,7 +238,7 @@ protected function getTypeUrl($class, $method)
         }
 
         $page = $this->htmlEncode(strtolower(str_replace('\\', '-', $class)));
-        $url = "http://www.yiiframework.com/doc-2.0/$page.html";
+        $url = "https://www.yiiframework.com/doc-2.0/$page.html";
         if ($method) {
             $url .= "#$method()-detail";
         }
@@ -272,7 +272,7 @@ public function renderFile($_file_, $_params_)
 
     /**
      * Renders the previous exception stack for a given Exception.
-     * @param \Exception $exception the exception whose precursors should be rendered.
+     * @param \Throwable $exception the exception whose precursors should be rendered.
      * @return string HTML content of the rendered previous exceptions.
      * Empty string if there are none.
      */
@@ -326,7 +326,7 @@ public function renderCallStackItem($file, $line, $class, $method, $args, $index
 
     /**
      * Renders call stack.
-     * @param \Exception|\ParseError $exception exception to get call stack from
+     * @param \Throwable $exception exception to get call stack from
      * @return string HTML content of the rendered call stack.
      * @since 2.0.12
      */
@@ -385,7 +385,7 @@ public function isCoreFile($file)
      */
     public function createHttpStatusLink($statusCode, $statusDescription)
     {
-        return '<a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes#' . (int) $statusCode . '" target="_blank">HTTP ' . (int) $statusCode . ' &ndash; ' . $statusDescription . '</a>';
+        return '<a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes#' . (int) $statusCode . '" target="_blank">HTTP ' . (int) $statusCode . ' &ndash; ' . $statusDescription . '</a>';
     }
 
     /**
@@ -396,11 +396,11 @@ public function createHttpStatusLink($statusCode, $statusDescription)
     public function createServerInformationLink()
     {
         $serverUrls = [
-            'http://httpd.apache.org/' => ['apache'],
-            'http://nginx.org/' => ['nginx'],
-            'http://lighttpd.net/' => ['lighttpd'],
+            'https://httpd.apache.org/' => ['apache'],
+            'https://nginx.org/' => ['nginx'],
+            'https://www.lighttpd.net/' => ['lighttpd'],
             'http://gwan.com/' => ['g-wan', 'gwan'],
-            'http://iis.net/' => ['iis', 'services'],
+            'https://www.iis.net/' => ['iis', 'services'],
             'https://www.php.net/manual/en/features.commandline.webserver.php' => ['development'],
         ];
         if (isset($_SERVER['SERVER_SOFTWARE'])) {
@@ -423,7 +423,7 @@ public function createServerInformationLink()
      */
     public function createFrameworkVersionLink()
     {
-        return '<a href="http://github.com/yiisoft/yii2/" target="_blank">' . $this->htmlEncode(Yii::getVersion()) . '</a>';
+        return '<a href="https://github.com/yiisoft/yii2/" target="_blank">' . $this->htmlEncode(Yii::getVersion()) . '</a>';
     }
 
     /**
@@ -482,7 +482,7 @@ public function argumentsToString($args)
 
     /**
      * Returns human-readable exception name.
-     * @param \Exception $exception
+     * @param \Throwable $exception
      * @return string|null human-readable exception name or null if it cannot be determined
      */
     public function getExceptionName($exception)
diff --git a/framework/web/ForbiddenHttpException.php b/framework/web/ForbiddenHttpException.php
index 51e0ff71aac..924f09e3259 100644
--- a/framework/web/ForbiddenHttpException.php
+++ b/framework/web/ForbiddenHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -23,11 +23,11 @@ class ForbiddenHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(403, $message, $code, $previous);
     }
diff --git a/framework/web/GoneHttpException.php b/framework/web/GoneHttpException.php
index ad736ac50ea..64cec04339c 100644
--- a/framework/web/GoneHttpException.php
+++ b/framework/web/GoneHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -23,11 +23,11 @@ class GoneHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(410, $message, $code, $previous);
     }
diff --git a/framework/web/GroupUrlRule.php b/framework/web/GroupUrlRule.php
index 4ce3b19a141..1b11721da25 100644
--- a/framework/web/GroupUrlRule.php
+++ b/framework/web/GroupUrlRule.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -60,7 +60,7 @@ class GroupUrlRule extends CompositeUrlRule
      */
     public $prefix;
     /**
-     * @var string the prefix for the route part of every rule declared in [[rules]].
+     * @var string|null the prefix for the route part of every rule declared in [[rules]].
      * The prefix and the route will be separated with a slash.
      * If this property is not set, it will take the value of [[prefix]].
      */
@@ -77,7 +77,7 @@ class GroupUrlRule extends CompositeUrlRule
      */
     public function init()
     {
-        $this->prefix = trim($this->prefix, '/');
+        $this->prefix = trim((string)$this->prefix, '/');
         $this->routePrefix = $this->routePrefix === null ? $this->prefix : trim($this->routePrefix, '/');
         parent::init();
     }
diff --git a/framework/web/HeaderCollection.php b/framework/web/HeaderCollection.php
index 0e03214511e..07d6502ef46 100644
--- a/framework/web/HeaderCollection.php
+++ b/framework/web/HeaderCollection.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -13,9 +13,8 @@
 /**
  * HeaderCollection is used by [[Response]] to maintain the currently registered HTTP headers.
  *
- * @property-read int $count The number of headers in the collection. This property is read-only.
- * @property-read \ArrayIterator $iterator An iterator for traversing the headers in the collection. This
- * property is read-only.
+ * @property-read int $count The number of headers in the collection.
+ * @property-read \ArrayIterator $iterator An iterator for traversing the headers in the collection.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -23,9 +22,13 @@
 class HeaderCollection extends BaseObject implements \IteratorAggregate, \ArrayAccess, \Countable
 {
     /**
-     * @var array the headers in this collection (indexed by the header names)
+     * @var array the headers in this collection (indexed by the normalized header names)
      */
     private $_headers = [];
+    /**
+     * @var array the original names of the headers (indexed by the normalized header names)
+     */
+    private $_originalHeaderNames = [];
 
 
     /**
@@ -34,6 +37,7 @@ class HeaderCollection extends BaseObject implements \IteratorAggregate, \ArrayA
      * It will be implicitly called when you use `foreach` to traverse the collection.
      * @return \ArrayIterator an iterator for traversing the headers in the collection.
      */
+    #[\ReturnTypeWillChange]
     public function getIterator()
     {
         return new \ArrayIterator($this->_headers);
@@ -45,6 +49,7 @@ public function getIterator()
      * It will be implicitly called when you use `count($collection)`.
      * @return int the number of headers in the collection.
      */
+    #[\ReturnTypeWillChange]
     public function count()
     {
         return $this->getCount();
@@ -54,6 +59,7 @@ public function count()
      * Returns the number of headers in the collection.
      * @return int the number of headers in the collection.
      */
+    #[\ReturnTypeWillChange]
     public function getCount()
     {
         return count($this->_headers);
@@ -65,14 +71,14 @@ public function getCount()
      * @param mixed $default the value to return in case the named header does not exist
      * @param bool $first whether to only return the first header of the specified name.
      * If false, all headers of the specified name will be returned.
-     * @return string|array the named header(s). If `$first` is true, a string will be returned;
+     * @return string|array|null the named header(s). If `$first` is true, a string will be returned;
      * If `$first` is false, an array will be returned.
      */
     public function get($name, $default = null, $first = true)
     {
-        $name = strtolower($name);
-        if (isset($this->_headers[$name])) {
-            return $first ? reset($this->_headers[$name]) : $this->_headers[$name];
+        $normalizedName = strtolower($name);
+        if (isset($this->_headers[$normalizedName])) {
+            return $first ? reset($this->_headers[$normalizedName]) : $this->_headers[$normalizedName];
         }
 
         return $default;
@@ -87,8 +93,9 @@ public function get($name, $default = null, $first = true)
      */
     public function set($name, $value = '')
     {
-        $name = strtolower($name);
-        $this->_headers[$name] = (array) $value;
+        $normalizedName = strtolower($name);
+        $this->_headers[$normalizedName] = (array) $value;
+        $this->_originalHeaderNames[$normalizedName] = $name;
 
         return $this;
     }
@@ -103,8 +110,11 @@ public function set($name, $value = '')
      */
     public function add($name, $value)
     {
-        $name = strtolower($name);
-        $this->_headers[$name][] = $value;
+        $normalizedName = strtolower($name);
+        $this->_headers[$normalizedName][] = $value;
+        if (!\array_key_exists($normalizedName, $this->_originalHeaderNames)) {
+            $this->_originalHeaderNames[$normalizedName] = $name;
+        }
 
         return $this;
     }
@@ -118,9 +128,10 @@ public function add($name, $value)
      */
     public function setDefault($name, $value)
     {
-        $name = strtolower($name);
-        if (empty($this->_headers[$name])) {
-            $this->_headers[$name][] = $value;
+        $normalizedName = strtolower($name);
+        if (empty($this->_headers[$normalizedName])) {
+            $this->_headers[$normalizedName][] = $value;
+            $this->_originalHeaderNames[$normalizedName] = $name;
         }
 
         return $this;
@@ -133,9 +144,7 @@ public function setDefault($name, $value)
      */
     public function has($name)
     {
-        $name = strtolower($name);
-
-        return isset($this->_headers[$name]);
+        return isset($this->_headers[strtolower($name)]);
     }
 
     /**
@@ -145,10 +154,10 @@ public function has($name)
      */
     public function remove($name)
     {
-        $name = strtolower($name);
-        if (isset($this->_headers[$name])) {
-            $value = $this->_headers[$name];
-            unset($this->_headers[$name]);
+        $normalizedName = strtolower($name);
+        if (isset($this->_headers[$normalizedName])) {
+            $value = $this->_headers[$normalizedName];
+            unset($this->_headers[$normalizedName], $this->_originalHeaderNames[$normalizedName]);
             return $value;
         }
 
@@ -161,6 +170,7 @@ public function remove($name)
     public function removeAll()
     {
         $this->_headers = [];
+        $this->_originalHeaderNames = [];
     }
 
     /**
@@ -173,6 +183,19 @@ public function toArray()
         return $this->_headers;
     }
 
+    /**
+     * Returns the collection as a PHP array but instead of using normalized header names as keys (like [[toArray()]])
+     * it uses original header names (case-sensitive).
+     * @return array the array representation of the collection.
+     * @since 2.0.45
+     */
+    public function toOriginalArray()
+    {
+        return \array_map(function ($normalizedName) {
+            return $this->_headers[$normalizedName];
+        }, \array_flip($this->_originalHeaderNames));
+    }
+
     /**
      * Populates the header collection from an array.
      * @param array $array the headers to populate from
@@ -180,7 +203,9 @@ public function toArray()
      */
     public function fromArray(array $array)
     {
-        $this->_headers = array_change_key_case($array, CASE_LOWER);
+        foreach ($array as $name => $value) {
+            $this->set($name, $value);
+        }
     }
 
     /**
@@ -190,6 +215,7 @@ public function fromArray(array $array)
      * @param string $name the header name
      * @return bool whether the named header exists
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($name)
     {
         return $this->has($name);
@@ -201,8 +227,9 @@ public function offsetExists($name)
      * It is implicitly called when you use something like `$header = $collection[$name];`.
      * This is equivalent to [[get()]].
      * @param string $name the header name
-     * @return string the header value with the specified name, null if the named header does not exist.
+     * @return string|null the header value with the specified name, null if the named header does not exist.
      */
+    #[\ReturnTypeWillChange]
     public function offsetGet($name)
     {
         return $this->get($name);
@@ -216,6 +243,7 @@ public function offsetGet($name)
      * @param string $name the header name
      * @param string $value the header value to be added
      */
+    #[\ReturnTypeWillChange]
     public function offsetSet($name, $value)
     {
         $this->set($name, $value);
@@ -228,6 +256,7 @@ public function offsetSet($name, $value)
      * This is equivalent to [[remove()]].
      * @param string $name the header name
      */
+    #[\ReturnTypeWillChange]
     public function offsetUnset($name)
     {
         $this->remove($name);
diff --git a/framework/web/HeadersAlreadySentException.php b/framework/web/HeadersAlreadySentException.php
index c57b5b88011..5aaac825927 100644
--- a/framework/web/HeadersAlreadySentException.php
+++ b/framework/web/HeadersAlreadySentException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/HtmlResponseFormatter.php b/framework/web/HtmlResponseFormatter.php
index 2b5ee81664d..f12170be017 100644
--- a/framework/web/HtmlResponseFormatter.php
+++ b/framework/web/HtmlResponseFormatter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/HttpException.php b/framework/web/HttpException.php
index f7f6ac5a1c3..78dc9bdef72 100644
--- a/framework/web/HttpException.php
+++ b/framework/web/HttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -38,14 +38,14 @@ class HttpException extends UserException
     /**
      * Constructor.
      * @param int $status HTTP status code, such as 404, 500, etc.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($status, $message = null, $code = 0, \Exception $previous = null)
+    public function __construct($status, $message = null, $code = 0, $previous = null)
     {
         $this->statusCode = $status;
-        parent::__construct($message, $code, $previous);
+        parent::__construct((string)$message, $code, $previous);
     }
 
     /**
diff --git a/framework/web/IdentityInterface.php b/framework/web/IdentityInterface.php
index 737a0242baa..655ceebacd4 100644
--- a/framework/web/IdentityInterface.php
+++ b/framework/web/IdentityInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/JqueryAsset.php b/framework/web/JqueryAsset.php
index 0ad585b706d..df365d7686b 100644
--- a/framework/web/JqueryAsset.php
+++ b/framework/web/JqueryAsset.php
@@ -1,14 +1,14 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
 
 /**
- * This asset bundle provides the [jQuery](http://jquery.com/) JavaScript library.
+ * This asset bundle provides the [jQuery](https://jquery.com/) JavaScript library.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
diff --git a/framework/web/JsExpression.php b/framework/web/JsExpression.php
index 83c76abf8f8..693c8c08210 100644
--- a/framework/web/JsExpression.php
+++ b/framework/web/JsExpression.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/JsonParser.php b/framework/web/JsonParser.php
index 94353fb5626..6d5c3e7552c 100644
--- a/framework/web/JsonParser.php
+++ b/framework/web/JsonParser.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/JsonResponseFormatter.php b/framework/web/JsonResponseFormatter.php
index 2218ca0d9ab..6c7afba9180 100644
--- a/framework/web/JsonResponseFormatter.php
+++ b/framework/web/JsonResponseFormatter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -82,7 +82,6 @@ class JsonResponseFormatter extends Component implements ResponseFormatterInterf
      * @since 2.0.7
      */
     public $prettyPrint = false;
-
     /**
      * @var bool Avoids objects with zero-indexed keys to be encoded as array
      * Json::encode((object)['test']) will be encoded as an object not array. This matches the behaviour of json_encode().
@@ -91,6 +90,7 @@ class JsonResponseFormatter extends Component implements ResponseFormatterInterf
      */
     public $keepObjectType;
 
+
     /**
      * Formats the specified response.
      * @param Response $response the response to be formatted.
diff --git a/framework/web/Link.php b/framework/web/Link.php
index 7a1cd3792f5..c64c34f81c5 100644
--- a/framework/web/Link.php
+++ b/framework/web/Link.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/Linkable.php b/framework/web/Linkable.php
index faa82cfacb2..1c7d1bdeb8f 100644
--- a/framework/web/Linkable.php
+++ b/framework/web/Linkable.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -27,10 +27,10 @@ interface Linkable
      *
      * ```php
      * [
-     *     'self' => 'http://example.com/users/1',
+     *     'self' => 'https://example.com/users/1',
      *     'friends' => [
-     *         'http://example.com/users/2',
-     *         'http://example.com/users/3',
+     *         'https://example.com/users/2',
+     *         'https://example.com/users/3',
      *     ],
      *     'manager' => $managerLink, // $managerLink is a Link object
      * ]
diff --git a/framework/web/MethodNotAllowedHttpException.php b/framework/web/MethodNotAllowedHttpException.php
index 4241e7618db..12d6c371d59 100644
--- a/framework/web/MethodNotAllowedHttpException.php
+++ b/framework/web/MethodNotAllowedHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -18,11 +18,11 @@ class MethodNotAllowedHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(405, $message, $code, $previous);
     }
diff --git a/framework/web/MultiFieldSession.php b/framework/web/MultiFieldSession.php
index 1b73e6d583e..012efcf79a5 100644
--- a/framework/web/MultiFieldSession.php
+++ b/framework/web/MultiFieldSession.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -22,7 +22,7 @@
  * While extending this class you should use [[composeFields()]] method - while writing the session data into the storage and
  * [[extractData()]] - while reading session data from the storage.
  *
- * @property-read bool $useCustomStorage Whether to use custom storage. This property is read-only.
+ * @property-read bool $useCustomStorage Whether to use custom storage.
  *
  * @author Paul Klimov <klimov.paul@gmail.com>
  * @since 2.0.6
@@ -89,8 +89,8 @@ public function getUseCustomStorage()
 
     /**
      * Composes storage field set for session writing.
-     * @param string $id Optional session id
-     * @param string $data Optional session data
+     * @param string|null $id Optional session id
+     * @param string|null $data Optional session data
      * @return array storage fields
      */
     protected function composeFields($id = null, $data = null)
diff --git a/framework/web/MultipartFormDataParser.php b/framework/web/MultipartFormDataParser.php
index 9cfac9b1996..f6bc9d7197d 100644
--- a/framework/web/MultipartFormDataParser.php
+++ b/framework/web/MultipartFormDataParser.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/NotAcceptableHttpException.php b/framework/web/NotAcceptableHttpException.php
index 65abdc42e93..6bca93f8bd4 100644
--- a/framework/web/NotAcceptableHttpException.php
+++ b/framework/web/NotAcceptableHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -22,11 +22,11 @@ class NotAcceptableHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(406, $message, $code, $previous);
     }
diff --git a/framework/web/NotFoundHttpException.php b/framework/web/NotFoundHttpException.php
index 03ce0266c96..d7ad0627c7d 100644
--- a/framework/web/NotFoundHttpException.php
+++ b/framework/web/NotFoundHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -18,11 +18,11 @@ class NotFoundHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(404, $message, $code, $previous);
     }
diff --git a/framework/web/RangeNotSatisfiableHttpException.php b/framework/web/RangeNotSatisfiableHttpException.php
index 18c1ebb5500..ef127a557fe 100644
--- a/framework/web/RangeNotSatisfiableHttpException.php
+++ b/framework/web/RangeNotSatisfiableHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -24,11 +24,11 @@ class RangeNotSatisfiableHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(416, $message, $code, $previous);
     }
diff --git a/framework/web/Request.php b/framework/web/Request.php
index bcaeb03af51..c42b6ad8651 100644
--- a/framework/web/Request.php
+++ b/framework/web/Request.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -23,7 +23,7 @@
  *
  * For more details and usage information on Request, see the [guide article on requests](guide:runtime-requests).
  *
- * @property-read string $absoluteUrl The currently requested absolute URL. This property is read-only.
+ * @property-read string $absoluteUrl The currently requested absolute URL.
  * @property array $acceptableContentTypes The content types ordered by the quality score. Types with the
  * highest scores will be returned first. The array keys are the content types, while the array values are the
  * corresponding quality score and other parameters as given in the header.
@@ -31,65 +31,59 @@
  * represents the most preferred language.
  * @property-read array $authCredentials That contains exactly two elements: - 0: the username sent via HTTP
  * authentication, `null` if the username is not given - 1: the password sent via HTTP authentication, `null` if
- * the password is not given. This property is read-only.
+ * the password is not given.
  * @property-read string|null $authPassword The password sent via HTTP authentication, `null` if the password
- * is not given. This property is read-only.
+ * is not given.
  * @property-read string|null $authUser The username sent via HTTP authentication, `null` if the username is
- * not given. This property is read-only.
+ * not given.
  * @property string $baseUrl The relative URL for the application.
- * @property array $bodyParams The request parameters given in the request body.
- * @property-read string $contentType Request content-type. Null is returned if this information is not
- * available. This property is read-only.
- * @property-read CookieCollection $cookies The cookie collection. This property is read-only.
- * @property-read string $csrfToken The token used to perform CSRF validation. This property is read-only.
+ * @property array|object $bodyParams The request parameters given in the request body. Note that the type of
+ * this property differs in getter and setter. See [[getBodyParams()]] and [[setBodyParams()]] for details.
+ * @property-read string $contentType Request content-type. Empty string is returned if this information is
+ * not available.
+ * @property-read CookieCollection $cookies The cookie collection.
+ * @property-read string $csrfToken The token used to perform CSRF validation.
  * @property-read string $csrfTokenFromHeader The CSRF token sent via [[CSRF_HEADER]] by browser. Null is
- * returned if no such header is sent. This property is read-only.
- * @property-read array $eTags The entity tags. This property is read-only.
- * @property-read HeaderCollection $headers The header collection. This property is read-only.
+ * returned if no such header is sent.
+ * @property-read array $eTags The entity tags.
+ * @property-read HeaderCollection $headers The header collection.
  * @property string|null $hostInfo Schema and hostname part (with port number if needed) of the request URL
- * (e.g. `http://www.yiiframework.com`), null if can't be obtained from `$_SERVER` and wasn't set. See
+ * (e.g. `https://www.yiiframework.com`), null if can't be obtained from `$_SERVER` and wasn't set. See
  * [[getHostInfo()]] for security related notes on this property.
- * @property-read string|null $hostName Hostname part of the request URL (e.g. `www.yiiframework.com`). This
- * property is read-only.
- * @property-read bool $isAjax Whether this is an AJAX (XMLHttpRequest) request. This property is read-only.
- * @property-read bool $isDelete Whether this is a DELETE request. This property is read-only.
- * @property-read bool $isFlash Whether this is an Adobe Flash or Adobe Flex request. This property is
- * read-only.
- * @property-read bool $isGet Whether this is a GET request. This property is read-only.
- * @property-read bool $isHead Whether this is a HEAD request. This property is read-only.
- * @property-read bool $isOptions Whether this is a OPTIONS request. This property is read-only.
- * @property-read bool $isPatch Whether this is a PATCH request. This property is read-only.
- * @property-read bool $isPjax Whether this is a PJAX request. This property is read-only.
- * @property-read bool $isPost Whether this is a POST request. This property is read-only.
- * @property-read bool $isPut Whether this is a PUT request. This property is read-only.
- * @property-read bool $isSecureConnection If the request is sent via secure channel (https). This property is
- * read-only.
+ * @property-read string|null $hostName Hostname part of the request URL (e.g. `www.yiiframework.com`).
+ * @property-read bool $isAjax Whether this is an AJAX (XMLHttpRequest) request.
+ * @property-read bool $isDelete Whether this is a DELETE request.
+ * @property-read bool $isFlash Whether this is an Adobe Flash or Adobe Flex request.
+ * @property-read bool $isGet Whether this is a GET request.
+ * @property-read bool $isHead Whether this is a HEAD request.
+ * @property-read bool $isOptions Whether this is a OPTIONS request.
+ * @property-read bool $isPatch Whether this is a PATCH request.
+ * @property-read bool $isPjax Whether this is a PJAX request.
+ * @property-read bool $isPost Whether this is a POST request.
+ * @property-read bool $isPut Whether this is a PUT request.
+ * @property-read bool $isSecureConnection If the request is sent via secure channel (https).
  * @property-read string $method Request method, such as GET, POST, HEAD, PUT, PATCH, DELETE. The value
- * returned is turned into upper case. This property is read-only.
- * @property-read string|null $origin URL origin of a CORS request, `null` if not available. This property is
- * read-only.
+ * returned is turned into upper case.
+ * @property-read string|null $origin URL origin of a CORS request, `null` if not available.
  * @property string $pathInfo Part of the request URL that is after the entry script and before the question
  * mark. Note, the returned path info is already URL-decoded.
  * @property int $port Port number for insecure requests.
  * @property array $queryParams The request GET parameter values.
- * @property-read string $queryString Part of the request URL that is after the question mark. This property
- * is read-only.
+ * @property-read string $queryString Part of the request URL that is after the question mark.
  * @property string $rawBody The request body.
- * @property-read string|null $referrer URL referrer, null if not available. This property is read-only.
- * @property-read string|null $remoteHost Remote host name, `null` if not available. This property is
- * read-only.
- * @property-read string|null $remoteIP Remote IP address, `null` if not available. This property is
- * read-only.
+ * @property-read string|null $referrer URL referrer, null if not available.
+ * @property-read string|null $remoteHost Remote host name, `null` if not available.
+ * @property-read string|null $remoteIP Remote IP address, `null` if not available.
  * @property string $scriptFile The entry script file path.
  * @property string $scriptUrl The relative URL of the entry script.
  * @property int $securePort Port number for secure requests.
- * @property-read string $serverName Server name, null if not available. This property is read-only.
- * @property-read int|null $serverPort Server port number, null if not available. This property is read-only.
+ * @property-read string $serverName Server name, null if not available.
+ * @property-read int|null $serverPort Server port number, null if not available.
  * @property string $url The currently requested relative URL. Note that the URI returned may be URL-encoded
  * depending on the client.
- * @property-read string|null $userAgent User agent, null if not available. This property is read-only.
- * @property-read string|null $userHost User host name, null if not available. This property is read-only.
- * @property-read string|null $userIP User IP address, null if not available. This property is read-only.
+ * @property-read string|null $userAgent User agent, null if not available.
+ * @property-read string|null $userHost User host name, null if not available.
+ * @property-read string|null $userIP User IP address, null if not available.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -121,7 +115,7 @@ class Request extends \yii\base\Request
      * You also need to include CSRF meta tags in your pages by using [[\yii\helpers\Html::csrfMetaTags()]].
      *
      * @see Controller::enableCsrfValidation
-     * @see http://en.wikipedia.org/wiki/Cross-site_request_forgery
+     * @see https://en.wikipedia.org/wiki/Cross-site_request_forgery
      */
     public $enableCsrfValidation = true;
     /**
@@ -227,6 +221,7 @@ class Request extends \yii\base\Request
         'X-Forwarded-For',
         'X-Forwarded-Host',
         'X-Forwarded-Proto',
+        'X-Forwarded-Port',
 
         // Microsoft:
         'Front-End-Https',
@@ -247,6 +242,18 @@ class Request extends \yii\base\Request
     public $ipHeaders = [
         'X-Forwarded-For', // Common
     ];
+    /**
+     * @var string[] List of headers where proxies store the real request port.
+     * It's not advisable to put insecure headers here.
+     * To use the `Forwarded Port`, the header must be added to [[secureHeaders]] list.
+     * The match of header names is case-insensitive.
+     * @see trustedHosts
+     * @see secureHeaders
+     * @since 2.0.46
+     */
+    public $portHeaders = [
+        'X-Forwarded-Port', // Common
+    ];
     /**
      * @var array list of headers to check for determining whether the connection is made via HTTPS.
      * The array keys are header names and the array value is a list of header values that indicate a secure connection.
@@ -570,7 +577,7 @@ public function getBodyParams()
             }
 
             $rawContentType = $this->getContentType();
-            if (($pos = strpos($rawContentType, ';')) !== false) {
+            if (($pos = strpos((string)$rawContentType, ';')) !== false) {
                 // e.g. text/html; charset=UTF-8
                 $contentType = substr($rawContentType, 0, $pos);
             } else {
@@ -603,8 +610,8 @@ public function getBodyParams()
 
     /**
      * Sets the request body parameters.
-     * @param array $values the request body parameters (name-value pairs)
-     * @see getBodyParam()
+     *
+     * @param array|object $values the request body parameters (name-value pairs)
      * @see getBodyParams()
      */
     public function setBodyParams($values)
@@ -614,7 +621,9 @@ public function setBodyParams($values)
 
     /**
      * Returns the named request body parameter value.
+     *
      * If the parameter does not exist, the second parameter passed to this method will be returned.
+     *
      * @param string $name the parameter name
      * @param mixed $defaultValue the default parameter value if the parameter does not exist.
      * @return mixed the parameter value
@@ -628,7 +637,7 @@ public function getBodyParam($name, $defaultValue = null)
         if (is_object($params)) {
             // unable to use `ArrayHelper::getValue()` due to different dots in key logic and lack of exception handling
             try {
-                return $params->{$name};
+                return isset($params->{$name}) ? $params->{$name} : $defaultValue;
             } catch (\Exception $e) {
                 return $defaultValue;
             }
@@ -737,10 +746,10 @@ public function getQueryParam($name, $defaultValue = null)
      * > application level in order to protect against such kind of attack.
      *
      * @property string|null schema and hostname part (with port number if needed) of the request URL
-     * (e.g. `http://www.yiiframework.com`), null if can't be obtained from `$_SERVER` and wasn't set.
+     * (e.g. `https://www.yiiframework.com`), null if can't be obtained from `$_SERVER` and wasn't set.
      * See [[getHostInfo()]] for security related notes on this property.
      * @return string|null schema and hostname part (with port number if needed) of the request URL
-     * (e.g. `http://www.yiiframework.com`), null if can't be obtained from `$_SERVER` and wasn't set.
+     * (e.g. `https://www.yiiframework.com`), null if can't be obtained from `$_SERVER` and wasn't set.
      * @see setHostInfo()
      */
     public function getHostInfo()
@@ -796,7 +805,7 @@ public function setHostInfo($value)
     public function getHostName()
     {
         if ($this->_hostName === null) {
-            $this->_hostName = parse_url($this->getHostInfo(), PHP_URL_HOST);
+            $this->_hostName = parse_url((string)$this->getHostInfo(), PHP_URL_HOST);
         }
 
         return $this->_hostName;
@@ -954,7 +963,7 @@ protected function resolvePathInfo()
         $pathInfo = urldecode($pathInfo);
 
         // try to encode in UTF8 if not so
-        // http://w3.org/International/questions/qa-forms-utf-8.html
+        // https://www.w3.org/International/questions/qa-forms-utf-8.en.html
         if (!preg_match('%^(?:
             [\x09\x0A\x0D\x20-\x7E]              # ASCII
             | [\xC2-\xDF][\x80-\xBF]             # non-overlong 2-byte
@@ -1114,7 +1123,7 @@ public function getIsSecureConnection()
 
     /**
      * Returns the server name.
-     * @return string server name, null if not available
+     * @return string|null server name, null if not available
      */
     public function getServerName()
     {
@@ -1122,11 +1131,23 @@ public function getServerName()
     }
 
     /**
-     * Returns the server port number.
+     * Returns the server port number. If a port is specified via a forwarding header (e.g. 'X-Forwarded-Port')
+     * and the remote host is a "trusted host" the that port will be used (see [[portHeaders]]),
+     * otherwise the default server port will be returned.
      * @return int|null server port number, null if not available
+     * @see portHeaders
      */
     public function getServerPort()
     {
+        foreach ($this->portHeaders as $portHeader) {
+            if ($this->headers->has($portHeader)) {
+                $port = $this->headers->get($portHeader);
+                if ($port !== null) {
+                    return $port;
+                }
+            }
+        }
+
         return isset($_SERVER['SERVER_PORT']) ? (int) $_SERVER['SERVER_PORT'] : null;
     }
 
@@ -1473,7 +1494,7 @@ public function setAcceptableContentTypes($value)
      * contained in [[getRawBody()]] or, in the case of the HEAD method, the
      * media type that would have been sent had the request been a GET.
      * For the MIME-types the user expects in response, see [[acceptableContentTypes]].
-     * @return string request content-type. Null is returned if this information is not available.
+     * @return string request content-type. Empty string is returned if this information is not available.
      * @link https://tools.ietf.org/html/rfc2616#section-14.17
      * HTTP 1.1 header field definitions
      */
@@ -1484,7 +1505,7 @@ public function getContentType()
         }
 
         //fix bug https://bugs.php.net/bug.php?id=66606
-        return $this->headers->get('Content-Type');
+        return $this->headers->get('Content-Type') ?: '';
     }
 
     private $_languages;
@@ -1735,7 +1756,7 @@ protected function loadCookies()
     /**
      * Returns the token used to perform CSRF validation.
      *
-     * This token is generated in a way to prevent [BREACH attacks](http://breachattack.com/). It may be passed
+     * This token is generated in a way to prevent [BREACH attacks](https://en.wikipedia.org/wiki/BREACH). It may be passed
      * along via a hidden field of an HTML form or an HTTP header value to support CSRF validation.
      * @param bool $regenerate whether to regenerate CSRF token. When this parameter is true, each time
      * this method is called, a new CSRF token will be generated and persisted (in session or cookie).
@@ -1756,7 +1777,7 @@ public function getCsrfToken($regenerate = false)
 
     /**
      * Loads the CSRF token from cookie or session.
-     * @return string the CSRF token loaded from cookie or session. Null is returned if the cookie or session
+     * @return string|null the CSRF token loaded from cookie or session. Null is returned if the cookie or session
      * does not have CSRF token.
      */
     protected function loadCsrfToken()
@@ -1786,7 +1807,7 @@ protected function generateCsrfToken()
     }
 
     /**
-     * @return string the CSRF token sent via [[CSRF_HEADER]] by browser. Null is returned if no such header is sent.
+     * @return string|null the CSRF token sent via [[CSRF_HEADER]] by browser. Null is returned if no such header is sent.
      */
     public function getCsrfTokenFromHeader()
     {
@@ -1819,7 +1840,7 @@ protected function createCsrfCookie($token)
      * Note that the method will NOT perform CSRF validation if [[enableCsrfValidation]] is false or the HTTP method
      * is among GET, HEAD or OPTIONS.
      *
-     * @param string $clientSuppliedToken the user-provided CSRF token to be validated. If null, the token will be retrieved from
+     * @param string|null $clientSuppliedToken the user-provided CSRF token to be validated. If null, the token will be retrieved from
      * the [[csrfParam]] POST field or HTTP header.
      * This parameter is available since version 2.0.4.
      * @return bool whether CSRF token is valid. If [[enableCsrfValidation]] is false, this method will return true.
diff --git a/framework/web/RequestParserInterface.php b/framework/web/RequestParserInterface.php
index 2108b827704..44a1051a6dd 100644
--- a/framework/web/RequestParserInterface.php
+++ b/framework/web/RequestParserInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/Response.php b/framework/web/Response.php
index a08f764df1f..8603b4ad908 100644
--- a/framework/web/Response.php
+++ b/framework/web/Response.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -37,27 +37,22 @@
  *
  * For more details and usage information on Response, see the [guide article on responses](guide:runtime-responses).
  *
- * @property-read CookieCollection $cookies The cookie collection. This property is read-only.
- * @property-write string $downloadHeaders The attachment file name. This property is write-only.
- * @property-read HeaderCollection $headers The header collection. This property is read-only.
- * @property-read bool $isClientError Whether this response indicates a client error. This property is
- * read-only.
- * @property-read bool $isEmpty Whether this response is empty. This property is read-only.
- * @property-read bool $isForbidden Whether this response indicates the current request is forbidden. This
- * property is read-only.
- * @property-read bool $isInformational Whether this response is informational. This property is read-only.
- * @property-read bool $isInvalid Whether this response has a valid [[statusCode]]. This property is
- * read-only.
+ * @property-read CookieCollection $cookies The cookie collection.
+ * @property-write string $downloadHeaders The attachment file name.
+ * @property-read HeaderCollection $headers The header collection.
+ * @property-read bool $isClientError Whether this response indicates a client error.
+ * @property-read bool $isEmpty Whether this response is empty.
+ * @property-read bool $isForbidden Whether this response indicates the current request is forbidden.
+ * @property-read bool $isInformational Whether this response is informational.
+ * @property-read bool $isInvalid Whether this response has a valid [[statusCode]].
  * @property-read bool $isNotFound Whether this response indicates the currently requested resource is not
- * found. This property is read-only.
- * @property-read bool $isOk Whether this response is OK. This property is read-only.
- * @property-read bool $isRedirection Whether this response is a redirection. This property is read-only.
- * @property-read bool $isServerError Whether this response indicates a server error. This property is
- * read-only.
- * @property-read bool $isSuccessful Whether this response is successful. This property is read-only.
+ * found.
+ * @property-read bool $isOk Whether this response is OK.
+ * @property-read bool $isRedirection Whether this response is a redirection.
+ * @property-read bool $isServerError Whether this response indicates a server error.
+ * @property-read bool $isSuccessful Whether this response is successful.
  * @property int $statusCode The HTTP status code to send with the response.
- * @property-write \Exception|\Error|\Throwable $statusCodeByException The exception object. This property is
- * write-only.
+ * @property-write \Throwable $statusCodeByException The exception object.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Carsten Brandt <mail@cebe.cc>
@@ -132,7 +127,7 @@ class Response extends \yii\base\Response
      */
     public $data;
     /**
-     * @var string the response content. When [[data]] is not null, it will be converted into [[content]]
+     * @var string|null the response content. When [[data]] is not null, it will be converted into [[content]]
      * according to [[format]] when the response is being sent out.
      * @see data
      */
@@ -147,7 +142,7 @@ class Response extends \yii\base\Response
      */
     public $stream;
     /**
-     * @var string the charset of the text response. If not set, it will use
+     * @var string|null the charset of the text response. If not set, it will use
      * the value of [[Application::charset]].
      */
     public $charset;
@@ -157,7 +152,7 @@ class Response extends \yii\base\Response
      */
     public $statusText = 'OK';
     /**
-     * @var string the version of the HTTP protocol to use. If not set, it will be determined via `$_SERVER['SERVER_PROTOCOL']`,
+     * @var string|null the version of the HTTP protocol to use. If not set, it will be determined via `$_SERVER['SERVER_PROTOCOL']`,
      * or '1.1' if that is not available.
      */
     public $version;
@@ -278,7 +273,7 @@ public function getStatusCode()
      * Sets the response status code.
      * This method will set the corresponding status text if `$text` is null.
      * @param int $value the status code
-     * @param string $text the status text. If not set, it will be set automatically based on the status code.
+     * @param string|null $text the status text. If not set, it will be set automatically based on the status code.
      * @throws InvalidArgumentException if the status code is invalid.
      * @return $this the response object itself
      */
@@ -302,7 +297,7 @@ public function setStatusCode($value, $text = null)
 
     /**
      * Sets the response status code based on the exception.
-     * @param \Exception|\Error|\Throwable $e the exception object.
+     * @param \Throwable $e the exception object.
      * @throws InvalidArgumentException if the status code is invalid.
      * @return $this the response object itself
      * @since 2.0.12
@@ -504,7 +499,7 @@ protected function sendContent()
      * ```
      *
      * @param string $filePath the path of the file to be sent.
-     * @param string $attachmentName the file name shown to the user. If null, it will be determined from `$filePath`.
+     * @param string|null $attachmentName the file name shown to the user. If null, it will be determined from `$filePath`.
      * @param array $options additional options for sending the file. The following options are supported:
      *
      *  - `mimeType`: the MIME type of the content. If not set, it will be guessed based on `$filePath`
@@ -639,10 +634,10 @@ public function sendStreamAsFile($handle, $attachmentName, $options = [])
     /**
      * Sets a default set of HTTP headers for file downloading purpose.
      * @param string $attachmentName the attachment file name
-     * @param string $mimeType the MIME type for the response. If null, `Content-Type` header will NOT be set.
+     * @param string|null $mimeType the MIME type for the response. If null, `Content-Type` header will NOT be set.
      * @param bool $inline whether the browser should open the file within the browser window. Defaults to false,
      * meaning a download dialog will pop up.
-     * @param int $contentLength the byte length of the file being downloaded. If null, `Content-Length` header will NOT be set.
+     * @param int|null $contentLength the byte length of the file being downloaded. If null, `Content-Length` header will NOT be set.
      * @return $this the response object itself
      */
     public function setDownloadHeaders($attachmentName, $mimeType = null, $inline = false, $contentLength = null)
@@ -716,11 +711,11 @@ protected function getHttpRange($fileSize)
      *
      * As this header directive is non-standard different directives exists for different web servers applications:
      *
-     * - Apache: [X-Sendfile](http://tn123.org/mod_xsendfile)
-     * - Lighttpd v1.4: [X-LIGHTTPD-send-file](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-     * - Lighttpd v1.5: [X-Sendfile](http://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
-     * - Nginx: [X-Accel-Redirect](http://wiki.nginx.org/XSendfile)
-     * - Cherokee: [X-Sendfile and X-Accel-Redirect](http://www.cherokee-project.com/doc/other_goodies.html#x-sendfile)
+     * - Apache: [X-Sendfile](https://tn123.org/mod_xsendfile/)
+     * - Lighttpd v1.4: [X-LIGHTTPD-send-file](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+     * - Lighttpd v1.5: [X-Sendfile](https://redmine.lighttpd.net/projects/lighttpd/wiki/X-LIGHTTPD-send-file)
+     * - Nginx: [X-Accel-Redirect](https://www.nginx.com/resources/wiki/XSendfile)
+     * - Cherokee: [X-Sendfile and X-Accel-Redirect](https://cherokee-project.com/doc/other_goodies.html#x-sendfile)
      *
      * So for this method to work the X-SENDFILE option/module should be enabled by the web server and
      * a proper xHeader should be sent.
@@ -748,7 +743,7 @@ protected function getHttpRange($fileSize)
      * ```
      *
      * @param string $filePath file name with full path
-     * @param string $attachmentName file name shown to the user. If null, it will be determined from `$filePath`.
+     * @param string|null $attachmentName file name shown to the user. If null, it will be determined from `$filePath`.
      * @param array $options additional options for sending the file. The following options are supported:
      *
      *  - `mimeType`: the MIME type of the content. If not set, it will be guessed based on `$filePath`
@@ -864,7 +859,7 @@ protected function getDispositionHeaderValue($disposition, $attachmentName)
      *
      * @param string|array $url the URL to be redirected to. This can be in one of the following formats:
      *
-     * - a string representing a URL (e.g. "http://example.com")
+     * - a string representing a URL (e.g. "https://example.com")
      * - a string representing a URL alias (e.g. "@example.com")
      * - an array in the format of `[$route, ...name-value pairs...]` (e.g. `['site/index', 'ref' => 1]`).
      *   Note that the route is with respect to the whole application, instead of relative to a controller or module.
@@ -890,26 +885,29 @@ public function redirect($url, $statusCode = 302, $checkAjax = true)
             $url[0] = '/' . ltrim($url[0], '/');
         }
         $request = Yii::$app->getRequest();
-        $url = Url::to($url);
-        if (strncmp($url, '/', 1) === 0 && strncmp($url, '//', 2) !== 0) {
-            $url = $request->getHostInfo() . $url;
+        $normalizedUrl = Url::to($url);
+        if (
+            $normalizedUrl !== null
+            && strncmp($normalizedUrl, '/', 1) === 0
+            && strncmp($normalizedUrl, '//', 2) !== 0
+        ) {
+            $normalizedUrl = $request->getHostInfo() . $normalizedUrl;
         }
 
-        if ($checkAjax) {
-            if ($request->getIsAjax()) {
-                if (in_array($statusCode, [301, 302]) && preg_match('/Trident\/|MSIE[ ]/', $request->userAgent)) {
-                    $statusCode = 200;
-                }
-                if ($request->getIsPjax()) {
-                    $this->getHeaders()->set('X-Pjax-Url', $url);
-                } else {
-                    $this->getHeaders()->set('X-Redirect', $url);
-                }
+        if ($checkAjax && $request->getIsAjax()) {
+            if (
+                in_array($statusCode, [301, 302])
+                && preg_match('/Trident\/|MSIE[ ]/', (string)$request->userAgent)
+            ) {
+                $statusCode = 200;
+            }
+            if ($request->getIsPjax()) {
+                $this->getHeaders()->set('X-Pjax-Url', $normalizedUrl);
             } else {
-                $this->getHeaders()->set('Location', $url);
+                $this->getHeaders()->set('X-Redirect', $normalizedUrl);
             }
         } else {
-            $this->getHeaders()->set('Location', $url);
+            $this->getHeaders()->set('Location', $normalizedUrl);
         }
 
         $this->setStatusCode($statusCode);
diff --git a/framework/web/ResponseFormatterInterface.php b/framework/web/ResponseFormatterInterface.php
index 585c755a8dd..39bfde7da6a 100644
--- a/framework/web/ResponseFormatterInterface.php
+++ b/framework/web/ResponseFormatterInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/ServerErrorHttpException.php b/framework/web/ServerErrorHttpException.php
index 42e69c498bd..0f10fc8f97c 100644
--- a/framework/web/ServerErrorHttpException.php
+++ b/framework/web/ServerErrorHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -18,11 +18,11 @@ class ServerErrorHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(500, $message, $code, $previous);
     }
diff --git a/framework/web/Session.php b/framework/web/Session.php
index 5ac99277f50..01997ff5f5f 100644
--- a/framework/web/Session.php
+++ b/framework/web/Session.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -45,28 +45,26 @@
  *
  * For more details and usage information on Session, see the [guide article on sessions](guide:runtime-sessions-cookies).
  *
- * @property-read array $allFlashes Flash messages (key => message or key => [message1, message2]). This
- * property is read-only.
- * @property-read string $cacheLimiter Current cache limiter. This property is read-only.
- * @property-read array $cookieParams The session cookie parameters. This property is read-only.
- * @property-read int $count The number of session variables. This property is read-only.
+ * @property-read array $allFlashes Flash messages (key => message or key => [message1, message2]).
+ * @property-read string $cacheLimiter Current cache limiter.
+ * @property-read array $cookieParams The session cookie parameters.
+ * @property-read int $count The number of session variables.
  * @property-write string $flash The key identifying the flash message. Note that flash messages and normal
  * session variables share the same name space. If you have a normal session variable using the same name, its
- * value will be overwritten by this method. This property is write-only.
+ * value will be overwritten by this method.
  * @property float $gCProbability The probability (percentage) that the GC (garbage collection) process is
  * started on every session initialization.
  * @property bool $hasSessionId Whether the current request has sent the session ID.
  * @property string $id The current session ID.
- * @property-read bool $isActive Whether the session has started. This property is read-only.
- * @property-read SessionIterator $iterator An iterator for traversing the session variables. This property is
- * read-only.
+ * @property-read bool $isActive Whether the session has started.
+ * @property-read SessionIterator $iterator An iterator for traversing the session variables.
  * @property string $name The current session name.
  * @property string $savePath The current session save path, defaults to '/tmp'.
  * @property int $timeout The number of seconds after which data will be seen as 'garbage' and cleaned up. The
  * default value is 1440 seconds (or the value of "session.gc_maxlifetime" set in php.ini).
  * @property bool|null $useCookies The value indicating whether cookies should be used to store session IDs.
- * @property-read bool $useCustomStorage Whether to use custom storage. This property is read-only.
- * @property-read bool $useStrictMode Whether strict mode is enabled or not. This property is read-only.
+ * @property-read bool $useCustomStorage Whether to use custom storage.
+ * @property bool $useStrictMode Whether strict mode is enabled or not.
  * @property bool $useTransparentSessionID Whether transparent sid support is enabled or not, defaults to
  * false.
  *
@@ -662,6 +660,7 @@ public function gcSession($maxLifetime)
      * This method is required by the interface [[\IteratorAggregate]].
      * @return SessionIterator an iterator for traversing the session variables.
      */
+    #[\ReturnTypeWillChange]
     public function getIterator()
     {
         $this->open();
@@ -683,6 +682,7 @@ public function getCount()
      * This method is required by [[\Countable]] interface.
      * @return int number of items in the session.
      */
+    #[\ReturnTypeWillChange]
     public function count()
     {
         return $this->getCount();
@@ -823,7 +823,7 @@ public function getFlash($key, $defaultValue = null, $delete = false)
      *
      * Note that if you use [[addFlash()]], `$message` will be an array, and you will have to adjust the above code.
      *
-     * [bootstrap alert]: http://getbootstrap.com/components/#alerts
+     * [bootstrap alert]: https://getbootstrap.com/docs/3.4/components/#alerts
      *
      * @param bool $delete whether to delete the flash messages right after this method is called.
      * If false, the flash messages will be automatically deleted in the next request.
@@ -964,6 +964,7 @@ public function hasFlash($key)
      * @param int|string $offset the offset to check on
      * @return bool
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($offset)
     {
         $this->open();
@@ -976,6 +977,7 @@ public function offsetExists($offset)
      * @param int|string $offset the offset to retrieve element.
      * @return mixed the element at the offset, null if no element is found at the offset
      */
+    #[\ReturnTypeWillChange]
     public function offsetGet($offset)
     {
         $this->open();
@@ -988,6 +990,7 @@ public function offsetGet($offset)
      * @param int|string $offset the offset to set element
      * @param mixed $item the element value
      */
+    #[\ReturnTypeWillChange]
     public function offsetSet($offset, $item)
     {
         $this->open();
@@ -998,6 +1001,7 @@ public function offsetSet($offset, $item)
      * This method is required by the interface [[\ArrayAccess]].
      * @param int|string $offset the offset to unset element
      */
+    #[\ReturnTypeWillChange]
     public function offsetUnset($offset)
     {
         $this->open();
diff --git a/framework/web/SessionIterator.php b/framework/web/SessionIterator.php
index d8ccdf71ad0..e4b4c9eb809 100644
--- a/framework/web/SessionIterator.php
+++ b/framework/web/SessionIterator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -20,7 +20,7 @@ class SessionIterator implements \Iterator
      */
     private $_keys;
     /**
-     * @var mixed current key
+     * @var string|int|false current key
      */
     private $_key;
 
@@ -30,13 +30,15 @@ class SessionIterator implements \Iterator
      */
     public function __construct()
     {
-        $this->_keys = array_keys($_SESSION);
+        $this->_keys = array_keys(isset($_SESSION) ? $_SESSION : []);
+        $this->rewind();
     }
 
     /**
      * Rewinds internal array pointer.
      * This method is required by the interface [[\Iterator]].
      */
+    #[\ReturnTypeWillChange]
     public function rewind()
     {
         $this->_key = reset($this->_keys);
@@ -45,11 +47,12 @@ public function rewind()
     /**
      * Returns the key of the current array element.
      * This method is required by the interface [[\Iterator]].
-     * @return mixed the key of the current array element
+     * @return string|int|null the key of the current array element
      */
+    #[\ReturnTypeWillChange]
     public function key()
     {
-        return $this->_key;
+        return $this->_key === false ? null : $this->_key;
     }
 
     /**
@@ -57,20 +60,22 @@ public function key()
      * This method is required by the interface [[\Iterator]].
      * @return mixed the current array element
      */
+    #[\ReturnTypeWillChange]
     public function current()
     {
-        return isset($_SESSION[$this->_key]) ? $_SESSION[$this->_key] : null;
+        return $this->_key !== false && isset($_SESSION[$this->_key]) ? $_SESSION[$this->_key] : null;
     }
 
     /**
      * Moves the internal pointer to the next array element.
      * This method is required by the interface [[\Iterator]].
      */
+    #[\ReturnTypeWillChange]
     public function next()
     {
         do {
             $this->_key = next($this->_keys);
-        } while (!isset($_SESSION[$this->_key]) && $this->_key !== false);
+        } while ($this->_key !== false && !isset($_SESSION[$this->_key]));
     }
 
     /**
@@ -78,6 +83,7 @@ public function next()
      * This method is required by the interface [[\Iterator]].
      * @return bool
      */
+    #[\ReturnTypeWillChange]
     public function valid()
     {
         return $this->_key !== false;
diff --git a/framework/web/TooManyRequestsHttpException.php b/framework/web/TooManyRequestsHttpException.php
index eb602112575..193ab2841ea 100644
--- a/framework/web/TooManyRequestsHttpException.php
+++ b/framework/web/TooManyRequestsHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -22,11 +22,11 @@ class TooManyRequestsHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(429, $message, $code, $previous);
     }
diff --git a/framework/web/UnauthorizedHttpException.php b/framework/web/UnauthorizedHttpException.php
index 2f8350e7974..9e0ddc64eab 100644
--- a/framework/web/UnauthorizedHttpException.php
+++ b/framework/web/UnauthorizedHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -25,11 +25,11 @@ class UnauthorizedHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(401, $message, $code, $previous);
     }
diff --git a/framework/web/UnprocessableEntityHttpException.php b/framework/web/UnprocessableEntityHttpException.php
index e32faac3a62..492ff4c3041 100644
--- a/framework/web/UnprocessableEntityHttpException.php
+++ b/framework/web/UnprocessableEntityHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -24,11 +24,11 @@ class UnprocessableEntityHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(422, $message, $code, $previous);
     }
diff --git a/framework/web/UnsupportedMediaTypeHttpException.php b/framework/web/UnsupportedMediaTypeHttpException.php
index 5942ea2661d..c8c756435d7 100644
--- a/framework/web/UnsupportedMediaTypeHttpException.php
+++ b/framework/web/UnsupportedMediaTypeHttpException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -23,11 +23,11 @@ class UnsupportedMediaTypeHttpException extends HttpException
 {
     /**
      * Constructor.
-     * @param string $message error message
+     * @param string|null $message error message
      * @param int $code error code
-     * @param \Exception $previous The previous exception used for the exception chaining.
+     * @param \Throwable|null $previous The previous exception used for the exception chaining.
      */
-    public function __construct($message = null, $code = 0, \Exception $previous = null)
+    public function __construct($message = null, $code = 0, $previous = null)
     {
         parent::__construct(415, $message, $code, $previous);
     }
diff --git a/framework/web/UploadedFile.php b/framework/web/UploadedFile.php
index a6609703cd5..c5ac72f36e7 100644
--- a/framework/web/UploadedFile.php
+++ b/framework/web/UploadedFile.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -18,14 +18,14 @@
  * You can call [[getInstance()]] to retrieve the instance of an uploaded file,
  * and then use [[saveAs()]] to save it on the server.
  * You may also query other information about the file, including [[name]],
- * [[tempName]], [[type]], [[size]] and [[error]].
+ * [[tempName]], [[type]], [[size]], [[error]] and [[fullPath]].
  *
  * For more details and usage information on UploadedFile, see the [guide article on handling uploads](guide:input-file-upload).
  *
- * @property-read string $baseName Original file base name. This property is read-only.
- * @property-read string $extension File extension. This property is read-only.
+ * @property-read string $baseName Original file base name.
+ * @property-read string $extension File extension.
  * @property-read bool $hasError Whether there is an error with the uploaded file. Check [[error]] for
- * detailed error code information. This property is read-only.
+ * detailed error code information.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -57,11 +57,21 @@ class UploadedFile extends BaseObject
      * @see https://www.php.net/manual/en/features.file-upload.errors.php
      */
     public $error;
+    /**
+     * @var string|null The full path as submitted by the browser. Note this value does not always
+     * contain a real directory structure, and cannot be trusted. Available as of PHP 8.1.
+     * @since 2.0.46
+     */
+    public $fullPath;
 
     /**
-     * @var resource a temporary uploaded stream resource used within PUT and PATCH request.
+     * @var resource|null a temporary uploaded stream resource used within PUT and PATCH request.
      */
     private $_tempResource;
+
+    /**
+     * @var array[]
+     */
     private static $_files;
 
 
@@ -93,7 +103,7 @@ public function __toString()
      * @param \yii\base\Model $model the data model
      * @param string $attribute the attribute name. The attribute name may contain array indexes.
      * For example, '[1]file' for tabular file uploading; and 'file[1]' for an element in a file array.
-     * @return null|UploadedFile the instance of the uploaded file.
+     * @return UploadedFile|null the instance of the uploaded file.
      * Null is returned if no file is uploaded for the specified model attribute.
      * @see getInstanceByName()
      */
@@ -121,7 +131,7 @@ public static function getInstances($model, $attribute)
      * Returns an uploaded file according to the given file input name.
      * The name can be a plain string or a string like an array element (e.g. 'Post[imageFile]', or 'Post[0][imageFile]').
      * @param string $name the name of the file input field.
-     * @return null|UploadedFile the instance of the uploaded file.
+     * @return UploadedFile|null the instance of the uploaded file.
      * Null is returned if no file is uploaded for the specified name.
      */
     public static function getInstanceByName($name)
@@ -192,7 +202,7 @@ public function saveAs($file, $deleteTempFile = true)
      * Copy temporary file into file specified
      *
      * @param string $targetFile path of the file to copy to
-     * @return bool|int the total count of bytes copied, or false on failure
+     * @return int|false the total count of bytes copied, or false on failure
      * @since 2.0.32
      */
     protected function copyTempFile($targetFile)
@@ -236,17 +246,26 @@ public function getHasError()
     }
 
     /**
-     * Creates UploadedFile instances from $_FILE.
-     * @return array the UploadedFile instances
+     * Returns reformated data of uplodaded files.
+     *
+     * @return array[]
      */
     private static function loadFiles()
     {
         if (self::$_files === null) {
             self::$_files = [];
             if (isset($_FILES) && is_array($_FILES)) {
-                foreach ($_FILES as $class => $info) {
-                    $resource = isset($info['tmp_resource']) ? $info['tmp_resource'] : [];
-                    self::loadFilesRecursive($class, $info['name'], $info['tmp_name'], $info['type'], $info['size'], $info['error'], $resource);
+                foreach ($_FILES as $key => $info) {
+                    self::loadFilesRecursive(
+                        $key,
+                        $info['name'],
+                        $info['tmp_name'],
+                        $info['type'],
+                        $info['size'],
+                        $info['error'],
+                        isset($info['full_path']) ? $info['full_path'] : [],
+                        isset($info['tmp_resource']) ? $info['tmp_resource'] : []
+                    );
                 }
             }
         }
@@ -255,29 +274,41 @@ private static function loadFiles()
     }
 
     /**
-     * Creates UploadedFile instances from $_FILE recursively.
-     * @param string $key key for identifying uploaded file: class name and sub-array indexes
-     * @param mixed $names file names provided by PHP
-     * @param mixed $tempNames temporary file names provided by PHP
-     * @param mixed $types file types provided by PHP
-     * @param mixed $sizes file sizes provided by PHP
-     * @param mixed $errors uploading issues provided by PHP
+     * Recursive reformats data of uplodaded file(s).
+     *
+     * @param string $key key for identifying uploaded file(sub-array index)
+     * @param string[]|string $names file name(s) provided by PHP
+     * @param string[]|string $tempNames temporary file name(s) provided by PHP
+     * @param string[]|string $types file type(s) provided by PHP
+     * @param int[]|int $sizes file size(s) provided by PHP
+     * @param int[]|int $errors uploading issue(s) provided by PHP
+     * @param array|string|null $fullPaths the full path(s) as submitted by the browser/PHP
+     * @param array|resource|null $tempResources the resource(s)
      */
-    private static function loadFilesRecursive($key, $names, $tempNames, $types, $sizes, $errors, $tempResources)
+    private static function loadFilesRecursive($key, $names, $tempNames, $types, $sizes, $errors, $fullPaths, $tempResources)
     {
         if (is_array($names)) {
             foreach ($names as $i => $name) {
-                $resource = isset($tempResources[$i]) ? $tempResources[$i] : [];
-                self::loadFilesRecursive($key . '[' . $i . ']', $name, $tempNames[$i], $types[$i], $sizes[$i], $errors[$i], $resource);
+                self::loadFilesRecursive(
+                    $key . '[' . $i . ']',
+                    $name,
+                    $tempNames[$i],
+                    $types[$i],
+                    $sizes[$i],
+                    $errors[$i],
+                    isset($fullPaths[$i]) ? $fullPaths[$i] : null,
+                    isset($tempResources[$i]) ? $tempResources[$i] : null
+                );
             }
-        } elseif ((int) $errors !== UPLOAD_ERR_NO_FILE) {
+        } elseif ($errors != UPLOAD_ERR_NO_FILE) {
             self::$_files[$key] = [
                 'name' => $names,
                 'tempName' => $tempNames,
-                'tempResource' => $tempResources,
+                'tempResource' => is_resource($tempResources) ? $tempResources : null,
                 'type' => $types,
                 'size' => $sizes,
                 'error' => $errors,
+                'fullPath' => is_string($fullPaths) ? $fullPaths : null,
             ];
         }
     }
diff --git a/framework/web/UrlManager.php b/framework/web/UrlManager.php
index 92c73d3fe9e..292c4bc3e70 100644
--- a/framework/web/UrlManager.php
+++ b/framework/web/UrlManager.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -39,7 +39,7 @@
  * For more details and usage information on UrlManager, see the [guide article on routing](guide:runtime-routing).
  *
  * @property string $baseUrl The base URL that is used by [[createUrl()]] to prepend to created URLs.
- * @property string $hostInfo The host info (e.g. `http://www.example.com`) that is used by
+ * @property string $hostInfo The host info (e.g. `https://www.example.com`) that is used by
  * [[createAbsoluteUrl()]] to prepend to created URLs.
  * @property string $scriptUrl The entry script URL that is used by [[createUrl()]] to prepend to created
  * URLs.
@@ -635,7 +635,7 @@ public function setScriptUrl($value)
 
     /**
      * Returns the host info that is used by [[createAbsoluteUrl()]] to prepend to created URLs.
-     * @return string the host info (e.g. `http://www.example.com`) that is used by [[createAbsoluteUrl()]] to prepend to created URLs.
+     * @return string the host info (e.g. `https://www.example.com`) that is used by [[createAbsoluteUrl()]] to prepend to created URLs.
      * @throws InvalidConfigException if running in console application and [[hostInfo]] is not configured.
      */
     public function getHostInfo()
@@ -654,7 +654,7 @@ public function getHostInfo()
 
     /**
      * Sets the host info that is used by [[createAbsoluteUrl()]] to prepend to created URLs.
-     * @param string $value the host info (e.g. "http://www.example.com") that is used by [[createAbsoluteUrl()]] to prepend to created URLs.
+     * @param string $value the host info (e.g. "https://www.example.com") that is used by [[createAbsoluteUrl()]] to prepend to created URLs.
      */
     public function setHostInfo($value)
     {
diff --git a/framework/web/UrlNormalizer.php b/framework/web/UrlNormalizer.php
index 0b7c9406da4..7d7459e868b 100644
--- a/framework/web/UrlNormalizer.php
+++ b/framework/web/UrlNormalizer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/UrlNormalizerRedirectException.php b/framework/web/UrlNormalizerRedirectException.php
index 88147cf3a48..796e376ab82 100644
--- a/framework/web/UrlNormalizerRedirectException.php
+++ b/framework/web/UrlNormalizerRedirectException.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -38,15 +38,15 @@ class UrlNormalizerRedirectException extends \yii\base\Exception
      * @param int $statusCode HTTP status code used for redirection
      * @param bool|string $scheme the URI scheme to use in the generated URL for redirection.
      * This will be used as second parameter for [[\yii\helpers\Url::to()]]
-     * @param string $message the error message
+     * @param string|null $message the error message
      * @param int $code the error code
-     * @param \Exception $previous the previous exception used for the exception chaining
+     * @param \Throwable|null $previous the previous exception used for the exception chaining
      */
-    public function __construct($url, $statusCode = 302, $scheme = false, $message = null, $code = 0, \Exception $previous = null)
+    public function __construct($url, $statusCode = 302, $scheme = false, $message = null, $code = 0, $previous = null)
     {
         $this->url = $url;
         $this->scheme = $scheme;
         $this->statusCode = $statusCode;
-        parent::__construct($message, $code, $previous);
+        parent::__construct((string)$message, $code, $previous);
     }
 }
diff --git a/framework/web/UrlRule.php b/framework/web/UrlRule.php
index 84719ecdad9..56c71d8063c 100644
--- a/framework/web/UrlRule.php
+++ b/framework/web/UrlRule.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -25,7 +25,7 @@
  * ```
  *
  * @property-read null|int $createUrlStatus Status of the URL creation after the last [[createUrl()]] call.
- * `null` if rule does not provide info about create status. This property is read-only.
+ * `null` if rule does not provide info about create status.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
@@ -68,7 +68,7 @@ class UrlRule extends BaseObject implements UrlRuleInterface
     const CREATE_STATUS_PARAMS_MISMATCH = 4;
 
     /**
-     * @var string the name of this rule. If not set, it will use [[pattern]] as the name.
+     * @var string|null the name of this rule. If not set, it will use [[pattern]] as the name.
      */
     public $name;
     /**
@@ -79,7 +79,7 @@ class UrlRule extends BaseObject implements UrlRuleInterface
      */
     public $pattern;
     /**
-     * @var string the pattern used to parse and create the host info part of a URL (e.g. `http://example.com`).
+     * @var string|null the pattern used to parse and create the host info part of a URL (e.g. `https://example.com`).
      * @see pattern
      */
     public $host;
@@ -94,20 +94,20 @@ class UrlRule extends BaseObject implements UrlRuleInterface
      */
     public $defaults = [];
     /**
-     * @var string the URL suffix used for this rule.
+     * @var string|null the URL suffix used for this rule.
      * For example, ".html" can be used so that the URL looks like pointing to a static HTML page.
      * If not set, the value of [[UrlManager::suffix]] will be used.
      */
     public $suffix;
     /**
-     * @var string|array the HTTP verb (e.g. GET, POST, DELETE) that this rule should match.
+     * @var string|array|null the HTTP verb (e.g. GET, POST, DELETE) that this rule should match.
      * Use array to represent multiple verbs that this rule may match.
      * If this property is not set, the rule can match any verb.
      * Note that this property is only used when parsing a request. It is ignored for URL creation.
      */
     public $verb;
     /**
-     * @var int a value indicating if this rule should be used for both request parsing and URL creation,
+     * @var int|null a value indicating if this rule should be used for both request parsing and URL creation,
      * parsing only, or creation only.
      * If not set or 0, it means the rule is both request parsing and URL creation.
      * If it is [[PARSING_ONLY]], the rule is for request parsing only.
@@ -336,7 +336,7 @@ private function translatePattern($allowAppendSlash)
         $this->pattern = '#^' . trim(strtr($this->_template, $tr), '/') . '$#u';
 
         // if host starts with relative scheme, then insert pattern to match any
-        if (strncmp($this->host, '//', 2) === 0) {
+        if ($this->host !== null && strncmp($this->host, '//', 2) === 0) {
             $this->pattern = substr_replace($this->pattern, '[\w]+://', 2, 0);
         }
 
@@ -541,7 +541,7 @@ public function createUrl($manager, $route, $params)
     /**
      * Returns status of the URL creation after the last [[createUrl()]] call.
      *
-     * @return null|int Status of the URL creation after the last [[createUrl()]] call. `null` if rule does not provide
+     * @return int|null Status of the URL creation after the last [[createUrl()]] call. `null` if rule does not provide
      * info about create status.
      * @see createStatus
      * @since 2.0.12
diff --git a/framework/web/UrlRuleInterface.php b/framework/web/UrlRuleInterface.php
index c81018fb2ec..90339ab7595 100644
--- a/framework/web/UrlRuleInterface.php
+++ b/framework/web/UrlRuleInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/User.php b/framework/web/User.php
index 863b6d4b428..a23e6468e26 100644
--- a/framework/web/User.php
+++ b/framework/web/User.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -48,10 +48,9 @@
  * ```
  *
  * @property-read string|int $id The unique identifier for the user. If `null`, it means the user is a guest.
- * This property is read-only.
  * @property IdentityInterface|null $identity The identity object associated with the currently logged-in
  * user. `null` is returned if the user is not logged in (not authenticated).
- * @property-read bool $isGuest Whether the current user is a guest. This property is read-only.
+ * @property-read bool $isGuest Whether the current user is a guest.
  * @property string $returnUrl The URL that the user should be redirected to after login. Note that the type
  * of this property differs in getter and setter. See [[getReturnUrl()]] and [[setReturnUrl()]] for details.
  *
@@ -81,7 +80,7 @@ class User extends Component
      */
     public $enableSession = true;
     /**
-     * @var string|array the URL for login when [[loginRequired()]] is called.
+     * @var string|array|null the URL for login when [[loginRequired()]] is called.
      * If an array is given, [[UrlManager::createUrl()]] will be called to create the corresponding URL.
      * The first element of the array should be the route to the login action, and the rest of
      * the name-value pairs are GET parameters used to construct the login URL. For example,
@@ -99,21 +98,21 @@ class User extends Component
      */
     public $identityCookie = ['name' => '_identity', 'httpOnly' => true];
     /**
-     * @var int the number of seconds in which the user will be logged out automatically if the user
+     * @var int|null the number of seconds in which the user will be logged out automatically if the user
      * remains inactive. If this property is not set, the user will be logged out after
      * the current session expires (c.f. [[Session::timeout]]).
      * Note that this will not work if [[enableAutoLogin]] is `true`.
      */
     public $authTimeout;
     /**
-     * @var CheckAccessInterface|string|array The access checker object to use for checking access or the application
+     * @var CheckAccessInterface|string|array|null The access checker object to use for checking access or the application
      * component ID of the access checker.
      * If not set the application auth manager will be used.
      * @since 2.0.9
      */
     public $accessChecker;
     /**
-     * @var int the number of seconds in which the user will be logged out automatically
+     * @var int|null the number of seconds in which the user will be logged out automatically
      * regardless of activity.
      * Note that this will not work if [[enableAutoLogin]] is `true`.
      */
@@ -369,7 +368,7 @@ public function getIsGuest()
 
     /**
      * Returns a value that uniquely represents the user.
-     * @return string|int the unique identifier for the user. If `null`, it means the user is a guest.
+     * @return string|int|null the unique identifier for the user. If `null`, it means the user is a guest.
      * @see getIdentity()
      */
     public function getId()
@@ -385,7 +384,7 @@ public function getId()
      * This method reads the return URL from the session. It is usually used by the login action which
      * may call this method to redirect the browser to where it goes after successful authentication.
      *
-     * @param string|array $defaultUrl the default return URL in case it was not set previously.
+     * @param string|array|null $defaultUrl the default return URL in case it was not set previously.
      * If this is null and the return URL was not set previously, [[Application::homeUrl]] will be redirected to.
      * Please refer to [[setReturnUrl()]] on accepted format of the URL.
      * @return string the URL that the user should be redirected to after login.
@@ -655,9 +654,7 @@ public function switchIdentity($identity, $duration = 0)
         }
 
         $session = Yii::$app->getSession();
-        if (!YII_ENV_TEST) {
-            $session->regenerateID(true);
-        }
+        $session->regenerateID(true);
         $session->remove($this->idParam);
         $session->remove($this->authTimeoutParam);
         $session->remove($this->authKeyParam);
@@ -698,6 +695,9 @@ protected function renewAuthStatus()
             /* @var $class IdentityInterface */
             $class = $this->identityClass;
             $identity = $class::findIdentity($id);
+            if ($identity === null) {
+                $this->switchIdentity(null);
+            }
         }
 
         if ($identity !== null) {
@@ -728,10 +728,6 @@ protected function renewAuthStatus()
                 $this->renewIdentityCookie();
             }
         }
-
-        if ($this->getIdentity(false) === null) {
-            $this->switchIdentity(null);
-        }
     }
 
     /**
diff --git a/framework/web/UserEvent.php b/framework/web/UserEvent.php
index 1d2e5ae0a69..34a028910bf 100644
--- a/framework/web/UserEvent.php
+++ b/framework/web/UserEvent.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/View.php b/framework/web/View.php
index 15a8f7b12df..c372fece58c 100644
--- a/framework/web/View.php
+++ b/framework/web/View.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -132,7 +132,6 @@ class View extends \yii\base\View
     public $jsFiles = [];
 
     private $_assetManager;
-
     /**
      * Whether [[endPage()]] has been called and all files have been registered
      * @var bool
@@ -203,7 +202,7 @@ public function endPage($ajaxMode = false)
      *
      * @param string $view the view name. Please refer to [[render()]] on how to specify this parameter.
      * @param array $params the parameters (name-value pairs) that will be extracted and made available in the view file.
-     * @param object $context the context that the view should use for rendering the view. If null,
+     * @param object|null $context the context that the view should use for rendering the view. If null,
      * existing [[context]] will be used.
      * @return string the rendering result
      * @see render()
@@ -337,7 +336,7 @@ public function registerAssetBundle($name, $position = null)
      * will result in the meta tag `<meta name="description" content="This website is about funny raccoons.">`.
      *
      * @param array $options the HTML attributes for the meta tag.
-     * @param string $key the key that identifies the meta tag. If two meta tags are registered
+     * @param string|null $key the key that identifies the meta tag. If two meta tags are registered
      * with the same key, the latter will overwrite the former. If this is null, the new meta tag
      * will be appended to the existing ones.
      */
@@ -374,7 +373,7 @@ public function registerCsrfMetaTags()
     /**
      * Registers a link tag.
      *
-     * For example, a link tag for a custom [favicon](http://www.w3.org/2005/10/howto-favicon)
+     * For example, a link tag for a custom [favicon](https://www.w3.org/2005/10/howto-favicon)
      * can be added like the following:
      *
      * ```php
@@ -387,7 +386,7 @@ public function registerCsrfMetaTags()
      * has more options for this kind of link tag.
      *
      * @param array $options the HTML attributes for the link tag.
-     * @param string $key the key that identifies the link tag. If two link tags are registered
+     * @param string|null $key the key that identifies the link tag. If two link tags are registered
      * with the same key, the latter will overwrite the former. If this is null, the new link tag
      * will be appended to the existing ones.
      */
@@ -404,7 +403,7 @@ public function registerLinkTag($options, $key = null)
      * Registers a CSS code block.
      * @param string $css the content of the CSS code block to be registered
      * @param array $options the HTML attributes for the `<style>`-tag.
-     * @param string $key the key that identifies the CSS code block. If null, it will use
+     * @param string|null $key the key that identifies the CSS code block. If null, it will use
      * $css as the key. If two CSS code blocks are registered with the same key, the latter
      * will overwrite the former.
      */
@@ -428,7 +427,7 @@ public function registerCss($css, $options = [], $key = null)
      * - `depends`: array, specifies the names of the asset bundles that this CSS file depends on.
      * - `appendTimestamp`: bool whether to append a timestamp to the URL.
      *
-     * @param string $key the key that identifies the CSS script file. If null, it will use
+     * @param string|null $key the key that identifies the CSS script file. If null, it will use
      * $url as the key. If two CSS files are registered with the same key, the latter
      * will overwrite the former.
      * @throws InvalidConfigException
@@ -452,7 +451,7 @@ public function registerCssFile($url, $options = [], $key = null)
      * - [[POS_READY]]: enclosed within jQuery(document).ready(). This is the default value.
      *   Note that by using this position, the method will automatically register the jQuery js file.
      *
-     * @param string $key the key that identifies the JS code block. If null, it will use
+     * @param string|null $key the key that identifies the JS code block. If null, it will use
      * $js as the key. If two JS code blocks are registered with the same key, the latter
      * will overwrite the former.
      */
@@ -476,7 +475,7 @@ public function registerJs($js, $position = self::POS_READY, $key = null)
      * - `depends`: array, specifies the names of the asset bundles that this CSS file depends on.
      * - `appendTimestamp`: bool whether to append a timestamp to the URL.
      *
-     * @param string $key the key that identifies the JS script file. If null, it will use
+     * @param string|null $key the key that identifies the JS script file. If null, it will use
      * $url as the key. If two JS files are registered with the same key at the same position, the latter
      * will overwrite the former. Note that position option takes precedence, thus files registered with the same key,
      * but different position option will not override each other.
@@ -551,7 +550,7 @@ private function registerFile($type, $url, $options = [], $key = null)
      *
      * Please refer to [[Html::jsFile()]] for other supported options.
      *
-     * @param string $key the key that identifies the JS script file. If null, it will use
+     * @param string|null $key the key that identifies the JS script file. If null, it will use
      * $url as the key. If two JS files are registered with the same key at the same position, the latter
      * will overwrite the former. Note that position option takes precedence, thus files registered with the same key,
      * but different position option will not override each other.
diff --git a/framework/web/ViewAction.php b/framework/web/ViewAction.php
index 84ca3195ebb..26435f37857 100644
--- a/framework/web/ViewAction.php
+++ b/framework/web/ViewAction.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/XmlResponseFormatter.php b/framework/web/XmlResponseFormatter.php
index e250cb4ab5e..652bc9f442b 100644
--- a/framework/web/XmlResponseFormatter.php
+++ b/framework/web/XmlResponseFormatter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -33,11 +33,11 @@ class XmlResponseFormatter extends Component implements ResponseFormatterInterfa
      */
     public $version = '1.0';
     /**
-     * @var string the XML encoding. If not set, it will use the value of [[Response::charset]].
+     * @var string|null the XML encoding. If not set, it will use the value of [[Response::charset]].
      */
     public $encoding;
     /**
-     * @var string|string[]|false the name of the root element. If set to false, null or is empty then no root tag
+     * @var string|string[]|null|false the name of the root element. If set to false, null or is empty then no root tag
      * should be added.
      *
      * Since 2.0.44 URI namespace could be specified by passing `[namespace, tag name]` array.
@@ -194,7 +194,7 @@ protected function getValidXmlElementName($name)
      *
      * @param mixed $name the name to test
      * @return bool
-     * @see http://stackoverflow.com/questions/2519845/how-to-check-if-string-is-a-valid-xml-element-name/2519943#2519943
+     * @see https://stackoverflow.com/questions/2519845/how-to-check-if-string-is-a-valid-xml-element-name/2519943#2519943
      * @since 2.0.12
      */
     protected function isValidXmlName($name)
diff --git a/framework/web/YiiAsset.php b/framework/web/YiiAsset.php
index 7595ee2d4c1..a66908b8a9d 100644
--- a/framework/web/YiiAsset.php
+++ b/framework/web/YiiAsset.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
diff --git a/framework/web/migrations/m160313_153426_session_init.php b/framework/web/migrations/m160313_153426_session_init.php
index 9d5dfa6cb00..2ff3499a1f1 100644
--- a/framework/web/migrations/m160313_153426_session_init.php
+++ b/framework/web/migrations/m160313_153426_session_init.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\db\Migration;
@@ -25,7 +25,7 @@ public function up()
 
         switch ($this->db->driverName) {
             case 'mysql':
-                // http://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
+                // https://stackoverflow.com/questions/766809/whats-the-difference-between-utf8-general-ci-and-utf8-unicode-ci
                 $tableOptions = 'CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE=InnoDB';
                 break;
             case 'sqlsrv':
diff --git a/framework/web/migrations/schema-mssql.sql b/framework/web/migrations/schema-mssql.sql
index 072cc315d59..64394cf8deb 100644
--- a/framework/web/migrations/schema-mssql.sql
+++ b/framework/web/migrations/schema-mssql.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.8
  */
 
diff --git a/framework/web/migrations/schema-mysql.sql b/framework/web/migrations/schema-mysql.sql
index 083414e1d8d..c9be92619cf 100644
--- a/framework/web/migrations/schema-mysql.sql
+++ b/framework/web/migrations/schema-mysql.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.8
  */
 
diff --git a/framework/web/migrations/schema-oci.sql b/framework/web/migrations/schema-oci.sql
index 7b5b6c7f345..f4b7de2e775 100644
--- a/framework/web/migrations/schema-oci.sql
+++ b/framework/web/migrations/schema-oci.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.8
  */
 
diff --git a/framework/web/migrations/schema-pgsql.sql b/framework/web/migrations/schema-pgsql.sql
index 8e8674f7861..77c3b557858 100644
--- a/framework/web/migrations/schema-pgsql.sql
+++ b/framework/web/migrations/schema-pgsql.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.8
  */
 
diff --git a/framework/web/migrations/schema-sqlite.sql b/framework/web/migrations/schema-sqlite.sql
index bdbfd466b61..57b1c27aff7 100644
--- a/framework/web/migrations/schema-sqlite.sql
+++ b/framework/web/migrations/schema-sqlite.sql
@@ -3,9 +3,9 @@
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @author Misbahul D Munir <misbahuldmunir@gmail.com>
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  * @since 2.0.8
  */
 
diff --git a/framework/widgets/ActiveField.php b/framework/widgets/ActiveField.php
index 9d86aeebab0..4d69e5b097c 100644
--- a/framework/widgets/ActiveField.php
+++ b/framework/widgets/ActiveField.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -20,8 +20,6 @@
  *
  * For more details and usage information on ActiveField, see the [guide article on forms](guide:input-forms).
  *
- * @property-read string $inputId The attribute `id` of the input element
- *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
  */
@@ -99,33 +97,33 @@ class ActiveField extends Component
      */
     public $hintOptions = ['class' => 'hint-block'];
     /**
-     * @var bool whether to enable client-side data validation.
+     * @var bool|null whether to enable client-side data validation.
      * If not set, it will take the value of [[ActiveForm::enableClientValidation]].
      */
     public $enableClientValidation;
     /**
-     * @var bool whether to enable AJAX-based data validation.
+     * @var bool|null whether to enable AJAX-based data validation.
      * If not set, it will take the value of [[ActiveForm::enableAjaxValidation]].
      */
     public $enableAjaxValidation;
     /**
-     * @var bool whether to perform validation when the value of the input field is changed.
+     * @var bool|null whether to perform validation when the value of the input field is changed.
      * If not set, it will take the value of [[ActiveForm::validateOnChange]].
      */
     public $validateOnChange;
     /**
-     * @var bool whether to perform validation when the input field loses focus.
+     * @var bool|null whether to perform validation when the input field loses focus.
      * If not set, it will take the value of [[ActiveForm::validateOnBlur]].
      */
     public $validateOnBlur;
     /**
-     * @var bool whether to perform validation while the user is typing in the input field.
+     * @var bool|null whether to perform validation while the user is typing in the input field.
      * If not set, it will take the value of [[ActiveForm::validateOnType]].
      * @see validationDelay
      */
     public $validateOnType;
     /**
-     * @var int number of milliseconds that the validation should be delayed when the user types in the field
+     * @var int|null number of milliseconds that the validation should be delayed when the user types in the field
      * and [[validateOnType]] is set `true`.
      * If not set, it will take the value of [[ActiveForm::validationDelay]].
      */
@@ -189,7 +187,7 @@ public function __toString()
      * Renders the whole field.
      * This method will generate the label, error tag, input tag and hint tag (if any), and
      * assemble them into HTML according to [[template]].
-     * @param string|callable $content the content within the field container.
+     * @param string|callable|null $content the content within the field container.
      * If `null` (not set), the default methods will be called to generate the label, error tag and input tag,
      * and use them as the content.
      * If a callable, it will be called to generate the content. The signature of the callable should be:
@@ -266,10 +264,10 @@ public function end()
 
     /**
      * Generates a label tag for [[attribute]].
-     * @param null|string|false $label the label to use. If `null`, the label will be generated via [[Model::getAttributeLabel()]].
+     * @param string|null|false $label the label to use. If `null`, the label will be generated via [[Model::getAttributeLabel()]].
      * If `false`, the generated field will not contain the label part.
      * Note that this will NOT be [[Html::encode()|encoded]].
-     * @param null|array $options the tag options in terms of name-value pairs. It will be merged with [[labelOptions]].
+     * @param array|null $options the tag options in terms of name-value pairs. It will be merged with [[labelOptions]].
      * The options will be rendered as the attributes of the resulting tag. The values will be HTML-encoded
      * using [[Html::encode()]]. If a value is `null`, the corresponding attribute will not be rendered.
      * @return $this the field object itself.
@@ -325,7 +323,7 @@ public function error($options = [])
 
     /**
      * Renders the hint tag.
-     * @param string|bool $content the hint content.
+     * @param string|bool|null $content the hint content.
      * If `null`, the hint will be generated via [[Model::getAttributeHint()]].
      * If `false`, the generated field will not contain the hint part.
      * Note that this will NOT be [[Html::encode()|encoded]].
diff --git a/framework/widgets/ActiveForm.php b/framework/widgets/ActiveForm.php
index 1d5fdc6dbe4..06a0bfee0f3 100644
--- a/framework/widgets/ActiveForm.php
+++ b/framework/widgets/ActiveForm.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -133,7 +133,7 @@ class ActiveForm extends Widget
      */
     public $enableClientScript = true;
     /**
-     * @var array|string the URL for performing AJAX-based validation. This property will be processed by
+     * @var array|string|null the URL for performing AJAX-based validation. This property will be processed by
      * [[Url::to()]]. Please refer to [[Url::to()]] for more details on how to configure this property.
      * If this property is not set, it will take the value of the form's action attribute.
      */
diff --git a/framework/widgets/ActiveFormAsset.php b/framework/widgets/ActiveFormAsset.php
index 42f3d2b11c5..43b2ae710b2 100644
--- a/framework/widgets/ActiveFormAsset.php
+++ b/framework/widgets/ActiveFormAsset.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
diff --git a/framework/widgets/BaseListView.php b/framework/widgets/BaseListView.php
index 3b6eddb31a4..cee83fcafa7 100644
--- a/framework/widgets/BaseListView.php
+++ b/framework/widgets/BaseListView.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
diff --git a/framework/widgets/Block.php b/framework/widgets/Block.php
index 72e76d620bd..cc4ee5271c8 100644
--- a/framework/widgets/Block.php
+++ b/framework/widgets/Block.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
diff --git a/framework/widgets/Breadcrumbs.php b/framework/widgets/Breadcrumbs.php
index b56aa0fbdf8..9def4aa5db7 100644
--- a/framework/widgets/Breadcrumbs.php
+++ b/framework/widgets/Breadcrumbs.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -68,7 +68,7 @@ class Breadcrumbs extends Widget
      */
     public $encodeLabels = true;
     /**
-     * @var array the first hyperlink in the breadcrumbs (called home link).
+     * @var array|null the first hyperlink in the breadcrumbs (called home link).
      * Please refer to [[links]] on the format of the link.
      * If this property is not set, it will default to a link pointing to [[\yii\web\Application::homeUrl]]
      * with the label 'Home'. If this property is false, the home link will not be rendered.
@@ -97,7 +97,7 @@ class Breadcrumbs extends Widget
      * ```php
      * [
      *     'label' => 'demo',
-     *     'url' => 'http://example.com',
+     *     'url' => 'https://example.com',
      *     'class' => 'external',
      * ]
      * ```
diff --git a/framework/widgets/ContentDecorator.php b/framework/widgets/ContentDecorator.php
index e926e9a8235..1b7d00781db 100644
--- a/framework/widgets/ContentDecorator.php
+++ b/framework/widgets/ContentDecorator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
diff --git a/framework/widgets/DetailView.php b/framework/widgets/DetailView.php
index 62e0987fbd4..06b9fa4b566 100644
--- a/framework/widgets/DetailView.php
+++ b/framework/widgets/DetailView.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -108,13 +108,13 @@ class DetailView extends Widget
      */
     public $template = '<tr><th{captionOptions}>{label}</th><td{contentOptions}>{value}</td></tr>';
     /**
-     * @var array the HTML attributes for the container tag of this widget. The `tag` option specifies
+     * @var array|null the HTML attributes for the container tag of this widget. The `tag` option specifies
      * what container tag should be used. It defaults to `table` if not set.
      * @see \yii\helpers\Html::renderTagAttributes() for details on how attributes are being rendered.
      */
     public $options = ['class' => 'table table-striped table-bordered detail-view'];
     /**
-     * @var array|Formatter the formatter used to format model attribute values into displayable texts.
+     * @var array|Formatter|null the formatter used to format model attribute values into displayable texts.
      * This can be either an instance of [[Formatter]] or an configuration array for creating the [[Formatter]]
      * instance. If this property is not set, the `formatter` application component will be used.
      */
diff --git a/framework/widgets/FragmentCache.php b/framework/widgets/FragmentCache.php
index e30e997218c..580e5f497dd 100644
--- a/framework/widgets/FragmentCache.php
+++ b/framework/widgets/FragmentCache.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -19,7 +19,7 @@
  * FragmentCache is used by [[\yii\base\View]] to provide caching of page fragments.
  *
  * @property-read string|false $cachedContent The cached content. False is returned if valid content is not
- * found in the cache. This property is read-only.
+ * found in the cache.
  *
  * @author Qiang Xue <qiang.xue@gmail.com>
  * @since 2.0
diff --git a/framework/widgets/InputWidget.php b/framework/widgets/InputWidget.php
index eed67443d07..6bdab5a340b 100644
--- a/framework/widgets/InputWidget.php
+++ b/framework/widgets/InputWidget.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -43,15 +43,15 @@ class InputWidget extends Widget
      */
     public $field;
     /**
-     * @var Model the data model that this widget is associated with.
+     * @var Model|null the data model that this widget is associated with.
      */
     public $model;
     /**
-     * @var string the model attribute that this widget is associated with.
+     * @var string|null the model attribute that this widget is associated with.
      */
     public $attribute;
     /**
-     * @var string the input name. This must be set if [[model]] and [[attribute]] are not set.
+     * @var string|null the input name. This must be set if [[model]] and [[attribute]] are not set.
      */
     public $name;
     /**
diff --git a/framework/widgets/LinkPager.php b/framework/widgets/LinkPager.php
index e6b27d30b94..9056981c31e 100644
--- a/framework/widgets/LinkPager.php
+++ b/framework/widgets/LinkPager.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -119,7 +119,7 @@ class LinkPager extends Widget
     /**
      * @var bool whether to register link tags in the HTML header for prev, next, first and last page.
      * Defaults to `false` to avoid conflicts when multiple pagers are used on one page.
-     * @see http://www.w3.org/TR/html401/struct/links.html#h-12.1.2
+     * @see https://www.w3.org/TR/html401/struct/links.html#h-12.1.2
      * @see registerLinkTags()
      */
     public $registerLinkTags = false;
@@ -161,7 +161,7 @@ public function run()
     /**
      * Registers relational link tags in the html header for prev, next, first and last page.
      * These links are generated using [[\yii\data\Pagination::getLinks()]].
-     * @see http://www.w3.org/TR/html401/struct/links.html#h-12.1.2
+     * @see https://www.w3.org/TR/html401/struct/links.html#h-12.1.2
      */
     protected function registerLinkTags()
     {
diff --git a/framework/widgets/LinkSorter.php b/framework/widgets/LinkSorter.php
index a0e95990e38..8e5062ce355 100644
--- a/framework/widgets/LinkSorter.php
+++ b/framework/widgets/LinkSorter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -26,11 +26,11 @@
 class LinkSorter extends Widget
 {
     /**
-     * @var Sort the sort definition
+     * @var Sort|null the sort definition
      */
     public $sort;
     /**
-     * @var array list of the attributes that support sorting. If not set, it will be determined
+     * @var array|null list of the attributes that support sorting. If not set, it will be determined
      * using [[Sort::attributes]].
      */
     public $attributes;
diff --git a/framework/widgets/ListView.php b/framework/widgets/ListView.php
index 17a862ddb57..9ac0c0c24f6 100644
--- a/framework/widgets/ListView.php
+++ b/framework/widgets/ListView.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
diff --git a/framework/widgets/MaskedInput.php b/framework/widgets/MaskedInput.php
index 632af1f3daa..0ed87e131f5 100644
--- a/framework/widgets/MaskedInput.php
+++ b/framework/widgets/MaskedInput.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -102,7 +102,26 @@ class MaskedInput extends InputWidget
      * @var string the hashed variable to store the pluginOptions
      */
     protected $_hashVar;
-
+    /**
+     * @var string[] the inputmask properties can be contained callbacks
+     */
+    protected $_jsCallbacks = [
+        'oncomplete',
+        'onincomplete',
+        'oncleared',
+        'onKeyDown',
+        'onBeforeMask',
+        'onBeforePaste',
+        'onBeforeWrite',
+        'onUnMask',
+        'onKeyValidation',
+        'isComplete',
+        // @deprecated removed in 5.0:
+        'preValidation',
+        'postValidation',
+        // @deprecated removed in 4.0:
+        'canClearPosition'
+    ];
 
     /**
      * Initializes the widget.
@@ -154,11 +173,9 @@ protected function initClientOptions()
         $options = $this->clientOptions;
         foreach ($options as $key => $value) {
             if (
-                !$value instanceof JsExpression
-                && in_array($key, [
-                    'oncomplete', 'onincomplete', 'oncleared', 'onKeyUp', 'onKeyDown', 'onBeforeMask',
-                    'onBeforePaste', 'onUnMask', 'isComplete', 'determineActiveMasksetIndex',
-                ], true)
+                !empty($value)
+                && !$value instanceof JsExpression
+                && in_array($key, $this->_jsCallbacks, true)
             ) {
                 $options[$key] = new JsExpression($value);
             }
@@ -178,10 +195,10 @@ public function registerClientScript()
             $this->clientOptions['mask'] = $this->mask;
         }
         $this->hashPluginOptions($view);
-        if (is_array($this->definitions) && !empty($this->definitions)) {
+        if (!empty($this->definitions) && is_array($this->definitions)) {
             $js .= ucfirst(self::PLUGIN_NAME) . '.extendDefinitions(' . Json::htmlEncode($this->definitions) . ');';
         }
-        if (is_array($this->aliases) && !empty($this->aliases)) {
+        if (!empty($this->aliases) && is_array($this->aliases)) {
             $js .= ucfirst(self::PLUGIN_NAME) . '.extendAliases(' . Json::htmlEncode($this->aliases) . ');';
         }
         $id = $this->options['id'];
diff --git a/framework/widgets/MaskedInputAsset.php b/framework/widgets/MaskedInputAsset.php
index b332190059d..57748be86f8 100644
--- a/framework/widgets/MaskedInputAsset.php
+++ b/framework/widgets/MaskedInputAsset.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
diff --git a/framework/widgets/Menu.php b/framework/widgets/Menu.php
index 7e60700ccfd..a70ad1f3e1a 100644
--- a/framework/widgets/Menu.php
+++ b/framework/widgets/Menu.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -141,24 +141,24 @@ class Menu extends Widget
      */
     public $options = [];
     /**
-     * @var string the CSS class that will be assigned to the first item in the main menu or each submenu.
+     * @var string|null the CSS class that will be assigned to the first item in the main menu or each submenu.
      * Defaults to null, meaning no such CSS class will be assigned.
      */
     public $firstItemCssClass;
     /**
-     * @var string the CSS class that will be assigned to the last item in the main menu or each submenu.
+     * @var string|null the CSS class that will be assigned to the last item in the main menu or each submenu.
      * Defaults to null, meaning no such CSS class will be assigned.
      */
     public $lastItemCssClass;
     /**
-     * @var string the route used to determine if a menu item is active or not.
+     * @var string|null the route used to determine if a menu item is active or not.
      * If not set, it will use the route of the current request.
      * @see params
      * @see isItemActive()
      */
     public $route;
     /**
-     * @var array the parameters used to determine if a menu item is active or not.
+     * @var array|null the parameters used to determine if a menu item is active or not.
      * If not set, it will use `$_GET`.
      * @see route
      * @see isItemActive()
diff --git a/framework/widgets/Pjax.php b/framework/widgets/Pjax.php
index 1e5d90104c1..fceaf1821a9 100644
--- a/framework/widgets/Pjax.php
+++ b/framework/widgets/Pjax.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -55,14 +55,14 @@ class Pjax extends Widget
      */
     public $options = [];
     /**
-     * @var string|false the jQuery selector of the links that should trigger pjax requests.
+     * @var string|null|false the jQuery selector of the links that should trigger pjax requests.
      * If not set, all links within the enclosed content of Pjax will trigger pjax requests.
      * If set to false, no code will be registered to handle links.
      * Note that if the response to the pjax request is a full page, a normal request will be sent again.
      */
     public $linkSelector;
     /**
-     * @var string|false the jQuery selector of the forms whose submissions should trigger pjax requests.
+     * @var string|null|false the jQuery selector of the forms whose submissions should trigger pjax requests.
      * If not set, all forms with `data-pjax` attribute within the enclosed content of Pjax will trigger pjax requests.
      * If set to false, no code will be registered to handle forms.
      * Note that if the response to the pjax request is a full page, a normal request will be sent again.
diff --git a/framework/widgets/PjaxAsset.php b/framework/widgets/PjaxAsset.php
index ee0100c8a4e..47795f683cf 100644
--- a/framework/widgets/PjaxAsset.php
+++ b/framework/widgets/PjaxAsset.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
diff --git a/framework/widgets/Spaceless.php b/framework/widgets/Spaceless.php
index e109e1fd3ab..c766dafa239 100644
--- a/framework/widgets/Spaceless.php
+++ b/framework/widgets/Spaceless.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\widgets;
@@ -41,9 +41,9 @@
  *
  * Note, never use this method with `pre` or `textarea` tags. It's not that trivial to deal with such tags
  * as it may seem at first sight. For this case you should consider using
- * [HTML Tidy Project](http://tidy.sourceforge.net/) instead.
+ * [HTML Tidy Project](https://www.html-tidy.org/) instead.
  *
- * @see http://tidy.sourceforge.net/
+ * @see https://www.html-tidy.org/
  * @author resurtm <resurtm@gmail.com>
  * @since 2.0
  */
diff --git a/framework/yii b/framework/yii
index 4cbdc47dda7..96b154c8a56 100755
--- a/framework/yii
+++ b/framework/yii
@@ -3,9 +3,9 @@
 /**
  * Yii console bootstrap file.
  *
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 defined('YII_DEBUG') or define('YII_DEBUG', true);
diff --git a/framework/yii.bat b/framework/yii.bat
index d516b3a1925..ce14c92bc88 100644
--- a/framework/yii.bat
+++ b/framework/yii.bat
@@ -4,9 +4,9 @@ rem -------------------------------------------------------------
 rem  Yii command line bootstrap script for Windows.
 rem
 rem  @author Qiang Xue <qiang.xue@gmail.com>
-rem  @link http://www.yiiframework.com/
+rem  @link https://www.yiiframework.com/
 rem  @copyright Copyright (c) 2008 Yii Software LLC
-rem  @license http://www.yiiframework.com/license/
+rem  @license https://www.yiiframework.com/license/
 rem -------------------------------------------------------------
 
 @setlocal
diff --git a/tests/IsOneOfAssert.php b/tests/IsOneOfAssert.php
index 790d0eee1e6..5c630b7d041 100644
--- a/tests/IsOneOfAssert.php
+++ b/tests/IsOneOfAssert.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit;
diff --git a/tests/ResultPrinter.php b/tests/ResultPrinter.php
index d9a8b51e5d2..89299f0557c 100644
--- a/tests/ResultPrinter.php
+++ b/tests/ResultPrinter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit;
diff --git a/tests/TestCase.php b/tests/TestCase.php
index c03501fe906..d18e1145949 100644
--- a/tests/TestCase.php
+++ b/tests/TestCase.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit;
@@ -82,6 +82,7 @@ protected function mockWebApplication($config = [], $appClass = '\yii\web\Applic
                     'cookieValidationKey' => 'wefJDF8sfdsfSDefwqdxj9oq',
                     'scriptFile' => __DIR__ . '/index.php',
                     'scriptUrl' => '/index.php',
+                    'isConsoleRequest' => false,
                 ],
             ],
         ], $config));
diff --git a/tests/bootstrap.php b/tests/bootstrap.php
index 16965e138cf..44714ab28da 100644
--- a/tests/bootstrap.php
+++ b/tests/bootstrap.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 // ensure we get report on all possible php errors
diff --git a/tests/compatibility.php b/tests/compatibility.php
index 5e379b389e1..5a14c6e36e2 100644
--- a/tests/compatibility.php
+++ b/tests/compatibility.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /*
diff --git a/tests/data/ar/ActiveRecord.php b/tests/data/ar/ActiveRecord.php
index 0862c50c651..65922ae08cd 100644
--- a/tests/data/ar/ActiveRecord.php
+++ b/tests/data/ar/ActiveRecord.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Alpha.php b/tests/data/ar/Alpha.php
index ba6f4a9192e..84f25246673 100644
--- a/tests/data/ar/Alpha.php
+++ b/tests/data/ar/Alpha.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
@@ -22,4 +22,4 @@ public function getBetas()
     {
         return $this->hasMany(Beta::className(), ['alpha_string_identifier' => 'string_identifier']);
     }
-}
\ No newline at end of file
+}
diff --git a/tests/data/ar/Animal.php b/tests/data/ar/Animal.php
index 0c6c96702e7..15a11af3660 100644
--- a/tests/data/ar/Animal.php
+++ b/tests/data/ar/Animal.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Beta.php b/tests/data/ar/Beta.php
index 463f467a752..cc740070966 100644
--- a/tests/data/ar/Beta.php
+++ b/tests/data/ar/Beta.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
@@ -23,4 +23,4 @@ public function getAlpha()
     {
         return $this->hasOne(Alpha::className(), ['string_identifier' => 'alpha_string_identifier']);
     }
-}
\ No newline at end of file
+}
diff --git a/tests/data/ar/BitValues.php b/tests/data/ar/BitValues.php
index f471a940cc6..27e045e1a10 100644
--- a/tests/data/ar/BitValues.php
+++ b/tests/data/ar/BitValues.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Cat.php b/tests/data/ar/Cat.php
index 954c52140a6..d72aec8310d 100644
--- a/tests/data/ar/Cat.php
+++ b/tests/data/ar/Cat.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Category.php b/tests/data/ar/Category.php
index 1ba58749be5..3e0390ffb4a 100644
--- a/tests/data/ar/Category.php
+++ b/tests/data/ar/Category.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/CroppedType.php b/tests/data/ar/CroppedType.php
index 92922a7e1fe..4e7a52c9c1c 100644
--- a/tests/data/ar/CroppedType.php
+++ b/tests/data/ar/CroppedType.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Customer.php b/tests/data/ar/Customer.php
index e22cce59edf..aef14891b24 100644
--- a/tests/data/ar/Customer.php
+++ b/tests/data/ar/Customer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/CustomerQuery.php b/tests/data/ar/CustomerQuery.php
index a53ec906d42..55efd4f7c04 100644
--- a/tests/data/ar/CustomerQuery.php
+++ b/tests/data/ar/CustomerQuery.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/CustomerWithConstructor.php b/tests/data/ar/CustomerWithConstructor.php
index 65b8ff929a1..e1ce957c33a 100644
--- a/tests/data/ar/CustomerWithConstructor.php
+++ b/tests/data/ar/CustomerWithConstructor.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/DefaultMultiplePk.php b/tests/data/ar/DefaultMultiplePk.php
index de936ae0fc4..73476203ee9 100644
--- a/tests/data/ar/DefaultMultiplePk.php
+++ b/tests/data/ar/DefaultMultiplePk.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/DefaultPk.php b/tests/data/ar/DefaultPk.php
index 1a0d9ad9e4d..d1a25e9c752 100644
--- a/tests/data/ar/DefaultPk.php
+++ b/tests/data/ar/DefaultPk.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Department.php b/tests/data/ar/Department.php
index 3d168e61aea..f3fff729d7c 100644
--- a/tests/data/ar/Department.php
+++ b/tests/data/ar/Department.php
@@ -1,9 +1,9 @@
 <?php
 
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Document.php b/tests/data/ar/Document.php
index ba44d64f160..e169ec79f88 100644
--- a/tests/data/ar/Document.php
+++ b/tests/data/ar/Document.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Dog.php b/tests/data/ar/Dog.php
index 02bd4bfa642..57199f4d7ab 100644
--- a/tests/data/ar/Dog.php
+++ b/tests/data/ar/Dog.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Dossier.php b/tests/data/ar/Dossier.php
index d5900f0a061..a00ac46caed 100644
--- a/tests/data/ar/Dossier.php
+++ b/tests/data/ar/Dossier.php
@@ -1,9 +1,9 @@
 <?php
 
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Employee.php b/tests/data/ar/Employee.php
index faec8fbf5c4..42278bc15ed 100644
--- a/tests/data/ar/Employee.php
+++ b/tests/data/ar/Employee.php
@@ -1,9 +1,9 @@
 <?php
 
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Item.php b/tests/data/ar/Item.php
index 8a9f2da8aeb..09b86030a04 100644
--- a/tests/data/ar/Item.php
+++ b/tests/data/ar/Item.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/NullValues.php b/tests/data/ar/NullValues.php
index afa454837a1..cddc57d33b5 100644
--- a/tests/data/ar/NullValues.php
+++ b/tests/data/ar/NullValues.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Order.php b/tests/data/ar/Order.php
index 6fbc5b0fde5..c2781d2c105 100644
--- a/tests/data/ar/Order.php
+++ b/tests/data/ar/Order.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
@@ -25,6 +25,8 @@ class Order extends ActiveRecord
 {
     public static $tableName;
 
+    public $virtualCustomerId = null;
+
     public static function tableName()
     {
         return static::$tableName ?: 'order';
@@ -238,4 +240,10 @@ public function getItemsFor8()
     {
         return $this->hasMany(Item::className(), ['id' => 'item_id'])->via('orderItemsFor8');
     }
+
+    public function getVirtualCustomer()
+    {
+        return $this->hasOne(Customer::className(), ['id' => 'virtualCustomerId']);
+    }
+
 }
diff --git a/tests/data/ar/OrderItem.php b/tests/data/ar/OrderItem.php
index 58623fc4ce9..d5ab911b8b4 100644
--- a/tests/data/ar/OrderItem.php
+++ b/tests/data/ar/OrderItem.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/OrderItemWithConstructor.php b/tests/data/ar/OrderItemWithConstructor.php
index b76ebdfba7e..83da3433c0f 100644
--- a/tests/data/ar/OrderItemWithConstructor.php
+++ b/tests/data/ar/OrderItemWithConstructor.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/OrderItemWithNullFK.php b/tests/data/ar/OrderItemWithNullFK.php
index cc50b62f5df..5ae8547f4c9 100644
--- a/tests/data/ar/OrderItemWithNullFK.php
+++ b/tests/data/ar/OrderItemWithNullFK.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/OrderWithConstructor.php b/tests/data/ar/OrderWithConstructor.php
index 82853d2ef7d..e981ab3433d 100644
--- a/tests/data/ar/OrderWithConstructor.php
+++ b/tests/data/ar/OrderWithConstructor.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/OrderWithNullFK.php b/tests/data/ar/OrderWithNullFK.php
index c4c539e3c52..efa82de1551 100644
--- a/tests/data/ar/OrderWithNullFK.php
+++ b/tests/data/ar/OrderWithNullFK.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Profile.php b/tests/data/ar/Profile.php
index 5b02be3aac5..d6fd9aee435 100644
--- a/tests/data/ar/Profile.php
+++ b/tests/data/ar/Profile.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/ProfileWithConstructor.php b/tests/data/ar/ProfileWithConstructor.php
index 57ecb137f2b..aeda652a19b 100644
--- a/tests/data/ar/ProfileWithConstructor.php
+++ b/tests/data/ar/ProfileWithConstructor.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Storage.php b/tests/data/ar/Storage.php
index df2ca78ef78..62d1a8fb68f 100644
--- a/tests/data/ar/Storage.php
+++ b/tests/data/ar/Storage.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/TestTrigger.php b/tests/data/ar/TestTrigger.php
index 1340744981a..0334f35955a 100644
--- a/tests/data/ar/TestTrigger.php
+++ b/tests/data/ar/TestTrigger.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/TestTriggerAlert.php b/tests/data/ar/TestTriggerAlert.php
index ca08e25f00a..48e10e66ad0 100644
--- a/tests/data/ar/TestTriggerAlert.php
+++ b/tests/data/ar/TestTriggerAlert.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/ar/Type.php b/tests/data/ar/Type.php
index 68d855720e2..3a53441fb72 100644
--- a/tests/data/ar/Type.php
+++ b/tests/data/ar/Type.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\ar;
diff --git a/tests/data/base/ArrayAccessObject.php b/tests/data/base/ArrayAccessObject.php
index bf62ef2b0e9..4ca7552c89a 100644
--- a/tests/data/base/ArrayAccessObject.php
+++ b/tests/data/base/ArrayAccessObject.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\base;
@@ -29,6 +29,7 @@ class ArrayAccessObject extends TraversableObject implements \ArrayAccess
      * The return value will be casted to boolean if non-boolean was returned.
      * @since 2.0.14.1
      */
+    #[\ReturnTypeWillChange]
     public function offsetExists($offset)
     {
         return isset($this->data[$offset]);
@@ -44,6 +45,7 @@ public function offsetExists($offset)
      * @return mixed Can return all value types.
      * @since 2.0.14.1
      */
+    #[\ReturnTypeWillChange]
     public function offsetGet($offset)
     {
         return $this->data[$offset];
@@ -62,6 +64,7 @@ public function offsetGet($offset)
      * @return void
      * @since 2.0.14.1
      */
+    #[\ReturnTypeWillChange]
     public function offsetSet($offset, $value)
     {
         $this->data[$offset] = $value;
@@ -77,6 +80,7 @@ public function offsetSet($offset, $value)
      * @return void
      * @since 2.0.14.1
      */
+    #[\ReturnTypeWillChange]
     public function offsetUnset($offset)
     {
         unset($this->data[$offset]);
diff --git a/tests/data/base/CallableClass.php b/tests/data/base/CallableClass.php
index 42f4cf37ff3..0fa7fbc8833 100644
--- a/tests/data/base/CallableClass.php
+++ b/tests/data/base/CallableClass.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\base;
@@ -13,4 +13,4 @@ public function __invoke()
     {
         return true;
     }
-}
\ No newline at end of file
+}
diff --git a/tests/data/base/InvalidRulesModel.php b/tests/data/base/InvalidRulesModel.php
index fd80c42478f..f15d6df062e 100644
--- a/tests/data/base/InvalidRulesModel.php
+++ b/tests/data/base/InvalidRulesModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\base;
diff --git a/tests/data/base/RulesModel.php b/tests/data/base/RulesModel.php
index e8458ac36d0..ed5aa7683d9 100644
--- a/tests/data/base/RulesModel.php
+++ b/tests/data/base/RulesModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\base;
diff --git a/tests/data/base/Singer.php b/tests/data/base/Singer.php
index 1dabe0b1f0c..649214cdcba 100644
--- a/tests/data/base/Singer.php
+++ b/tests/data/base/Singer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\base;
diff --git a/tests/data/base/Speaker.php b/tests/data/base/Speaker.php
index 60d3df3800c..2cf83dc9eab 100644
--- a/tests/data/base/Speaker.php
+++ b/tests/data/base/Speaker.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\base;
diff --git a/tests/data/base/TraversableObject.php b/tests/data/base/TraversableObject.php
index c8686b1f7de..436287e063f 100644
--- a/tests/data/base/TraversableObject.php
+++ b/tests/data/base/TraversableObject.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\base;
@@ -28,6 +28,7 @@ public function __construct(array $array)
      * @throws \Exception
      * @since 5.1.0
      */
+    #[\ReturnTypeWillChange]
     public function count()
     {
         throw new \Exception('Count called on object that should only be traversed.');
@@ -36,6 +37,7 @@ public function count()
     /**
      * {@inheritdoc}
      */
+    #[\ReturnTypeWillChange]
     public function current()
     {
         return $this->data[$this->position];
@@ -44,6 +46,7 @@ public function current()
     /**
      * {@inheritdoc}
      */
+    #[\ReturnTypeWillChange]
     public function next()
     {
         $this->position++;
@@ -52,6 +55,7 @@ public function next()
     /**
      * {@inheritdoc}
      */
+    #[\ReturnTypeWillChange]
     public function key()
     {
         return $this->position;
@@ -60,6 +64,7 @@ public function key()
     /**
      * {@inheritdoc}
      */
+    #[\ReturnTypeWillChange]
     public function valid()
     {
         return array_key_exists($this->position, $this->data);
@@ -68,6 +73,7 @@ public function valid()
     /**
      * {@inheritdoc}
      */
+    #[\ReturnTypeWillChange]
     public function rewind()
     {
         $this->position = 0;
diff --git a/tests/data/cache/MockDependency.php b/tests/data/cache/MockDependency.php
index 794dad8a644..68f01c1676a 100644
--- a/tests/data/cache/MockDependency.php
+++ b/tests/data/cache/MockDependency.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\cache;
diff --git a/tests/data/config-docker.php b/tests/data/config-docker.php
index ebdf671d96a..1d609a580c2 100644
--- a/tests/data/config-docker.php
+++ b/tests/data/config-docker.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/tests/data/config.php b/tests/data/config.php
index 33897f2877d..eb73f340d25 100644
--- a/tests/data/config.php
+++ b/tests/data/config.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/tests/data/console/controllers/FakeController.php b/tests/data/console/controllers/FakeController.php
index a5f20899eb6..36115dceb30 100644
--- a/tests/data/console/controllers/FakeController.php
+++ b/tests/data/console/controllers/FakeController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers;
diff --git a/tests/data/console/controllers/FakeEmptyController.php b/tests/data/console/controllers/FakeEmptyController.php
index ad2f3bf3ffb..8001e72ca1e 100644
--- a/tests/data/console/controllers/FakeEmptyController.php
+++ b/tests/data/console/controllers/FakeEmptyController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers;
diff --git a/tests/data/console/controllers/FakeNoDefaultController.php b/tests/data/console/controllers/FakeNoDefaultController.php
index 094fa26b2ef..fec8ebac3c7 100644
--- a/tests/data/console/controllers/FakeNoDefaultController.php
+++ b/tests/data/console/controllers/FakeNoDefaultController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers;
diff --git a/tests/data/console/controllers/fixtures/DependentActiveFixture.php b/tests/data/console/controllers/fixtures/DependentActiveFixture.php
index b702267c6d0..bb11b6a85c0 100644
--- a/tests/data/console/controllers/fixtures/DependentActiveFixture.php
+++ b/tests/data/console/controllers/fixtures/DependentActiveFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers\fixtures;
diff --git a/tests/data/console/controllers/fixtures/FirstFixture.php b/tests/data/console/controllers/fixtures/FirstFixture.php
index 49e3f68da06..682a652d029 100644
--- a/tests/data/console/controllers/fixtures/FirstFixture.php
+++ b/tests/data/console/controllers/fixtures/FirstFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers\fixtures;
diff --git a/tests/data/console/controllers/fixtures/FirstIndependentActiveFixture.php b/tests/data/console/controllers/fixtures/FirstIndependentActiveFixture.php
index 736c9025ac0..7b99df02865 100644
--- a/tests/data/console/controllers/fixtures/FirstIndependentActiveFixture.php
+++ b/tests/data/console/controllers/fixtures/FirstIndependentActiveFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers\fixtures;
diff --git a/tests/data/console/controllers/fixtures/FixtureStorage.php b/tests/data/console/controllers/fixtures/FixtureStorage.php
index ec02a9e21e3..5234c5930d6 100644
--- a/tests/data/console/controllers/fixtures/FixtureStorage.php
+++ b/tests/data/console/controllers/fixtures/FixtureStorage.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers\fixtures;
diff --git a/tests/data/console/controllers/fixtures/GlobalFixture.php b/tests/data/console/controllers/fixtures/GlobalFixture.php
index 9855902b95c..8d493229fbe 100644
--- a/tests/data/console/controllers/fixtures/GlobalFixture.php
+++ b/tests/data/console/controllers/fixtures/GlobalFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers\fixtures;
diff --git a/tests/data/console/controllers/fixtures/SecondFixture.php b/tests/data/console/controllers/fixtures/SecondFixture.php
index 89bce81f5a2..645418c6470 100644
--- a/tests/data/console/controllers/fixtures/SecondFixture.php
+++ b/tests/data/console/controllers/fixtures/SecondFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers\fixtures;
diff --git a/tests/data/console/controllers/fixtures/SecondIndependentActiveFixture.php b/tests/data/console/controllers/fixtures/SecondIndependentActiveFixture.php
index bec386a4958..7fcdcccbf2c 100644
--- a/tests/data/console/controllers/fixtures/SecondIndependentActiveFixture.php
+++ b/tests/data/console/controllers/fixtures/SecondIndependentActiveFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers\fixtures;
diff --git a/tests/data/console/controllers/fixtures/subdir/FirstFixture.php b/tests/data/console/controllers/fixtures/subdir/FirstFixture.php
index 95b7ba3d414..2db058b8605 100644
--- a/tests/data/console/controllers/fixtures/subdir/FirstFixture.php
+++ b/tests/data/console/controllers/fixtures/subdir/FirstFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers\fixtures\subdir;
diff --git a/tests/data/console/controllers/fixtures/subdir/SecondFixture.php b/tests/data/console/controllers/fixtures/subdir/SecondFixture.php
index eeae836b582..70810f18ac0 100644
--- a/tests/data/console/controllers/fixtures/subdir/SecondFixture.php
+++ b/tests/data/console/controllers/fixtures/subdir/SecondFixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\console\controllers\fixtures\subdir;
diff --git a/tests/data/console/migrate_create/add_columns_fk.php b/tests/data/console/migrate_create/add_columns_fk.php
index c80f4c90095..0d5afceda2d 100644
--- a/tests/data/console/migrate_create/add_columns_fk.php
+++ b/tests/data/console/migrate_create/add_columns_fk.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/add_columns_prefix.php b/tests/data/console/migrate_create/add_columns_prefix.php
index c80f4c90095..0d5afceda2d 100644
--- a/tests/data/console/migrate_create/add_columns_prefix.php
+++ b/tests/data/console/migrate_create/add_columns_prefix.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/add_columns_test.php b/tests/data/console/migrate_create/add_columns_test.php
index ec4bdeb1851..9b1202ba54b 100644
--- a/tests/data/console/migrate_create/add_columns_test.php
+++ b/tests/data/console/migrate_create/add_columns_test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/add_two_columns_test.php b/tests/data/console/migrate_create/add_two_columns_test.php
index e58d53a59c4..08290fba742 100644
--- a/tests/data/console/migrate_create/add_two_columns_test.php
+++ b/tests/data/console/migrate_create/add_two_columns_test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_field_with_colon_default_values.php b/tests/data/console/migrate_create/create_field_with_colon_default_values.php
index 582b866c80b..d5996bc2a14 100644
--- a/tests/data/console/migrate_create/create_field_with_colon_default_values.php
+++ b/tests/data/console/migrate_create/create_field_with_colon_default_values.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_fields.php b/tests/data/console/migrate_create/create_fields.php
index 074cf3ba717..2248c3b24a8 100644
--- a/tests/data/console/migrate_create/create_fields.php
+++ b/tests/data/console/migrate_create/create_fields.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_fields_with_col_method_after_default_value.php b/tests/data/console/migrate_create/create_fields_with_col_method_after_default_value.php
index 8d8a579bb39..007f35e31f8 100644
--- a/tests/data/console/migrate_create/create_fields_with_col_method_after_default_value.php
+++ b/tests/data/console/migrate_create/create_fields_with_col_method_after_default_value.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_foreign_key.php b/tests/data/console/migrate_create/create_foreign_key.php
index dc5718307fa..5585ad2ec7d 100644
--- a/tests/data/console/migrate_create/create_foreign_key.php
+++ b/tests/data/console/migrate_create/create_foreign_key.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_id_field_not_as_pk.php b/tests/data/console/migrate_create/create_id_field_not_as_pk.php
index 0cefcb33679..c5dd1aaed56 100644
--- a/tests/data/console/migrate_create/create_id_field_not_as_pk.php
+++ b/tests/data/console/migrate_create/create_id_field_not_as_pk.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_id_pk.php b/tests/data/console/migrate_create/create_id_pk.php
index ce5b17d1679..fa3e8ba5684 100644
--- a/tests/data/console/migrate_create/create_id_pk.php
+++ b/tests/data/console/migrate_create/create_id_pk.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_prefix.php b/tests/data/console/migrate_create/create_prefix.php
index dc5718307fa..5585ad2ec7d 100644
--- a/tests/data/console/migrate_create/create_prefix.php
+++ b/tests/data/console/migrate_create/create_prefix.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_products_from_store_table.php b/tests/data/console/migrate_create/create_products_from_store_table.php
index 19453462c8a..ed3ffc01027 100644
--- a/tests/data/console/migrate_create/create_products_from_store_table.php
+++ b/tests/data/console/migrate_create/create_products_from_store_table.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_test.php b/tests/data/console/migrate_create/create_test.php
index 07afa073019..72e957e8a96 100644
--- a/tests/data/console/migrate_create/create_test.php
+++ b/tests/data/console/migrate_create/create_test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_title_pk.php b/tests/data/console/migrate_create/create_title_pk.php
index 51b45c40e85..cb4c765dcf2 100644
--- a/tests/data/console/migrate_create/create_title_pk.php
+++ b/tests/data/console/migrate_create/create_title_pk.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_title_with_comma_default_values.php b/tests/data/console/migrate_create/create_title_with_comma_default_values.php
index aa1feab1284..3a90c89cb7f 100644
--- a/tests/data/console/migrate_create/create_title_with_comma_default_values.php
+++ b/tests/data/console/migrate_create/create_title_with_comma_default_values.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_unsigned_big_pk.php b/tests/data/console/migrate_create/create_unsigned_big_pk.php
index 3bbfb785ac9..09dd4451146 100644
--- a/tests/data/console/migrate_create/create_unsigned_big_pk.php
+++ b/tests/data/console/migrate_create/create_unsigned_big_pk.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/create_unsigned_pk.php b/tests/data/console/migrate_create/create_unsigned_pk.php
index c460de79f2e..c2430a9a6af 100644
--- a/tests/data/console/migrate_create/create_unsigned_pk.php
+++ b/tests/data/console/migrate_create/create_unsigned_pk.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/default.php b/tests/data/console/migrate_create/default.php
index 5e05cb8b5b4..40696acc651 100644
--- a/tests/data/console/migrate_create/default.php
+++ b/tests/data/console/migrate_create/default.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/drop_columns_test.php b/tests/data/console/migrate_create/drop_columns_test.php
index 6f020f05cf6..495852c9476 100644
--- a/tests/data/console/migrate_create/drop_columns_test.php
+++ b/tests/data/console/migrate_create/drop_columns_test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/drop_fields.php b/tests/data/console/migrate_create/drop_fields.php
index 6c6c7e07fa4..44a35d6a773 100644
--- a/tests/data/console/migrate_create/drop_fields.php
+++ b/tests/data/console/migrate_create/drop_fields.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/drop_products_from_store_table.php b/tests/data/console/migrate_create/drop_products_from_store_table.php
index d4d3686f0ac..5827e3c39d0 100644
--- a/tests/data/console/migrate_create/drop_products_from_store_table.php
+++ b/tests/data/console/migrate_create/drop_products_from_store_table.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/drop_test.php b/tests/data/console/migrate_create/drop_test.php
index d4d3686f0ac..5827e3c39d0 100644
--- a/tests/data/console/migrate_create/drop_test.php
+++ b/tests/data/console/migrate_create/drop_test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/console/migrate_create/junction_test.php b/tests/data/console/migrate_create/junction_test.php
index 5ed397902f6..2297117af79 100644
--- a/tests/data/console/migrate_create/junction_test.php
+++ b/tests/data/console/migrate_create/junction_test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return <<<CODE
diff --git a/tests/data/helpers/CustomDebugInfo.php b/tests/data/helpers/CustomDebugInfo.php
index 94a01db9c9a..beb9e514bdb 100644
--- a/tests/data/helpers/CustomDebugInfo.php
+++ b/tests/data/helpers/CustomDebugInfo.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\helpers;
diff --git a/tests/data/i18n/messages/de-DE/test.php b/tests/data/i18n/messages/de-DE/test.php
index f703cc3254d..0ad7044f9e8 100644
--- a/tests/data/i18n/messages/de-DE/test.php
+++ b/tests/data/i18n/messages/de-DE/test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/tests/data/i18n/messages/de/test.php b/tests/data/i18n/messages/de/test.php
index 02739098647..1641c17721b 100644
--- a/tests/data/i18n/messages/de/test.php
+++ b/tests/data/i18n/messages/de/test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/tests/data/i18n/messages/en-150/test.php b/tests/data/i18n/messages/en-150/test.php
new file mode 100644
index 00000000000..4613070a65f
--- /dev/null
+++ b/tests/data/i18n/messages/en-150/test.php
@@ -0,0 +1,14 @@
+<?php
+/**
+ * @link https://www.yiiframework.com/
+ * @copyright Copyright (c) 2008 Yii Software LLC
+ * @license https://www.yiiframework.com/license/
+ */
+
+/**
+ * Messages are copy-pasted in \yiiunit\framework\i18n\DbMessageSourceTest::setUpBeforeClass()
+ * Do not forget to update it in after changing this file!
+ */
+return [
+    'The dog runs fast.' => 'The dog runs fast (en-150).',
+];
diff --git a/tests/data/i18n/messages/en-US/test.php b/tests/data/i18n/messages/en-US/test.php
index f5eef124df5..7157762f557 100644
--- a/tests/data/i18n/messages/en-US/test.php
+++ b/tests/data/i18n/messages/en-US/test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/tests/data/i18n/messages/ru/test.php b/tests/data/i18n/messages/ru/test.php
index 959a3797cef..e3990b616be 100644
--- a/tests/data/i18n/messages/ru/test.php
+++ b/tests/data/i18n/messages/ru/test.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /**
diff --git a/tests/data/modules/magic/Module.php b/tests/data/modules/magic/Module.php
index 9041005f006..9e1c9662771 100644
--- a/tests/data/modules/magic/Module.php
+++ b/tests/data/modules/magic/Module.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\modules\magic;
diff --git a/tests/data/modules/magic/controllers/ETagController.php b/tests/data/modules/magic/controllers/ETagController.php
index 19b0f1ab673..6c282022cc1 100644
--- a/tests/data/modules/magic/controllers/ETagController.php
+++ b/tests/data/modules/magic/controllers/ETagController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\modules\magic\controllers;
diff --git a/tests/data/modules/magic/controllers/subFolder/SubController.php b/tests/data/modules/magic/controllers/subFolder/SubController.php
index 7b2a247fc3f..824a00aa475 100644
--- a/tests/data/modules/magic/controllers/subFolder/SubController.php
+++ b/tests/data/modules/magic/controllers/subFolder/SubController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\modules\magic\controllers\subFolder;
diff --git a/tests/data/rbac/UserID.php b/tests/data/rbac/UserID.php
index e87cd0195ae..3a70d63ebff 100644
--- a/tests/data/rbac/UserID.php
+++ b/tests/data/rbac/UserID.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\rbac;
diff --git a/tests/data/validators/TestValidator.php b/tests/data/validators/TestValidator.php
index c98b17e7720..c6d9e3fe641 100644
--- a/tests/data/validators/TestValidator.php
+++ b/tests/data/validators/TestValidator.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\validators;
diff --git a/tests/data/validators/models/FakedValidationModel.php b/tests/data/validators/models/FakedValidationModel.php
index bb74d969e4d..bbdfc9fafb2 100644
--- a/tests/data/validators/models/FakedValidationModel.php
+++ b/tests/data/validators/models/FakedValidationModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\validators\models;
@@ -51,7 +51,7 @@ public function inlineVal($attribute, $params, $validator, $current)
         return true;
     }
 
-    public function clientInlineVal($attribute, $params, $validator, $current)
+    public function clientInlineVal($attribute, $params, $validator, $current, $view = null)
     {
         return \func_get_args();
     }
diff --git a/tests/data/validators/models/ValidatorTestEachAndInlineMethodModel.php b/tests/data/validators/models/ValidatorTestEachAndInlineMethodModel.php
index e87af1bcd5e..e7932f6d716 100644
--- a/tests/data/validators/models/ValidatorTestEachAndInlineMethodModel.php
+++ b/tests/data/validators/models/ValidatorTestEachAndInlineMethodModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\validators\models;
diff --git a/tests/data/validators/models/ValidatorTestFunctionModel.php b/tests/data/validators/models/ValidatorTestFunctionModel.php
index 57463bef2e9..67d47c38a26 100644
--- a/tests/data/validators/models/ValidatorTestFunctionModel.php
+++ b/tests/data/validators/models/ValidatorTestFunctionModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\validators\models;
diff --git a/tests/data/validators/models/ValidatorTestMainModel.php b/tests/data/validators/models/ValidatorTestMainModel.php
index 141fed28c12..f801f5635e7 100644
--- a/tests/data/validators/models/ValidatorTestMainModel.php
+++ b/tests/data/validators/models/ValidatorTestMainModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\validators\models;
diff --git a/tests/data/validators/models/ValidatorTestRefModel.php b/tests/data/validators/models/ValidatorTestRefModel.php
index d1ad3a5fca1..fdfd7f2dadd 100644
--- a/tests/data/validators/models/ValidatorTestRefModel.php
+++ b/tests/data/validators/models/ValidatorTestRefModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\validators\models;
diff --git a/tests/data/validators/models/ValidatorTestTypedPropModel.php b/tests/data/validators/models/ValidatorTestTypedPropModel.php
index 0a2714796f1..fa838e183d8 100644
--- a/tests/data/validators/models/ValidatorTestTypedPropModel.php
+++ b/tests/data/validators/models/ValidatorTestTypedPropModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\data\validators\models;
diff --git a/tests/data/views/widgets/ListView/item.php b/tests/data/views/widgets/ListView/item.php
index f543715af5b..63f7d95964c 100644
--- a/tests/data/views/widgets/ListView/item.php
+++ b/tests/data/views/widgets/ListView/item.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /* @var $model array|object */
diff --git a/tests/framework/BaseYiiTest.php b/tests/framework/BaseYiiTest.php
index ee2d91184b8..4e17fff0668 100644
--- a/tests/framework/BaseYiiTest.php
+++ b/tests/framework/BaseYiiTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework;
diff --git a/tests/framework/ChangeLogTest.php b/tests/framework/ChangeLogTest.php
index 4a4d738cd95..eef6cae4585 100644
--- a/tests/framework/ChangeLogTest.php
+++ b/tests/framework/ChangeLogTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework;
diff --git a/tests/framework/ar/ActiveRecordTestTrait.php b/tests/framework/ar/ActiveRecordTestTrait.php
index 4c34161eda6..3bb161f7f8f 100644
--- a/tests/framework/ar/ActiveRecordTestTrait.php
+++ b/tests/framework/ar/ActiveRecordTestTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\ar;
diff --git a/tests/framework/base/ActionFilterTest.php b/tests/framework/base/ActionFilterTest.php
index b7b33503990..7a527beb77b 100644
--- a/tests/framework/base/ActionFilterTest.php
+++ b/tests/framework/base/ActionFilterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/ApplicationTest.php b/tests/framework/base/ApplicationTest.php
index e6be5bb64e8..bfddeae9d9c 100644
--- a/tests/framework/base/ApplicationTest.php
+++ b/tests/framework/base/ApplicationTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
@@ -66,7 +66,7 @@ function () {
         $this->assertSame('Bootstrap with yii\base\Module', Yii::getLogger()->messages[3][0]);
         $this->assertSame('Bootstrap with Closure', Yii::getLogger()->messages[4][0]);
     }
-    
+
     public function testModuleId()
     {
         $this->mockApplication(['id' => 'app-basic']);
diff --git a/tests/framework/base/BCObject.php b/tests/framework/base/BCObject.php
index 95343e1cf60..ac86dbd074c 100644
--- a/tests/framework/base/BCObject.php
+++ b/tests/framework/base/BCObject.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/BaseObjectTest.php b/tests/framework/base/BaseObjectTest.php
index 86ac66b0f7d..98280fef25e 100644
--- a/tests/framework/base/BaseObjectTest.php
+++ b/tests/framework/base/BaseObjectTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/BehaviorTest.php b/tests/framework/base/BehaviorTest.php
index ecfeb2330d0..b77a074d4be 100644
--- a/tests/framework/base/BehaviorTest.php
+++ b/tests/framework/base/BehaviorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/ComponentTest.php b/tests/framework/base/ComponentTest.php
index cea50aac547..e2fdbc6e02b 100644
--- a/tests/framework/base/ComponentTest.php
+++ b/tests/framework/base/ComponentTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/ControllerTest.php b/tests/framework/base/ControllerTest.php
index 1ba8e0caf6d..654a5ddc19b 100644
--- a/tests/framework/base/ControllerTest.php
+++ b/tests/framework/base/ControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/DynamicModelTest.php b/tests/framework/base/DynamicModelTest.php
index c2dc1c724fc..0c4a25110b3 100644
--- a/tests/framework/base/DynamicModelTest.php
+++ b/tests/framework/base/DynamicModelTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/ErrorExceptionTest.php b/tests/framework/base/ErrorExceptionTest.php
index fdf58888b1a..615b706fa6d 100644
--- a/tests/framework/base/ErrorExceptionTest.php
+++ b/tests/framework/base/ErrorExceptionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/EventTest.php b/tests/framework/base/EventTest.php
index 670600fa29a..f99d12bedb7 100644
--- a/tests/framework/base/EventTest.php
+++ b/tests/framework/base/EventTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/ExposedSecurity.php b/tests/framework/base/ExposedSecurity.php
index d653575a0cd..45d310445c6 100644
--- a/tests/framework/base/ExposedSecurity.php
+++ b/tests/framework/base/ExposedSecurity.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/ModelTest.php b/tests/framework/base/ModelTest.php
index 428f3fb1b91..f941d72fba8 100644
--- a/tests/framework/base/ModelTest.php
+++ b/tests/framework/base/ModelTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
@@ -526,7 +526,7 @@ public function rules()
     {
         return [
             [['id'], 'required', 'except' => 'administration'],
-            [['name', 'description'], 'filter', 'filter' => 'trim'],
+            [['name', 'description'], 'filter', 'filter' => 'trim', 'skipOnEmpty' => true],
             [['is_disabled'], 'boolean', 'on' => 'administration'],
         ];
     }
diff --git a/tests/framework/base/ModuleTest.php b/tests/framework/base/ModuleTest.php
index c4b3ae43dce..bbe36311279 100644
--- a/tests/framework/base/ModuleTest.php
+++ b/tests/framework/base/ModuleTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
@@ -37,11 +37,22 @@ public function testTrueParentModule()
         $this->assertEquals('parent', $child2->module->id);
     }
 
-    public function testControllerPath()
+    public function testGetControllerPath()
     {
         $module = new TestModule('test');
+        $controllerPath = __DIR__ . DIRECTORY_SEPARATOR . 'controllers';
+
         $this->assertEquals('yiiunit\framework\base\controllers', $module->controllerNamespace);
-        $this->assertEquals(__DIR__ . DIRECTORY_SEPARATOR . 'controllers', str_replace(['/', '\\'], DIRECTORY_SEPARATOR, $module->controllerPath));
+        $this->assertEquals($controllerPath, str_replace(['/', '\\'], DIRECTORY_SEPARATOR, $module->getControllerPath()));
+    }
+
+    public function testSetControllerPath()
+    {
+        $module = new TestModule('test');
+        $controllerPath = __DIR__ . DIRECTORY_SEPARATOR . 'controllers';
+
+        $module->setControllerPath($controllerPath);
+        $this->assertEquals($controllerPath, $module->getControllerPath());
     }
 
     public function testSetupVersion()
diff --git a/tests/framework/base/SecurityTest.php b/tests/framework/base/SecurityTest.php
index 215999c12aa..d50fc0ab44d 100644
--- a/tests/framework/base/SecurityTest.php
+++ b/tests/framework/base/SecurityTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
@@ -1046,7 +1046,12 @@ public function dataProviderDeriveKey()
      */
     public function testHkdf($hash, $ikm, $salt, $info, $l, $prk, $okm)
     {
-        $dk = $this->security->hkdf($hash, hex2bin($ikm), hex2bin($salt), hex2bin($info), $l);
+        $dk = $this->security->hkdf(
+            (string)$hash,
+            hex2bin((string)$ikm),
+            hex2bin((string)$salt),
+            hex2bin((string)$info),
+            $l);
         $this->assertEquals($okm, bin2hex($dk));
     }
 
diff --git a/tests/framework/base/StaticInstanceTraitTest.php b/tests/framework/base/StaticInstanceTraitTest.php
index 658f6500903..d007925f50a 100644
--- a/tests/framework/base/StaticInstanceTraitTest.php
+++ b/tests/framework/base/StaticInstanceTraitTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/ThemeTest.php b/tests/framework/base/ThemeTest.php
index 006f5160082..145380f3a7b 100644
--- a/tests/framework/base/ThemeTest.php
+++ b/tests/framework/base/ThemeTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
diff --git a/tests/framework/base/ViewTest.php b/tests/framework/base/ViewTest.php
index 58e16415dd3..f568a5a7145 100644
--- a/tests/framework/base/ViewTest.php
+++ b/tests/framework/base/ViewTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
@@ -79,8 +79,8 @@ public function testRelativePathInView()
 
         $baseView = "{$this->testViewPath}/theme1/base.php";
         file_put_contents($baseView, <<<'PHP'
-<?php 
-    echo $this->render("sub"); 
+<?php
+    echo $this->render("sub");
 ?>
 PHP
         );
diff --git a/tests/framework/base/WidgetTest.php b/tests/framework/base/WidgetTest.php
index 33542a18b32..9517fed7e5b 100644
--- a/tests/framework/base/WidgetTest.php
+++ b/tests/framework/base/WidgetTest.php
@@ -1,14 +1,16 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\base;
 
+use Yii;
 use yii\base\Widget;
 use yii\base\WidgetEvent;
+use yii\di\Container;
 use yiiunit\TestCase;
 
 /**
@@ -46,6 +48,30 @@ public function testBeginEnd()
         $this->assertSame('<run-test>', $output);
     }
 
+    /**
+     * @see https://github.com/yiisoft/yii2/issues/19030
+     */
+    public function testDependencyInjection()
+    {
+        Yii::$container = new Container();
+        Yii::$container->setDefinitions([
+            TestWidgetB::className() => [
+                'class' => TestWidget::className()
+            ]
+        ]);
+
+        ob_start();
+        ob_implicit_flush(false);
+
+        $widget = TestWidgetB::begin(['id' => 'test']);
+        $this->assertTrue($widget instanceof TestWidget);
+        TestWidgetB::end();
+
+        $output = ob_get_clean();
+
+        $this->assertSame('<run-test>', $output);
+    }
+
     /**
      * @depends testBeginEnd
      */
diff --git a/tests/framework/base/fixtures/themes/basic/views/site/index.php b/tests/framework/base/fixtures/themes/basic/views/site/index.php
index d63e9ec967f..3b11977a245 100644
--- a/tests/framework/base/fixtures/themes/basic/views/site/index.php
+++ b/tests/framework/base/fixtures/themes/basic/views/site/index.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
diff --git a/tests/framework/base/fixtures/themes/christmas/views/site/index.php b/tests/framework/base/fixtures/themes/christmas/views/site/index.php
index d63e9ec967f..3b11977a245 100644
--- a/tests/framework/base/fixtures/themes/christmas/views/site/index.php
+++ b/tests/framework/base/fixtures/themes/christmas/views/site/index.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
diff --git a/tests/framework/base/fixtures/themes/christmas/views/site/main.php b/tests/framework/base/fixtures/themes/christmas/views/site/main.php
index d63e9ec967f..3b11977a245 100644
--- a/tests/framework/base/fixtures/themes/christmas/views/site/main.php
+++ b/tests/framework/base/fixtures/themes/christmas/views/site/main.php
@@ -1,6 +1,6 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
diff --git a/tests/framework/behaviors/AttributeBehaviorTest.php b/tests/framework/behaviors/AttributeBehaviorTest.php
index b97e37fe136..3159603bac9 100644
--- a/tests/framework/behaviors/AttributeBehaviorTest.php
+++ b/tests/framework/behaviors/AttributeBehaviorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\behaviors;
diff --git a/tests/framework/behaviors/AttributeTypecastBehaviorTest.php b/tests/framework/behaviors/AttributeTypecastBehaviorTest.php
index d4ce8d13632..ee84530e53d 100644
--- a/tests/framework/behaviors/AttributeTypecastBehaviorTest.php
+++ b/tests/framework/behaviors/AttributeTypecastBehaviorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\behaviors;
diff --git a/tests/framework/behaviors/AttributesBehaviorTest.php b/tests/framework/behaviors/AttributesBehaviorTest.php
index 0f2dbbaa77e..d26ddbc8b48 100644
--- a/tests/framework/behaviors/AttributesBehaviorTest.php
+++ b/tests/framework/behaviors/AttributesBehaviorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\behaviors;
diff --git a/tests/framework/behaviors/BlameableBehaviorConsoleTest.php b/tests/framework/behaviors/BlameableBehaviorConsoleTest.php
index c7732a24b22..4a220125521 100755
--- a/tests/framework/behaviors/BlameableBehaviorConsoleTest.php
+++ b/tests/framework/behaviors/BlameableBehaviorConsoleTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\behaviors;
diff --git a/tests/framework/behaviors/BlameableBehaviorTest.php b/tests/framework/behaviors/BlameableBehaviorTest.php
index 7b54c99db9b..b9e1a86b081 100644
--- a/tests/framework/behaviors/BlameableBehaviorTest.php
+++ b/tests/framework/behaviors/BlameableBehaviorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\behaviors;
diff --git a/tests/framework/behaviors/OptimisticLockBehaviorTest.php b/tests/framework/behaviors/OptimisticLockBehaviorTest.php
index 1a7c9ae3e57..fe041eab9af 100644
--- a/tests/framework/behaviors/OptimisticLockBehaviorTest.php
+++ b/tests/framework/behaviors/OptimisticLockBehaviorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\behaviors;
diff --git a/tests/framework/behaviors/SluggableBehaviorTest.php b/tests/framework/behaviors/SluggableBehaviorTest.php
index 094f01f58bd..cf9e9ceddda 100644
--- a/tests/framework/behaviors/SluggableBehaviorTest.php
+++ b/tests/framework/behaviors/SluggableBehaviorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\behaviors;
diff --git a/tests/framework/behaviors/TimestampBehaviorTest.php b/tests/framework/behaviors/TimestampBehaviorTest.php
index 4d9803ca824..22365f17993 100644
--- a/tests/framework/behaviors/TimestampBehaviorTest.php
+++ b/tests/framework/behaviors/TimestampBehaviorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\behaviors;
diff --git a/tests/framework/caching/ApcCacheTest.php b/tests/framework/caching/ApcCacheTest.php
index 2ff66692660..809286bbd89 100644
--- a/tests/framework/caching/ApcCacheTest.php
+++ b/tests/framework/caching/ApcCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/ArrayCacheTest.php b/tests/framework/caching/ArrayCacheTest.php
index bcfdd98ec36..2e970175914 100644
--- a/tests/framework/caching/ArrayCacheTest.php
+++ b/tests/framework/caching/ArrayCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/CacheTestCase.php b/tests/framework/caching/CacheTestCase.php
index cb9df3c5086..7eb00321a35 100644
--- a/tests/framework/caching/CacheTestCase.php
+++ b/tests/framework/caching/CacheTestCase.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\caching;
@@ -156,6 +156,13 @@ public function testArrayAccess()
         $this->assertInstanceOf('stdClass', $cache['arrayaccess_test']);
     }
 
+    public function testGetValueNonExistent()
+    {
+        $cache = $this->getCacheInstance();
+
+        $this->assertFalse($this->invokeMethod($cache, 'getValue', ['non_existent_key']));
+    }
+
     public function testGetNonExistent()
     {
         $cache = $this->getCacheInstance();
diff --git a/tests/framework/caching/DbCacheTest.php b/tests/framework/caching/DbCacheTest.php
index 1de319ce1bf..b18b30e2bcd 100644
--- a/tests/framework/caching/DbCacheTest.php
+++ b/tests/framework/caching/DbCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/DbDependencyTest.php b/tests/framework/caching/DbDependencyTest.php
index d7c01900d3d..bd801e3528c 100644
--- a/tests/framework/caching/DbDependencyTest.php
+++ b/tests/framework/caching/DbDependencyTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/DbQueryDependencyTest.php b/tests/framework/caching/DbQueryDependencyTest.php
index 0d718544f77..f8a50183dcd 100644
--- a/tests/framework/caching/DbQueryDependencyTest.php
+++ b/tests/framework/caching/DbQueryDependencyTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
@@ -108,4 +108,30 @@ public function testCustomMethodCallback()
 
         $this->assertTrue($dependency->isChanged($cache));
     }
+
+    /**
+     * @depends testCustomMethod
+     */
+    public function testReusableAndCustomMethodCallback()
+    {
+        $db = $this->getConnection(false);
+        $cache = new ArrayCache();
+
+        $dependency = new DbQueryDependency();
+        $dependency->db = $db;
+        $dependency->query = (new Query())
+            ->from('dependency_item')
+            ->andWhere(['value' => 'not exist']);
+        $dependency->reusable = true;
+        $dependency->method = function (Query $query, $db) {
+            return $query->orWhere(['value' => 'initial'])->exists($db);
+        };
+
+        $dependency->evaluateDependency($cache);
+        $this->assertFalse($dependency->isChanged($cache));
+
+        $db->createCommand()->delete('dependency_item')->execute();
+
+        $this->assertTrue($dependency->isChanged($cache));
+    }
 }
diff --git a/tests/framework/caching/DependencyTest.php b/tests/framework/caching/DependencyTest.php
index a97ca9f92be..ff7dc5faaec 100644
--- a/tests/framework/caching/DependencyTest.php
+++ b/tests/framework/caching/DependencyTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/FileCacheTest.php b/tests/framework/caching/FileCacheTest.php
index 55f2fcad1ea..c9f6ee8f51f 100644
--- a/tests/framework/caching/FileCacheTest.php
+++ b/tests/framework/caching/FileCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/MemCacheTest.php b/tests/framework/caching/MemCacheTest.php
index 0487a1695f8..3444c8eca30 100644
--- a/tests/framework/caching/MemCacheTest.php
+++ b/tests/framework/caching/MemCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/MemCachedTest.php b/tests/framework/caching/MemCachedTest.php
index 78f66789956..8b6b735b433 100644
--- a/tests/framework/caching/MemCachedTest.php
+++ b/tests/framework/caching/MemCachedTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
@@ -27,6 +27,12 @@ protected function getCacheInstance()
             $this->markTestSkipped('memcached not installed. Skipping.');
         }
 
+        if (PHP_VERSION_ID >= 80100 && version_compare(phpversion('memcached'), '3.1.5', '<=')) {
+            $php_version = phpversion();
+            $memcached_version = phpversion('memcached');
+            $this->markTestSkipped("memcached version $memcached_version is not ready for PHP $php_version. Skipping.");
+        }
+
         // check whether memcached is running and skip tests if not.
         if (!@stream_socket_client('127.0.0.1:11211', $errorNumber, $errorDescription, 0.5)) {
             $this->markTestSkipped('No memcached server running at ' . '127.0.0.1:11211' . ' : ' . $errorNumber . ' - ' . $errorDescription);
diff --git a/tests/framework/caching/MssqlCacheTest.php b/tests/framework/caching/MssqlCacheTest.php
index af1091e730c..324f1fcc036 100644
--- a/tests/framework/caching/MssqlCacheTest.php
+++ b/tests/framework/caching/MssqlCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/PgSQLCacheTest.php b/tests/framework/caching/PgSQLCacheTest.php
index 193f971f78e..76a4c6cc6b5 100644
--- a/tests/framework/caching/PgSQLCacheTest.php
+++ b/tests/framework/caching/PgSQLCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link      http://www.yiiframework.com/
+ * @link      https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license   http://www.yiiframework.com/license/
+ * @license   https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/TagDependencyTest.php b/tests/framework/caching/TagDependencyTest.php
index b56c91b9955..fc133796799 100644
--- a/tests/framework/caching/TagDependencyTest.php
+++ b/tests/framework/caching/TagDependencyTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/WinCacheTest.php b/tests/framework/caching/WinCacheTest.php
index 5ebdf7d85e6..df7fac26946 100644
--- a/tests/framework/caching/WinCacheTest.php
+++ b/tests/framework/caching/WinCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/XCacheTest.php b/tests/framework/caching/XCacheTest.php
index e8fe20bd8bb..68859325ffe 100644
--- a/tests/framework/caching/XCacheTest.php
+++ b/tests/framework/caching/XCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/caching/ZendDataCacheTest.php b/tests/framework/caching/ZendDataCacheTest.php
index 9531738b825..728b0042953 100644
--- a/tests/framework/caching/ZendDataCacheTest.php
+++ b/tests/framework/caching/ZendDataCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\caching;
diff --git a/tests/framework/console/ControllerTest.php b/tests/framework/console/ControllerTest.php
index d5ce60c0762..a38cb7ea372 100644
--- a/tests/framework/console/ControllerTest.php
+++ b/tests/framework/console/ControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console;
@@ -286,18 +286,24 @@ public function testHelpOptionWithModule()
         $this->assertEquals(FakeHelpController::getActionIndexLastCallParams(), ['news/posts/index']);
     }
 
-
     /**
-     * Tests if action help does not include (class) type hinted arguments.
-     * @see #10372
+     * @see https://github.com/yiisoft/yii2/issues/19028
      */
-    public function testHelpSkipsTypeHintedArguments()
+    public function testGetActionArgsHelp()
     {
         $controller = new FakeController('fake', Yii::$app);
-        $help = $controller->getActionArgsHelp($controller->createAction('with-complex-type-hint'));
-
-        $this->assertArrayNotHasKey('typedArgument', $help);
-        $this->assertArrayHasKey('simpleArgument', $help);
+        $help = $controller->getActionArgsHelp($controller->createAction('aksi2'));
+
+        $this->assertArrayHasKey('values', $help);
+        if (PHP_MAJOR_VERSION > 5) {
+            // declared type
+            $this->assertEquals('array', $help['values']['type']);
+        } else {
+            $this->markTestSkipped('Can not test declared type of parameter $values on PHP < 7.0');
+        }
+        $this->assertArrayHasKey('value', $help);
+        // PHPDoc type
+        $this->assertEquals('string', $help['value']['type']);
     }
 
     public function testGetActionHelpSummaryOnNull()
diff --git a/tests/framework/console/FakeController.php b/tests/framework/console/FakeController.php
index d3a39b27748..22158049d29 100644
--- a/tests/framework/console/FakeController.php
+++ b/tests/framework/console/FakeController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console;
@@ -57,9 +57,13 @@ public function actionIndex()
 
     public function actionAksi1($fromParam, $other = 'default')
     {
-        return[$fromParam, $other];
+        return [$fromParam, $other];
     }
 
+    /**
+     * @param string $value the string value
+     * @return array
+     */
     public function actionAksi2(array $values, $value)
     {
         return [$values, $value];
@@ -89,11 +93,6 @@ public function actionTrimargs($param1 = null)
         return func_get_args();
     }
 
-    public function actionWithComplexTypeHint(self $typedArgument, $simpleArgument)
-    {
-        return $simpleArgument;
-    }
-
     public function actionStatus($status = 0)
     {
         return $status;
diff --git a/tests/framework/console/FakeHelpController.php b/tests/framework/console/FakeHelpController.php
index 9b0ea50b891..88d54a53975 100644
--- a/tests/framework/console/FakeHelpController.php
+++ b/tests/framework/console/FakeHelpController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console;
diff --git a/tests/framework/console/FakeHelpControllerWithoutOutput.php b/tests/framework/console/FakeHelpControllerWithoutOutput.php
index fbd581adf26..02e8af60c59 100644
--- a/tests/framework/console/FakeHelpControllerWithoutOutput.php
+++ b/tests/framework/console/FakeHelpControllerWithoutOutput.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console;
diff --git a/tests/framework/console/FakePhp71Controller.php b/tests/framework/console/FakePhp71Controller.php
index 985940d6bbc..dbed836f8d1 100644
--- a/tests/framework/console/FakePhp71Controller.php
+++ b/tests/framework/console/FakePhp71Controller.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console;
diff --git a/tests/framework/console/RequestTest.php b/tests/framework/console/RequestTest.php
index 796741da673..64d36e9df93 100644
--- a/tests/framework/console/RequestTest.php
+++ b/tests/framework/console/RequestTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\console\Request;
diff --git a/tests/framework/console/UnknownCommandExceptionTest.php b/tests/framework/console/UnknownCommandExceptionTest.php
index bbecc50ac71..63dd11ccd97 100644
--- a/tests/framework/console/UnknownCommandExceptionTest.php
+++ b/tests/framework/console/UnknownCommandExceptionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console;
diff --git a/tests/framework/console/controllers/AssetControllerTest.php b/tests/framework/console/controllers/AssetControllerTest.php
index ad1f853bbef..f9fe4be33c2 100644
--- a/tests/framework/console/controllers/AssetControllerTest.php
+++ b/tests/framework/console/controllers/AssetControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/controllers/BaseMessageControllerTest.php b/tests/framework/console/controllers/BaseMessageControllerTest.php
index b3485967e45..90d77736209 100644
--- a/tests/framework/console/controllers/BaseMessageControllerTest.php
+++ b/tests/framework/console/controllers/BaseMessageControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
@@ -608,12 +608,12 @@ public function testMessageExtractActionWhenMessageUsingParamsReturnedFromMethod
             echo PHP_EOL, Yii::t('app', '3. Message with param from function call {val}', [
                 'val' => date('Y-m-d'),
             ]);
-            
+
             // the next call creates the bug:
             echo PHP_EOL, Yii::t('app', '4. Message with param from method call {val}', [
                 'val' => \Yii::\$app->formatter->asDecimal(23, 4),
             ]);
-            
+
             // after the bug:
             echo PHP_EOL, Yii::t('app', '5. Simple message');
             echo PHP_EOL, Yii::t('app', '6. Message with simple param {val}', [
diff --git a/tests/framework/console/controllers/CacheControllerTest.php b/tests/framework/console/controllers/CacheControllerTest.php
index 9f5f127afb8..907c6da4d3f 100644
--- a/tests/framework/console/controllers/CacheControllerTest.php
+++ b/tests/framework/console/controllers/CacheControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/controllers/DbMessageControllerTest.php b/tests/framework/console/controllers/DbMessageControllerTest.php
index 0f539e591aa..1c5707dab94 100644
--- a/tests/framework/console/controllers/DbMessageControllerTest.php
+++ b/tests/framework/console/controllers/DbMessageControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/controllers/EchoMigrateController.php b/tests/framework/console/controllers/EchoMigrateController.php
index 1bef5654d5c..44faf4a5d49 100644
--- a/tests/framework/console/controllers/EchoMigrateController.php
+++ b/tests/framework/console/controllers/EchoMigrateController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/controllers/FixtureControllerTest.php b/tests/framework/console/controllers/FixtureControllerTest.php
index d33e78e9bb1..49ad96b31df 100644
--- a/tests/framework/console/controllers/FixtureControllerTest.php
+++ b/tests/framework/console/controllers/FixtureControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/controllers/HelpControllerTest.php b/tests/framework/console/controllers/HelpControllerTest.php
index c86d6ef40de..68c4f61772f 100644
--- a/tests/framework/console/controllers/HelpControllerTest.php
+++ b/tests/framework/console/controllers/HelpControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
@@ -123,7 +123,7 @@ public function testActionListActionOptions()
         ]);
         $result = Console::stripAnsiFormat($this->runControllerAction('list-action-options', ['action' => 'help/list-action-options']));
         $this->assertEqualsWithoutLE(<<<'STRING'
-action:route to action
+action: route to action
 
 --interactive: whether to run the command interactively.
 --color: whether to enable ANSI color in the output.If not set, ANSI color will only be enabled for terminals that support it.
diff --git a/tests/framework/console/controllers/MigrateControllerTest.php b/tests/framework/console/controllers/MigrateControllerTest.php
index 31e235adaea..714b233b82b 100644
--- a/tests/framework/console/controllers/MigrateControllerTest.php
+++ b/tests/framework/console/controllers/MigrateControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
@@ -78,6 +78,22 @@ protected function assertCommandCreatedFile($expectedFile, $migrationName, $tabl
         $this->assertFileContent($expectedFile, $class, $table, $namespace);
     }
 
+    /**
+     * Check config namespace but without input namespace
+     * @param mixed $expectedFile
+     * @param mixed $migrationName
+     * @param mixed $table
+     * @param array $params
+     */
+    protected function assertCommandCreatedFileWithoutNamespaceInput($expectedFile, $migrationName, $table, $params = [])
+    {
+        $params[0] = $migrationName;
+        list($config, $namespace, $class) = $this->prepareMigrationNameData($this->migrationNamespace . '\\' . $migrationName);
+
+        $this->runMigrateControllerAction('create', $params, $config);
+        $this->assertFileContent($expectedFile, $class, $table, $namespace);
+    }
+
     public function assertFileContentJunction($expectedFile, $class, $junctionTable, $firstTable, $secondTable, $namespace = null)
     {
         if ($namespace) {
@@ -101,6 +117,23 @@ protected function assertCommandCreatedJunctionFile($expectedFile, $migrationNam
         $this->assertFileContentJunction($expectedFile, $class, $junctionTable, $firstTable, $secondTable, $namespace);
     }
 
+    /**
+     * Check config namespace but without input namespace
+     * @param mixed $expectedFile
+     * @param mixed $migrationName
+     * @param mixed $junctionTable
+     * @param mixed $firstTable
+     * @param mixed $secondTable
+     */
+    protected function assertCommandCreatedJunctionFileWithoutNamespaceInput($expectedFile, $migrationName, $junctionTable, $firstTable, $secondTable)
+    {
+        list($config, $namespace, $class) = $this->prepareMigrationNameData($this->migrationNamespace . '\\' . $migrationName);
+
+        $this->runMigrateControllerAction('create', [$migrationName], $config);
+        $this->assertSame(ExitCode::OK, $this->getExitCode());
+        $this->assertFileContentJunction($expectedFile, $class, $junctionTable, $firstTable, $secondTable, $namespace);
+    }
+
     protected function prepareMigrationNameData($migrationName)
     {
         $config = [];
@@ -318,6 +351,7 @@ public function testGenerateMigration($expectedFile, $migrationName, $table, $pa
             $table,
             $params
         );
+        $this->assertCommandCreatedFileWithoutNamespaceInput($expectedFile, $migrationName, $table, $params);
     }
 
     /**
@@ -369,6 +403,13 @@ public function testGenerateJunctionMigration($migrationName, $junctionTable, $f
             $firstTable,
             $secondTable
         );
+        $this->assertCommandCreatedJunctionFileWithoutNamespaceInput(
+            'junction_test',
+            $migrationName,
+            $junctionTable,
+            $firstTable,
+            $secondTable
+        );
     }
 
     public function testUpdatingLongNamedMigration()
diff --git a/tests/framework/console/controllers/MigrateControllerTestTrait.php b/tests/framework/console/controllers/MigrateControllerTestTrait.php
index 7b8cd1647f5..bb71b5df1a9 100644
--- a/tests/framework/console/controllers/MigrateControllerTestTrait.php
+++ b/tests/framework/console/controllers/MigrateControllerTestTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/controllers/PHPMessageControllerTest.php b/tests/framework/console/controllers/PHPMessageControllerTest.php
index b42b38e4345..d3a8074a665 100644
--- a/tests/framework/console/controllers/PHPMessageControllerTest.php
+++ b/tests/framework/console/controllers/PHPMessageControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/controllers/POMessageControllerTest.php b/tests/framework/console/controllers/POMessageControllerTest.php
index 97a60fe6ae2..0aac7f2c8d3 100644
--- a/tests/framework/console/controllers/POMessageControllerTest.php
+++ b/tests/framework/console/controllers/POMessageControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/controllers/SilencedCacheController.php b/tests/framework/console/controllers/SilencedCacheController.php
index fdeaef7cd11..bc7b9f7237c 100644
--- a/tests/framework/console/controllers/SilencedCacheController.php
+++ b/tests/framework/console/controllers/SilencedCacheController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/controllers/StdOutBufferControllerTrait.php b/tests/framework/console/controllers/StdOutBufferControllerTrait.php
index 74494360358..819d685cf7d 100644
--- a/tests/framework/console/controllers/StdOutBufferControllerTrait.php
+++ b/tests/framework/console/controllers/StdOutBufferControllerTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\controllers;
diff --git a/tests/framework/console/stubs/DummyService.php b/tests/framework/console/stubs/DummyService.php
index b1be9fd21f4..a22ea914f1b 100644
--- a/tests/framework/console/stubs/DummyService.php
+++ b/tests/framework/console/stubs/DummyService.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\stubs;
diff --git a/tests/framework/console/widgets/TableTest.php b/tests/framework/console/widgets/TableTest.php
index e90598d088e..95e7c60e462 100644
--- a/tests/framework/console/widgets/TableTest.php
+++ b/tests/framework/console/widgets/TableTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\console\widgets;
diff --git a/tests/framework/data/ActiveDataFilterTest.php b/tests/framework/data/ActiveDataFilterTest.php
index 7e22c9ddbbc..9e4fbe7ca62 100644
--- a/tests/framework/data/ActiveDataFilterTest.php
+++ b/tests/framework/data/ActiveDataFilterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\data;
diff --git a/tests/framework/data/ActiveDataProviderCloningTest.php b/tests/framework/data/ActiveDataProviderCloningTest.php
index 1027baf47cd..931533f7d86 100644
--- a/tests/framework/data/ActiveDataProviderCloningTest.php
+++ b/tests/framework/data/ActiveDataProviderCloningTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\data;
diff --git a/tests/framework/data/ActiveDataProviderTest.php b/tests/framework/data/ActiveDataProviderTest.php
index b496dcb96bf..57f866ee809 100644
--- a/tests/framework/data/ActiveDataProviderTest.php
+++ b/tests/framework/data/ActiveDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\data;
diff --git a/tests/framework/data/ArrayDataProviderTest.php b/tests/framework/data/ArrayDataProviderTest.php
index a2da0e4a362..6c9af6e98bf 100644
--- a/tests/framework/data/ArrayDataProviderTest.php
+++ b/tests/framework/data/ArrayDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\data;
diff --git a/tests/framework/data/BaseDataProviderTest.php b/tests/framework/data/BaseDataProviderTest.php
index ca2c9d7c514..ea5ae21cb69 100644
--- a/tests/framework/data/BaseDataProviderTest.php
+++ b/tests/framework/data/BaseDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\data;
diff --git a/tests/framework/data/DataFilterTest.php b/tests/framework/data/DataFilterTest.php
index 24908539808..1508a28ccde 100644
--- a/tests/framework/data/DataFilterTest.php
+++ b/tests/framework/data/DataFilterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\data;
@@ -332,6 +332,18 @@ public function dataProviderNormalize()
                     ],
                 ],
             ],
+            [
+                [
+                    'name' => [
+                        'like' => 'foo',
+                    ],
+                ],
+                [
+                    'name' => [
+                        'LIKE' => 'foo',
+                    ],
+                ],
+            ],
             [
                 [
                     'and' => [
diff --git a/tests/framework/data/PaginationTest.php b/tests/framework/data/PaginationTest.php
index 5f2d3488f8f..a50cba3745c 100644
--- a/tests/framework/data/PaginationTest.php
+++ b/tests/framework/data/PaginationTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\data;
diff --git a/tests/framework/data/SortTest.php b/tests/framework/data/SortTest.php
index 89cd8a0d69e..19367bfa2c2 100644
--- a/tests/framework/data/SortTest.php
+++ b/tests/framework/data/SortTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\data;
diff --git a/tests/framework/data/SqlDataProviderTest.php b/tests/framework/data/SqlDataProviderTest.php
index b08274865ed..465764f334b 100644
--- a/tests/framework/data/SqlDataProviderTest.php
+++ b/tests/framework/data/SqlDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\data;
diff --git a/tests/framework/db/ActiveQueryModelConnectionTest.php b/tests/framework/db/ActiveQueryModelConnectionTest.php
index fdef6d55b2c..86dff975fd4 100644
--- a/tests/framework/db/ActiveQueryModelConnectionTest.php
+++ b/tests/framework/db/ActiveQueryModelConnectionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/ActiveQueryTest.php b/tests/framework/db/ActiveQueryTest.php
index 50b8a6eda3c..3d3f451865c 100644
--- a/tests/framework/db/ActiveQueryTest.php
+++ b/tests/framework/db/ActiveQueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/ActiveRecordTest.php b/tests/framework/db/ActiveRecordTest.php
index 0088a9091a0..e1908ebc7dd 100644
--- a/tests/framework/db/ActiveRecordTest.php
+++ b/tests/framework/db/ActiveRecordTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
@@ -1361,7 +1361,7 @@ public function testDefaultValues()
         $model->char_col2 = 'not something';
         $model->loadDefaultValues(false);
         $this->assertEquals('something', $model->char_col2);
-        
+
         // Cropped model with 2 attributes/columns
         $model = new CroppedType();
         $model->loadDefaultValues();
@@ -1529,6 +1529,29 @@ public function testPopulateWithoutPk()
         ];
         $this->assertEquals($expected, $aggregation);
 
+        // tests with single pk asArray with eager loading
+        $aggregation = Customer::find()
+            ->select(['{{customer}}.[[status]]', 'SUM({{order}}.[[total]]) AS [[sumtotal]]'])
+            ->joinWith('ordersPlain')
+            ->groupBy('{{customer}}.[[status]]')
+            ->orderBy('status')
+            ->asArray()
+            ->all();
+
+        $expected = [
+            [
+                'status' => 1,
+                'sumtotal' => 183,
+                'ordersPlain' => [],
+            ],
+            [
+                'status' => 2,
+                'sumtotal' => 0,
+                'ordersPlain' => [],
+            ],
+        ];
+        $this->assertEquals($expected, $aggregation);
+
         // tests with single pk with Models
         $aggregation = Customer::find()
             ->select(['{{customer}}.[[status]]', 'SUM({{order}}.[[total]]) AS [[sumTotal]]'])
@@ -2136,4 +2159,15 @@ public function testUnlinkWithViaOnCondition($delete, $count)
             'item_id' => null,
         ]));
     }
+
+    public function testVirtualRelation()
+    {
+        /* @var $orderClass ActiveRecordInterface */
+        $orderClass = $this->getOrderClass();
+        $order = $orderClass::findOne(2);
+        $order->virtualCustomerId = $order->customer_id;
+
+        $this->assertNotNull($order->virtualCustomer);
+    }
+
 }
diff --git a/tests/framework/db/AnyCaseValue.php b/tests/framework/db/AnyCaseValue.php
index ad91498c663..e347fc6b2af 100644
--- a/tests/framework/db/AnyCaseValue.php
+++ b/tests/framework/db/AnyCaseValue.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/AnyValue.php b/tests/framework/db/AnyValue.php
index e36ed25ba59..db3a13ba0c5 100644
--- a/tests/framework/db/AnyValue.php
+++ b/tests/framework/db/AnyValue.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/BatchQueryResultTest.php b/tests/framework/db/BatchQueryResultTest.php
index 4fbae97f98d..54487083e72 100644
--- a/tests/framework/db/BatchQueryResultTest.php
+++ b/tests/framework/db/BatchQueryResultTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/ColumnSchemaBuilderTest.php b/tests/framework/db/ColumnSchemaBuilderTest.php
index 374ee09cf83..43cec2780c8 100644
--- a/tests/framework/db/ColumnSchemaBuilderTest.php
+++ b/tests/framework/db/ColumnSchemaBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/CommandTest.php b/tests/framework/db/CommandTest.php
index ec88e98dcbe..15ac5f4160f 100644
--- a/tests/framework/db/CommandTest.php
+++ b/tests/framework/db/CommandTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/CompareValue.php b/tests/framework/db/CompareValue.php
index d94b4848a46..41a690b34a5 100644
--- a/tests/framework/db/CompareValue.php
+++ b/tests/framework/db/CompareValue.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/ConnectionTest.php b/tests/framework/db/ConnectionTest.php
index 2136e01e84a..39e6677610b 100644
--- a/tests/framework/db/ConnectionTest.php
+++ b/tests/framework/db/ConnectionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/DatabaseTestCase.php b/tests/framework/db/DatabaseTestCase.php
index 56f80f716c1..53ea945623e 100644
--- a/tests/framework/db/DatabaseTestCase.php
+++ b/tests/framework/db/DatabaseTestCase.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
@@ -130,7 +130,7 @@ protected function replaceQuotes($sql)
                 return $sql;
         }
     }
-    
+
     /**
      * @return \yii\db\Connection
      */
diff --git a/tests/framework/db/GetTablesAliasTestTrait.php b/tests/framework/db/GetTablesAliasTestTrait.php
index dc03e5ef40f..a3a00a10ea1 100644
--- a/tests/framework/db/GetTablesAliasTestTrait.php
+++ b/tests/framework/db/GetTablesAliasTestTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/QueryBuilderTest.php b/tests/framework/db/QueryBuilderTest.php
index 3f0fd800e70..2bf20ad9283 100644
--- a/tests/framework/db/QueryBuilderTest.php
+++ b/tests/framework/db/QueryBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
@@ -1184,6 +1184,7 @@ public function conditionProvider()
             //in using array object containing only null value
             [['in', 'id', new TraversableObject([null])], '[[id]] IS NULL', []],
             [['not in', 'id', new TraversableObject([null])], '[[id]] IS NOT NULL', []],
+            [['not in', new Expression('id'), new TraversableObject([null])], '[[id]] IS NOT NULL', []],
 
             'composite in using array objects' => [
                 ['in', new TraversableObject(['id', 'name']), new TraversableObject([
@@ -1196,6 +1197,7 @@ public function conditionProvider()
 
             // in object conditions
             [new InCondition('id', 'in', 1), '[[id]]=:qp0', [':qp0' => 1]],
+            [new InCondition(new Expression('id'), 'in', 1), '[[id]]=:qp0', [':qp0' => 1]],
             [new InCondition('id', 'in', [1]), '[[id]]=:qp0', [':qp0' => 1]],
             [new InCondition('id', 'not in', 1), '[[id]]<>:qp0', [':qp0' => 1]],
             [new InCondition('id', 'not in', [1]), '[[id]]<>:qp0', [':qp0' => 1]],
@@ -1237,6 +1239,7 @@ public function conditionProvider()
             case 'sqlite':
                 $conditions = array_merge($conditions, [
                     [['in', ['id', 'name'], [['id' => 1, 'name' => 'foo'], ['id' => 2, 'name' => 'bar']]], '(([[id]] = :qp0 AND [[name]] = :qp1) OR ([[id]] = :qp2 AND [[name]] = :qp3))', [':qp0' => 1, ':qp1' => 'foo', ':qp2' => 2, ':qp3' => 'bar']],
+                    [['in', [new Expression('id'), 'name'], [['id' => 1, 'name' => 'foo'], ['id' => 2, 'name' => 'bar']]], '(([[id]] = :qp0 AND [[name]] = :qp1) OR ([[id]] = :qp2 AND [[name]] = :qp3))', [':qp0' => 1, ':qp1' => 'foo', ':qp2' => 2, ':qp3' => 'bar']],
                     [['not in', ['id', 'name'], [['id' => 1, 'name' => 'foo'], ['id' => 2, 'name' => 'bar']]], '(([[id]] != :qp0 OR [[name]] != :qp1) AND ([[id]] != :qp2 OR [[name]] != :qp3))', [':qp0' => 1, ':qp1' => 'foo', ':qp2' => 2, ':qp3' => 'bar']],
                     //[ ['in', ['id', 'name'], (new Query())->select(['id', 'name'])->from('users')->where(['active' => 1])], 'EXISTS (SELECT 1 FROM (SELECT [[id]], [[name]] FROM [[users]] WHERE [[active]]=:qp0) AS a WHERE a.[[id]] = [[id AND a.]]name[[ = ]]name`)', [':qp0' => 1] ],
                     //[ ['not in', ['id', 'name'], (new Query())->select(['id', 'name'])->from('users')->where(['active' => 1])], 'NOT EXISTS (SELECT 1 FROM (SELECT [[id]], [[name]] FROM [[users]] WHERE [[active]]=:qp0) AS a WHERE a.[[id]] = [[id]] AND a.[[name = ]]name`)', [':qp0' => 1] ],
@@ -1246,6 +1249,7 @@ public function conditionProvider()
                 $conditions = array_merge($conditions, [
                     [['in', ['id', 'name'], [['id' => 1, 'name' => 'foo'], ['id' => 2, 'name' => 'bar']]], '([[id]], [[name]]) IN ((:qp0, :qp1), (:qp2, :qp3))', [':qp0' => 1, ':qp1' => 'foo', ':qp2' => 2, ':qp3' => 'bar']],
                     [['not in', ['id', 'name'], [['id' => 1, 'name' => 'foo'], ['id' => 2, 'name' => 'bar']]], '([[id]], [[name]]) NOT IN ((:qp0, :qp1), (:qp2, :qp3))', [':qp0' => 1, ':qp1' => 'foo', ':qp2' => 2, ':qp3' => 'bar']],
+                    [['not in', [new Expression('id'), 'name'], [['id' => 1, 'name' => 'foo'], ['id' => 2, 'name' => 'bar']]], '([[id]], [[name]]) NOT IN ((:qp0, :qp1), (:qp2, :qp3))', [':qp0' => 1, ':qp1' => 'foo', ':qp2' => 2, ':qp3' => 'bar']],
                     [['in', ['id', 'name'], (new Query())->select(['id', 'name'])->from('users')->where(['active' => 1])], '([[id]], [[name]]) IN (SELECT [[id]], [[name]] FROM [[users]] WHERE [[active]]=:qp0)', [':qp0' => 1]],
                     [['not in', ['id', 'name'], (new Query())->select(['id', 'name'])->from('users')->where(['active' => 1])], '([[id]], [[name]]) NOT IN (SELECT [[id]], [[name]] FROM [[users]] WHERE [[active]]=:qp0)', [':qp0' => 1]],
                 ]);
diff --git a/tests/framework/db/QueryTest.php b/tests/framework/db/QueryTest.php
index ac7df07ea39..5dbcc0b0b7d 100644
--- a/tests/framework/db/QueryTest.php
+++ b/tests/framework/db/QueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
@@ -21,7 +21,7 @@ public function testSelect()
         $query = new Query();
         $query->select('*');
         $this->assertEquals(['*' => '*'], $query->select);
-        $this->assertNull($query->distinct);
+        $this->assertFalse($query->distinct);
         $this->assertNull($query->selectOption);
 
         $query = new Query();
diff --git a/tests/framework/db/SchemaTest.php b/tests/framework/db/SchemaTest.php
index 323cd56daab..b3200207e99 100644
--- a/tests/framework/db/SchemaTest.php
+++ b/tests/framework/db/SchemaTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/UnqueryableQueryMock.php b/tests/framework/db/UnqueryableQueryMock.php
index 6d56a10b714..8eb2cfa4dc5 100644
--- a/tests/framework/db/UnqueryableQueryMock.php
+++ b/tests/framework/db/UnqueryableQueryMock.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db;
diff --git a/tests/framework/db/cubrid/ActiveDataProviderTest.php b/tests/framework/db/cubrid/ActiveDataProviderTest.php
index 2124ab0c984..3f1f9720812 100644
--- a/tests/framework/db/cubrid/ActiveDataProviderTest.php
+++ b/tests/framework/db/cubrid/ActiveDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/ActiveFixtureTest.php b/tests/framework/db/cubrid/ActiveFixtureTest.php
index e4b3b0c2a69..98b977d0177 100644
--- a/tests/framework/db/cubrid/ActiveFixtureTest.php
+++ b/tests/framework/db/cubrid/ActiveFixtureTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/ActiveQueryTest.php b/tests/framework/db/cubrid/ActiveQueryTest.php
index 356d68a7db7..61726e24870 100644
--- a/tests/framework/db/cubrid/ActiveQueryTest.php
+++ b/tests/framework/db/cubrid/ActiveQueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/ActiveRecordTest.php b/tests/framework/db/cubrid/ActiveRecordTest.php
index 5a04840682c..fb5839913fc 100644
--- a/tests/framework/db/cubrid/ActiveRecordTest.php
+++ b/tests/framework/db/cubrid/ActiveRecordTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/BatchQueryResultTest.php b/tests/framework/db/cubrid/BatchQueryResultTest.php
index b85b7916633..513526a5acd 100644
--- a/tests/framework/db/cubrid/BatchQueryResultTest.php
+++ b/tests/framework/db/cubrid/BatchQueryResultTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/ColumnSchemaBuilderTest.php b/tests/framework/db/cubrid/ColumnSchemaBuilderTest.php
index b6cdc92fb9a..3a05be5d29b 100644
--- a/tests/framework/db/cubrid/ColumnSchemaBuilderTest.php
+++ b/tests/framework/db/cubrid/ColumnSchemaBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/CommandTest.php b/tests/framework/db/cubrid/CommandTest.php
index 75b9746c0ee..b44dec70391 100644
--- a/tests/framework/db/cubrid/CommandTest.php
+++ b/tests/framework/db/cubrid/CommandTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/ConnectionTest.php b/tests/framework/db/cubrid/ConnectionTest.php
index 41cb42f2a5b..8e375d8f15c 100644
--- a/tests/framework/db/cubrid/ConnectionTest.php
+++ b/tests/framework/db/cubrid/ConnectionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/ExistValidatorTest.php b/tests/framework/db/cubrid/ExistValidatorTest.php
index daa435f706d..ebc7855b15c 100644
--- a/tests/framework/db/cubrid/ExistValidatorTest.php
+++ b/tests/framework/db/cubrid/ExistValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/QueryBuilderTest.php b/tests/framework/db/cubrid/QueryBuilderTest.php
index 33679a34f32..6dc54e56375 100644
--- a/tests/framework/db/cubrid/QueryBuilderTest.php
+++ b/tests/framework/db/cubrid/QueryBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/QueryTest.php b/tests/framework/db/cubrid/QueryTest.php
index 39b948a8661..ba06845db94 100644
--- a/tests/framework/db/cubrid/QueryTest.php
+++ b/tests/framework/db/cubrid/QueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/SchemaTest.php b/tests/framework/db/cubrid/SchemaTest.php
index ec46fd4b597..246958e870e 100644
--- a/tests/framework/db/cubrid/SchemaTest.php
+++ b/tests/framework/db/cubrid/SchemaTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/cubrid/UniqueValidatorTest.php b/tests/framework/db/cubrid/UniqueValidatorTest.php
index 0685f9c37ed..67152c5614f 100644
--- a/tests/framework/db/cubrid/UniqueValidatorTest.php
+++ b/tests/framework/db/cubrid/UniqueValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\cubrid;
diff --git a/tests/framework/db/mssql/ActiveDataProviderTest.php b/tests/framework/db/mssql/ActiveDataProviderTest.php
index 9e1664e4640..47078c52e3a 100644
--- a/tests/framework/db/mssql/ActiveDataProviderTest.php
+++ b/tests/framework/db/mssql/ActiveDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/ActiveFixtureTest.php b/tests/framework/db/mssql/ActiveFixtureTest.php
index ff88a8dd99b..0ef64a8ba3d 100644
--- a/tests/framework/db/mssql/ActiveFixtureTest.php
+++ b/tests/framework/db/mssql/ActiveFixtureTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/ActiveQueryTest.php b/tests/framework/db/mssql/ActiveQueryTest.php
index b0940c025ca..60ec61e44cd 100644
--- a/tests/framework/db/mssql/ActiveQueryTest.php
+++ b/tests/framework/db/mssql/ActiveQueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/ActiveRecordTest.php b/tests/framework/db/mssql/ActiveRecordTest.php
index 7ac16865d3a..4fab6394ed4 100644
--- a/tests/framework/db/mssql/ActiveRecordTest.php
+++ b/tests/framework/db/mssql/ActiveRecordTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/BatchQueryResultTest.php b/tests/framework/db/mssql/BatchQueryResultTest.php
index 492373d72c1..185089c7bdc 100644
--- a/tests/framework/db/mssql/BatchQueryResultTest.php
+++ b/tests/framework/db/mssql/BatchQueryResultTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/ColumnSchemaBuilderTest.php b/tests/framework/db/mssql/ColumnSchemaBuilderTest.php
index 020d59853ed..783d4aa1fef 100644
--- a/tests/framework/db/mssql/ColumnSchemaBuilderTest.php
+++ b/tests/framework/db/mssql/ColumnSchemaBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/CommandTest.php b/tests/framework/db/mssql/CommandTest.php
index 17d1852b9fc..b09f87bb6b8 100644
--- a/tests/framework/db/mssql/CommandTest.php
+++ b/tests/framework/db/mssql/CommandTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/ConnectionTest.php b/tests/framework/db/mssql/ConnectionTest.php
index e2a8defa803..8e68b18375d 100644
--- a/tests/framework/db/mssql/ConnectionTest.php
+++ b/tests/framework/db/mssql/ConnectionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/DbMessageSourceTest.php b/tests/framework/db/mssql/DbMessageSourceTest.php
index 64a2ad0e3a8..aaa251d1769 100644
--- a/tests/framework/db/mssql/DbMessageSourceTest.php
+++ b/tests/framework/db/mssql/DbMessageSourceTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/ExistValidatorTest.php b/tests/framework/db/mssql/ExistValidatorTest.php
index 0eed9c810a4..de63ba8b13c 100644
--- a/tests/framework/db/mssql/ExistValidatorTest.php
+++ b/tests/framework/db/mssql/ExistValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/QueryBuilderTest.php b/tests/framework/db/mssql/QueryBuilderTest.php
index 3a17357be7b..c1213d6bc9f 100644
--- a/tests/framework/db/mssql/QueryBuilderTest.php
+++ b/tests/framework/db/mssql/QueryBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/QueryTest.php b/tests/framework/db/mssql/QueryTest.php
index 250120b6645..c4df28000da 100644
--- a/tests/framework/db/mssql/QueryTest.php
+++ b/tests/framework/db/mssql/QueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/SchemaTest.php b/tests/framework/db/mssql/SchemaTest.php
index 28f456b7561..2546450564a 100644
--- a/tests/framework/db/mssql/SchemaTest.php
+++ b/tests/framework/db/mssql/SchemaTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mssql/UniqueValidatorTest.php b/tests/framework/db/mssql/UniqueValidatorTest.php
index 097f054947a..732e85ca136 100644
--- a/tests/framework/db/mssql/UniqueValidatorTest.php
+++ b/tests/framework/db/mssql/UniqueValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mssql;
diff --git a/tests/framework/db/mysql/ActiveDataProviderTest.php b/tests/framework/db/mysql/ActiveDataProviderTest.php
index 76162f20ab3..ed59f0e034f 100644
--- a/tests/framework/db/mysql/ActiveDataProviderTest.php
+++ b/tests/framework/db/mysql/ActiveDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/ActiveFixtureTest.php b/tests/framework/db/mysql/ActiveFixtureTest.php
index c949f2a3142..5b1aa0b12f7 100644
--- a/tests/framework/db/mysql/ActiveFixtureTest.php
+++ b/tests/framework/db/mysql/ActiveFixtureTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/ActiveQueryTest.php b/tests/framework/db/mysql/ActiveQueryTest.php
index 02f6caa9097..90445aee476 100644
--- a/tests/framework/db/mysql/ActiveQueryTest.php
+++ b/tests/framework/db/mysql/ActiveQueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/ActiveRecordTest.php b/tests/framework/db/mysql/ActiveRecordTest.php
index 7ea1b84b189..27105693fed 100644
--- a/tests/framework/db/mysql/ActiveRecordTest.php
+++ b/tests/framework/db/mysql/ActiveRecordTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/BatchQueryResultTest.php b/tests/framework/db/mysql/BatchQueryResultTest.php
index 3c7fa2a641d..0bea8bdf58a 100644
--- a/tests/framework/db/mysql/BatchQueryResultTest.php
+++ b/tests/framework/db/mysql/BatchQueryResultTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/ColumnSchemaBuilderTest.php b/tests/framework/db/mysql/ColumnSchemaBuilderTest.php
index 83d5ccd0fb9..e930deeff79 100644
--- a/tests/framework/db/mysql/ColumnSchemaBuilderTest.php
+++ b/tests/framework/db/mysql/ColumnSchemaBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/CommandTest.php b/tests/framework/db/mysql/CommandTest.php
index c28a01d9767..0cd6e63aabf 100644
--- a/tests/framework/db/mysql/CommandTest.php
+++ b/tests/framework/db/mysql/CommandTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/ConnectionTest.php b/tests/framework/db/mysql/ConnectionTest.php
index 8a8f36e0db4..1d564e15ccf 100644
--- a/tests/framework/db/mysql/ConnectionTest.php
+++ b/tests/framework/db/mysql/ConnectionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/ExistValidatorTest.php b/tests/framework/db/mysql/ExistValidatorTest.php
index bbc8ee45e9d..c503b9445c9 100644
--- a/tests/framework/db/mysql/ExistValidatorTest.php
+++ b/tests/framework/db/mysql/ExistValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/QueryBuilderTest.php b/tests/framework/db/mysql/QueryBuilderTest.php
index 21399b4f351..e77985c59f4 100644
--- a/tests/framework/db/mysql/QueryBuilderTest.php
+++ b/tests/framework/db/mysql/QueryBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/QueryTest.php b/tests/framework/db/mysql/QueryTest.php
index b33d64a8eb9..9f647308c6f 100644
--- a/tests/framework/db/mysql/QueryTest.php
+++ b/tests/framework/db/mysql/QueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/SchemaTest.php b/tests/framework/db/mysql/SchemaTest.php
index b5419821e8e..4e602a317ea 100644
--- a/tests/framework/db/mysql/SchemaTest.php
+++ b/tests/framework/db/mysql/SchemaTest.php
@@ -1,13 +1,15 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
 use yii\db\Expression;
 
+use yii\db\mysql\ColumnSchema;
+use yii\db\mysql\Schema;
 use yiiunit\framework\db\AnyCaseValue;
 
 /**
@@ -101,7 +103,7 @@ public function testAlternativeDisplayOfDefaultCurrentTimestampInMariaDB()
          * We do not have a real database MariaDB >= 10.2.3 for tests, so we emulate the information that database
          * returns in response to the query `SHOW FULL COLUMNS FROM ...`
          */
-        $schema = new \yii\db\mysql\Schema();
+        $schema = new Schema();
         $column = $this->invokeMethod($schema, 'loadColumnSchema', [[
             'field' => 'emulated_MariaDB_field',
             'type' => 'timestamp',
@@ -114,11 +116,36 @@ public function testAlternativeDisplayOfDefaultCurrentTimestampInMariaDB()
             'comment' => '',
         ]]);
 
-        $this->assertInstanceOf(\yii\db\mysql\ColumnSchema::className(), $column);
+        $this->assertInstanceOf(ColumnSchema::className(), $column);
         $this->assertInstanceOf(Expression::className(), $column->defaultValue);
         $this->assertEquals('CURRENT_TIMESTAMP', $column->defaultValue);
     }
 
+    /**
+     * When displayed in the INFORMATION_SCHEMA.COLUMNS table, a default CURRENT TIMESTAMP is provided
+     * as NULL.
+     *
+     * @see https://github.com/yiisoft/yii2/issues/19047
+     */
+    public function testAlternativeDisplayOfDefaultCurrentTimestampAsNullInMariaDB()
+    {
+        $schema = new Schema();
+        $column = $this->invokeMethod($schema, 'loadColumnSchema', [[
+            'field' => 'emulated_MariaDB_field',
+            'type' => 'timestamp',
+            'collation' => NULL,
+            'null' => 'NO',
+            'key' => '',
+            'default' => NULL,
+            'extra' => '',
+            'privileges' => 'select,insert,update,references',
+            'comment' => '',
+        ]]);
+
+        $this->assertInstanceOf(ColumnSchema::className(), $column);
+        $this->assertEquals(NULL, $column->defaultValue);
+    }
+
     public function getExpectedColumns()
     {
         $version = $this->getConnection()->getSchema()->getServerVersion();
diff --git a/tests/framework/db/mysql/UniqueValidatorTest.php b/tests/framework/db/mysql/UniqueValidatorTest.php
index 98651263d23..c6a3146bb26 100644
--- a/tests/framework/db/mysql/UniqueValidatorTest.php
+++ b/tests/framework/db/mysql/UniqueValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql;
diff --git a/tests/framework/db/mysql/connection/DeadLockTest.php b/tests/framework/db/mysql/connection/DeadLockTest.php
index 4e6dd8482a6..40f6d573f87 100644
--- a/tests/framework/db/mysql/connection/DeadLockTest.php
+++ b/tests/framework/db/mysql/connection/DeadLockTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\mysql\connection;
@@ -31,6 +31,9 @@ class DeadLockTest extends \yiiunit\framework\db\mysql\ConnectionTest
      */
     public function testDeadlockException()
     {
+        if (PHP_VERSION_ID >= 70400 && PHP_VERSION_ID < 70500) {
+            $this->markTestSkipped('Stable failed in PHP 7.4');
+        }
         if (!\function_exists('pcntl_fork')) {
             $this->markTestSkipped('pcntl_fork() is not available');
         }
diff --git a/tests/framework/db/oci/ActiveDataProviderTest.php b/tests/framework/db/oci/ActiveDataProviderTest.php
index 7831afceea9..1be794ebef8 100644
--- a/tests/framework/db/oci/ActiveDataProviderTest.php
+++ b/tests/framework/db/oci/ActiveDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/ActiveFixtureTest.php b/tests/framework/db/oci/ActiveFixtureTest.php
index 55ecc8cdeb3..ca19388f56a 100644
--- a/tests/framework/db/oci/ActiveFixtureTest.php
+++ b/tests/framework/db/oci/ActiveFixtureTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/ActiveQueryTest.php b/tests/framework/db/oci/ActiveQueryTest.php
index 848fc7591b1..6d195bc0dba 100644
--- a/tests/framework/db/oci/ActiveQueryTest.php
+++ b/tests/framework/db/oci/ActiveQueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/ActiveRecordTest.php b/tests/framework/db/oci/ActiveRecordTest.php
index 91442a5a411..6be10ccc352 100644
--- a/tests/framework/db/oci/ActiveRecordTest.php
+++ b/tests/framework/db/oci/ActiveRecordTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/BatchQueryResultTest.php b/tests/framework/db/oci/BatchQueryResultTest.php
index 821989c9b21..224ecde73d7 100644
--- a/tests/framework/db/oci/BatchQueryResultTest.php
+++ b/tests/framework/db/oci/BatchQueryResultTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/ColumnSchemaBuilderTest.php b/tests/framework/db/oci/ColumnSchemaBuilderTest.php
index 9535ac87b3f..8e0a8e96bbf 100644
--- a/tests/framework/db/oci/ColumnSchemaBuilderTest.php
+++ b/tests/framework/db/oci/ColumnSchemaBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/CommandTest.php b/tests/framework/db/oci/CommandTest.php
index 319f3fca943..5fb29cbd75f 100644
--- a/tests/framework/db/oci/CommandTest.php
+++ b/tests/framework/db/oci/CommandTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/ConnectionTest.php b/tests/framework/db/oci/ConnectionTest.php
index d4aef99c82c..0d0bf842ef6 100644
--- a/tests/framework/db/oci/ConnectionTest.php
+++ b/tests/framework/db/oci/ConnectionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/ExistValidatorTest.php b/tests/framework/db/oci/ExistValidatorTest.php
index 5c5c5831e25..f621f0bfb9f 100644
--- a/tests/framework/db/oci/ExistValidatorTest.php
+++ b/tests/framework/db/oci/ExistValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/QueryBuilderTest.php b/tests/framework/db/oci/QueryBuilderTest.php
index daed2d13c22..5bf3b831636 100644
--- a/tests/framework/db/oci/QueryBuilderTest.php
+++ b/tests/framework/db/oci/QueryBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/QueryTest.php b/tests/framework/db/oci/QueryTest.php
index d5acd3cc963..fa583ae42e4 100644
--- a/tests/framework/db/oci/QueryTest.php
+++ b/tests/framework/db/oci/QueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/SchemaTest.php b/tests/framework/db/oci/SchemaTest.php
index b0335b3a84e..a8540f729a2 100644
--- a/tests/framework/db/oci/SchemaTest.php
+++ b/tests/framework/db/oci/SchemaTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/oci/UniqueValidatorTest.php b/tests/framework/db/oci/UniqueValidatorTest.php
index 2ce07dee46e..c597e5b4012 100644
--- a/tests/framework/db/oci/UniqueValidatorTest.php
+++ b/tests/framework/db/oci/UniqueValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\oci;
diff --git a/tests/framework/db/pgsql/ActiveDataProviderTest.php b/tests/framework/db/pgsql/ActiveDataProviderTest.php
index e74517e14e6..4ea8784f921 100644
--- a/tests/framework/db/pgsql/ActiveDataProviderTest.php
+++ b/tests/framework/db/pgsql/ActiveDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/ActiveFixtureTest.php b/tests/framework/db/pgsql/ActiveFixtureTest.php
index fec995a5296..d745fb55388 100644
--- a/tests/framework/db/pgsql/ActiveFixtureTest.php
+++ b/tests/framework/db/pgsql/ActiveFixtureTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/ActiveQueryTest.php b/tests/framework/db/pgsql/ActiveQueryTest.php
index bbf3ec5112f..9a0318f9053 100644
--- a/tests/framework/db/pgsql/ActiveQueryTest.php
+++ b/tests/framework/db/pgsql/ActiveQueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/ActiveRecordTest.php b/tests/framework/db/pgsql/ActiveRecordTest.php
index 175da28c777..da471666165 100644
--- a/tests/framework/db/pgsql/ActiveRecordTest.php
+++ b/tests/framework/db/pgsql/ActiveRecordTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/BatchQueryResultTest.php b/tests/framework/db/pgsql/BatchQueryResultTest.php
index e9356116d9b..f4796371399 100644
--- a/tests/framework/db/pgsql/BatchQueryResultTest.php
+++ b/tests/framework/db/pgsql/BatchQueryResultTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/ColumnSchemaBuilderTest.php b/tests/framework/db/pgsql/ColumnSchemaBuilderTest.php
index 641d7800c2a..32d4f0eb463 100644
--- a/tests/framework/db/pgsql/ColumnSchemaBuilderTest.php
+++ b/tests/framework/db/pgsql/ColumnSchemaBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/CommandTest.php b/tests/framework/db/pgsql/CommandTest.php
index ce3b20eb6cb..6b24d6938d2 100644
--- a/tests/framework/db/pgsql/CommandTest.php
+++ b/tests/framework/db/pgsql/CommandTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\tests\unit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/ConnectionTest.php b/tests/framework/db/pgsql/ConnectionTest.php
index f91f603d5b9..2baa79e3b8d 100644
--- a/tests/framework/db/pgsql/ConnectionTest.php
+++ b/tests/framework/db/pgsql/ConnectionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/ExistValidatorTest.php b/tests/framework/db/pgsql/ExistValidatorTest.php
index 5f57c1ea48f..4f9a7bc98eb 100644
--- a/tests/framework/db/pgsql/ExistValidatorTest.php
+++ b/tests/framework/db/pgsql/ExistValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/QueryBuilderTest.php b/tests/framework/db/pgsql/QueryBuilderTest.php
index a5cc6f2fb5f..918f3021c3a 100644
--- a/tests/framework/db/pgsql/QueryBuilderTest.php
+++ b/tests/framework/db/pgsql/QueryBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
@@ -70,7 +70,7 @@ public function conditionProvider()
     {
         return array_merge(parent::conditionProvider(), [
             // adding conditions for ILIKE i.e. case insensitive LIKE
-            // http://www.postgresql.org/docs/8.3/static/functions-matching.html#FUNCTIONS-LIKE
+            // https://www.postgresql.org/docs/8.3/functions-matching.html#FUNCTIONS-LIKE
 
             // empty values
             [['ilike', 'name', []], '0=1', []],
@@ -185,7 +185,7 @@ public function testAlterColumn()
         $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE varchar(255), ALTER COLUMN "bar" DROP DEFAULT, ALTER COLUMN "bar" DROP NOT NULL, ADD CONSTRAINT foo1_bar_check CHECK (char_length(bar) > 5)';
         $sql = $qb->alterColumn('foo1', 'bar', $this->string(255)->check('char_length(bar) > 5'));
         $this->assertEquals($expected, $sql);
-        
+
         $expected = 'ALTER TABLE "foo1" ALTER COLUMN "bar" TYPE varchar(255), ALTER COLUMN "bar" SET DEFAULT \'\', ALTER COLUMN "bar" DROP NOT NULL';
         $sql = $qb->alterColumn('foo1', 'bar', $this->string(255)->defaultValue(''));
         $this->assertEquals($expected, $sql);
diff --git a/tests/framework/db/pgsql/QueryTest.php b/tests/framework/db/pgsql/QueryTest.php
index 61dc5189221..2fe80782d47 100644
--- a/tests/framework/db/pgsql/QueryTest.php
+++ b/tests/framework/db/pgsql/QueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/SchemaTest.php b/tests/framework/db/pgsql/SchemaTest.php
index 1c5017c0ab2..a36aaba069e 100644
--- a/tests/framework/db/pgsql/SchemaTest.php
+++ b/tests/framework/db/pgsql/SchemaTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/pgsql/UniqueValidatorTest.php b/tests/framework/db/pgsql/UniqueValidatorTest.php
index 754297b0324..c94138a6ddb 100644
--- a/tests/framework/db/pgsql/UniqueValidatorTest.php
+++ b/tests/framework/db/pgsql/UniqueValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\pgsql;
diff --git a/tests/framework/db/sqlite/ActiveDataProviderTest.php b/tests/framework/db/sqlite/ActiveDataProviderTest.php
index 9961cef3af4..a79b54bfd99 100644
--- a/tests/framework/db/sqlite/ActiveDataProviderTest.php
+++ b/tests/framework/db/sqlite/ActiveDataProviderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/ActiveFixtureTest.php b/tests/framework/db/sqlite/ActiveFixtureTest.php
index 3eb2efd12fe..c7e17238d49 100644
--- a/tests/framework/db/sqlite/ActiveFixtureTest.php
+++ b/tests/framework/db/sqlite/ActiveFixtureTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/ActiveQueryTest.php b/tests/framework/db/sqlite/ActiveQueryTest.php
index 0b3ba0638d5..b68d4042874 100644
--- a/tests/framework/db/sqlite/ActiveQueryTest.php
+++ b/tests/framework/db/sqlite/ActiveQueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/ActiveRecordTest.php b/tests/framework/db/sqlite/ActiveRecordTest.php
index d70d0d275ef..96a9128e9ba 100644
--- a/tests/framework/db/sqlite/ActiveRecordTest.php
+++ b/tests/framework/db/sqlite/ActiveRecordTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/BatchQueryResultTest.php b/tests/framework/db/sqlite/BatchQueryResultTest.php
index d5aac40624e..bfdfa4daf4a 100644
--- a/tests/framework/db/sqlite/BatchQueryResultTest.php
+++ b/tests/framework/db/sqlite/BatchQueryResultTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/ColumnSchemaBuilderTest.php b/tests/framework/db/sqlite/ColumnSchemaBuilderTest.php
index 7831c80454c..c8e7d5b06e3 100644
--- a/tests/framework/db/sqlite/ColumnSchemaBuilderTest.php
+++ b/tests/framework/db/sqlite/ColumnSchemaBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/CommandTest.php b/tests/framework/db/sqlite/CommandTest.php
index c840ce0b099..23012f38fec 100644
--- a/tests/framework/db/sqlite/CommandTest.php
+++ b/tests/framework/db/sqlite/CommandTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/ConnectionTest.php b/tests/framework/db/sqlite/ConnectionTest.php
index 28691c52cb0..5ff572313f6 100644
--- a/tests/framework/db/sqlite/ConnectionTest.php
+++ b/tests/framework/db/sqlite/ConnectionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/ExistValidatorTest.php b/tests/framework/db/sqlite/ExistValidatorTest.php
index 8c8652a60ea..3bce962107f 100644
--- a/tests/framework/db/sqlite/ExistValidatorTest.php
+++ b/tests/framework/db/sqlite/ExistValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/QueryBuilderTest.php b/tests/framework/db/sqlite/QueryBuilderTest.php
index 084674f5f8a..fa3619aca92 100644
--- a/tests/framework/db/sqlite/QueryBuilderTest.php
+++ b/tests/framework/db/sqlite/QueryBuilderTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/QueryTest.php b/tests/framework/db/sqlite/QueryTest.php
index e5ee6151194..939a41ed679 100644
--- a/tests/framework/db/sqlite/QueryTest.php
+++ b/tests/framework/db/sqlite/QueryTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/SchemaTest.php b/tests/framework/db/sqlite/SchemaTest.php
index 06d3c142077..a79a2c40149 100644
--- a/tests/framework/db/sqlite/SchemaTest.php
+++ b/tests/framework/db/sqlite/SchemaTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/SqlTokenizerTest.php b/tests/framework/db/sqlite/SqlTokenizerTest.php
index 0e5c4e6a9f8..451c16a8327 100644
--- a/tests/framework/db/sqlite/SqlTokenizerTest.php
+++ b/tests/framework/db/sqlite/SqlTokenizerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/sqlite/UniqueValidatorTest.php b/tests/framework/db/sqlite/UniqueValidatorTest.php
index 9a7d513a846..3dd6e5254ee 100644
--- a/tests/framework/db/sqlite/UniqueValidatorTest.php
+++ b/tests/framework/db/sqlite/UniqueValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\db\sqlite;
diff --git a/tests/framework/db/testBatchInsertWithYield.php b/tests/framework/db/testBatchInsertWithYield.php
index d9efb4093fa..f40c3833319 100644
--- a/tests/framework/db/testBatchInsertWithYield.php
+++ b/tests/framework/db/testBatchInsertWithYield.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 /* @var $this \yiiunit\framework\db\CommandTest  */
diff --git a/tests/framework/di/ContainerTest.php b/tests/framework/di/ContainerTest.php
index 71c8e2f2691..4df6140a819 100644
--- a/tests/framework/di/ContainerTest.php
+++ b/tests/framework/di/ContainerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di;
@@ -24,6 +24,7 @@
 use yiiunit\framework\di\stubs\FooProperty;
 use yiiunit\framework\di\stubs\Kappa;
 use yiiunit\framework\di\stubs\Qux;
+use yiiunit\framework\di\stubs\QuxAnother;
 use yiiunit\framework\di\stubs\QuxInterface;
 use yiiunit\framework\di\stubs\QuxFactory;
 use yiiunit\framework\di\stubs\UnionTypeNotNull;
@@ -673,4 +674,56 @@ public function testUnionTypeWithClassConstructorParameters()
         $this->expectException('TypeError');
         (new Container())->get(UnionTypeNotNull::className());
     }
+
+    public function testResolveCallableDependenciesUnionTypes()
+    {
+        if (PHP_VERSION_ID < 80000) {
+            $this->markTestSkipped('Can not be tested on PHP < 8.0');
+            return;
+        }
+
+        $this->mockApplication([
+            'components' => [
+                Beta::className(),
+            ],
+        ]);
+
+        Yii::$container->set('yiiunit\framework\di\stubs\QuxInterface', [
+            'class' => Qux::className(),
+        ]);
+
+        $className = 'yiiunit\framework\di\stubs\StaticMethodsWithUnionTypes';
+
+        $params = Yii::$container->resolveCallableDependencies([$className, 'withBetaUnion']);
+        $this->assertInstanceOf(Beta::classname(), $params[0]);
+
+        $params = Yii::$container->resolveCallableDependencies([$className, 'withBetaUnionInverse']);
+        $this->assertInstanceOf(Beta::classname(), $params[0]);
+
+        $params = Yii::$container->resolveCallableDependencies([$className, 'withBetaAndQuxUnion']);
+        $this->assertInstanceOf(Beta::classname(), $params[0]);
+
+        $params = Yii::$container->resolveCallableDependencies([$className, 'withQuxAndBetaUnion']);
+        $this->assertInstanceOf(Qux::classname(), $params[0]);
+    }
+
+    public function testResolveCallableDependenciesIntersectionTypes()
+    {
+        if (PHP_VERSION_ID < 80100) {
+            $this->markTestSkipped('Can not be tested on PHP < 8.1');
+            return;
+        }
+
+        Yii::$container->set('yiiunit\framework\di\stubs\QuxInterface', [
+            'class' => Qux::className(),
+        ]);
+
+        $className = 'yiiunit\framework\di\stubs\StaticMethodsWithIntersectionTypes';
+
+        $params = Yii::$container->resolveCallableDependencies([$className, 'withQuxInterfaceAndQuxAnotherIntersection']);
+        $this->assertInstanceOf(Qux::classname(), $params[0]);
+
+        $params = Yii::$container->resolveCallableDependencies([$className, 'withQuxAnotherAndQuxInterfaceIntersection']);
+        $this->assertInstanceOf(QuxAnother::classname(), $params[0]);
+    }
 }
diff --git a/tests/framework/di/InstanceTest.php b/tests/framework/di/InstanceTest.php
index a5b23c5fd15..fe61a6bdf95 100644
--- a/tests/framework/di/InstanceTest.php
+++ b/tests/framework/di/InstanceTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di;
diff --git a/tests/framework/di/ServiceLocatorTest.php b/tests/framework/di/ServiceLocatorTest.php
index 1a49a9fc4f1..d20a81ff55a 100644
--- a/tests/framework/di/ServiceLocatorTest.php
+++ b/tests/framework/di/ServiceLocatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di;
diff --git a/tests/framework/di/stubs/Bar.php b/tests/framework/di/stubs/Bar.php
index 77d60910377..193f144302a 100644
--- a/tests/framework/di/stubs/Bar.php
+++ b/tests/framework/di/stubs/Bar.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/stubs/BarSetter.php b/tests/framework/di/stubs/BarSetter.php
index 355d41d0498..f782968c8f9 100644
--- a/tests/framework/di/stubs/BarSetter.php
+++ b/tests/framework/di/stubs/BarSetter.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link      http://www.yiiframework.com/
+ * @link      https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license   http://www.yiiframework.com/license/
+ * @license   https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/stubs/Corge.php b/tests/framework/di/stubs/Corge.php
index 1d1ba047f21..cf2710f4f1e 100644
--- a/tests/framework/di/stubs/Corge.php
+++ b/tests/framework/di/stubs/Corge.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/stubs/Foo.php b/tests/framework/di/stubs/Foo.php
index 9e10ea35203..ab467542a0a 100644
--- a/tests/framework/di/stubs/Foo.php
+++ b/tests/framework/di/stubs/Foo.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/stubs/FooBaz.php b/tests/framework/di/stubs/FooBaz.php
index f33603e6bf3..3c884ab34c6 100644
--- a/tests/framework/di/stubs/FooBaz.php
+++ b/tests/framework/di/stubs/FooBaz.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/stubs/FooProperty.php b/tests/framework/di/stubs/FooProperty.php
index 022d2e3729e..0b45dc37779 100644
--- a/tests/framework/di/stubs/FooProperty.php
+++ b/tests/framework/di/stubs/FooProperty.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link      http://www.yiiframework.com/
+ * @link      https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license   http://www.yiiframework.com/license/
+ * @license   https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/stubs/Qux.php b/tests/framework/di/stubs/Qux.php
index 6fffbdd8bd1..86541268af1 100644
--- a/tests/framework/di/stubs/Qux.php
+++ b/tests/framework/di/stubs/Qux.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/stubs/QuxAnother.php b/tests/framework/di/stubs/QuxAnother.php
new file mode 100644
index 00000000000..3e21d0bf9bd
--- /dev/null
+++ b/tests/framework/di/stubs/QuxAnother.php
@@ -0,0 +1,17 @@
+<?php
+/**
+ * @link https://www.yiiframework.com/
+ * @copyright Copyright (c) 2008 Yii Software LLC
+ * @license https://www.yiiframework.com/license/
+ */
+
+namespace yiiunit\framework\di\stubs;
+
+use yii\base\BaseObject;
+
+class QuxAnother extends BaseObject implements QuxInterface
+{
+    public function quxMethod()
+    {
+    }
+}
diff --git a/tests/framework/di/stubs/QuxFactory.php b/tests/framework/di/stubs/QuxFactory.php
index fd6972ab77a..69f6bd17d62 100644
--- a/tests/framework/di/stubs/QuxFactory.php
+++ b/tests/framework/di/stubs/QuxFactory.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/stubs/QuxInterface.php b/tests/framework/di/stubs/QuxInterface.php
index 8815021c6ca..e9c8c12fcc8 100644
--- a/tests/framework/di/stubs/QuxInterface.php
+++ b/tests/framework/di/stubs/QuxInterface.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/stubs/StaticMethodsWithIntersectionTypes.php b/tests/framework/di/stubs/StaticMethodsWithIntersectionTypes.php
new file mode 100644
index 00000000000..1bb348fdd98
--- /dev/null
+++ b/tests/framework/di/stubs/StaticMethodsWithIntersectionTypes.php
@@ -0,0 +1,15 @@
+<?php
+
+namespace yiiunit\framework\di\stubs;
+
+// Syntax valid only for PHP 8.1+
+class StaticMethodsWithIntersectionTypes
+{
+    public static function withQuxInterfaceAndQuxAnotherIntersection(QuxInterface & QuxAnother $Qux)
+    {
+    }
+
+    public static function withQuxAnotherAndQuxInterfaceIntersection(QuxAnother & QuxInterface $Qux)
+    {
+    }
+}
diff --git a/tests/framework/di/stubs/StaticMethodsWithUnionTypes.php b/tests/framework/di/stubs/StaticMethodsWithUnionTypes.php
new file mode 100644
index 00000000000..bc257ac48f2
--- /dev/null
+++ b/tests/framework/di/stubs/StaticMethodsWithUnionTypes.php
@@ -0,0 +1,23 @@
+<?php
+
+namespace yiiunit\framework\di\stubs;
+
+// Syntax valid only for PHP 8.0+
+class StaticMethodsWithUnionTypes
+{
+    public static function withBetaUnion(string | Beta $beta)
+    {
+    }
+
+    public static function withBetaUnionInverse(Beta | string $beta)
+    {
+    }
+
+    public static function withBetaAndQuxUnion(Beta | QuxInterface $betaOrQux)
+    {
+    }
+
+    public static function withQuxAndBetaUnion(QuxInterface | Beta $betaOrQux)
+    {
+    }
+}
diff --git a/tests/framework/di/stubs/Variadic.php b/tests/framework/di/stubs/Variadic.php
index e822c96782f..b20a02f6c39 100644
--- a/tests/framework/di/stubs/Variadic.php
+++ b/tests/framework/di/stubs/Variadic.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\di\stubs;
diff --git a/tests/framework/di/testContainerWithVariadicCallable.php b/tests/framework/di/testContainerWithVariadicCallable.php
index c6fd0c8a440..3095f197409 100644
--- a/tests/framework/di/testContainerWithVariadicCallable.php
+++ b/tests/framework/di/testContainerWithVariadicCallable.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\di\Container;
diff --git a/tests/framework/filters/AccessRuleTest.php b/tests/framework/filters/AccessRuleTest.php
index c30cf5de05b..4c2ded2d2dd 100644
--- a/tests/framework/filters/AccessRuleTest.php
+++ b/tests/framework/filters/AccessRuleTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters;
@@ -548,7 +548,7 @@ public function testMatchIPWildcard()
         $rule->allow = false;
         $this->assertNull($rule->allows($action, $user, $request));
     }
-    
+
     public function testMatchIPMask()
     {
         $action = $this->mockAction();
diff --git a/tests/framework/filters/AjaxFilterTest.php b/tests/framework/filters/AjaxFilterTest.php
index e34335ccbdf..c101f0c4f23 100644
--- a/tests/framework/filters/AjaxFilterTest.php
+++ b/tests/framework/filters/AjaxFilterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters;
diff --git a/tests/framework/filters/ContentNegotiatorTest.php b/tests/framework/filters/ContentNegotiatorTest.php
index e7a3792ae65..d52bb367c93 100644
--- a/tests/framework/filters/ContentNegotiatorTest.php
+++ b/tests/framework/filters/ContentNegotiatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters;
diff --git a/tests/framework/filters/CorsTest.php b/tests/framework/filters/CorsTest.php
index cfbf272d7f8..4874c2d8c65 100644
--- a/tests/framework/filters/CorsTest.php
+++ b/tests/framework/filters/CorsTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters;
diff --git a/tests/framework/filters/HostControlTest.php b/tests/framework/filters/HostControlTest.php
index 0cb1bc8d25d..39478fe00ed 100644
--- a/tests/framework/filters/HostControlTest.php
+++ b/tests/framework/filters/HostControlTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters;
diff --git a/tests/framework/filters/HttpCacheTest.php b/tests/framework/filters/HttpCacheTest.php
index fc0ceb27428..8f0f0da6054 100644
--- a/tests/framework/filters/HttpCacheTest.php
+++ b/tests/framework/filters/HttpCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters;
diff --git a/tests/framework/filters/PageCacheTest.php b/tests/framework/filters/PageCacheTest.php
index f13ce4890c0..0d69a1a76e9 100644
--- a/tests/framework/filters/PageCacheTest.php
+++ b/tests/framework/filters/PageCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters;
@@ -116,6 +116,16 @@ public function cacheTestCaseProvider()
                     'test-header-2' => false,
                 ],
             ]],
+            [[
+                'name' => 'originalNameHeaders',
+                'properties' => [
+                    'cacheHeaders' => ['Test-Header-1'],
+                ],
+                'headers' => [
+                    'Test-Header-1' => true,
+                    'Test-Header-2' => false,
+                ],
+            ]],
 
             // All together
             [[
@@ -233,10 +243,12 @@ public function testCache($testCase)
         }
         // Headers
         if (isset($testCase['headers'])) {
+            $headersExpected = Yii::$app->response->headers->toOriginalArray();
             foreach ($testCase['headers'] as $name => $expected) {
                 $this->assertSame($expected, Yii::$app->response->headers->has($name), $testCase['name']);
                 if ($expected) {
                     $this->assertSame($headers[$name], Yii::$app->response->headers->get($name), $testCase['name']);
+                    $this->assertArrayHasKey($name, $headersExpected);
                 }
             }
         }
diff --git a/tests/framework/filters/RateLimiterTest.php b/tests/framework/filters/RateLimiterTest.php
index 0b44eb2edb9..1bbaad6e299 100644
--- a/tests/framework/filters/RateLimiterTest.php
+++ b/tests/framework/filters/RateLimiterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters;
diff --git a/tests/framework/filters/auth/AuthMethodTest.php b/tests/framework/filters/auth/AuthMethodTest.php
index c55293b0e30..beea7740c19 100644
--- a/tests/framework/filters/auth/AuthMethodTest.php
+++ b/tests/framework/filters/auth/AuthMethodTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters\auth;
diff --git a/tests/framework/filters/auth/AuthTest.php b/tests/framework/filters/auth/AuthTest.php
index b0dbe20dcbf..102d215064e 100644
--- a/tests/framework/filters/auth/AuthTest.php
+++ b/tests/framework/filters/auth/AuthTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters\auth;
diff --git a/tests/framework/filters/auth/BasicAuthTest.php b/tests/framework/filters/auth/BasicAuthTest.php
index f5d552493e5..9de3a523218 100644
--- a/tests/framework/filters/auth/BasicAuthTest.php
+++ b/tests/framework/filters/auth/BasicAuthTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters\auth;
@@ -78,7 +78,7 @@ public function testHttpBasicAuthCustom($token, $login)
         $filter = [
             'class' => HttpBasicAuth::className(),
             'auth' => function ($username, $password) {
-                if (preg_match('/\d$/', $username)) {
+                if (preg_match('/\d$/', (string)$username)) {
                     return UserIdentity::findIdentity($username);
                 }
 
diff --git a/tests/framework/filters/auth/CompositeAuthTest.php b/tests/framework/filters/auth/CompositeAuthTest.php
index 77c43207664..9476d9f9911 100644
--- a/tests/framework/filters/auth/CompositeAuthTest.php
+++ b/tests/framework/filters/auth/CompositeAuthTest.php
@@ -1,27 +1,47 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters\auth;
 
 use Yii;
-use yii\filters\auth\AuthMethod;
 use yii\filters\auth\CompositeAuth;
 use yii\filters\auth\HttpBearerAuth;
+use yii\filters\auth\HttpHeaderAuth;
 use yii\rest\Controller;
 use yiiunit\framework\web\UserIdentity;
 
 /**
  * @author Ezekiel Fernandez <ezekiel_p_fernandez@yahoo.com>
  */
-class TestAuth extends AuthMethod
+class TestAuth extends HttpHeaderAuth
 {
     public function authenticate($user, $request, $response)
     {
-        return $user;
+        $authHeader = $request->getHeaders()->get($this->header);
+
+        if ($authHeader !== null) {
+            if ($this->pattern !== null) {
+                if (preg_match($this->pattern, $authHeader, $matches)) {
+                    $authHeader = $matches[1];
+                } else {
+                    return null;
+                }
+            }
+
+            $identity = \yiiunit\framework\filters\stubs\UserIdentity::findIdentity($authHeader);
+            if ($identity === null) {
+                $this->challenge($response);
+                $this->handleFailure($response);
+            }
+
+            return $identity;
+        }
+
+        return null;
     }
 }
 
@@ -29,6 +49,8 @@ class TestController extends Controller
 {
     public $authMethods = [];
 
+    public $optional = [];
+
     public function actionA()
     {
         return 'success';
@@ -72,6 +94,7 @@ public function behaviors()
                 'authMethods' => $this->authMethods ?: [
                     TestAuth::className(),
                 ],
+                'optional' => $this->optional
             ],
         ];
     }
@@ -106,6 +129,7 @@ protected function setUp()
     public function testCallingRunWithCompleteRoute()
     {
         /** @var TestController $controller */
+        Yii::$app->request->headers->set('X-Api-Key', 'user1');
         $controller = Yii::$app->createController('test')[0];
         $this->assertEquals('success', $controller->run('test/d'));
     }
@@ -116,6 +140,7 @@ public function testCallingRunWithCompleteRoute()
     public function testRunAction()
     {
         /** @var TestController $controller */
+        Yii::$app->request->headers->set('X-Api-Key', 'user1');
         $controller = Yii::$app->createController('test')[0];
         $this->assertEquals('success', $controller->run('b'));
     }
@@ -123,22 +148,123 @@ public function testRunAction()
     public function testRunButWithActionIdOnly()
     {
         /** @var TestController $controller */
+        Yii::$app->request->headers->set('X-Api-Key', 'user1');
         $controller = Yii::$app->createController('test')[0];
         $this->assertEquals('success', $controller->run('c'));
     }
 
-    public function testCompositeAuth()
+    public function testRunWithWrongToken()
+    {
+        /** @var TestController $controller */
+        Yii::$app->request->headers->set('X-Api-Key', 'wrong-user');
+        $controller = Yii::$app->createController('test')[0];
+        $this->expectException('yii\web\UnauthorizedHttpException');
+        $controller->run('a');
+    }
+
+    public function testRunWithoutAuthHeader()
+    {
+        /** @var TestController $controller */
+        $controller = Yii::$app->createController('test')[0];
+        $this->expectException('yii\web\UnauthorizedHttpException');
+        $controller->run('a');
+    }
+
+    public function testRunWithOptionalAction()
     {
-        Yii::$app->request->headers->set('Authorization', base64_encode("foo:bar"));
-        /** @var TestAuthController $controller */
+        /** @var TestController $controller */
         $controller = Yii::$app->createController('test')[0];
-        $controller->authMethods = [
-            HttpBearerAuth::className(),
-            TestAuth::className(),
+        $controller->optional = ['a'];
+        $this->assertEquals('success', $controller->run('a'));
+    }
+
+    public function compositeAuthDataProvider()
+    {
+        return [
+            //base usage
+            [
+                [
+                    HttpBearerAuth::className(),
+                    TestAuth::className(),
+                ],
+                'b',
+                true
+            ],
+            //empty auth methods
+            [
+                [],
+                'b',
+                true
+            ],
+            //only "a", run "b"
+            [
+                [
+                    HttpBearerAuth::className(),
+                    [
+                        'class' => TestAuth::className(),
+                        'only' => ['a']
+                    ],
+                ],
+                'b',
+                false
+            ],
+            //only "a", run "a"
+            [
+                [
+                    HttpBearerAuth::className(),
+                    [
+                        'class' => TestAuth::className(),
+                        'only' => ['a']
+                    ],
+                ],
+                'a',
+                true
+            ],
+            //except "b", run "a"
+            [
+                [
+                    HttpBearerAuth::className(),
+                    [
+                        'class' => TestAuth::className(),
+                        'except' => ['b']
+                    ],
+                ],
+                'a',
+                true
+            ],
+            //except "b", run "b"
+            [
+                [
+                    HttpBearerAuth::className(),
+                    [
+                        'class' => TestAuth::className(),
+                        'except' => ['b']
+                    ],
+                ],
+                'b',
+                false
+            ]
         ];
-        try {
-            $this->assertEquals('success', $controller->run('b'));
-        } catch (UnauthorizedHttpException $e) {
+    }
+
+    /**
+     * @param array $authMethods
+     * @param string $actionId
+     * @param bool $expectedAuth
+     *
+     * @dataProvider compositeAuthDataProvider
+     */
+    public function testCompositeAuth($authMethods, $actionId, $expectedAuth)
+    {
+        Yii::$app->request->headers->set('X-Api-Key', 'user1');
+        /** @var TestController $controller */
+        $controller = Yii::$app->createController('test')[0];
+        $controller->authMethods = $authMethods;
+        if( $expectedAuth)
+            $this->assertEquals('success', $controller->run($actionId));
+        else {
+            $this->expectException('yii\web\UnauthorizedHttpException');
+            $controller->run($actionId);
         }
     }
 }
diff --git a/tests/framework/filters/stubs/ExposedLogger.php b/tests/framework/filters/stubs/ExposedLogger.php
index 951ae55a115..28d292686f1 100644
--- a/tests/framework/filters/stubs/ExposedLogger.php
+++ b/tests/framework/filters/stubs/ExposedLogger.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters\stubs;
diff --git a/tests/framework/filters/stubs/MockAuthManager.php b/tests/framework/filters/stubs/MockAuthManager.php
index bcf2cc0faa6..62dcd6a09ef 100644
--- a/tests/framework/filters/stubs/MockAuthManager.php
+++ b/tests/framework/filters/stubs/MockAuthManager.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters\stubs;
diff --git a/tests/framework/filters/stubs/RateLimit.php b/tests/framework/filters/stubs/RateLimit.php
index 59ec0229707..e00e733af1f 100644
--- a/tests/framework/filters/stubs/RateLimit.php
+++ b/tests/framework/filters/stubs/RateLimit.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters\stubs;
diff --git a/tests/framework/filters/stubs/UserIdentity.php b/tests/framework/filters/stubs/UserIdentity.php
index f0556a5451e..74aeb1926cd 100644
--- a/tests/framework/filters/stubs/UserIdentity.php
+++ b/tests/framework/filters/stubs/UserIdentity.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\filters\stubs;
diff --git a/tests/framework/grid/ActionColumnTest.php b/tests/framework/grid/ActionColumnTest.php
index 6d679a64ca5..7b15414d43c 100644
--- a/tests/framework/grid/ActionColumnTest.php
+++ b/tests/framework/grid/ActionColumnTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\grid;
diff --git a/tests/framework/grid/CheckboxColumnTest.php b/tests/framework/grid/CheckboxColumnTest.php
index 273e870bbda..6a2442019c7 100644
--- a/tests/framework/grid/CheckboxColumnTest.php
+++ b/tests/framework/grid/CheckboxColumnTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\grid;
diff --git a/tests/framework/grid/DataColumnTest.php b/tests/framework/grid/DataColumnTest.php
index 487d15deb80..6642566d778 100644
--- a/tests/framework/grid/DataColumnTest.php
+++ b/tests/framework/grid/DataColumnTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\grid;
diff --git a/tests/framework/grid/GridViewTest.php b/tests/framework/grid/GridViewTest.php
index dc35f39dcb9..392aefbd0ba 100644
--- a/tests/framework/grid/GridViewTest.php
+++ b/tests/framework/grid/GridViewTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\grid;
diff --git a/tests/framework/grid/RadiobuttonColumnTest.php b/tests/framework/grid/RadiobuttonColumnTest.php
index b0f27111a7e..51292d3d2ce 100644
--- a/tests/framework/grid/RadiobuttonColumnTest.php
+++ b/tests/framework/grid/RadiobuttonColumnTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\grid;
diff --git a/tests/framework/helpers/ArrayHelperTest.php b/tests/framework/helpers/ArrayHelperTest.php
index 614d074af78..063eeafcaf6 100644
--- a/tests/framework/helpers/ArrayHelperTest.php
+++ b/tests/framework/helpers/ArrayHelperTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
@@ -1185,29 +1185,35 @@ public function testHtmlDecode()
             3 => 'blank',
             [
                 '<>' => 'a&lt;&gt;b',
+                '&lt;a&gt;' => '&lt;a href=&quot;index.php?a=1&amp;b=2&quot;&gt;link&lt;/a&gt;',
                 '23' => true,
             ],
         ];
-        $this->assertEquals([
+
+        $expected = [
             'abc' => '123',
             '&lt;' => '>',
             'cde' => false,
             3 => 'blank',
             [
                 '<>' => 'a<>b',
+                '&lt;a&gt;' => '<a href="index.php?a=1&b=2">link</a>',
                 '23' => true,
             ],
-        ], ArrayHelper::htmlDecode($array));
-        $this->assertEquals([
+        ];
+        $this->assertEquals($expected, ArrayHelper::htmlDecode($array));
+        $expected = [
             'abc' => '123',
             '<' => '>',
             'cde' => false,
             3 => 'blank',
             [
                 '<>' => 'a<>b',
+                '<a>' => '<a href="index.php?a=1&b=2">link</a>',
                 '23' => true,
             ],
-        ], ArrayHelper::htmlDecode($array, false));
+        ];
+        $this->assertEquals($expected, ArrayHelper::htmlDecode($array, false));
     }
 
     public function testIsIn()
@@ -1436,6 +1442,72 @@ public function testArrayAccessWithMagicProperty()
         $this->assertEquals(42, ArrayHelper::getValue($model, 'magic'));
         $this->assertEquals('ta-da', ArrayHelper::getValue($model, 'moreMagic'));
     }
+
+    /**
+     * @dataProvider dataProviderRecursiveSort
+     *
+     * @return void
+     */
+    public function testRecursiveSort($expected_result, $input_array)
+    {
+        $actual = ArrayHelper::recursiveSort($input_array);
+        $this->assertEquals($expected_result, $actual);
+    }
+
+    /**
+     * Data provider for [[testRecursiveSort()]].
+     * @return array test data
+     */
+    public function dataProviderRecursiveSort()
+    {
+        return [
+            //Normal index array
+            [
+                [1, 2, 3, 4],
+                [4, 1, 3, 2]
+            ],
+            //Normal associative array
+            [
+                ['a' => 1, 'b' => 2, 'c' => 3, 'd' => 4],
+                ['b' => 2, 'a' => 1, 'd' => 4, 'c' => 3],
+            ],
+            //Normal index array
+            [
+                [1, 2, 3, 4],
+                [4, 1, 3, 2]
+            ],
+            //Multidimensional associative array
+            [
+                [
+                    'a' => ['a' => 1, 'b' => 2, 'c' => 3, 'd' => 4],
+                    'b' => ['a' => 1, 'b' => 2, 'c' => 3, 'd' => 4],
+                    'c' => ['a' => 1, 'b' => 2, 'c' => 3, 'd' => 4],
+                    'd' => ['a' => 1, 'b' => 2, 'c' => 3, 'd' => 4],
+                ],
+                [
+                    'b' => ['a' => 1, 'd' => 4, 'b' => 2, 'c' => 3],
+                    'd' => ['b' => 2, 'c' => 3, 'a' => 1, 'd' => 4],
+                    'c' => ['c' => 3, 'a' => 1, 'd' => 4, 'b' => 2],
+                    'a' => ['d' => 4, 'b' => 2, 'c' => 3, 'a' => 1],
+                ],
+            ],
+            //Multidimensional associative array
+            [
+                [
+                    'a' => ['a' => 1, 'b' => 2, 'c' => 3, 'd' => ['a' => 1, 'b' => 2, 'c' => 3, 'd' => 4]],
+                    'b' => ['a' => 1, 'b' => 2, 'c' => ['a' => 1, 'b' => 2, 'c' => 3, 'd' => 4], 'd' => 4],
+                    'c' => ['a' => 1, 'b' => ['a' => 1, 'b' => 2, 'c' => 3, 'd' => 4], 'c' => 3, 'd' => 4],
+                    'd' => ['a' => ['a' => 1, 'b' => 2, 'c' => 3, 'd' => 4], 'b' => 2, 'c' => 3, 'd' => 4],
+                ],
+                [
+                    'b' => ['a' => 1, 'd' => 4, 'b' => 2, 'c' => ['b' => 2, 'c' => 3, 'a' => 1, 'd' => 4]],
+                    'd' => ['b' => 2, 'c' => 3, 'a' => ['a' => 1, 'd' => 4, 'b' => 2, 'c' => 3], 'd' => 4],
+                    'c' => ['c' => 3, 'a' => 1, 'd' => 4, 'b' => ['c' => 3, 'a' => 1, 'd' => 4, 'b' => 2]],
+                    'a' => ['d' => ['d' => 4, 'b' => 2, 'c' => 3, 'a' => 1], 'b' => 2, 'c' => 3, 'a' => 1],
+                ]
+            ],
+        ];
+    }
 }
 
 class Post1
@@ -1477,6 +1549,7 @@ public function __construct($container)
         $this->container = $container;
     }
 
+    #[\ReturnTypeWillChange]
     public function offsetSet($offset, $value)
     {
         if (is_null($offset)) {
@@ -1486,16 +1559,19 @@ public function offsetSet($offset, $value)
         }
     }
 
+    #[\ReturnTypeWillChange]
     public function offsetExists($offset)
     {
         return array_key_exists($offset, $this->container);
     }
 
+    #[\ReturnTypeWillChange]
     public function offsetUnset($offset)
     {
         unset($this->container[$offset]);
     }
 
+    #[\ReturnTypeWillChange]
     public function offsetGet($offset)
     {
         return $this->offsetExists($offset) ? $this->container[$offset] : null;
@@ -1519,26 +1595,31 @@ protected function getContainerKey($keyIndex)
         return array_key_exists($keyIndex, $keys) ? $keys[$keyIndex] : false;
     }
 
+    #[\ReturnTypeWillChange]
     public function rewind()
     {
         $this->position = 0;
     }
 
+    #[\ReturnTypeWillChange]
     public function current()
     {
         return $this->offsetGet($this->getContainerKey($this->position));
     }
 
+    #[\ReturnTypeWillChange]
     public function key()
     {
         return $this->getContainerKey($this->position);
     }
 
+    #[\ReturnTypeWillChange]
     public function next()
     {
         ++$this->position;
     }
 
+    #[\ReturnTypeWillChange]
     public function valid()
     {
         $key = $this->getContainerKey($this->position);
diff --git a/tests/framework/helpers/ConsoleStub.php b/tests/framework/helpers/ConsoleStub.php
index 0c743158c7d..7b09f1ba4a7 100644
--- a/tests/framework/helpers/ConsoleStub.php
+++ b/tests/framework/helpers/ConsoleStub.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/ConsoleTest.php b/tests/framework/helpers/ConsoleTest.php
index 7db7af585b3..b729e266910 100644
--- a/tests/framework/helpers/ConsoleTest.php
+++ b/tests/framework/helpers/ConsoleTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/FallbackInflector.php b/tests/framework/helpers/FallbackInflector.php
index aacd8a53f07..27cd226c0be 100644
--- a/tests/framework/helpers/FallbackInflector.php
+++ b/tests/framework/helpers/FallbackInflector.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/FileHelperTest.php b/tests/framework/helpers/FileHelperTest.php
index 09da3d29606..df33c8c1801 100644
--- a/tests/framework/helpers/FileHelperTest.php
+++ b/tests/framework/helpers/FileHelperTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 use yii\helpers\FileHelper;
@@ -708,7 +708,7 @@ public function testGetMimeType()
         file_put_contents($file, 'some text');
         $this->assertEquals('text/plain', FileHelper::getMimeType($file));
 
-        // see http://stackoverflow.com/questions/477816/what-is-the-correct-json-content-type
+        // see https://stackoverflow.com/questions/477816/what-is-the-correct-json-content-type
         // JSON/JSONP should not use text/plain - see http://jibbering.com/blog/?p=514
         // with "fileinfo" extension enabled, returned MIME is not quite correctly "text/plain"
         // without "fileinfo" it falls back to getMimeTypeByExtension() and returns application/json
@@ -717,6 +717,24 @@ public function testGetMimeType()
         $this->assertTrue(in_array(FileHelper::getMimeType($file), ['application/json', 'text/plain']));
     }
 
+    public function testGetUploadedImageMimeTypes()
+    {
+        $ds = DIRECTORY_SEPARATOR;
+        $phpunitPath = Yii::getAlias('@yiiunit');
+        $runtimeLocation = Yii::getAlias('@yiiunit/runtime');
+        $resourceSourceLocation = "{$phpunitPath}{$ds}framework{$ds}validators{$ds}data{$ds}mimeType";
+
+        $pngFile = "{$runtimeLocation}{$ds}php1234";
+        copy("{$resourceSourceLocation}{$ds}test.png", $pngFile);
+
+        $this->assertEquals('image/png', FileHelper::getMimeType($pngFile));
+
+        $jpgFile = "{$runtimeLocation}{$ds}php4567";
+        copy("{$resourceSourceLocation}{$ds}test.jpg", $jpgFile);
+
+        $this->assertEquals('image/jpeg', FileHelper::getMimeType($jpgFile));
+    }
+
     public function testNormalizePath()
     {
         $ds = DIRECTORY_SEPARATOR;
diff --git a/tests/framework/helpers/FormatConverterTest.php b/tests/framework/helpers/FormatConverterTest.php
index ecd2d706247..3dffe4e0823 100644
--- a/tests/framework/helpers/FormatConverterTest.php
+++ b/tests/framework/helpers/FormatConverterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/HtmlTest.php b/tests/framework/helpers/HtmlTest.php
index 5b2c9de0090..91cc82f9e4a 100644
--- a/tests/framework/helpers/HtmlTest.php
+++ b/tests/framework/helpers/HtmlTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
@@ -775,6 +775,14 @@ public function testCheckboxList()
 <label><input type="checkbox" name="test[]" value="1.10"> 1.10</label></div>
 EOD;
         $this->assertEqualsWithoutLE($expected, Html::checkboxList('test', ['1.1'], ['1' => '1', '1.1' => '1.1', '1.10' => '1.10'], ['strict' => true]));
+        $this->assertEqualsWithoutLE($expected, Html::checkboxList('test', [1.1], ['1' => '1', '1.1' => '1.1', '1.10' => '1.10'], ['strict' => true]));
+
+        $expected = <<<'EOD'
+<div><label><input type="checkbox" name="test[]" value="1"> 1</label>
+<label><input type="checkbox" name="test[]" value="1.1" checked> 1.1</label>
+<label><input type="checkbox" name="test[]" value="1.10" checked> 1.10</label></div>
+EOD;
+        $this->assertEqualsWithoutLE($expected, Html::checkboxList('test', [1.1], ['1' => '1', '1.1' => '1.1', '1.10' => '1.10']));
     }
 
     public function testRadioListWithArrayExpression()
@@ -923,6 +931,14 @@ public function testRadioList()
 <label><input type="radio" name="test" value="1.10"> 1.10</label></div>
 EOD;
         $this->assertEqualsWithoutLE($expected, Html::radioList('test', ['1.1'], ['1' => '1', '1.1' => '1.1', '1.10' => '1.10'], ['strict' => true]));
+        $this->assertEqualsWithoutLE($expected, Html::radioList('test', [1.1], ['1' => '1', '1.1' => '1.1', '1.10' => '1.10'], ['strict' => true]));
+
+        $expected = <<<'EOD'
+<div><label><input type="radio" name="test" value="1"> 1</label>
+<label><input type="radio" name="test" value="1.1" checked> 1.1</label>
+<label><input type="radio" name="test" value="1.10" checked> 1.10</label></div>
+EOD;
+        $this->assertEqualsWithoutLE($expected, Html::radioList('test', ['1.1'], ['1' => '1', '1.1' => '1.1', '1.10' => '1.10']));
     }
 
     public function testUl()
@@ -1069,6 +1085,15 @@ public function testRenderOptions()
         $data = ['1' => '1', '1.1' => '1.1', '1.10' => '1.10'];
         $attributes = ['strict' => true];
         $this->assertEqualsWithoutLE($expected, Html::renderSelectOptions(['1.1'], $data, $attributes));
+        $attributes = ['strict' => true];
+        $this->assertEqualsWithoutLE($expected, Html::renderSelectOptions([1.1], $data, $attributes));
+
+        $expected = <<<'EOD'
+<option value="1">1</option>
+<option value="1.1" selected>1.1</option>
+<option value="1.10" selected>1.10</option>
+EOD;
+        $this->assertEqualsWithoutLE($expected, Html::renderSelectOptions([1.1], $data));
 
         $expected = <<<'EOD'
 <option value="1">1</option>
@@ -1080,14 +1105,37 @@ public function testRenderOptions()
         $data = ['1' => '1', '1.1' => '1.1', 'group' => ['1.10' => '1.10']];
         $attributes = ['strict' => true];
         $this->assertEqualsWithoutLE($expected, Html::renderSelectOptions(['1.10'], $data, $attributes));
+
+        $expected = <<<'EOD'
+<option value="">Please select</option>
+<option value="1">Yes</option>
+<option value="0" selected>No</option>
+EOD;
+        $data = [true => 'Yes', false => 'No'];
+        $attributes = ['prompt' => 'Please select'];
+        $this->assertEqualsWithoutLE($expected, Html::renderSelectOptions(false, $data, $attributes));
+        //$attributes = ['prompt' => 'Please select'];
+        //$this->assertEqualsWithoutLE($expected, Html::renderSelectOptions([false], $data, $attributes));
+
+        $expected = <<<'EOD'
+<option value="">Please select</option>
+<option value="1">Yes</option>
+<option value="0">No</option>
+EOD;
+        $attributes = ['prompt' => 'Please select', 'strict' => true];
+        $this->assertEqualsWithoutLE($expected, Html::renderSelectOptions(false, $data, $attributes));
+        $attributes = ['prompt' => 'Please select', 'strict' => true];
+        $this->assertEqualsWithoutLE($expected, Html::renderSelectOptions([false], $data, $attributes));
     }
 
-    public function testRenderAttributes()
+    public function testRenderTagAttributes()
     {
         $this->assertEquals('', Html::renderTagAttributes([]));
         $this->assertEquals(' name="test" value="1&lt;&gt;"', Html::renderTagAttributes(['name' => 'test', 'empty' => null, 'value' => '1<>']));
         $this->assertEquals(' checked disabled', Html::renderTagAttributes(['checked' => true, 'disabled' => true, 'hidden' => false]));
         $this->assertEquals(' class="first second"', Html::renderTagAttributes(['class' => ['first', 'second']]));
+        Html::$normalizeClassAttribute = true;
+        $this->assertEquals(' class="first second"', Html::renderTagAttributes(['class' => ['first second', 'first']]));
         $this->assertEquals('', Html::renderTagAttributes(['class' => []]));
         $this->assertEquals(' style="width: 100px; height: 200px;"', Html::renderTagAttributes(['style' => ['width' => '100px', 'height' => '200px']]));
         $this->assertEquals('', Html::renderTagAttributes(['style' => []]));
diff --git a/tests/framework/helpers/InflectorTest.php b/tests/framework/helpers/InflectorTest.php
index dd56d86e597..e9be96563b5 100644
--- a/tests/framework/helpers/InflectorTest.php
+++ b/tests/framework/helpers/InflectorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/JsonTest.php b/tests/framework/helpers/JsonTest.php
index 3db445f5af8..b2bcf0b86a3 100644
--- a/tests/framework/helpers/JsonTest.php
+++ b/tests/framework/helpers/JsonTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/MarkdownTest.php b/tests/framework/helpers/MarkdownTest.php
index 627f984c546..7514e142362 100644
--- a/tests/framework/helpers/MarkdownTest.php
+++ b/tests/framework/helpers/MarkdownTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/MimeTest.php b/tests/framework/helpers/MimeTest.php
index fd9d848c57c..0d4aa3792b2 100644
--- a/tests/framework/helpers/MimeTest.php
+++ b/tests/framework/helpers/MimeTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
@@ -18,6 +18,7 @@ public function testMimeAliases()
     {
         $this->assertSame(
             [
+                'text/rtf' => 'application/rtf',
                 'text/xml' => 'application/xml',
                 'image/svg' => 'image/svg+xml',
                 'image/x-bmp' => 'image/bmp',
@@ -37,8 +38,7 @@ public function testMimeAliases()
 
     public function testMimeTypes()
     {
-        $this->assertSame(
-            [
+        $coreMimeTypes = [
                 '3dml' => 'text/vnd.in3d.3dml',
                 '3ds' => 'image/x-3ds',
                 '3g2' => 'video/3gpp2',
@@ -385,6 +385,7 @@ public function testMimeTypes()
                 'jam' => 'application/vnd.jam',
                 'jar' => 'application/java-archive',
                 'java' => 'text/x-java-source',
+                'jfif' => 'image/jpeg',
                 'jisp' => 'application/vnd.jisp',
                 'jlt' => 'application/vnd.hp-jlyt',
                 'jnlp' => 'application/x-java-jnlp-file',
@@ -430,6 +431,7 @@ public function testMimeTypes()
                 'log' => 'text/plain',
                 'lostxml' => 'application/lost+xml',
                 'lrf' => 'application/octet-stream',
+                0 => 'application/vnd.lotus-1-2-3',
                 'lrm' => 'application/vnd.ms-lrm',
                 'ltf' => 'application/vnd.frogans.ltf',
                 'lvp' => 'audio/vnd.lucent.voice',
@@ -521,7 +523,6 @@ public function testMimeTypes()
                 'mseed' => 'application/vnd.fdsn.mseed',
                 'mseq' => 'application/vnd.mseq',
                 'msf' => 'application/vnd.epson.msf',
-                0 => 'application/vnd.lotus-1-2-3',
                 'msh' => 'model/mesh',
                 'msi' => 'application/x-msdownload',
                 'msl' => 'application/vnd.mobius.msl',
@@ -1024,7 +1025,13 @@ public function testMimeTypes()
                 'zir' => 'application/vnd.zul',
                 'zirz' => 'application/vnd.zul',
                 'zmm' => 'application/vnd.handheld-entertainment+xml',
-            ],
+            ];
+
+        if (PHP_VERSION_ID >= 80100) {
+            $coreMimeTypes = array_replace($coreMimeTypes, array('xz' => 'application/octet-stream'));
+        }
+
+        $this->assertSame($coreMimeTypes,
             require __DIR__ . '/../../../framework/helpers/mimeTypes.php'
         );
     }
diff --git a/tests/framework/helpers/ReplaceArrayValueTest.php b/tests/framework/helpers/ReplaceArrayValueTest.php
index d055483ac3d..458746276fa 100644
--- a/tests/framework/helpers/ReplaceArrayValueTest.php
+++ b/tests/framework/helpers/ReplaceArrayValueTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/StringHelperTest.php b/tests/framework/helpers/StringHelperTest.php
index 9ec2dc1f8d1..56acdb0c268 100644
--- a/tests/framework/helpers/StringHelperTest.php
+++ b/tests/framework/helpers/StringHelperTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/UnsetArrayValueTest.php b/tests/framework/helpers/UnsetArrayValueTest.php
index 6d3b943a29a..411b74ffa3c 100644
--- a/tests/framework/helpers/UnsetArrayValueTest.php
+++ b/tests/framework/helpers/UnsetArrayValueTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/UrlTest.php b/tests/framework/helpers/UrlTest.php
index e8c11858e15..0f2b6584eb9 100644
--- a/tests/framework/helpers/UrlTest.php
+++ b/tests/framework/helpers/UrlTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/helpers/VarDumperTest.php b/tests/framework/helpers/VarDumperTest.php
index 6bc818e3453..434876398a2 100644
--- a/tests/framework/helpers/VarDumperTest.php
+++ b/tests/framework/helpers/VarDumperTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\helpers;
diff --git a/tests/framework/i18n/DbMessageSourceTest.php b/tests/framework/i18n/DbMessageSourceTest.php
index 6e9b5363031..e295365ed86 100644
--- a/tests/framework/i18n/DbMessageSourceTest.php
+++ b/tests/framework/i18n/DbMessageSourceTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
diff --git a/tests/framework/i18n/FallbackMessageFormatterTest.php b/tests/framework/i18n/FallbackMessageFormatterTest.php
index b5b692cad92..5faab06d67e 100644
--- a/tests/framework/i18n/FallbackMessageFormatterTest.php
+++ b/tests/framework/i18n/FallbackMessageFormatterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
diff --git a/tests/framework/i18n/FormatterDateTest.php b/tests/framework/i18n/FormatterDateTest.php
index d6c8a58ff38..43fc1311cb9 100644
--- a/tests/framework/i18n/FormatterDateTest.php
+++ b/tests/framework/i18n/FormatterDateTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
@@ -250,7 +250,7 @@ public function testIntlDateRangeLow()
      */
     public function testDateRangeLow()
     {
-        // http://en.wikipedia.org/wiki/Year_2038_problem
+        // https://en.wikipedia.org/wiki/Year_2038_problem
         $this->assertSame('13-12-1901', $this->formatter->asDate('1901-12-13', 'dd-MM-yyyy'));
         $this->assertSame('12-12-1901', $this->formatter->asDate('1901-12-12', 'dd-MM-yyyy'));
 
@@ -270,7 +270,7 @@ public function testIntlDateRangeHigh()
      */
     public function testDateRangeHigh()
     {
-        // http://en.wikipedia.org/wiki/Year_2038_problem
+        // https://en.wikipedia.org/wiki/Year_2038_problem
         $this->assertSame('19-01-2038', $this->formatter->asDate('2038-01-19', 'dd-MM-yyyy'));
         $this->assertSame('20-01-2038', $this->formatter->asDate('2038-01-20', 'dd-MM-yyyy'));
 
@@ -346,7 +346,7 @@ public function testAsRelativeTime()
         $this->assertSame('12 years ago', $this->formatter->asRelativeTime($this->buildDateSubIntervals('2014-03-13', [$interval_12_years]), $dateNow));
 
         // Tricky 31-days month stuff
-        // See: http://www.gnu.org/software/tar/manual/html_section/Relative-items-in-date-strings.html
+        // See: https://www.gnu.org/software/tar/manual/html_section/Relative-items-in-date-strings.html
         $dateNow = new DateTime('2014-03-31');
         $dateThen = new DateTime('2014-03-03');
         $this->assertSame('28 days ago', $this->formatter->asRelativeTime($this->buildDateSubIntervals('2014-03-31', [$interval_1_month]), $dateNow));
@@ -401,7 +401,7 @@ public function testAsRelativeTime()
         $this->assertSame('in 12 years', $this->formatter->asRelativeTime($this->buildDateSubIntervals('2014-03-13', [$interval_12_years]), $dateNow));
 
         // Tricky 31-days month stuff
-        // See: http://www.gnu.org/software/tar/manual/html_section/Relative-items-in-date-strings.html
+        // See: https://www.gnu.org/software/tar/manual/html_section/Relative-items-in-date-strings.html
         $dateNow = new DateTime('2014-03-03');
         $dateThen = new DateTime('2014-03-31');
         $this->assertSame('in a month', $this->formatter->asRelativeTime($this->buildDateSubIntervals('2014-03-03', [$interval_1_month]), $dateNow));
@@ -789,7 +789,7 @@ public function testIntlTimeWithTimezoneInfo()
      *
      * it is a PHP bug: https://bugs.php.net/bug.php?id=45543
      * Fixed in this commit: https://github.com/php/php-src/commit/22dba2f5f3211efe6c3b9bb24734c811ca64c68c#diff-7b738accc3d60f74c259da18588ddc5dL2996
-     * Fixed in PHP >5.4.26 and >5.5.10. http://3v4l.org/mlZX7
+     * Fixed in PHP >5.4.26 and >5.5.10. https://3v4l.org/mlZX7
      *
      * @dataProvider provideTimezones
      * @param string $dtz
diff --git a/tests/framework/i18n/FormatterNumberTest.php b/tests/framework/i18n/FormatterNumberTest.php
index 635917ec690..234c9a5ea24 100755
--- a/tests/framework/i18n/FormatterNumberTest.php
+++ b/tests/framework/i18n/FormatterNumberTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
diff --git a/tests/framework/i18n/FormatterTest.php b/tests/framework/i18n/FormatterTest.php
index 300f2b7148f..a44b74aec60 100644
--- a/tests/framework/i18n/FormatterTest.php
+++ b/tests/framework/i18n/FormatterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
@@ -34,14 +34,15 @@ protected function setUp()
             'timeZone' => 'UTC',
             'language' => 'ru-RU',
         ]);
-        $this->formatter = new Formatter(['locale' => 'en-US']);
+        if (!isset($this->formatter)) {
+            $this->formatter = new Formatter(['locale' => 'en-US']);
+        }
     }
 
     protected function tearDown()
     {
         parent::tearDown();
         IntlTestHelper::resetIntlStatus();
-        $this->formatter = null;
     }
 
     public function testFormat()
diff --git a/tests/framework/i18n/GettextMessageSourceTest.php b/tests/framework/i18n/GettextMessageSourceTest.php
index 036682e71eb..24e678bbd55 100644
--- a/tests/framework/i18n/GettextMessageSourceTest.php
+++ b/tests/framework/i18n/GettextMessageSourceTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
diff --git a/tests/framework/i18n/GettextMoFileTest.php b/tests/framework/i18n/GettextMoFileTest.php
index fd3401f300a..a45e03fc619 100644
--- a/tests/framework/i18n/GettextMoFileTest.php
+++ b/tests/framework/i18n/GettextMoFileTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
diff --git a/tests/framework/i18n/GettextPoFileTest.php b/tests/framework/i18n/GettextPoFileTest.php
index d32f312f012..2c202fad235 100644
--- a/tests/framework/i18n/GettextPoFileTest.php
+++ b/tests/framework/i18n/GettextPoFileTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
diff --git a/tests/framework/i18n/I18NTest.php b/tests/framework/i18n/I18NTest.php
index 727dcbb3184..77a514acaf0 100644
--- a/tests/framework/i18n/I18NTest.php
+++ b/tests/framework/i18n/I18NTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
@@ -129,6 +129,8 @@ public function testSourceLanguageFallback()
         // target is a different language than source
         $this->assertEquals('Собака бегает быстро.', $i18n->translate('test', $msg, [], 'ru-RU'));
         $this->assertEquals('Собака бегает быстро.', $i18n->translate('test', $msg, [], 'ru'));
+        $this->assertEquals('The dog runs fast (en-150).', $i18n->translate('test', $msg, [], 'en-150'));
+        $this->assertEquals('The dog runs fast.', $i18n->translate('test', $msg, [], 'en'));
 
         // language is set to null
         $this->assertEquals($msg, $i18n->translate('test', $msg, [], null));
@@ -150,7 +152,7 @@ public function testTranslateParams2()
         $msg = 'His name is {name} and his speed is about {n, number} km/h.';
         $params = [
             'n' => 42,
-            'name' => 'DA VINCI', // http://petrix.com/dognames/d.html
+            'name' => 'DA VINCI', // https://petrix.com/dognames/d.html
         ];
         $this->assertEquals('His name is DA VINCI and his speed is about 42 km/h.', $this->i18n->translate('test', $msg, $params, 'en-US'));
         $this->assertEquals('Er heißt DA VINCI und ist 42 km/h schnell.', $this->i18n->translate('test', $msg, $params, 'de-DE'));
diff --git a/tests/framework/i18n/IntlTestHelper.php b/tests/framework/i18n/IntlTestHelper.php
index ab502140829..b90ee41d597 100644
--- a/tests/framework/i18n/IntlTestHelper.php
+++ b/tests/framework/i18n/IntlTestHelper.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 // override information about intl
diff --git a/tests/framework/i18n/LocaleTest.php b/tests/framework/i18n/LocaleTest.php
index b70f7ca3724..60d1951eca9 100644
--- a/tests/framework/i18n/LocaleTest.php
+++ b/tests/framework/i18n/LocaleTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
diff --git a/tests/framework/i18n/MessageFormatterTest.php b/tests/framework/i18n/MessageFormatterTest.php
index 182d029a26c..164ed7e2fe1 100644
--- a/tests/framework/i18n/MessageFormatterTest.php
+++ b/tests/framework/i18n/MessageFormatterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\i18n;
diff --git a/tests/framework/log/ArrayTarget.php b/tests/framework/log/ArrayTarget.php
index e655573fc51..42ce194e8cb 100644
--- a/tests/framework/log/ArrayTarget.php
+++ b/tests/framework/log/ArrayTarget.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\log;
diff --git a/tests/framework/log/DbTargetTest.php b/tests/framework/log/DbTargetTest.php
index 1a4f68d642b..9d118d21bc1 100644
--- a/tests/framework/log/DbTargetTest.php
+++ b/tests/framework/log/DbTargetTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\log;
diff --git a/tests/framework/log/DispatcherTest.php b/tests/framework/log/DispatcherTest.php
index 0f74cf6edc9..5cb35b52e3c 100644
--- a/tests/framework/log/DispatcherTest.php
+++ b/tests/framework/log/DispatcherTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log {
diff --git a/tests/framework/log/EmailTargetTest.php b/tests/framework/log/EmailTargetTest.php
index 9e5497b3756..7c3b4e008f2 100644
--- a/tests/framework/log/EmailTargetTest.php
+++ b/tests/framework/log/EmailTargetTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\log;
diff --git a/tests/framework/log/FileTargetTest.php b/tests/framework/log/FileTargetTest.php
index a0f6726b588..217a94af0f0 100644
--- a/tests/framework/log/FileTargetTest.php
+++ b/tests/framework/log/FileTargetTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\log;
@@ -25,14 +25,6 @@ protected function setUp()
         $this->mockApplication();
     }
 
-    public function booleanDataProvider()
-    {
-        return [
-            [true],
-            [false],
-        ];
-    }
-
     /**
      * Tests that log directory isn't created during init process
      * @see https://github.com/yiisoft/yii2/issues/15662
@@ -50,11 +42,7 @@ public function testInit()
         );
     }
 
-    /**
-     * @dataProvider booleanDataProvider
-     * @param bool $rotateByCopy
-     */
-    public function testRotate($rotateByCopy)
+    public function testRotate()
     {
         $logFile = Yii::getAlias('@yiiunit/runtime/log/filetargettest.log');
         FileHelper::removeDirectory(dirname($logFile));
@@ -71,7 +59,6 @@ public function testRotate($rotateByCopy)
                     'maxFileSize' => 1024, // 1 MB
                     'maxLogFiles' => 1, // one file for rotation and one normal log file
                     'logVars' => [],
-                    'rotateByCopy' => $rotateByCopy,
                 ],
             ],
         ]);
diff --git a/tests/framework/log/LoggerTest.php b/tests/framework/log/LoggerTest.php
index 1aa5587b16e..d5ffa83aca4 100644
--- a/tests/framework/log/LoggerTest.php
+++ b/tests/framework/log/LoggerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\log;
diff --git a/tests/framework/log/MySQLTargetTest.php b/tests/framework/log/MySQLTargetTest.php
index fc7fd01d6a4..74a264ad7c1 100644
--- a/tests/framework/log/MySQLTargetTest.php
+++ b/tests/framework/log/MySQLTargetTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\log;
diff --git a/tests/framework/log/PgSQLTargetTest.php b/tests/framework/log/PgSQLTargetTest.php
index d33af5c5ac6..1eee4df9d3c 100644
--- a/tests/framework/log/PgSQLTargetTest.php
+++ b/tests/framework/log/PgSQLTargetTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\log;
diff --git a/tests/framework/log/SqliteTargetTest.php b/tests/framework/log/SqliteTargetTest.php
index 4084727a0e0..1a7ef072dcb 100644
--- a/tests/framework/log/SqliteTargetTest.php
+++ b/tests/framework/log/SqliteTargetTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\log;
diff --git a/tests/framework/log/SyslogTargetTest.php b/tests/framework/log/SyslogTargetTest.php
index b1591b72de8..3c9efd10aec 100644
--- a/tests/framework/log/SyslogTargetTest.php
+++ b/tests/framework/log/SyslogTargetTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\log {
diff --git a/tests/framework/log/TargetTest.php b/tests/framework/log/TargetTest.php
index c09757c83af..eace93aa3bf 100644
--- a/tests/framework/log/TargetTest.php
+++ b/tests/framework/log/TargetTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\log;
diff --git a/tests/framework/mail/BaseMailerTest.php b/tests/framework/mail/BaseMailerTest.php
index 09d12f7dcef..dc7e43deb0e 100644
--- a/tests/framework/mail/BaseMailerTest.php
+++ b/tests/framework/mail/BaseMailerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\mail;
diff --git a/tests/framework/mail/BaseMessageTest.php b/tests/framework/mail/BaseMessageTest.php
index fbe9b57136b..9741f5d66d7 100644
--- a/tests/framework/mail/BaseMessageTest.php
+++ b/tests/framework/mail/BaseMessageTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\mail;
diff --git a/tests/framework/models/JsonModel.php b/tests/framework/models/JsonModel.php
index f30dfce67f8..688f9623a43 100644
--- a/tests/framework/models/JsonModel.php
+++ b/tests/framework/models/JsonModel.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\models;
@@ -24,6 +24,7 @@ class JsonModel extends DynamicModel implements \JsonSerializable
     /**
      * @return array
      */
+    #[\ReturnTypeWillChange]
     public function jsonSerialize()
     {
         return $this->data;
diff --git a/tests/framework/mutex/FileMutexTest.php b/tests/framework/mutex/FileMutexTest.php
index 2c9d79061f3..48e3778c6ec 100644
--- a/tests/framework/mutex/FileMutexTest.php
+++ b/tests/framework/mutex/FileMutexTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\mutex;
diff --git a/tests/framework/mutex/MutexTestTrait.php b/tests/framework/mutex/MutexTestTrait.php
index 1f8959f640d..20da6dac668 100644
--- a/tests/framework/mutex/MutexTestTrait.php
+++ b/tests/framework/mutex/MutexTestTrait.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\mutex;
@@ -97,7 +97,7 @@ public function testMutexIsAcquired($mutexName)
         $this->assertFalse($mutexOne->isAcquired($mutexName));
         $this->assertTrue($mutexOne->acquire($mutexName));
         $this->assertTrue($mutexOne->isAcquired($mutexName));
-        
+
         $this->assertFalse($mutexTwo->isAcquired($mutexName));
 
         $this->assertTrue($mutexOne->release($mutexName));
@@ -110,9 +110,9 @@ public static function mutexDataProvider()
     {
         $utf = <<<'UTF'
 𝐘˛𝜄 ӏ𝕤 𝗮 𝔣𝖺𐑈𝝉, 𐑈ℯ𝔠ｕ𝒓𝗲, 𝝰𝞹𝒹 𝖊𝘧𝒇𝗶𝕔𝖎ⅇπτ Ｐ𝘏𝙿 𝖿г𝖺ｍ𝖾ｗσｒ𝐤.
-𝓕lе𝘅ӏᏏlе 𝞬𝖾𝘁 ϱ𝘳ɑ𝖌ｍ𝛼𝓉ͺ𝖼. 
-𝑊ﮭ𝚛𝛞𝓼 𝔯𝕚𝕘һ𝞃 σ𝚞𝞽 ०𝒇 𝐭𝙝ҽ 𝗯𝘰𝘹. 
-𝓗𝚊𝘀 𝓇𝖾𝙖𝐬ﻬ𝓃𝕒ᖯl𝔢 ꓒ𝘦քα𝗎l𝐭ꜱ. 
+𝓕lе𝘅ӏᏏlе 𝞬𝖾𝘁 ϱ𝘳ɑ𝖌ｍ𝛼𝓉ͺ𝖼.
+𝑊ﮭ𝚛𝛞𝓼 𝔯𝕚𝕘һ𝞃 σ𝚞𝞽 ०𝒇 𝐭𝙝ҽ 𝗯𝘰𝘹.
+𝓗𝚊𝘀 𝓇𝖾𝙖𝐬ﻬ𝓃𝕒ᖯl𝔢 ꓒ𝘦քα𝗎l𝐭ꜱ.
 😱
 UTF;
 
diff --git a/tests/framework/mutex/MysqlMutexTest.php b/tests/framework/mutex/MysqlMutexTest.php
index ae34d3781be..8ef4aa21d06 100644
--- a/tests/framework/mutex/MysqlMutexTest.php
+++ b/tests/framework/mutex/MysqlMutexTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\mutex;
diff --git a/tests/framework/mutex/PgsqlMutexTest.php b/tests/framework/mutex/PgsqlMutexTest.php
index 4bdecb173e1..e8a3507cfd5 100644
--- a/tests/framework/mutex/PgsqlMutexTest.php
+++ b/tests/framework/mutex/PgsqlMutexTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\mutex;
diff --git a/tests/framework/mutex/RetryAcquireTraitTest.php b/tests/framework/mutex/RetryAcquireTraitTest.php
index 5b80bfb53e0..a4adb417990 100644
--- a/tests/framework/mutex/RetryAcquireTraitTest.php
+++ b/tests/framework/mutex/RetryAcquireTraitTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\mutex;
diff --git a/tests/framework/mutex/mocks/DumbMutex.php b/tests/framework/mutex/mocks/DumbMutex.php
index c7086d5517c..cd490223200 100644
--- a/tests/framework/mutex/mocks/DumbMutex.php
+++ b/tests/framework/mutex/mocks/DumbMutex.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\mutex\mocks;
diff --git a/tests/framework/rbac/ActionRule.php b/tests/framework/rbac/ActionRule.php
index 336052fc383..6a16b04985d 100644
--- a/tests/framework/rbac/ActionRule.php
+++ b/tests/framework/rbac/ActionRule.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/rbac/AuthorRule.php b/tests/framework/rbac/AuthorRule.php
index 88611a96bff..12e9ca6806c 100644
--- a/tests/framework/rbac/AuthorRule.php
+++ b/tests/framework/rbac/AuthorRule.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/rbac/DbManagerTestCase.php b/tests/framework/rbac/DbManagerTestCase.php
index 4cc792b66f1..b2828871ba7 100644
--- a/tests/framework/rbac/DbManagerTestCase.php
+++ b/tests/framework/rbac/DbManagerTestCase.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/rbac/ExposedPhpManager.php b/tests/framework/rbac/ExposedPhpManager.php
index ec92b106039..092307313a3 100644
--- a/tests/framework/rbac/ExposedPhpManager.php
+++ b/tests/framework/rbac/ExposedPhpManager.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/rbac/ManagerTestCase.php b/tests/framework/rbac/ManagerTestCase.php
index 1574eb1994a..e68378c541e 100644
--- a/tests/framework/rbac/ManagerTestCase.php
+++ b/tests/framework/rbac/ManagerTestCase.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/rbac/MySQLManagerCacheTest.php b/tests/framework/rbac/MySQLManagerCacheTest.php
index ec7d1c6735e..6bf268e3717 100644
--- a/tests/framework/rbac/MySQLManagerCacheTest.php
+++ b/tests/framework/rbac/MySQLManagerCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/rbac/MySQLManagerTest.php b/tests/framework/rbac/MySQLManagerTest.php
index f51b6561e2a..19fce3106fd 100644
--- a/tests/framework/rbac/MySQLManagerTest.php
+++ b/tests/framework/rbac/MySQLManagerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/rbac/PgSQLManagerCacheTest.php b/tests/framework/rbac/PgSQLManagerCacheTest.php
index b833a1ae413..d06c9e9875d 100644
--- a/tests/framework/rbac/PgSQLManagerCacheTest.php
+++ b/tests/framework/rbac/PgSQLManagerCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/rbac/PgSQLManagerTest.php b/tests/framework/rbac/PgSQLManagerTest.php
index 01e805deb24..34167d93e8a 100644
--- a/tests/framework/rbac/PgSQLManagerTest.php
+++ b/tests/framework/rbac/PgSQLManagerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/rbac/PhpManagerTest.php b/tests/framework/rbac/PhpManagerTest.php
index abb3a50ce32..38107d26a84 100644
--- a/tests/framework/rbac/PhpManagerTest.php
+++ b/tests/framework/rbac/PhpManagerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\rbac;
diff --git a/tests/framework/rbac/SqliteManagerTest.php b/tests/framework/rbac/SqliteManagerTest.php
index 43bc992d4c8..b684257c3e0 100644
--- a/tests/framework/rbac/SqliteManagerTest.php
+++ b/tests/framework/rbac/SqliteManagerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rbac;
diff --git a/tests/framework/requirements/YiiRequirementCheckerTest.php b/tests/framework/requirements/YiiRequirementCheckerTest.php
index 57b9b619d8e..46b131dadce 100644
--- a/tests/framework/requirements/YiiRequirementCheckerTest.php
+++ b/tests/framework/requirements/YiiRequirementCheckerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 require_once __DIR__ . '/../../../framework/requirements/YiiRequirementChecker.php';
diff --git a/tests/framework/rest/IndexActionTest.php b/tests/framework/rest/IndexActionTest.php
index 385749c13f7..ffbf6e98944 100644
--- a/tests/framework/rest/IndexActionTest.php
+++ b/tests/framework/rest/IndexActionTest.php
@@ -3,6 +3,9 @@
 namespace yiiunit\framework\rest;
 
 use Yii;
+use yii\data\ActiveDataProvider;
+use yii\data\Pagination;
+use yii\data\Sort;
 use yii\db\ActiveRecord;
 use yii\db\Query;
 use yii\rest\ActiveController;
@@ -63,6 +66,123 @@ public function testPrepareSearchQueryAttribute()
             $sql
         );
     }
+
+    /**
+     * @dataProvider dataProviderTestPrepareDataProviderWithPaginationAndSorting
+     *
+     * @param string $sql
+     * @param array $params
+     * @param string $expectedRawSql
+     */
+    public function testPrepareDataProviderWithPaginationAndSorting(
+        $pagination,
+        $sort,
+        $expectedPaginationPageSize = null,
+        $expectedPaginationDefaultPageSize = null,
+        $expectedSortOrders = [],
+        $expectedSortDefaultOrder = null
+    ) {
+        Yii::$app->getRequest()->setBodyParams([
+            'per-page' => 11,
+            'sort' => '-test-sort'
+        ]);
+
+        $controller = new RestController(
+            'rest',
+            new Module('rest'), [
+            'modelClass' => IndexActionModel::className(),
+            'actions' => [
+                'index' => [
+                    'class' => IndexAction::className(),
+                    'modelClass' => IndexActionModel::className(),
+                    'pagination' => $pagination,
+                    'sort' => $sort,
+                ],
+            ],
+        ]);
+
+        /** @var ActiveDataProvider $dataProvider */
+        $dataProvider = $controller->createAction('index')->runWithParams([]);
+        $actualPagination = $dataProvider->getPagination();
+        $actualSort = $dataProvider->getSort();
+
+        if ($pagination === false) {
+            $this->assertFalse($actualPagination);
+        } else {
+            $this->assertEquals($expectedPaginationPageSize, $actualPagination->pageSize);
+            $this->assertEquals($expectedPaginationDefaultPageSize, $actualPagination->defaultPageSize);
+        }
+
+        if ($sort === false) {
+            $this->assertFalse($actualSort);
+        } else {
+            $this->assertEquals($expectedSortOrders, $actualSort->getOrders());
+            $this->assertEquals($expectedSortDefaultOrder, $actualSort->defaultOrder);
+        }
+    }
+
+    /**
+     * Data provider for [[testPrepareDataProviderWithPaginationAndSorting()]].
+     * @return array test data
+     */
+    public function dataProviderTestPrepareDataProviderWithPaginationAndSorting()
+    {
+        return [
+            [ // Default config
+                [],
+                [],
+                11, // page size set as param in test
+                (new Pagination())->defaultPageSize,
+                [],
+                null
+            ],
+            [ // Default config
+                [],
+                [
+                    'attributes' => ['test-sort'],
+                ],
+                11, // page size set as param in test
+                (new Pagination())->defaultPageSize,
+                ['test-sort' => SORT_DESC], // test sort set as param in test
+                null
+            ],
+            [ // Config via array
+                [
+                    'pageSize' => 12, // Testing a fixed page size
+                    'defaultPageSize' => 991,
+                ],
+                [
+                    'attributes' => ['test-sort'],
+                    'defaultOrder' => [
+                        'created_at_1' => SORT_DESC,
+                    ],
+                ],
+                12,
+                991,
+                ['test-sort' => SORT_DESC], // test sort set as param in test
+                ['created_at_1' => SORT_DESC]
+            ],
+            [ // Config via objects
+                new Pagination([
+                    'defaultPageSize' => 992,
+                ]),
+                new Sort([
+                    'attributes' => ['created_at_2'],
+                    'defaultOrder' => [
+                        'created_at_2' => SORT_DESC,
+                    ],
+                ]),
+                11, // page size set as param in test
+                992,
+                ['created_at_2' => SORT_DESC], // test sort set as param in test is ignored
+                ['created_at_2' => SORT_DESC]
+            ],
+            [ // Disable pagination and sort
+                false,
+                false,
+            ]
+        ];
+    }
 }
 
 class RestController extends ActiveController
diff --git a/tests/framework/rest/SerializerTest.php b/tests/framework/rest/SerializerTest.php
index 6fd70974987..361aba38a91 100644
--- a/tests/framework/rest/SerializerTest.php
+++ b/tests/framework/rest/SerializerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rest;
@@ -540,6 +540,7 @@ public function extraFields()
         return static::$extraFields;
     }
 
+    #[\ReturnTypeWillChange]
     public function jsonSerialize()
     {
         return $this->getAttributes();
@@ -550,6 +551,7 @@ class TestModel4 implements \JsonSerializable
     public $field5 = 'test5';
     public $field6 = 'test6';
 
+    #[\ReturnTypeWillChange]
     public function jsonSerialize()
     {
         return [
diff --git a/tests/framework/rest/UrlRuleTest.php b/tests/framework/rest/UrlRuleTest.php
index 748cf2c7483..0228742ce18 100644
--- a/tests/framework/rest/UrlRuleTest.php
+++ b/tests/framework/rest/UrlRuleTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\rest;
diff --git a/tests/framework/test/ActiveFixtureTest.php b/tests/framework/test/ActiveFixtureTest.php
index 67a26e256f9..ba52d0e286d 100644
--- a/tests/framework/test/ActiveFixtureTest.php
+++ b/tests/framework/test/ActiveFixtureTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\test;
diff --git a/tests/framework/test/ArrayFixtureTest.php b/tests/framework/test/ArrayFixtureTest.php
index e95a07db7a6..50ec62c3282 100644
--- a/tests/framework/test/ArrayFixtureTest.php
+++ b/tests/framework/test/ArrayFixtureTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\test;
diff --git a/tests/framework/test/FixtureTest.php b/tests/framework/test/FixtureTest.php
index e5b66570f65..25c57bc5537 100644
--- a/tests/framework/test/FixtureTest.php
+++ b/tests/framework/test/FixtureTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\test;
diff --git a/tests/framework/test/custom/customer.php b/tests/framework/test/custom/customer.php
index 065bc3caaed..ac5876acba0 100644
--- a/tests/framework/test/custom/customer.php
+++ b/tests/framework/test/custom/customer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return [
diff --git a/tests/framework/test/data/array_fixture.php b/tests/framework/test/data/array_fixture.php
index 39cc75fb2b9..ed4a13d99cf 100644
--- a/tests/framework/test/data/array_fixture.php
+++ b/tests/framework/test/data/array_fixture.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return [
diff --git a/tests/framework/test/data/customer.php b/tests/framework/test/data/customer.php
index aeb1fcb3944..246792e50db 100644
--- a/tests/framework/test/data/customer.php
+++ b/tests/framework/test/data/customer.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return [
diff --git a/tests/framework/test/data/profile.php b/tests/framework/test/data/profile.php
index 42be0916164..51bf2057bbe 100644
--- a/tests/framework/test/data/profile.php
+++ b/tests/framework/test/data/profile.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 return [
diff --git a/tests/framework/validators/BooleanValidatorTest.php b/tests/framework/validators/BooleanValidatorTest.php
index 9835422ebf0..63331f6136f 100644
--- a/tests/framework/validators/BooleanValidatorTest.php
+++ b/tests/framework/validators/BooleanValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
@@ -85,7 +85,7 @@ public function testErrorMessage()
         $obj->attrD = [];
 
         $this->assertEquals(
-            'yii.validation.boolean(value, messages, {"trueValue":true,"falseValue":false,"message":"attrB must be either \"true\" or \"false\".","skipOnEmpty":1,"strict":1});',
+            'yii.validation.boolean(value, messages, {"trueValue":true,"falseValue":false,"message":"attrB must be either \u0022true\u0022 or \u0022false\u0022.","skipOnEmpty":1,"strict":1});',
             $validator->clientValidateAttribute($obj, 'attrB', new ViewStub())
         );
     }
diff --git a/tests/framework/validators/CompareValidatorTest.php b/tests/framework/validators/CompareValidatorTest.php
index a0740def208..cbb91c7d5e7 100644
--- a/tests/framework/validators/CompareValidatorTest.php
+++ b/tests/framework/validators/CompareValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/DateValidatorTest.php b/tests/framework/validators/DateValidatorTest.php
index 804c63ae7f3..fc3cd1ef3d6 100644
--- a/tests/framework/validators/DateValidatorTest.php
+++ b/tests/framework/validators/DateValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
@@ -1001,7 +1001,7 @@ public function testIntlValidateAttributeRangeOld()
     /**
      * Returns true if the version of ICU is old and has a bug that makes it
      * impossible to parse two digit years properly.
-     * @see http://bugs.icu-project.org/trac/ticket/9836
+     * @see https://unicode-org.atlassian.net/browse/ICU-9836
      * @return bool
      */
     private function checkOldIcuBug()
diff --git a/tests/framework/validators/DefaultValueValidatorTest.php b/tests/framework/validators/DefaultValueValidatorTest.php
index cdd68315b8b..9b25a1166ee 100644
--- a/tests/framework/validators/DefaultValueValidatorTest.php
+++ b/tests/framework/validators/DefaultValueValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/EachValidatorTest.php b/tests/framework/validators/EachValidatorTest.php
index 52c43707ca8..8e32327b2f3 100644
--- a/tests/framework/validators/EachValidatorTest.php
+++ b/tests/framework/validators/EachValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/EmailValidatorTest.php b/tests/framework/validators/EmailValidatorTest.php
index 9aed158e5b9..7687b2bdc8f 100644
--- a/tests/framework/validators/EmailValidatorTest.php
+++ b/tests/framework/validators/EmailValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/ExistValidatorTest.php b/tests/framework/validators/ExistValidatorTest.php
index 45759d90167..259efe86e0d 100644
--- a/tests/framework/validators/ExistValidatorTest.php
+++ b/tests/framework/validators/ExistValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
@@ -10,6 +10,7 @@
 use yii\base\Exception;
 use yii\validators\ExistValidator;
 use yiiunit\data\ar\ActiveRecord;
+use yiiunit\data\ar\Customer;
 use yiiunit\data\ar\Order;
 use yiiunit\data\ar\OrderItem;
 use yiiunit\data\validators\models\ValidatorTestMainModel;
@@ -268,4 +269,31 @@ public function testForceMaster()
 
         ActiveRecord::$db = $this->getConnection();
     }
+
+    public function testSecondTargetAttributeWithError()
+    {
+        $validator = new ExistValidator(['targetAttribute' => ['email', 'name']]);
+        $customer = new Customer();
+        $customer->email = 'user11111@example.com';
+        $customer->name = 'user11111';
+
+        $validator->validateAttribute($customer, 'email');
+        $this->assertTrue($customer->hasErrors('email'));
+
+        $customer->clearErrors();
+
+        $customer->addError('name', 'error');
+        $validator->validateAttribute($customer, 'email');
+        $this->assertFalse($customer->hasErrors('email')); // validator should be skipped
+
+        $validator = new ExistValidator([
+            'targetAttribute' => ['email', 'name'],
+            'skipOnError' => false,
+        ]);
+
+        $customer->clearErrors();
+        $customer->addError('name', 'error');
+        $validator->validateAttribute($customer, 'email');
+        $this->assertTrue($customer->hasErrors('email')); // validator should not be skipped
+    }
 }
diff --git a/tests/framework/validators/FileValidatorTest.php b/tests/framework/validators/FileValidatorTest.php
index 2ce3c797ca3..f6af4ec6816 100644
--- a/tests/framework/validators/FileValidatorTest.php
+++ b/tests/framework/validators/FileValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
@@ -535,7 +535,7 @@ public function testValidateMimeTypeMaskInvalid($fileName, $mask)
 
     public function validMimeTypes()
     {
-        return array_filter([
+        $validMimeTypes = array_filter([
             ['test.svg', 'image/*', 'svg'],
             ['test.jpg', 'image/*', 'jpg'],
             ['test.png', 'image/*', 'png'],
@@ -545,6 +545,14 @@ public function validMimeTypes()
             ['test.odt', 'application/vnd*', 'odt'],
             ['test.tar.xz', 'application/x-xz', 'tar.xz'],
         ]);
+
+        if (PHP_VERSION_ID >= 80100) {
+            $v81_zx = ['test.tar.xz', 'application/octet-stream', 'tar.xz'];
+            array_pop($validMimeTypes);
+            $validMimeTypes[] = $v81_zx;
+        }
+
+        return $validMimeTypes;
     }
 
     public function invalidMimeTypes()
diff --git a/tests/framework/validators/FilterValidatorTest.php b/tests/framework/validators/FilterValidatorTest.php
index f0b25ab3648..06153d934a3 100644
--- a/tests/framework/validators/FilterValidatorTest.php
+++ b/tests/framework/validators/FilterValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/IpValidatorTest.php b/tests/framework/validators/IpValidatorTest.php
index 7d22c563323..a6a365ffb46 100644
--- a/tests/framework/validators/IpValidatorTest.php
+++ b/tests/framework/validators/IpValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/NumberValidatorTest.php b/tests/framework/validators/NumberValidatorTest.php
index f8f3b2f346d..82f643f83d5 100644
--- a/tests/framework/validators/NumberValidatorTest.php
+++ b/tests/framework/validators/NumberValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/RangeValidatorTest.php b/tests/framework/validators/RangeValidatorTest.php
index 7990dd49aec..d86e0224e2b 100644
--- a/tests/framework/validators/RangeValidatorTest.php
+++ b/tests/framework/validators/RangeValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/RegularExpressionValidatorTest.php b/tests/framework/validators/RegularExpressionValidatorTest.php
index 8c1939055ad..76166d45a01 100644
--- a/tests/framework/validators/RegularExpressionValidatorTest.php
+++ b/tests/framework/validators/RegularExpressionValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/RequiredValidatorTest.php b/tests/framework/validators/RequiredValidatorTest.php
index 1d4fde051d8..a45f3b10ef9 100644
--- a/tests/framework/validators/RequiredValidatorTest.php
+++ b/tests/framework/validators/RequiredValidatorTest.php
@@ -1,12 +1,13 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
 
+use yii\base\Model;
 use yii\validators\RequiredValidator;
 use yiiunit\data\validators\models\FakedValidationModel;
 use yiiunit\TestCase;
@@ -66,4 +67,33 @@ public function testValidateAttribute()
         $val->validateAttribute($m, 'attr_val');
         $this->assertFalse($m->hasErrors('attr_val'));
     }
+
+    public function testErrorClientMessage()
+    {
+        $validator = new RequiredValidator(['message' => '<strong>error</strong> for {attribute}']);
+
+        $obj = new ModelForReqValidator();
+
+        $this->assertEquals(
+            'yii.validation.required(value, messages, {"message":"\u003Cstrong\u003Eerror\u003C\/strong\u003E for \u003Cb\u003EAttr\u003C\/b\u003E"});',
+            $validator->clientValidateAttribute($obj, 'attr', new ViewStub())
+        );
+    }
+}
+
+class ModelForReqValidator extends Model
+{
+    public $attr;
+
+    public function rules()
+    {
+        return [
+            [['attr'], 'required'],
+        ];
+    }
+
+    public function attributeLabels()
+    {
+        return ['attr' => '<b>Attr</b>'];
+    }
 }
diff --git a/tests/framework/validators/StringValidatorTest.php b/tests/framework/validators/StringValidatorTest.php
index 42413fe78d6..bef0db0deb3 100644
--- a/tests/framework/validators/StringValidatorTest.php
+++ b/tests/framework/validators/StringValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/UniqueValidatorTest.php b/tests/framework/validators/UniqueValidatorTest.php
index fac59485d53..0c5149e5887 100644
--- a/tests/framework/validators/UniqueValidatorTest.php
+++ b/tests/framework/validators/UniqueValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
@@ -505,6 +505,33 @@ public function testForceMaster()
 
         ActiveRecord::$db = $this->getConnection();
     }
+
+    public function testSecondTargetAttributeWithError()
+    {
+        $validator = new UniqueValidator(['targetAttribute' => ['email', 'name']]);
+        $customer = new Customer();
+        $customer->email = 'user1@example.com';
+        $customer->name = 'user1';
+
+        $validator->validateAttribute($customer, 'email');
+        $this->assertTrue($customer->hasErrors('email'));
+
+        $customer->clearErrors();
+
+        $customer->addError('name', 'error');
+        $validator->validateAttribute($customer, 'email');
+        $this->assertFalse($customer->hasErrors('email')); // validator should be skipped
+
+        $validator = new UniqueValidator([
+            'targetAttribute' => ['email', 'name'],
+            'skipOnError' => false,
+        ]);
+
+        $customer->clearErrors();
+        $customer->addError('name', 'error');
+        $validator->validateAttribute($customer, 'email');
+        $this->assertTrue($customer->hasErrors('email')); // validator should not be skipped
+    }
 }
 
 class WithCustomer extends Customer {
diff --git a/tests/framework/validators/UrlValidatorTest.php b/tests/framework/validators/UrlValidatorTest.php
index 3243e8bf383..7872d9d21e9 100644
--- a/tests/framework/validators/UrlValidatorTest.php
+++ b/tests/framework/validators/UrlValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
diff --git a/tests/framework/validators/ValidatorTest.php b/tests/framework/validators/ValidatorTest.php
index a7b22e56937..3f3eb8c0dd0 100644
--- a/tests/framework/validators/ValidatorTest.php
+++ b/tests/framework/validators/ValidatorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\validators;
@@ -217,19 +217,20 @@ public function testValidateAttribute()
 
     public function testClientValidateAttribute()
     {
+        $view = new \yii\base\View();
         $val = new TestValidator();
         $this->assertNull(
-            $val->clientValidateAttribute($this->getTestModel(), 'attr_runMe1', [])
-        ); //todo pass a view instead of array
+            $val->clientValidateAttribute($this->getTestModel(), 'attr_runMe1', $view)
+        );
 
         // Access to validator in inline validation (https://github.com/yiisoft/yii2/issues/6242)
 
         $model = new FakedValidationModel();
         $val = Validator::createValidator('inlineVal', $model, ['val_attr_a'], ['params' => ['foo' => 'bar']]);
         $val->clientValidate = 'clientInlineVal';
-        $args = $val->clientValidateAttribute($model, 'val_attr_a', null);
+        $args = $val->clientValidateAttribute($model, 'val_attr_a', $view);
 
-        $this->assertCount(4, $args);
+        $this->assertCount(5, $args);
         $this->assertEquals('val_attr_a', $args[0]);
         $this->assertEquals(['foo' => 'bar'], $args[1]);
         $this->assertInstanceOf(InlineValidator::className(), $args[2]);
diff --git a/tests/framework/web/AssetBundleTest.php b/tests/framework/web/AssetBundleTest.php
index e1a0234293a..a0399d0aa85 100644
--- a/tests/framework/web/AssetBundleTest.php
+++ b/tests/framework/web/AssetBundleTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/AssetConverterTest.php b/tests/framework/web/AssetConverterTest.php
index 49bcd3e789e..4b618bc81c0 100644
--- a/tests/framework/web/AssetConverterTest.php
+++ b/tests/framework/web/AssetConverterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/ControllerTest.php b/tests/framework/web/ControllerTest.php
index 2d9b92a072f..21680f08cc6 100644
--- a/tests/framework/web/ControllerTest.php
+++ b/tests/framework/web/ControllerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
@@ -80,7 +80,6 @@ public function testNullableInjectedActionParams()
                 ],
             ],
         ]));
-        $this->mockWebApplication(['controller' => $this->controller]);
 
         $injectionAction = new InlineAction('injection', $this->controller, 'actionNullableInjection');
         $params = [];
@@ -195,7 +194,6 @@ public function testInjectedActionParams()
                 ],
             ],
         ]));
-        $this->mockWebApplication(['controller' => $this->controller]);
 
         $injectionAction = new InlineAction('injection', $this->controller, 'actionInjection');
         $params = ['between' => 'test', 'after' => 'another', 'before' => 'test'];
diff --git a/tests/framework/web/ErrorActionTest.php b/tests/framework/web/ErrorActionTest.php
index 7b6c0fa6f27..73211650012 100644
--- a/tests/framework/web/ErrorActionTest.php
+++ b/tests/framework/web/ErrorActionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/ErrorHandlerTest.php b/tests/framework/web/ErrorHandlerTest.php
index 9fdd41fcb6d..1634c572d4a 100644
--- a/tests/framework/web/ErrorHandlerTest.php
+++ b/tests/framework/web/ErrorHandlerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/FakeController.php b/tests/framework/web/FakeController.php
index 572d169e5b9..0124456f3e6 100644
--- a/tests/framework/web/FakeController.php
+++ b/tests/framework/web/FakeController.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/FakePhp71Controller.php b/tests/framework/web/FakePhp71Controller.php
index 3aae2868b3d..d8aa0e406c5 100644
--- a/tests/framework/web/FakePhp71Controller.php
+++ b/tests/framework/web/FakePhp71Controller.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/FakePhp7Controller.php b/tests/framework/web/FakePhp7Controller.php
index 5b3ae0b8269..4d267a85e15 100644
--- a/tests/framework/web/FakePhp7Controller.php
+++ b/tests/framework/web/FakePhp7Controller.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/FormatterTest.php b/tests/framework/web/FormatterTest.php
index 05cec3a7e39..e89e6dcf18c 100644
--- a/tests/framework/web/FormatterTest.php
+++ b/tests/framework/web/FormatterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/GroupUrlRuleTest.php b/tests/framework/web/GroupUrlRuleTest.php
index 6801ed01a4b..9bc8b26684d 100644
--- a/tests/framework/web/GroupUrlRuleTest.php
+++ b/tests/framework/web/GroupUrlRuleTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
@@ -240,6 +240,21 @@ protected function getTestsForParseRequest()
                     ['create', false],
                 ],
             ],
+            [
+                'slash prefix',
+                [
+                    'prefix' => '/',
+                    'rules' => [
+                        'login' => 'user/login',
+                        'logout' => 'user/logout',
+                    ],
+                ],
+                [
+                    ['login', 'user/login'],
+                    ['logout', 'user/logout'],
+                    ['create', false],
+                ],
+            ],
             [
                 'prefix only',
                 [
diff --git a/tests/framework/web/HeaderCollectionTest.php b/tests/framework/web/HeaderCollectionTest.php
index 7fe9c889f54..5b967ab6e7c 100644
--- a/tests/framework/web/HeaderCollectionTest.php
+++ b/tests/framework/web/HeaderCollectionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
@@ -24,4 +24,92 @@ public function testFromArray()
         ]);
         $this->assertEquals($location, $headerCollection->get('Location'));
     }
+
+    public function testSetter()
+    {
+        $headerCollection = new HeaderCollection();
+
+        $this->assertSame('default', $headerCollection->get('X-Header', 'default'));
+        $this->assertFalse($headerCollection->has('X-Header'));
+
+        $headerCollection->set('X-Header', '1');
+        $this->assertTrue($headerCollection->has('X-Header'));
+        $this->assertTrue($headerCollection->offsetExists('X-Header'));
+        $this->assertSame('1', $headerCollection->get('X-Header'));
+        $this->assertSame(['1'], $headerCollection->get('X-Header', null, false));
+        $this->assertTrue($headerCollection->has('x-header'));
+        $this->assertSame('1', $headerCollection->get('x-header'));
+        $this->assertSame(['1'], $headerCollection->get('x-header', null, false));
+        $this->assertSame('1', $headerCollection->get('x-hEadER'));
+        $this->assertSame(['1'], $headerCollection->get('x-hEadER', null, false));
+        $this->assertSame(['x-header' => ['1']], $headerCollection->toArray());
+        $this->assertSame(['X-Header' => ['1']], $headerCollection->toOriginalArray());
+
+        $headerCollection->set('X-HEADER', '2');
+        $this->assertSame('2', $headerCollection->get('X-Header'));
+        $this->assertSame('2', $headerCollection->get('x-header'));
+        $this->assertSame('2', $headerCollection->get('x-hEadER'));
+        $this->assertSame(['x-header' => ['2']], $headerCollection->toArray());
+        $this->assertSame(['X-HEADER' => ['2']], $headerCollection->toOriginalArray());
+
+        $headerCollection->offsetSet('X-HEADER', '3');
+        $this->assertSame('3', $headerCollection->get('X-Header'));
+    }
+
+    public function testSetterDefault()
+    {
+        $headerCollection = new HeaderCollection();
+        $headerCollection->setDefault('X-Header', '1');
+        $this->assertSame(['1'], $headerCollection->get('X-Header', null, false));
+
+        $headerCollection->setDefault('X-Header', '2');
+        $this->assertSame(['1'], $headerCollection->get('X-Header', null, false));
+    }
+
+    public function testAdder()
+    {
+        $headerCollection = new HeaderCollection();
+        $headerCollection->add('X-Header', '1');
+        $this->assertSame('1', $headerCollection->get('X-Header'));
+        $this->assertSame(['1'], $headerCollection->get('X-Header', null, false));
+        $this->assertSame('1', $headerCollection->get('x-header'));
+        $this->assertSame(['1'], $headerCollection->get('x-header', null, false));
+        $this->assertSame('1', $headerCollection->get('x-hEadER'));
+        $this->assertSame(['1'], $headerCollection->get('x-hEadER', null, false));
+        $this->assertSame(['x-header' => ['1']], $headerCollection->toArray());
+        $this->assertSame(['X-Header' => ['1']], $headerCollection->toOriginalArray());
+
+        $headerCollection->add('X-HEADER', '2');
+        $this->assertSame('1', $headerCollection->get('X-Header'));
+        $this->assertSame('1', $headerCollection->get('x-header'));
+        $this->assertSame('1', $headerCollection->get('x-hEadER'));
+        $this->assertSame(['1', '2'], $headerCollection->get('x-header', null, false));
+        $this->assertSame(['x-header' => ['1', '2']], $headerCollection->toArray());
+        $this->assertSame(['X-Header' => ['1', '2']], $headerCollection->toOriginalArray());
+    }
+
+    public function testRemover()
+    {
+        $headerCollection = new HeaderCollection();
+        $headerCollection->add('X-Header', '1');
+        $this->assertSame(1, $headerCollection->count());
+        $this->assertSame(1, $headerCollection->getCount());
+        $headerCollection->remove('X-Header');
+        $this->assertSame(0, $headerCollection->count());
+
+        $headerCollection->add('X-Header', '1');
+        $this->assertSame(1, $headerCollection->count());
+        $headerCollection->remove('x-header');
+        $this->assertSame(0, $headerCollection->count());
+
+        $headerCollection->add('X-Header', '1');
+        $headerCollection->offsetUnset('X-HEADER');
+        $this->assertSame(0, $headerCollection->count());
+
+        $headerCollection->add('X-Header-1', '1');
+        $headerCollection->add('X-Header-2', '1');
+        $this->assertSame(2, $headerCollection->count());
+        $headerCollection->removeAll();
+        $this->assertSame(0, $headerCollection->count());
+    }
 }
diff --git a/tests/framework/web/JsonResponseFormatterTest.php b/tests/framework/web/JsonResponseFormatterTest.php
index 9fa248a0b66..c724bb1b68a 100644
--- a/tests/framework/web/JsonResponseFormatterTest.php
+++ b/tests/framework/web/JsonResponseFormatterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/MultipartFormDataParserTest.php b/tests/framework/web/MultipartFormDataParserTest.php
index 4447defec20..489a5ef9f59 100644
--- a/tests/framework/web/MultipartFormDataParserTest.php
+++ b/tests/framework/web/MultipartFormDataParserTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
@@ -219,7 +219,7 @@ public function testForce()
         $this->assertNotEmpty($_FILES['someFile']);
         $this->assertFalse(isset($_FILES['existingFile']));
     }
-    
+
     public function testParseUnicodeInFileName()
     {
         $unicodeName = 'х.jpg'; // this is Russian "х"
diff --git a/tests/framework/web/Post.php b/tests/framework/web/Post.php
index 61255097ba7..3422273db8b 100644
--- a/tests/framework/web/Post.php
+++ b/tests/framework/web/Post.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/RequestTest.php b/tests/framework/web/RequestTest.php
index 2891372ce79..fd4bcb021cc 100644
--- a/tests/framework/web/RequestTest.php
+++ b/tests/framework/web/RequestTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
@@ -1111,6 +1111,33 @@ public function testTrustedHostAndInjectedXForwardedFor($remoteAddress, $xForwar
         $this->assertSame($expectedUserIp, $request->getUserIP());
     }
 
+    public function trustedHostAndXForwardedPortDataProvider()
+    {
+        return [
+            'defaultPlain' => ['1.1.1.1', 80, null, null, 80],
+            'defaultSSL' => ['1.1.1.1', 443, null, null, 443],
+            'untrustedForwardedSSL' => ['1.1.1.1', 80, 443, ['10.0.0.0/8'], 80],
+            'untrustedForwardedPlain' => ['1.1.1.1', 443, 80, ['10.0.0.0/8'], 443],
+            'trustedForwardedSSL' => ['10.10.10.10', 80, 443, ['10.0.0.0/8'], 443],
+            'trustedForwardedPlain' => ['10.10.10.10', 443, 80, ['10.0.0.0/8'], 80],
+        ];
+    }
+
+    /**
+     * @dataProvider trustedHostAndXForwardedPortDataProvider
+     */
+    public function testTrustedHostAndXForwardedPort($remoteAddress, $requestPort, $xForwardedPort, $trustedHosts, $expectedPort)
+    {
+        $_SERVER['REMOTE_ADDR'] = $remoteAddress;
+        $_SERVER['SERVER_PORT'] = $requestPort;
+        $_SERVER['HTTP_X_FORWARDED_PORT'] = $xForwardedPort;
+        $params = [
+            'trustedHosts' => $trustedHosts,
+        ];
+        $request = new Request($params);
+        $this->assertSame($expectedPort, $request->getServerPort());
+    }
+
     /**
      * @testWith    ["POST", "GET", "POST"]
      *              ["POST", "OPTIONS", "POST"]
diff --git a/tests/framework/web/ResponseTest.php b/tests/framework/web/ResponseTest.php
index 60b71a6825c..12ee7ef2d4e 100644
--- a/tests/framework/web/ResponseTest.php
+++ b/tests/framework/web/ResponseTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
@@ -12,8 +12,8 @@
 use RuntimeException;
 use Yii;
 use yii\helpers\StringHelper;
+use yii\web\Cookie;
 use yii\web\HttpException;
-use yii\web\Request;
 use yii\web\Response;
 use yiiunit\framework\web\mocks\TestRequestComponent;
 
@@ -60,7 +60,7 @@ public function rightRanges()
      */
     public function testSendFileRanges($rangeHeader, $expectedHeader, $length, $expectedContent)
     {
-        $dataFile = \Yii::getAlias('@yiiunit/data/web/data.txt');
+        $dataFile = Yii::getAlias('@yiiunit/data/web/data.txt');
         $fullContent = file_get_contents($dataFile);
         $_SERVER['HTTP_RANGE'] = 'bytes=' . $rangeHeader;
         ob_start();
@@ -71,9 +71,12 @@ public function testSendFileRanges($rangeHeader, $expectedHeader, $length, $expe
         $this->assertEquals(206, $this->response->statusCode);
         $headers = $this->response->headers;
         $this->assertEquals('bytes', $headers->get('Accept-Ranges'));
-        $this->assertEquals('bytes ' . $expectedHeader . '/' . StringHelper::byteLength($fullContent), $headers->get('Content-Range'));
+        $this->assertEquals(
+            'bytes ' . $expectedHeader . '/' . StringHelper::byteLength($fullContent),
+            $headers->get('Content-Range')
+        );
         $this->assertEquals('text/plain', $headers->get('Content-Type'));
-        $this->assertEquals("$length", $headers->get('Content-Length'));
+        $this->assertEquals((string)$length, $headers->get('Content-Length'));
     }
 
     public function wrongRanges()
@@ -96,7 +99,7 @@ public function testSendFileWrongRanges($rangeHeader)
     {
         $this->expectException('yii\web\RangeNotSatisfiableHttpException');
 
-        $dataFile = \Yii::getAlias('@yiiunit/data/web/data.txt');
+        $dataFile = Yii::getAlias('@yiiunit/data/web/data.txt');
         $_SERVER['HTTP_RANGE'] = 'bytes=' . $rangeHeader;
         $this->response->sendFile($dataFile);
     }
@@ -112,9 +115,7 @@ protected function generateTestFileContent()
     public function testSendContentAsFile()
     {
         ob_start();
-        $this->response->sendContentAsFile('test', 'test.txt')->send([
-            'mimeType' => 'text/plain',
-        ]);
+        $this->response->sendContentAsFile('test', 'test.txt')->send();
         $content = ob_get_clean();
 
         static::assertEquals('test', $content);
@@ -128,18 +129,46 @@ public function testSendContentAsFile()
     public function testRedirect()
     {
         $_SERVER['REQUEST_URI'] = 'http://test-domain.com/';
-        $this->assertEquals($this->response->redirect('')->headers->get('location'), '/');
-        $this->assertEquals($this->response->redirect('http://some-external-domain.com')->headers->get('location'), 'http://some-external-domain.com');
-        $this->assertEquals($this->response->redirect('/')->headers->get('location'), '/');
-        $this->assertEquals($this->response->redirect('/something-relative')->headers->get('location'), '/something-relative');
-        $this->assertEquals($this->response->redirect(['/'])->headers->get('location'), '/index.php?r=');
-        $this->assertEquals($this->response->redirect(['view'])->headers->get('location'), '/index.php?r=view');
-        $this->assertEquals($this->response->redirect(['/controller'])->headers->get('location'), '/index.php?r=controller');
-        $this->assertEquals($this->response->redirect(['/controller/index'])->headers->get('location'), '/index.php?r=controller%2Findex');
-        $this->assertEquals($this->response->redirect(['//controller/index'])->headers->get('location'), '/index.php?r=controller%2Findex');
-        $this->assertEquals($this->response->redirect(['//controller/index', 'id' => 3])->headers->get('location'), '/index.php?r=controller%2Findex&id=3');
-        $this->assertEquals($this->response->redirect(['//controller/index', 'id_1' => 3, 'id_2' => 4])->headers->get('location'), '/index.php?r=controller%2Findex&id_1=3&id_2=4');
-        $this->assertEquals($this->response->redirect(['//controller/index', 'slug' => 'äöüß!"§$%&/()'])->headers->get('location'), '/index.php?r=controller%2Findex&slug=%C3%A4%C3%B6%C3%BC%C3%9F%21%22%C2%A7%24%25%26%2F%28%29');
+        $this->assertEquals('/', $this->response->redirect('')->headers->get('location'));
+        $this->assertFalse($this->response->redirect(null)->headers->get('location'));
+        $this->assertEquals(
+            'http://some-external-domain.com',
+            $this->response->redirect('http://some-external-domain.com')->headers->get('location')
+        );
+        $this->assertEquals('/', $this->response->redirect('/')->headers->get('location'));
+        $this->assertEquals(
+            '/something-relative',
+            $this->response->redirect('/something-relative')->headers->get('location')
+        );
+        $this->assertEquals('/index.php?r=', $this->response->redirect(['/'])->headers->get('location'));
+        $this->assertEquals(
+            '/index.php?r=view',
+            $this->response->redirect(['view'])->headers->get('location')
+        );
+        $this->assertEquals(
+            '/index.php?r=controller',
+            $this->response->redirect(['/controller'])->headers->get('location')
+        );
+        $this->assertEquals(
+            '/index.php?r=controller%2Findex',
+            $this->response->redirect(['/controller/index'])->headers->get('location')
+        );
+        $this->assertEquals(
+            '/index.php?r=controller%2Findex',
+            $this->response->redirect(['//controller/index'])->headers->get('location')
+        );
+        $this->assertEquals(
+            '/index.php?r=controller%2Findex&id=3',
+            $this->response->redirect(['//controller/index', 'id' => 3])->headers->get('location')
+        );
+        $this->assertEquals(
+            '/index.php?r=controller%2Findex&id_1=3&id_2=4',
+            $this->response->redirect(['//controller/index', 'id_1' => 3, 'id_2' => 4])->headers->get('location')
+        );
+        $this->assertEquals(
+            '/index.php?r=controller%2Findex&slug=%C3%A4%C3%B6%C3%BC%C3%9F%21%22%C2%A7%24%25%26%2F%28%29',
+            $this->response->redirect(['//controller/index', 'slug' => 'äöüß!"§$%&/()'])->headers->get('location')
+        );
     }
 
     /**
@@ -164,25 +193,37 @@ public function testAjaxRedirectInternetExplorer11($userAgent, $statusCodes) {
 
     /**
      * @link https://blogs.msdn.microsoft.com/ieinternals/2013/09/21/internet-explorer-11s-many-user-agent-strings/
-     * @link https://stackoverflow.com/a/31279980/6856708
+     * @link https://stackoverflow.com/questions/30591706/what-is-the-user-agent-string-name-for-microsoft-edge/31279980#31279980
      * @link https://developers.whatismybrowser.com/useragents/explore/software_name/chrome/
      * @link https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent/Firefox
      * @return array
      */
     public function dataProviderAjaxRedirectInternetExplorer11() {
         return [
-            ['Mozilla/5.0 (Android 4.4; Mobile; rv:41.0) Gecko/41.0 Firefox/41.0', [301 => 301, 302 => 302]],                   // Firefox
-            ['Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko', [301 => 200, 302 => 200]],                        // IE 11
-            ['Mozilla/5.0 (Windows NT 6.3; Trident/7.0; .NET4.0E; .NET4.0C; rv:11.0) like Gecko', [301 => 200, 302 => 200]],    // IE 11
-            ['Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36', [301 => 301, 302 => 302]],      // Chrome
-            ['Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10136', [301 => 301, 302 => 302]],    // Edge
-            ['Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.2; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; Tablet PC 2.0)', [301 => 200, 302 => 200]],                // special windows versions (for tablets or IoT devices)
+            ['Mozilla/5.0 (Android 4.4; Mobile; rv:41.0) Gecko/41.0 Firefox/41.0', [301 => 301, 302 => 302]], // Firefox
+            ['Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko', [301 => 200, 302 => 200]], // IE 11
+            [ // IE 11
+                'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; .NET4.0E; .NET4.0C; rv:11.0) like Gecko',
+                [301 => 200, 302 => 200]
+            ],
+            [ // Chrome
+                'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36',
+                [301 => 301, 302 => 302]
+            ],
+            [ // Edge
+                'Mozilla/5.0 (Windows NT 10.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10136',
+                [301 => 301, 302 => 302]
+            ],
+            [ // special windows versions (for tablets or IoT devices)
+                'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.2; WOW64; Trident/7.0; .NET4.0C; .NET4.0E; Tablet PC 2.0)',
+                [301 => 200, 302 => 200]
+            ],
         ];
     }
 
     /**
      * @dataProvider dataProviderSetStatusCodeByException
-     * @param \Exception $exception
+     * @param Exception $exception
      * @param int $statusCode
      */
     public function testSetStatusCodeByException($exception, $statusCode)
@@ -198,9 +239,7 @@ public function testNonSeekableStream()
     {
         $stream = fopen('php://output', 'r+');
         ob_start();
-        $this->response
-            ->sendStreamAsFile($stream, 'test-stream')
-            ->send();
+        $this->response->sendStreamAsFile($stream, 'test-stream')->send();
         ob_get_clean();
         static::assertEquals(200, $this->response->statusCode);
     }
@@ -321,20 +360,23 @@ public function testSettingStreamToNullOn304()
     public function testSendFileWithInvalidCharactersInFileName()
     {
         $response = new Response();
-        $dataFile = \Yii::getAlias('@yiiunit/data/web/data.txt');
+        $dataFile = Yii::getAlias('@yiiunit/data/web/data.txt');
 
         $response->sendFile($dataFile, "test\x7Ftest.txt");
 
-        $this->assertSame("attachment; filename=\"test_test.txt\"; filename*=utf-8''test%7Ftest.txt", $response->headers['content-disposition']);
+        $this->assertSame(
+            "attachment; filename=\"test_test.txt\"; filename*=utf-8''test%7Ftest.txt",
+            $response->headers['content-disposition']
+        );
     }
 
     public function testSameSiteCookie()
     {
         $response = new Response();
-        $response->cookies->add(new \yii\web\Cookie([
+        $response->cookies->add(new Cookie([
             'name'     => 'test',
             'value'    => 'testValue',
-            'sameSite' => \yii\web\Cookie::SAME_SITE_STRICT,
+            'sameSite' => Cookie::SAME_SITE_STRICT,
         ]));
 
         ob_start();
@@ -378,7 +420,7 @@ protected function assertEmptyContentOn($statusCode, $callback = null)
     protected function assertSettingStreamToNullOn($statusCode)
     {
         $response = new Response();
-        $dataFile = \Yii::getAlias('@yiiunit/data/web/data.txt');
+        $dataFile = Yii::getAlias('@yiiunit/data/web/data.txt');
 
         $response->sendFile($dataFile);
         $response->setStatusCode($statusCode);
diff --git a/tests/framework/web/UploadedFileTest.php b/tests/framework/web/UploadedFileTest.php
index d374a733335..0e0892ac004 100644
--- a/tests/framework/web/UploadedFileTest.php
+++ b/tests/framework/web/UploadedFileTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/UrlManagerCreateUrlTest.php b/tests/framework/web/UrlManagerCreateUrlTest.php
index a2f894c24bc..27045ead258 100644
--- a/tests/framework/web/UrlManagerCreateUrlTest.php
+++ b/tests/framework/web/UrlManagerCreateUrlTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/UrlManagerParseUrlTest.php b/tests/framework/web/UrlManagerParseUrlTest.php
index 57848ce0440..9111c02cc1d 100644
--- a/tests/framework/web/UrlManagerParseUrlTest.php
+++ b/tests/framework/web/UrlManagerParseUrlTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/UrlManagerTest.php b/tests/framework/web/UrlManagerTest.php
index f81c00305c0..3de942ba8fd 100644
--- a/tests/framework/web/UrlManagerTest.php
+++ b/tests/framework/web/UrlManagerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/UrlNormalizerTest.php b/tests/framework/web/UrlNormalizerTest.php
index f31f8b1ff8d..e2d8201149b 100644
--- a/tests/framework/web/UrlNormalizerTest.php
+++ b/tests/framework/web/UrlNormalizerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/UrlRuleTest.php b/tests/framework/web/UrlRuleTest.php
index 69bcfacb54b..6dbfbc60598 100644
--- a/tests/framework/web/UrlRuleTest.php
+++ b/tests/framework/web/UrlRuleTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/UserTest.php b/tests/framework/web/UserTest.php
index b37eeed313e..e02fe1cf4d7 100644
--- a/tests/framework/web/UserTest.php
+++ b/tests/framework/web/UserTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yii\web;
@@ -56,8 +56,8 @@ public function testLoginExpires()
                 'authManager' => [
                     'class' => PhpManager::className(),
                     'itemFile' => '@runtime/user_test_rbac_items.php',
-                     'assignmentFile' => '@runtime/user_test_rbac_assignments.php',
-                     'ruleFile' => '@runtime/user_test_rbac_rules.php',
+                    'assignmentFile' => '@runtime/user_test_rbac_assignments.php',
+                    'ruleFile' => '@runtime/user_test_rbac_rules.php',
                 ],
             ],
         ];
@@ -169,6 +169,7 @@ public function testCookieCleanup()
         ];
 
         $this->mockWebApplication($appConfig);
+        $id1 = Yii::$app->session->id;
         Yii::$app->session->removeAll();
 
         $cookie = new Cookie(Yii::$app->user->identityCookie);
@@ -176,16 +177,21 @@ public function testCookieCleanup()
         $cookiesMock->add($cookie);
         Yii::$app->user->getIdentity();
         $this->assertEquals(strlen($cookiesMock->getValue(Yii::$app->user->identityCookie['name'])), 0);
+        $this->assertSame($id1, Yii::$app->session->id);
 
         Yii::$app->user->login(UserIdentity::findIdentity('user1'), 3600);
         $this->assertFalse(Yii::$app->user->isGuest);
         $this->assertSame(Yii::$app->user->id, 'user1');
         $this->assertNotEquals(strlen($cookiesMock->getValue(Yii::$app->user->identityCookie['name'])), 0);
+        $id2 = Yii::$app->session->id;
+        $this->assertNotSame($id1, $id2);
 
         Yii::$app->user->login(UserIdentity::findIdentity('user2'), 0);
         $this->assertFalse(Yii::$app->user->isGuest);
         $this->assertSame(Yii::$app->user->id, 'user2');
         $this->assertEquals(strlen($cookiesMock->getValue(Yii::$app->user->identityCookie['name'])), 0);
+        $id3 = Yii::$app->session->id;
+        $this->assertNotSame($id2, $id3);
     }
 
     /**
@@ -225,7 +231,7 @@ public function testLoginRequired()
             ],
         ];
         $this->mockWebApplication($appConfig);
-
+        $id = Yii::$app->session->id;
 
         $user = Yii::$app->user;
 
@@ -234,6 +240,7 @@ public function testLoginRequired()
         $user->loginRequired();
         $this->assertEquals('normal', $user->getReturnUrl());
         $this->assertTrue(Yii::$app->response->getIsRedirection());
+        $this->assertSame($id, Yii::$app->session->id);
 
 
         $this->reset();
@@ -242,12 +249,13 @@ public function testLoginRequired()
 
         $user->loginRequired();
         $this->assertEquals(Yii::$app->getHomeUrl(), $user->getReturnUrl());
-        // AJAX requests don't update returnUrl but they do cause redirection.
+        // AJAX requests don't update returnUrl, but they do cause redirection.
         $this->assertTrue(Yii::$app->response->getIsRedirection());
 
         $user->loginRequired(false);
         $this->assertEquals('ajax', $user->getReturnUrl());
         $this->assertTrue(Yii::$app->response->getIsRedirection());
+        $this->assertSame($id, Yii::$app->session->id);
 
         $this->reset();
         Yii::$app->request->setUrl('json-only');
@@ -255,6 +263,7 @@ public function testLoginRequired()
         $user->loginRequired(true, false);
         $this->assertEquals('json-only', $user->getReturnUrl());
         $this->assertTrue(Yii::$app->response->getIsRedirection());
+        $this->assertSame($id, Yii::$app->session->id);
 
         $this->reset();
         Yii::$app->request->setUrl('json-only');
@@ -262,6 +271,7 @@ public function testLoginRequired()
         $user->loginRequired(true, false);
         $this->assertEquals('json-only', $user->getReturnUrl());
         $this->assertTrue(Yii::$app->response->getIsRedirection());
+        $this->assertSame($id, Yii::$app->session->id);
 
         $this->reset();
         Yii::$app->request->setUrl('accept-all');
@@ -269,6 +279,7 @@ public function testLoginRequired()
         $user->loginRequired();
         $this->assertEquals('accept-all', $user->getReturnUrl());
         $this->assertTrue(Yii::$app->response->getIsRedirection());
+        $this->assertSame($id, Yii::$app->session->id);
 
         $this->reset();
         Yii::$app->request->setUrl('json-and-accept-all');
@@ -278,6 +289,7 @@ public function testLoginRequired()
         } catch (ForbiddenHttpException $e) {
         }
         $this->assertFalse(Yii::$app->response->getIsRedirection());
+        $this->assertSame($id, Yii::$app->session->id);
 
         $this->reset();
         Yii::$app->request->setUrl('accept-html-json');
@@ -285,6 +297,7 @@ public function testLoginRequired()
         $user->loginRequired();
         $this->assertEquals('accept-html-json', $user->getReturnUrl());
         $this->assertTrue(Yii::$app->response->getIsRedirection());
+        $this->assertSame($id, Yii::$app->session->id);
 
         $this->reset();
         Yii::$app->request->setUrl('accept-html-json');
@@ -292,6 +305,7 @@ public function testLoginRequired()
         $user->loginRequired();
         $this->assertEquals('accept-html-json', $user->getReturnUrl());
         $this->assertTrue(Yii::$app->response->getIsRedirection());
+        $this->assertSame($id, Yii::$app->session->id);
 
         $this->reset();
         $_SERVER['REQUEST_METHOD'] = 'POST';
@@ -299,6 +313,7 @@ public function testLoginRequired()
         Yii::$app->getSession()->set($user->returnUrlParam, null);
         $user->loginRequired();
         $this->assertNull(Yii::$app->getSession()->get($user->returnUrlParam));
+        $this->assertSame($id, Yii::$app->session->id);
 
         $this->reset();
         $_SERVER['REQUEST_METHOD'] = 'GET';
@@ -306,6 +321,7 @@ public function testLoginRequired()
         Yii::$app->getSession()->set($user->returnUrlParam, null);
         $user->loginRequired();
         $this->assertEquals('set-return-url-on-get-request', Yii::$app->getSession()->get($user->returnUrlParam));
+        $this->assertSame($id, Yii::$app->session->id);
 
         // Confirm that returnUrl is not set.
         $this->reset();
@@ -316,11 +332,13 @@ public function testLoginRequired()
         } catch (ForbiddenHttpException $e) {
         }
         $this->assertNotEquals('json-only', $user->getReturnUrl());
+        $this->assertSame($id, Yii::$app->session->id);
 
         $this->reset();
         $_SERVER['HTTP_ACCEPT'] = 'text/json;q=0.1';
         $this->expectException('yii\\web\\ForbiddenHttpException');
         $user->loginRequired();
+        $this->assertSame($id, Yii::$app->session->id);
     }
 
     public function testLoginRequiredException1()
@@ -482,8 +500,10 @@ public function testSessionAuthWithMissingKey()
         $this->mockWebApplication($appConfig);
 
         Yii::$app->session->set('__id', 'user1');
+        $id = Yii::$app->session->id;
 
         $this->assertNotNull(Yii::$app->user->getIdentity());
+        $this->assertSame($id, Yii::$app->session->id);
     }
 
     public function testSessionAuthWithInvalidKey()
@@ -497,12 +517,13 @@ public function testSessionAuthWithInvalidKey()
         ];
 
         $this->mockWebApplication($appConfig);
+        $id = Yii::$app->session->id;
 
         Yii::$app->session->set('__id', 'user1');
         Yii::$app->session->set('__authKey', 'invalid');
 
-
         $this->assertNull(Yii::$app->user->getIdentity());
+        $this->assertSame($id, Yii::$app->session->id);
     }
 
     public function testSessionAuthWithValidKey()
@@ -516,11 +537,33 @@ public function testSessionAuthWithValidKey()
         ];
 
         $this->mockWebApplication($appConfig);
+        $id = Yii::$app->session->id;
 
         Yii::$app->session->set('__id', 'user1');
         Yii::$app->session->set('__authKey', 'ABCD1234');
 
         $this->assertNotNull(Yii::$app->user->getIdentity());
+        $this->assertSame($id, Yii::$app->session->id);
+    }
+
+    public function testSessionAuthWhenIdentityReturnsNull()
+    {
+        $appConfig = [
+            'components' => [
+                'user' => [
+                    'identityClass' => UserIdentity::className(),
+                ],
+            ],
+        ];
+
+        $this->mockWebApplication($appConfig);
+        $id = Yii::$app->session->id;
+
+        Yii::$app->session->set('__id', 'user999999');
+        Yii::$app->session->set('__authKey', 'ABCD1234');
+
+        $this->assertNull(Yii::$app->user->getIdentity());
+        $this->assertNotSame($id, Yii::$app->session->id);
     }
 }
 
diff --git a/tests/framework/web/ViewTest.php b/tests/framework/web/ViewTest.php
index e9e6cc0f595..d572998cf65 100644
--- a/tests/framework/web/ViewTest.php
+++ b/tests/framework/web/ViewTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/XmlResponseFormatterTest.php b/tests/framework/web/XmlResponseFormatterTest.php
index 20a63f81769..a1050ef165b 100644
--- a/tests/framework/web/XmlResponseFormatterTest.php
+++ b/tests/framework/web/XmlResponseFormatterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web;
diff --git a/tests/framework/web/mocks/TestRequestComponent.php b/tests/framework/web/mocks/TestRequestComponent.php
index 6cda5f65520..83f33588fbb 100644
--- a/tests/framework/web/mocks/TestRequestComponent.php
+++ b/tests/framework/web/mocks/TestRequestComponent.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\mocks;
diff --git a/tests/framework/web/session/AbstractDbSessionTest.php b/tests/framework/web/session/AbstractDbSessionTest.php
index 835ea13b21c..5fdfe50f98b 100644
--- a/tests/framework/web/session/AbstractDbSessionTest.php
+++ b/tests/framework/web/session/AbstractDbSessionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\session;
diff --git a/tests/framework/web/session/CacheSessionTest.php b/tests/framework/web/session/CacheSessionTest.php
index e31b0f970f2..d34f7b7f82f 100644
--- a/tests/framework/web/session/CacheSessionTest.php
+++ b/tests/framework/web/session/CacheSessionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\session;
diff --git a/tests/framework/web/session/SessionTest.php b/tests/framework/web/session/SessionTest.php
index 6ad327f68f7..1270aa4afed 100644
--- a/tests/framework/web/session/SessionTest.php
+++ b/tests/framework/web/session/SessionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\session;
diff --git a/tests/framework/web/session/mssql/DbSessionTest.php b/tests/framework/web/session/mssql/DbSessionTest.php
index 0186eddd335..9c203dfbaf9 100644
--- a/tests/framework/web/session/mssql/DbSessionTest.php
+++ b/tests/framework/web/session/mssql/DbSessionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\session\mssql;
diff --git a/tests/framework/web/session/mysql/DbSessionTest.php b/tests/framework/web/session/mysql/DbSessionTest.php
index 7282b6bee6b..01ceaf74b59 100644
--- a/tests/framework/web/session/mysql/DbSessionTest.php
+++ b/tests/framework/web/session/mysql/DbSessionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\session\mysql;
diff --git a/tests/framework/web/session/pgsql/DbSessionTest.php b/tests/framework/web/session/pgsql/DbSessionTest.php
index 2512f334e9f..8ef66fd0130 100644
--- a/tests/framework/web/session/pgsql/DbSessionTest.php
+++ b/tests/framework/web/session/pgsql/DbSessionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\session\pgsql;
diff --git a/tests/framework/web/session/sqlite/DbSessionTest.php b/tests/framework/web/session/sqlite/DbSessionTest.php
index bfa911df075..e13539cebd0 100644
--- a/tests/framework/web/session/sqlite/DbSessionTest.php
+++ b/tests/framework/web/session/sqlite/DbSessionTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\session\sqlite;
diff --git a/tests/framework/web/stubs/CachedUrlRule.php b/tests/framework/web/stubs/CachedUrlRule.php
index 9444fff9638..996185180a5 100644
--- a/tests/framework/web/stubs/CachedUrlRule.php
+++ b/tests/framework/web/stubs/CachedUrlRule.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\stubs;
diff --git a/tests/framework/web/stubs/ModelStub.php b/tests/framework/web/stubs/ModelStub.php
index 2e378202937..459bb8f2942 100644
--- a/tests/framework/web/stubs/ModelStub.php
+++ b/tests/framework/web/stubs/ModelStub.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\stubs;
diff --git a/tests/framework/web/stubs/VendorImage.php b/tests/framework/web/stubs/VendorImage.php
index 386d65e3e10..6ef0d6c73b6 100644
--- a/tests/framework/web/stubs/VendorImage.php
+++ b/tests/framework/web/stubs/VendorImage.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\web\stubs;
diff --git a/tests/framework/widgets/ActiveFieldTest.php b/tests/framework/widgets/ActiveFieldTest.php
index d4d94d12911..ad723dd4798 100644
--- a/tests/framework/widgets/ActiveFieldTest.php
+++ b/tests/framework/widgets/ActiveFieldTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/ActiveFormTest.php b/tests/framework/widgets/ActiveFormTest.php
index 79908614778..64f921b0c24 100644
--- a/tests/framework/widgets/ActiveFormTest.php
+++ b/tests/framework/widgets/ActiveFormTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/BlockTest.php b/tests/framework/widgets/BlockTest.php
index 318c82a9cbd..c7b8ad2f6ec 100644
--- a/tests/framework/widgets/BlockTest.php
+++ b/tests/framework/widgets/BlockTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/BreadcrumbsTest.php b/tests/framework/widgets/BreadcrumbsTest.php
index a5a76e88810..5a4fddcbb3b 100644
--- a/tests/framework/widgets/BreadcrumbsTest.php
+++ b/tests/framework/widgets/BreadcrumbsTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/ContentDecoratorTest.php b/tests/framework/widgets/ContentDecoratorTest.php
index ed23c928cab..02fc9a49766 100644
--- a/tests/framework/widgets/ContentDecoratorTest.php
+++ b/tests/framework/widgets/ContentDecoratorTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/DetailViewTest.php b/tests/framework/widgets/DetailViewTest.php
index 19ca733948e..a2fd34ef124 100644
--- a/tests/framework/widgets/DetailViewTest.php
+++ b/tests/framework/widgets/DetailViewTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/FragmentCacheTest.php b/tests/framework/widgets/FragmentCacheTest.php
index 2a0b31d1555..a3b040e8f9d 100644
--- a/tests/framework/widgets/FragmentCacheTest.php
+++ b/tests/framework/widgets/FragmentCacheTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/LinkPagerTest.php b/tests/framework/widgets/LinkPagerTest.php
index 2f921c5ec39..265b891362b 100644
--- a/tests/framework/widgets/LinkPagerTest.php
+++ b/tests/framework/widgets/LinkPagerTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/LinkSorterTest.php b/tests/framework/widgets/LinkSorterTest.php
index 8d607221e4f..13d4311da73 100644
--- a/tests/framework/widgets/LinkSorterTest.php
+++ b/tests/framework/widgets/LinkSorterTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/ListViewTest.php b/tests/framework/widgets/ListViewTest.php
index c6545a3dc20..6d3ff286f1f 100644
--- a/tests/framework/widgets/ListViewTest.php
+++ b/tests/framework/widgets/ListViewTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/MenuTest.php b/tests/framework/widgets/MenuTest.php
index 70e84466b9f..192bb44131f 100644
--- a/tests/framework/widgets/MenuTest.php
+++ b/tests/framework/widgets/MenuTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/PjaxTest.php b/tests/framework/widgets/PjaxTest.php
index 4af4979d221..e08d5776f17 100644
--- a/tests/framework/widgets/PjaxTest.php
+++ b/tests/framework/widgets/PjaxTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
diff --git a/tests/framework/widgets/SpacelessTest.php b/tests/framework/widgets/SpacelessTest.php
index 577f47ce84b..ef27047e2c6 100644
--- a/tests/framework/widgets/SpacelessTest.php
+++ b/tests/framework/widgets/SpacelessTest.php
@@ -1,8 +1,8 @@
 <?php
 /**
- * @link http://www.yiiframework.com/
+ * @link https://www.yiiframework.com/
  * @copyright Copyright (c) 2008 Yii Software LLC
- * @license http://www.yiiframework.com/license/
+ * @license https://www.yiiframework.com/license/
  */
 
 namespace yiiunit\framework\widgets;
